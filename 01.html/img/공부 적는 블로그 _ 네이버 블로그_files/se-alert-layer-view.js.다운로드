(window.__se_editor_jsonp=window.__se_editor_jsonp||[]).push([[26],{1278:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n),i=r(50),a=r.n(i),s=r(54),l=r.n(s),c=r(52),p=r(49),u=r(347),m=r(96),f=r(361),d=r(363),C=r(362),b=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var r=t.prototype;return r.renderButtons=function(){var e=this.props.i18n;return p.b.createElement("div",{className:"se-popup-button-container"},p.b.createElement("button",{type:"button",className:"se-popup-button se-popup-button-confirm",onClick:this.props.onClickConfirm},p.b.createElement("span",{className:"se-popup-button-text"},e("alertLayer:confirm"))))},r.render=function(){var e=this.props,t=e.title,r=e.description;return p.b.createElement(p.b.Fragment,null,p.b.createElement("div",{className:"se-popup-header"},p.b.createElement("strong",{className:"se-popup-title",dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br/>")}})),p.b.createElement("div",{className:"se-popup-content"},p.b.createElement("div",{className:"se-popup-alert-text",dangerouslySetInnerHTML:{__html:r.replace(/\n/g,"<br/>")}})),this.renderButtons())},t}(p.b.Component);b.defaultProps={i18n:function(e){return e},title:"",description:"",errorList:[],onClickConfirm:function(){}},b.propTypes={i18n:p.a.func,title:p.a.string.isRequired,description:p.a.string.isRequired,errorList:p.a.array,onClickConfirm:p.a.func.isRequired};var _=b,y=_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/view/layout/default/index.jsx",localName:t}})}catch(e){}}e(b,"DefaultLayout"),e(_,"default")}();var h=r(67),E=r(51),g=r(666),k={IMAGE:"image",VIDEO:"video"},v=function(e){function t(t){var r;return(r=e.call(this,t)||this)._configAgent=E.U.get("configAgent"),r._infraConfig=r._configAgent.get("infraConfig"),r}o()(t,e);var r=t.prototype;return r.UNSAFE_componentWillMount=function(){},r.render=function(){var e=this.props,t=e.title,r=e.description,n=e.i18n,o=this._renderFileFormatError(),i=this._renderOverCapacityError(),a=this._renderFileUnknown(),s=this._renderAttachmentCountError(),l=this._renderErrorList();return p.b.createElement(p.b.Fragment,null,p.b.createElement("div",{className:"se-popup-header"},p.b.createElement("strong",{className:"se-popup-title"},t)),p.b.createElement("div",{className:"se-popup-content"},p.b.createElement("div",{className:"se-popup-error-text",dangerouslySetInnerHTML:{__html:r}}),p.b.createElement("div",{className:"se-popup-error-detail-box"},p.b.createElement("button",{type:"button",className:"se-popup-error-detail-button"},p.b.createElement("span",{className:"se-blind"},n("fileTransfer:error_details"))),p.b.createElement("ul",{className:"se-popup-error-detail"},o,i,a,s)),p.b.createElement("div",{className:"se-popup-error-list-box"},p.b.createElement("ul",{className:"se-popup-error-list"},l))),p.b.createElement("div",{className:"se-popup-button-container"},p.b.createElement("button",{type:"button",className:"se-popup-button se-popup-button-confirm",onClick:this.props.onClickConfirm},p.b.createElement("span",{className:"se-popup-button-text"},n("alertLayer:confirm")))))},r._renderFileFormatError=function(){if(!this._getShowErrorInfo().fileFormat)return null;var e=this.props,t=e.i18n,r=e.fileType,n=void 0===r?k.IMAGE:r,o=n===k.VIDEO?g.a.DEFAULT_VIDEO_ACCEPT_LIST:g.a.DEFAULT_IMAGE_ACCEPT_LIST,i=this._infraConfig[n].acceptExt||o,a=g.a.toPrintUpperText(i);return p.b.createElement("li",{className:"se-popup-error-detail-text",dangerouslySetInnerHTML:{__html:t("fileTransfer:file_format_error",{allowExtList:a})}})},r._renderOverCapacityError=function(){if(!this._getShowErrorInfo().overCapacity)return null;var e=this.props,t=e.i18n,r=e.fileType,n=(void 0===r?k.IMAGE:r)===k.VIDEO?this._infraConfig.video.maxVideoUploadSize:this._infraConfig.image.maxImageUploadSize;return p.b.createElement("li",{className:"se-popup-error-detail-text",dangerouslySetInnerHTML:{__html:t("fileTransfer:over_capacity_error",{maxUploadSize:g.a.convertToFileSizeUnit(n)})}})},r._renderFileUnknown=function(){if(!this._getShowErrorInfo().fileUnknown)return null;var e=this.props.i18n;return p.b.createElement("li",{className:"se-popup-error-detail-text",dangerouslySetInnerHTML:{__html:e("fileTransfer:file_unknown")}})},r._renderAttachmentCountError=function(){if(!this._getShowErrorInfo().attachmentCount)return null;var e=this.props,t=e.i18n,r=e.fileType,n=(void 0===r?k.IMAGE:r)===k.VIDEO?this._infraConfig.video.videoUploadLimitCount:this._infraConfig.image.imageUploadLimitCount;return p.b.createElement("li",{className:"se-popup-error-detail-text",dangerouslySetInnerHTML:{__html:t("fileTransfer:attachment_count_error",{maxUploadCount:n})}})},r._renderErrorList=function(){return this.props.errorList.map(function(e,t){var r=e.id,n=e.fileName,o=e.cause,i=r||t;return p.b.createElement("li",{key:i,className:"se-popup-error-list-item"},p.b.createElement("p",{className:"se-popup-error-file-name"},n),p.b.createElement("strong",{className:"se-popup-error-status"},o))})},r._getShowErrorInfo=function(){return Object(h.a)({},this.props.showErrorInfo,{fileFormat:!0,overCapacity:!0,fileUnknown:!0,attachmentCount:!0})},t}(p.b.Component);v.defaultProps={i18n:function(e){return e},title:"",description:"",errorList:[],onClickConfirm:function(){}},v.propTypes={i18n:p.a.func,fileType:p.a.string,title:p.a.string.isRequired,description:p.a.string.isRequired,errorList:p.a.array,onClickConfirm:p.a.func.isRequired,showErrorInfo:p.a.object};var N=v,L=N;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/view/layout/file-transfer/index.jsx",localName:t}})}catch(e){}}e(k,"FILE_TYPES"),e(v,"FileTransferLayout"),e(N,"default")}();var I=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var r=t.prototype;return r.renderButtons=function(){var e=this.props.i18n;return p.b.createElement("div",{className:"se-popup-button-container"},p.b.createElement("button",{type:"button",className:"se-popup-button se-popup-button-cancel",onClick:this.props.onClickCancel},p.b.createElement("span",{className:"se-popup-button-text"},e("alertLayer:cancel"))),p.b.createElement("button",{type:"button",className:"se-popup-button se-popup-button-confirm",onClick:this.props.onClickConfirm},p.b.createElement("span",{className:"se-popup-button-text"},e("alertLayer:confirm"))))},r.render=function(){var e=this.props,t=e.title,r=e.description;return p.b.createElement(p.b.Fragment,null,p.b.createElement("div",{className:"se-popup-header"},p.b.createElement("strong",{className:"se-popup-title",dangerouslySetInnerHTML:{__html:t.replace(/\n/g,"<br/>")}})),p.b.createElement("div",{className:"se-popup-content"},p.b.createElement("div",{className:"se-popup-alert-text",dangerouslySetInnerHTML:{__html:r.replace(/\n/g,"<br/>")}})),this.renderButtons())},t}(p.b.Component);I.defaultProps={i18n:function(e){return e},title:"",description:"",errorList:[],onClickConfirm:function(){},onClickCancel:function(){}},I.propTypes={i18n:p.a.func,title:p.a.string.isRequired,description:p.a.string.isRequired,errorList:p.a.array,onClickConfirm:p.a.func.isRequired,onClickCancel:p.a.func.isRequired};var T,w=I,O=w;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/view/layout/confirm/index.jsx",localName:t}})}catch(e){}}e(I,"ConfirmLayout"),e(w,"default")}();var x=(T=function(e){function t(){return e.apply(this,arguments)||this}o()(t,e);var r=t.prototype;return r.render=function(){var e=this.props.store,t=this._resolveWrapperClassName(),r=this._resolveContentLayer();return p.b.createElement(m.a,{opened:e.opened,className:t,isDimUse:e.isDimUse,dimColor:e.dimColor},r)},r._resolveWrapperClassName=function(){var e,t=this.props.store,r=t.type,n=t.className,o=[C.a.ALERT,C.a.CONFIRM,C.a.LOGIN].includes(r),i=C.a.CONFIRM.includes(r),a=r===C.a.FILE;return l()(((e={"se-popup-alert":o,"se-popup-alert-confirm":i,"se-popup-transfer-error":a})[this.props.className]=!!this.props.className,e[n]=!!n,e))},r._resolveContentLayer=function(){var e=this.props,t=e.store,r=e.i18n,n=t.title,o=t.description,i=t.errorList,a=t.showErrorInfo,s=t.type,l=t.fileType,c=t.custom;switch(s){case C.a.CUSTOM:return p.b.createElement(c.Layout,{custom:c,onClickConfirm:this._onClickConfirm,onClickCancel:this._onClickCancel,onClickClose:this._onClickClose,i18n:r});case C.a.FILE:return p.b.createElement(L,{title:n,description:o,errorList:p.f.toJS(i),showErrorInfo:a,fileType:l,onClickConfirm:this._onClickConfirm,i18n:r});case C.a.ALERT:case C.a.LOGIN:return p.b.createElement(y,{title:n,description:o,onClickConfirm:this._onClickConfirm,onClickCancel:this._onClickCancel,i18n:r});case C.a.CONFIRM:return p.b.createElement(O,{title:n,description:o,onClickConfirm:this._onClickConfirm,onClickCancel:this._onClickCancel,i18n:r});default:return p.b.createElement(y,{title:n,description:o,onClickConfirm:this._onClickConfirm,onClickCancel:this._onClickCancel,i18n:r})}},r._onClickConfirm=function(){this.props.useCase.confirm()},r._onClickCancel=function(){this.props.useCase.cancel()},r._onClickClose=function(){this.props.useCase.close()},t}(p.b.Component),a()(T.prototype,"_onClickConfirm",[c.autobind],Object.getOwnPropertyDescriptor(T.prototype,"_onClickConfirm"),T.prototype),a()(T.prototype,"_onClickCancel",[c.autobind],Object.getOwnPropertyDescriptor(T.prototype,"_onClickCancel"),T.prototype),a()(T.prototype,"_onClickClose",[c.autobind],Object.getOwnPropertyDescriptor(T.prototype,"_onClickClose"),T.prototype),T);x.defaultProps={i18n:function(e){return e}},x.propTypes={useCase:p.a.instanceOf(f.a).isRequired,store:p.a.instanceOf(d.a).isRequired,className:p.a.string,i18n:p.a.func};var j=Object(u.b)(x);t.default=j;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/view/index.jsx",localName:t}})}catch(e){}}e(x,"AlertLayerView"),e(j,"default")}()}}]);