(window.__se_editor_jsonp=window.__se_editor_jsonp||[]).push([[19],{102:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(54),l=o.n(c),u=o(49),p=o(347),d=o(52),h=o(56),f=o(124),m=o(51),g=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._selected=this.props.value},o.UNSAFE_componentWillReceiveProps=function(e){this._selected=e.value},o.render=function(){var e=this,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.groups,a=t.deviceType,s=t.i18n,c=t.type,p=t.focused,d=t.labelVisible,h=t.useIcon,g=t.logAreaId,y=this._selected,b="se-"+r+"-toolbar-"+c+"-container",_=d?"se-toolbar-label":"se-blind",v=i.map(function(t){var i=t.value,d=t.title,b=t.label,v=t.logId,C=y===i,S=a===m.t.DESKTOP,O=h?"icon":"text",k=l()("se-"+r+"-toolbar-"+c+"-button","se-"+n+"-"+c+"-toolbar-button","se-"+n+"-"+i+"-toolbar-button","se-"+O+"-toolbar-button",C?"se-is-selected":"");return u.b.createElement(f.a,{logAreaId:g,namespace:r,logId:v,type:c,dataName:o,focused:C&&p,className:k,handleClick:e.handleChange,dataValue:i,key:i,i18n:s},h&&u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:_,"aria-hidden":S},s(b)),S&&u.b.createElement("span",{className:"se-toolbar-tooltip"},s(d)))});return u.b.createElement("div",{className:b,"data-type":c,"data-name":n},v)},o.handleChange=function(e){var t=this.props,o=t.type,n=t.id,r=t.name,i=t.title,a=t.label,s=t.action;(0,t.onChange)({event:e,type:o,id:n,name:r,title:i,label:a,action:s,value:e.currentTarget.dataset.value})},t}(u.b.Component),s()(n.prototype,"handleChange",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleChange"),n.prototype),n);g.defaultProps={label:"",id:"",name:"",title:"",namespace:"",labelVisible:!1,useIcon:!0,value:null,focused:!1,logAreaId:"",onChange:function(){},i18n:function(e){return e}},g.propTypes={type:u.a.oneOf([h.b.GROUP_TOGGLE]).isRequired,id:u.a.string,name:u.a.string,label:u.a.string,labelVisible:u.a.bool,useIcon:u.a.bool,action:u.a.string,title:u.a.string,namespace:u.a.string,deviceType:u.a.string,groups:u.a.oneOfType([u.a.object,u.a.array]).isRequired,value:u.a.oneOfType([u.a.string,u.a.number,u.a.bool]),focused:u.a.bool,logAreaId:u.a.string,onChange:u.a.func,i18n:u.a.func};var y=Object(p.b)(g);t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/group-toggle-button.jsx",localName:t}})}catch(e){}}e(g,"GroupToggleButton"),e(y,"default")}()},1045:function(e,t){e.exports="//editor-static.pstatic.net/e/basic.desktop/1.34.0//img/common_loading-63cbd21e.gif"},1046:function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n="se3#";function r(e){return void 0===e&&(e=""),n+e}var i={get:function(e){var t=localStorage.getItem(r(e));if(null!==t){try{return JSON.parse(t)}catch(e){}return t}},set:function(e,t){var o=t;"string"!==typeof t&&(o=JSON.stringify(t)),localStorage.setItem(r(e),o)},remove:function(e){localStorage.removeItem(r(e))},clearAll:function(){localStorage.clear()},each:function(e){void 0===e&&(e=function(){});for(var t=localStorage.length,o=0;o<t;o++){var r=new RegExp(n),i=localStorage.key(o).replace(r,"");e(this.get(i),i)}}},a=i;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/local-data-storage/index.js",localName:t}})}catch(e){}}e(n,"GLOBAL_KEY_PREFIX"),e(r,"getKey"),e(i,"localDataStorage"),e(a,"default")}()},106:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(54),l=o.n(c),u=o(52),p=o(49),d=o(347),h=o(56),f=o(51),m=o(124),g=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.handleChange=this.handleChange.bind(this)},o.render=function(){var e,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.documentToolbarIconType,a=t.moreViewButton,s=t.deviceType,c=t.label,u=t.labelVisible,d=t.i18n,g=t.value,y=t.focused,b=t.logAreaId,_=t.logId,v=t.type,C=t.highlight,S=s===f.t.DESKTOP,O=r===h.e.DOCUMENT,k=i===h.d.TEXT_ICON||u,I=l()("se-"+n+"-toolbar-button",((e={})["se-"+r+"-toolbar-"+v+"-button"]=!O||!a,e["se-"+r+"-toolbar-"+v+"-more-button"]=O&&a,e["se-"+i+"-toolbar-button"]=S&&O,e["se-is-selected"]=g,e)),w=k?"se-toolbar-label":"se-blind",P=this._renderTooltip(),j=d(c);return p.b.createElement(m.a,{className:I,namespace:r,type:v,logAreaId:b,logId:_,dataName:o,i18n:d,focused:y,highlight:C,handleClick:this.handleChange},p.b.createElement("span",{className:"se-toolbar-icon"}),p.b.createElement("span",{className:w,"aria-hidden":S},j),S&&P)},o._renderTooltip=function(){var e=this.props,t=(0,e.i18n)(e.title[e.value?"active":"inactive"]);return p.b.createElement("span",{className:"se-toolbar-tooltip"},t)},o.handleChange=function(e){var t=this.props,o=t.name,n=t.label,r=t.type,i=t.title,a=t.action;(0,t.onChange)({event:e,type:r,name:o,label:n,title:i,action:a,value:!t.value})},t}(p.b.Component),s()(n.prototype,"handleChange",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleChange"),n.prototype),n);g.defaultProps={label:"",id:"",name:"",title:{inactive:"",active:""},namespace:"",documentToolbarIconType:"",labelVisible:!1,moreViewButton:!1,value:!1,focused:!1,className:"",highlight:{},onChange:function(){},i18n:function(e){return e}},g.propTypes={type:p.a.oneOf([h.b.TOGGLE]).isRequired,id:p.a.string,name:p.a.string,label:p.a.string,deviceType:p.a.string,action:p.a.string,title:p.a.shape({inactive:p.a.string,active:p.a.string}),labelVisible:p.a.bool,namespace:p.a.string,documentToolbarIconType:p.a.string,moreViewButton:p.a.bool,value:p.a.oneOfType([p.a.bool,p.a.string]),highlight:p.a.object,focused:p.a.bool,onChange:p.a.func,i18n:p.a.func,logAreaId:p.a.string,logId:p.a.string};var y=Object(d.b)(g);t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/toggle-button.jsx",localName:t}})}catch(e){}}e(g,"ToggleButton"),e(y,"default")}()},122:function(e,t,o){"use strict";var n=o(51),r=/^(https)/,i=function(){function e(e,t){if(!t)throw new Error("image src is null!");this._imageUrl=t,this._resultUrl="//"+e+"/?src=%22"+encodeURI(this._imageUrl)+"%22",this._type=null,this._service=null}var t=e.prototype;return t.withType=function(e){return void 0===e&&(e="w1"),this._type=e,this},t.withService=function(e){return this._service=e,this},t.build=function(){return null!=this._type&&(this._resultUrl+="&type="+this._type),null!=this._service&&(this._resultUrl+="&service="+this._service),this._resultUrl},e}(),a=function(e,t,o){void 0===t&&(t="w1"),void 0===o&&(o=null);var r=n.U.get("configAgent").get("productConfig.domains.dthumb");return new i(r,e).withType(t).withService(o).build()},s={makeDthumbHttpsUrl:function(e,t,o){return void 0===t&&(t="w1"),void 0===o&&(o=null),e?r.test(e)?e:a(e,t,o):e},makeDthumbUrl:function(e,t,o){return void 0===t&&(t="w1"),void 0===o&&(o=null),a(e,t,o)}},c=s;t.a=c,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/dthumb-url-generator/index.js",localName:t}})}catch(e){}}e(r,"RX_HTTPS_PATTERN"),e(i,"BuilderForDthumbUrl"),e(a,"innertBuildDThumbUrl"),e(s,"DThumbUrlGenerator"),e(c,"default")}()},1229:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(49),a=o(347),s=o(1044),c=o.n(s),l=o(51),u=o(670),p=function(e){var t=function(t){function o(e){var o;if((o=t.call(this,e)||this).state={LazyComponent:null},!e.useCase||!e.useCase.close)throw new Error("props.useCase.close is required.");return o._flows=new u.a,o}r()(o,t);var n=o.prototype;return n.componentDidMount=function(){var t=this.props.store.opened;(e.preload||t)&&this._loadComponent()},n.componentDidUpdate=function(){var e=this.props.store.opened;!this.state.LazyComponent&&e&&this._loadComponent()},n.componentWillUnmount=function(){this._flows.abort()},n.render=function(){var e=this.state.LazyComponent,t=this.props.store,o=t.opened,n=t.unmountDelayTime,r=void 0===n?0:n;return e&&o?i.b.createElement(c.a,{mounted:o,unmountAfter:r},i.b.createElement(e,this.props)):null},n._loadComponent=function(){var t=this;this._flows.fork("loading").next(e.Loader).next(function(e){var o=e.default;t.setState({LazyComponent:o})}).fail(function(){var e=l.U.get("alertLayerService"),o=t.props,n=o.useCase,r=o.i18n;n.close(),e.open({type:"alert",title:r("errorLazy:title"),description:r("errorLazy:description")})})},o}(i.b.Component);return Object(a.b)(t)},d=p;t.a=d,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/withLazy/withLazyByIsOpen.jsx",localName:t}})}catch(e){}}e(p,"withLazyByIsOpen"),e(d,"default")}()},123:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(54),a=o.n(i),s=o(16),c=o(49),l=o(347),u=o(56),p=o(51),d=o(218),h=function(e){function t(t){var o;(o=e.call(this,t)||this)._overlayToolbarUseCase=p.U.get("overlayToolbarUseCase"),o._configAgent=p.U.get("configAgent");var n=o._configAgent.get("productConfig"),r=!0===Object(s.a)(n,"overlayToolbar");return o.state={useOverlayToolbar:r},o}return r()(t,e),t.prototype.render=function(){if(!this.state.useOverlayToolbar)return null;var e=this.props,t=e.i18n,o=e.compStore;if(!(e.isReady&&"single"===o.selection))return null;var n=this._overlayToolbarUseCase.buttonSets(o);if(!n)return null;var r=n.fixedButtonSets,i=a()("se-overlay-toolbar-wrap");return c.b.createElement("div",{className:i},r.top&&c.b.createElement(d.a,{className:"se-toolbar se-overlay-toolbar se-overlay-top-toolbar",namespace:u.e.OVERLAY,buttons:r.top,i18n:t,logAreaId:"ct"}),r.bottom&&c.b.createElement(d.a,{className:"se-toolbar se-overlay-toolbar se-overlay-bottom-toolbar",namespace:u.e.OVERLAY,buttons:r.bottom,i18n:t,logAreaId:"ct"}))},t}(c.b.Component);h.defaultProps={compStore:null,isReady:!0},h.propTypes={compStore:c.a.object.isRequired,isReady:c.a.bool,i18n:c.a.func};var f=Object(l.b)(h);t.a=f,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/overlay-toolbar-layer/index.jsx",localName:t}})}catch(e){}}e(h,"OverlayToolbarLayer"),e(f,"default")}()},1231:function(e,t,o){"use strict";o.d(t,"f",function(){return r}),o.d(t,"g",function(){return i}),o.d(t,"h",function(){return a}),o.d(t,"i",function(){return s}),o.d(t,"e",function(){return c}),o.d(t,"c",function(){return l}),o.d(t,"b",function(){return u}),o.d(t,"a",function(){return g}),o.d(t,"d",function(){return y});var n=o(996),r={ctype:n.b.string.isRequired,x:n.b.number.isRequired,y:n.b.number.isRequired},i={ctype:n.b.string.isRequired,latitude:n.b.number.isRequired,longitude:n.b.number.isRequired},a={ctype:n.b.string.isRequired,src:n.b.string.isRequired},s={ctype:n.b.string.isRequired,src:n.b.string.isRequired,width:n.b.number,height:n.b.number},c={ctype:n.b.string.isRequired,placeId:n.b.string,name:n.b.string,address:n.b.string,latlng:n.b.shape(i),searchType:n.b.string,bookingUrl:n.b.string,tel:n.b.string},l={ctype:n.b.string.isRequired,title:n.b.string,tags:n.b.array.isRequired,description:n.b.string},u={ctype:n.b.string.isRequired,srcFrom:n.b.string.isRequired,externalId:n.b.string},p={ctype:n.b.string.isRequired,selectedWeeks:n.b.array.isRequired,daysOfWeek:n.b.array.isRequired},d={ctype:n.b.string.isRequired,startDay:n.b.number.isRequired,endDay:n.b.number.isRequired},h={ctype:n.b.string.isRequired,daysOfWeek:n.b.array,weekDayGroup:n.b.shape(p),dateGroup:n.b.shape(d)},f={ctype:n.b.string.isRequired,repetitionType:n.b.shape(h),time:n.b.string.isRequired},m={ctype:n.b.string.isRequired,type:n.b.string.isRequired,startDate:n.b.string.isRequired,endDate:n.b.string.isRequired,expired:n.b.bool.isRequired},g={ctype:n.b.string.isRequired,text:n.b.string.isRequired,name:n.b.string.isRequired,owner:n.b.bool.isRequired},y={Repetition:f,Notification:m};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/schema/src/defined-schema.js",localName:t}})}catch(e){}}e(r,"SchemaPoint"),e(i,"SchemaPosition"),e(a,"SchemaSimpleThumbnail"),e(s,"SchemaThumbnail"),e(c,"SchemaPlace"),e(l,"MediaMeta"),e(u,"ImageOrigin"),e(p,"weekDayGroup"),e(d,"dateGroup"),e(h,"RepetitionData"),e(f,"Repetition"),e(m,"Notification"),e(g,"ChatMessage"),e(y,"Schedule")}()},124:function(e,t,o){"use strict";var n=o(55),r=o.n(n),i=o(0),a=o.n(i),s=o(54),c=o.n(s),l=o(49),u=o(347),p=o(56),d=o(266),h=o(214),f={TEXT:"text",ICON:"icon"},m=function(e){function t(){var t;return(t=e.call(this)||this)._ref=l.b.createRef(),t}a()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._autoHideTooltip()},o.componentWillUnmount=function(){this._timer&&clearTimeout(this._timer)},o.render=function(){var e=this.props,t=e.type,o=e.text,n=e.arrow,r=e.src,i=c()("__se-highlight-tooltip","se-highlight-tooltip","se-highlight-tooltip-position-"+n),a=c()(["se-highlight-tooltip-container",{"se-highlight-tooltip-icon-type":t===f.ICON}]);return l.b.createElement("div",{ref:this._ref,className:i},l.b.createElement("div",{className:a},t===f.ICON&&l.b.createElement("div",{className:"se-highlight-tooltip-icon"},l.b.createElement("img",{src:r})),l.b.createElement("p",{className:"se-highlight-tooltip-description",dangerouslySetInnerHTML:{__html:o}}),l.b.createElement("span",{className:"se-highlight-arrow-icon"})))},o._autoHideTooltip=function(){var e=this;this._timer=setTimeout(function(){h.b.hide(e.props.name,h.a.TOOLTIP,e._ref.current)},3e3)},t}(l.b.Component);m.defaultProps={name:"",type:"",arrow:"",text:"",src:""},m.propTypes={name:l.a.string,type:l.a.string,arrow:l.a.string,text:l.a.string,src:l.a.string};var g=Object(u.b)(m),y=g;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/highlight-tooltip.jsx",localName:t}})}catch(e){}}e(f,"TOOLTIP_TYPES"),e(3e3,"AUTO_HIDE_TOOLTIP_TIMEOUT"),e(m,"HighlightTooltip"),e(g,"default")}();var b=[p.b.LABEL_SELECT,p.b.ICON_SELECT,p.b.DROP_DOWN,p.b.COLOR_PICKER,p.b.CUSTOM_LAYER,p.b.RANGE_SLIDER,p.b.MORE_VIEW],_=function(e){function t(t){var o;return(o=e.call(this,t)||this).buttonRef=l.b.createRef(),o}a()(t,e);var o=t.prototype;return o.componentDidUpdate=function(){this.props.focused&&this.buttonRef.current.focus()},o.render=function(){var e=this.props,t=e.disabled,o=e.dataName,n=e.className,i=e.highlight,a=e.handleClick,s=e.children,u=i&&i.badge&&!h.b.shown(o,h.a.BADGE),p=i&&i.tooltip,f=c()([n,u&&"se-highlight-toolbar-button",(u||p)&&"__se-highlight-button",p&&"se-highlight-tooltip-toolbar-button"]),m=this._resolveDataAttributes(),g=this._resolveExpandedAttributes(),y=this._resolveHighlightTooltip(p),b=this._resolveBetaIcon();return l.b.createElement(d.a,r()({type:"button",title:"",className:f,elementRef:this.buttonRef,disabled:t,onClick:a},m,g),s,b,y)},o._resolveBetaIcon=function(){return this.props.useBeta?l.b.createElement("div",{className:"se-highlight-beta-icon"}):null},o._resolveHighlightTooltip=function(e){if(!e||!e.text)return null;var t=this.props,o=t.dataName,n=t.i18n;return l.b.createElement(y,{name:o,type:e.type,arrow:e.arrow,text:n(e.text),src:e.src})},o._resolveDataAttributes=function(){var e=this.props,t=e.namespace,o=e.dataValue,n=e.dataName,r=e.dataRole,i=e.type,a=e.logAreaId,s=e.logId;return{"data-group":t+"Toolbar","data-value":o,"data-type":i,"data-name":n,"data-log":a&&s?a+"."+s:null,"data-role":r}},o._resolveExpandedAttributes=function(){var e=this.props,t=e.ariaExpanded,o=e.ariaHasPopup,n=e.type;if(b.includes(n))return{"aria-expanded":t,"aria-haspopup":o}},t}(l.b.Component);_.defaultProps={focused:!1,disabled:!1,handleClick:function(){},i18n:function(e){return e},ariaExpanded:"false",ariaHasPopup:"false"},_.propTypes={namespace:l.a.oneOf(Object.values(p.e)).isRequired,type:l.a.oneOf(Object.values(p.b)),dataRole:l.a.string,dataValue:l.a.oneOfType([l.a.string,l.a.number,l.a.bool]),dataName:l.a.string,handleClick:l.a.func,className:l.a.string,disabled:l.a.bool,focused:l.a.bool,i18n:l.a.func,logAreaId:l.a.string,logId:l.a.string,useBeta:l.a.bool,highlight:l.a.object,ariaExpanded:l.a.string,ariaHasPopup:l.a.string};var v=Object(u.b)(_);t.a=v;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/ToolbarButton.jsx",localName:t}})}catch(e){}}e(b,"EXPANDABLE_BUTTON_TYPES"),e(_,"ToolbarButton"),e(v,"default")}()},1263:function(e,t,o){"use strict";o.r(t);var n=o(28),r=o(70),i=o(67),a={image:{type:"default",name:"image",label:"insertMenuLayout:photo_label",logId:"photo"},sticker:{type:"default",name:"sticker",label:"insertMenuLayout:sticker_label",logId:"sticker"},horizontalLine:{type:"optional",name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label",logId:"horizt",panels:{default:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label1",logId:"horizt0"},line1:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label2",logId:"horizt1"},line2:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label3",logId:"horizt2"},line3:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label4",logId:"horizt3"},line4:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label5",logId:"horizt4"},line5:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label6",logId:"horizt5"},line6:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label7",logId:"horizt6"},line7:{name:"horizontalLine",label:"insertMenuLayout:horizontal_line_label8",logId:"horizt7"}}},quotation:{type:"optional",name:"quotation",label:"insertMenuLayout:quotation_label",logId:"quotat",panels:{default:{name:"quotation",label:"insertMenuLayout:quotation_label1",logId:"quota0"},quotation_line:{name:"quotation",label:"insertMenuLayout:quotation_label2",logId:"quota1"},quotation_bubble:{name:"quotation",label:"insertMenuLayout:quotation_label3",logId:"quota2"},quotation_underline:{name:"quotation",label:"insertMenuLayout:quotation_label4",logId:"quota3"},quotation_postit:{name:"quotation",label:"insertMenuLayout:quotation_label5",logId:"quota4"},quotation_corner:{name:"quotation",label:"insertMenuLayout:quotation_label6",logId:"quota5"}}}},s={getDefinitions:function(e){var t={};return Object(r.a)(e,function(e){var o=a[e];t[e]=Object(i.a)({},o)}),t}},c=s;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/config/insert-menu-definition/index.js",localName:t}})}catch(e){}}e(a,"defaultDefinition"),e(s,"default")}();var l=o(729),u=o(51),p=o(1229),d=o(0),h=o.n(d),f=function(e){function t(){var t;return(t=e.call(this)||this)._toastLayerService=u.U.get("toastLayerService"),t}return h()(t,e),t.prototype.close=function(){this._toastLayerService.close()},t}(u.m),m=f,g=m;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/toast-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(f,"ToastLayerUseCase"),e(m,"default")}();var y=o(691),b=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){},o.close=function(){this._store.hideToast()},o.warningMessage=function(e){this._store.openToast({type:y.a.WARNING,message:e}),this._hideToast()},o.infoMessage=function(e){this._store.openToast({type:y.a.INFO,message:e}),this._hideToast()},o._hideToast=function(){var e=this;setTimeout(function(){e._store.hideToast()},this._store.lastingMoment)},t}(u.d),_=b,v=_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/toast-layer/src/service/index.js",localName:t}})}catch(e){}}e(b,"ToastLayerService"),e(_,"default")}();var C=o(356),S=u.F.extend({name:"ToastLayer",view:Object(p.a)({Loader:function(){return o.e(23).then(o.bind(null,1237))}}),useCase:g,service:v,store:C.a}),O=S,k=O;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/toast-layer/src/index.js",localName:t}})}catch(e){}}e(S,"ToastLayer"),e(O,"default")}();var I=o(404),w=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.close=function(){this._store.closePopup(),this._unpauseDocumentEdit()},o.open=function(e){this._pauseDocumentEdit(),this._store.openPopup(e)},o.toggle=function(e){this._store.togglePopup(e)},o.getRecentSpecialLetterList=function(e){var t=this._store,o=t.persistentPolicy,n=void 0===o?[]:o,r=t.letterGroupList,i=Object.keys(n)[0],a=n[i],s=a.key,c=a.property,l=[].concat(r[i][c]),u=l.indexOf(e);return u>-1&&l.splice(u,1),l.unshift(e),l.length>I.a.STORAGE_VALUE_MAX_LENGTH&&l.pop(),{key:s,list:l}},o.updateRecentSpecialLetterList=function(e){this._store.updateRecentSpecialLetterList(e)},o.changeLetterGroup=function(e){this._store.changeLetterGroup(e)},o.hasChangedPosition=function(){this._store.movedPopup=!0},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/special-letter-layer/src/service/index.js",localName:t}})}catch(e){}}(w,"SpecialLetterLayerService")}();var P=o(403),j=o(728),T=u.F.extend({name:"SpecialLetterLayer",view:Object(p.a)({Loader:function(){return o.e(46).then(o.bind(null,1280))}}),useCase:P.a,service:w,store:j.a}),L=T,E=L;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/special-letter-layer/src/index.js",localName:t}})}catch(e){}}e(T,"SpecialLetterLayer"),e(L,"default")}();var N=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.m),x=N,D=x;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/loading-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(N,"LoadingLayerUseCase"),e(x,"default")}();var R=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e,t){void 0===e&&(e="white"),void 0===t&&(t=0),this._clearTimerId(),t?this._delayedOpen(e,t):this._open(e)},o.close=function(){this._clearTimerId(),this.isOpen()&&(this._store.hide(),this._unpauseDocumentEdit())},o.isOpen=function(){return this._store.isShow},o._open=function(e){this._pauseDocumentEdit(),this._store.show(e)},o._delayedOpen=function(e,t){this._timerId=setTimeout(this._open.bind(this,e),t)},o._clearTimerId=function(){this._timerId&&clearTimeout(this._timerId),this._timerId=null},t}(u.d),A=R,U=A;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/loading-layer/src/service/index.js",localName:t}})}catch(e){}}e(R,"LoadingLayerService"),e(A,"default")}();var M,B,F,z=o(61),W=o.n(z),V=o(57),G=o.n(V),H=o(50),q=o.n(H),J=(o(62),o(16)),K=o(49),Y=(M=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"isShow",B,G()(o)),W()(o,"dimColor",F,G()(o));var n=t.state,r=void 0===n?{}:n;return o.isShow=Object(J.a)(r,"isShow",o.isShow),o.dimColor=Object(J.a)(r,"dimColor",o.dimColor),o}h()(t,e);var o=t.prototype;return o.show=function(e){this.isShow=!0,this.dimColor=e},o.hide=function(){this.isShow=!1},t}(u.e),B=q()(M.prototype,"isShow",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=q()(M.prototype,"dimColor",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"white"}}),M),X=Y,Q=X;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/loading-layer/src/store/index.js",localName:t}})}catch(e){}}e(Y,"LoadingLayerStore"),e(X,"default")}();var Z=o(347),$=o(96),ee=o(52),te={ALL_BLOCK:0,SCROLL_BLOCK:1},oe={};oe[te.ALL_BLOCK]={preventDefaultList:["keydown","keyup","mousedown","mousemove","mouseup","touchstart","touchend","touchcancel","touchmove","scroll","contextmenu","dragstart","dragover","dragend","drop"],stopPropagationList:[]},oe[te.SCROLL_BLOCK]={preventDefaultList:["keydown","keyup","mousemove","touchmove","scroll","dragstart","dragover","dragend","drop"],stopPropagationList:["mousedown","mouseup","touchstart","touchend","touchcancel"]};var ne=function(e,t){var o;return void 0===t&&(t=te.ALL_BLOCK),Object(Z.b)((o=function(o){function n(e){var n;return(n=o.call(this,e)||this)._blockMode=t,n._elRef=K.b.createRef(),n._el=null,n}h()(n,o);var r=n.prototype;return r.componentDidMount=function(){var e=this._getBlockListByMode(this._blockMode),t=e.preventDefaultList,o=e.stopPropagationList,n=this._el=this._elRef.current;this._attachBlockEvent(n,t,this._handlePreventDefault),this._attachBlockEvent(n,o,this._handleStopPropagation)},r.componentDidUpdate=function(){var e=this._getBlockListByMode(this._blockMode),t=e.preventDefaultList,o=e.stopPropagationList;if(this._el!==this._elRef.current){var n=this._el=this._elRef.current;this._detachBlockEvent(n,t,this._handlePreventDefault),this._detachBlockEvent(n,o,this._handleStopPropagation),this._attachBlockEvent(n,t,this._handlePreventDefault),this._attachBlockEvent(n,o,this._handleStopPropagation)}},r.componentWillUnmount=function(){var e=this._getBlockListByMode(this._blockMode),t=e.preventDefaultList,o=e.stopPropagationList;this._detachBlockEvent(this._el,t,this._handlePreventDefault),this._detachBlockEvent(this._el,o,this._handleStopPropagation),this._el=null},r.render=function(){return K.b.createElement("div",{ref:this._elRef},K.b.createElement(e,this.props))},r._getBlockListByMode=function(e){return oe[e]||oe[te.ALL_BLOCK]},r._attachBlockEvent=function(e,t,o){t.forEach(function(t){e.addEventListener(t,o)})},r._detachBlockEvent=function(e,t,o){t.forEach(function(t){e.removeEventListener(t,o)})},r._handlePreventDefault=function(e){return e.preventDefault(),e.stopPropagation(),!1},r._handleStopPropagation=function(e){e.stopPropagation()},n}(K.b.Component),q()(o.prototype,"_handlePreventDefault",[ee.autobind],Object.getOwnPropertyDescriptor(o.prototype,"_handlePreventDefault"),o.prototype),q()(o.prototype,"_handleStopPropagation",[ee.autobind],Object.getOwnPropertyDescriptor(o.prototype,"_handleStopPropagation"),o.prototype),o))},re=ne,ie=re;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/withModal/index.jsx",localName:t}})}catch(e){}}e(te,"BLOCK_MODE"),e(oe,"_EVENT_BY_MODE"),e(ne,"withModal"),e(re,"default")}();var ae=function(e){function t(t){var n;return n=e.call(this,t)||this,(new Image).src=o(1045),n}return h()(t,e),t.prototype.render=function(){var e=this.props.store,t=e.isShow,o=e.dimColor;return t?K.b.createElement($.a,{className:"se-popup-loading",opened:t,dimColor:o},K.b.createElement("div",{className:"se-popup-loading-icon"},K.b.createElement("span",{className:"se-blind"},this.props.i18n("loadingLayer:loading")))):null},t}(K.b.Component);ae.defaultProps={i18n:function(e){return e}},ae.propTypes={store:K.a.instanceOf(Q).isRequired,useCase:K.a.instanceOf(D).isRequired,i18n:K.a.func};var se=ie(Object(Z.b)(ae)),ce=se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/loading-layer/src/view/index.jsx",localName:t}})}catch(e){}}e(ae,"LoadingLayerView"),e(se,"default")}();var le=u.F.extend({name:"LoadingLayer",view:ce,useCase:D,service:U,store:Q}),ue=le,pe=ue;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/loading-layer/src/index.js",localName:t}})}catch(e){}}e(le,"LoadingLayer"),e(ue,"default")}();var de=o(357),he=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){},o.close=function(){},o.confirm=function(){this._store.confirmProgress()},o.start=function(e){this._store.start(e)},o.updateProgress=function(e){this._store.updateProgress(e)},o.update=function(e){this._store.update(e)},o.end=function(){this._store.end()},t}(u.d),fe=he,me=fe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/upload-progress-layer/src/service/index.js",localName:t}})}catch(e){}}e(he,"UploadProgressLayerService"),e(fe,"default")}();var ge=o(358),ye=u.F.extend({name:"UploadProgressLayer",view:Object(p.a)({Loader:function(){return o.e(24).then(o.bind(null,1238))}}),useCase:de.a,service:me,store:ge.b}),be=ye,_e=be;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/upload-progress-layer/src/index.js",localName:t}})}catch(e){}}e(ye,"UploadProgressLayer"),e(be,"default")}();var ve=o(359),Ce=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._store.shown||(this._pauseDocumentEdit(),this._store.open())},o.close=function(){this._unpauseDocumentEdit(),this._store.close()},t}(u.d),Se=Ce,Oe=Se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/highlight-banner-layer/src/service/index.js",localName:t}})}catch(e){}}e(Ce,"HighlightBannerLayerService"),e(Se,"default")}();var ke=o(360),Ie=u.F.extend({name:"HighlightBannerLayer",view:Object(p.a)({Loader:function(){return o.e(25).then(o.bind(null,1239))}}),useCase:ve.a,service:Oe,store:ke.a}),we=Ie,Pe=we;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/highlight-banner-layer/src/index.js",localName:t}})}catch(e){}}e(Ie,"HighlightBannerLayer"),e(we,"default")}();var je=o(361),Te=o(362),Le=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e){this._store.opened||this._store.type!==Te.a.LOGIN&&(this._onClickConfirm=e.onClickConfirm||function(){},this._onClickCancel=e.onClickCancel||function(){},this._pauseDocumentEdit(),this._store.open(e))},o.close=function(){this._store.opened&&(this._store.close(),this._unpauseDocumentEdit())},o.cancel=function(){this._store.opened&&(this.close(),this._onClickCancel())},o.confirm=function(){var e=this._store,t=e.type,o=e.errorList;this._onClickConfirm({type:t,errorList:o}),this.close()},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/service/index.js",localName:t}})}catch(e){}}(Le,"AlertLayerService")}();var Ee=o(363),Ne=u.F.extend({name:"AlertLayer",view:Object(p.a)({Loader:function(){return o.e(26).then(o.bind(null,1278))},preload:!0}),useCase:je.a,service:Le,store:Ee.a}),xe=Ne,De=xe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/index.js",localName:t}})}catch(e){}}e(Ne,"AlertLayer"),e(xe,"default")}();var Re=o(217),Ae=o(216),Ue=o(92),Me=o(150),Be=function(e){return!!e.length&&e.every(function(e){var t=e.width,o=void 0===t?0:t,n=e.height,r=void 0===n?0:n,i=e.originalWidth,a=void 0===i?0:i,s=e.originalHeight,c=void 0===s?0:s;return!!(c&&a&&a>=c)||!!(o&&r&&o>=r)})},Fe=function(e){function t(t){var o;return(o=e.call(this,t)||this)._canvasScrollingService=u.U.get("canvasScrollingService"),o._componentFactory=u.U.get("componentFactory"),o._editMode=!1,o}h()(t,e);var o=t.prototype;return o.open=function(){this.openLoadingLayer(),this._canvasScrollingService.hideWindowScroll(),this._pauseDocumentEdit(),this._store.open()},o.editWebtoon=function(e){this.openLoadingLayer(),this._canvasScrollingService.hideWindowScroll(),this._pauseDocumentEdit(),this._store.editWebtoon(e),this._editMode=!0},o.openLoadingLayer=function(){this._store.openLoadingLayer()},o.closeLoadingLayer=function(){var e=this;setTimeout(function(){e._store.closeLoadingLayer()},500)},o.close=function(){this._store.close(),this._unpauseDocumentEdit(),this._canvasScrollingService.restoreWindowScroll(),this._editMode=!1},o.insertShellImage=function(e){this._store.insertShellImage(e)},o.getImageStore=function(e){return this._store.images.find(function(t){return t.id===e})},o.updateCurrentPage=function(e){this._store.updateCurrentPage(e)},o.changeLayout=function(e){this._store.changeLayout(e)},o.deleteImage=function(e){var t=Object(Ue.a)(this._store.images,function(t){return e===t.id});t>-1&&this._store.deleteImage(t)},o.changeImageOrder=function(e,t){e!==t&&this._store.changeImageOrder(e,t)},o.isEditMode=function(){return this._editMode},o.isOpen=function(){return this._store.opened},o._refineComponentData=function(){var e=this._store,t=e.images,o=e.layout,n={ctype:"webtoon",images:t,layout:o};if(o===Me.b.HORIZONTAL){var r=this._store.horizontalDirection,i=Be(t)?"1:1":"3:4";n.horizontalDirection=r,n.horizontalAspectRatio=i}return n},o.createComponentData=function(){var e=this._refineComponentData();return this._componentFactory.createComponentWithCompData(e)},o.uploadStatus=function(e){this._store.uploadStatus(e)},t}(u.d),ze=Fe,We=ze;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/webtoon-layer/src/service/index.js",localName:t}})}catch(e){}}e(Be,"allSquare"),e(Fe,"WebtoonLayerService"),e(ze,"default")}();var Ve=u.F.extend({name:"WebtoonLayer",view:Object(p.a)({Loader:function(){return o.e(43).then(o.bind(null,1271))}}),useCase:Ae.a,service:We,store:Re.a}),Ge=Ve,He=Ge;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/webtoon-layer/src/index.js",localName:t}})}catch(e){}}e(Ve,"WebtoonLayer"),e(Ge,"default")}();var qe,Je,Ke,Ye,Xe,Qe,Ze,$e=o(54),et=o.n($e),tt=o(56),ot=o(218),nt=o(59),rt=o.n(nt),it=o(1),at=o.n(it),st=o(66),ct=o(88),lt=o(292),ut=o(214),pt=o(668),dt=(qe=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"focusButtonId",Je,G()(o)),W()(o,"activeButtonId",Ke,G()(o)),W()(o,"buttonSetMap",Ye,G()(o)),W()(o,"toolbarState",Xe,G()(o)),W()(o,"defaultButtonSet",Qe,G()(o));var n=t.state,r=void 0===n?{}:n;return o._pluginButtonRegistry=u.U.get("pluginButtonRegistry"),o._configAgent=u.U.get("configAgent"),o._storage=u.U.get("storagePolicy"),o.buttonSetMap=Object(J.a)(r,"buttonSetMap",o.buttonSetMap),o.activeButtonId=Object(J.a)(r,"activeButtonId",o.activeButtonId),o.toolbarState=Object(J.a)(r,"toolbarState",o.toolbarState),o.defaultButtonSet=Object(J.a)(r,"defaultButtonSet",o.defaultButtonSet),o.useColorDetailFlag=!1!==o._configAgent.get("modules.colorPicker.config.useDetail"),o}h()(t,e);var o=t.prototype;return o.deactivateAllButtons=function(){this.activeButtonId=""},o.focusLastButton=function(){var e=this.buttonSetMap.buttonSet.length;this.focusButtonId=this.buttonSetMap.buttonSet[e-1]},o.blurFocusedButton=function(){this.focusButtonId=""},o.isLastButton=function(e){var t=this.buttonSetMap.buttonSet.length;return this.buttonSetMap.buttonSet[t-1]===e},o.toggleButton=function(e){var t=this.activeButtonId===e;this.activeButtonId=t?"":e},o.updateButtonSet=function(e){if(Object(st.a)(e))return this.buttonSetMap.buttonSet.replace(this.defaultButtonSet),void this.buttonSetMap.displayButtonSet.replace(this.defaultButtonSet);var t=K.f.toJS(this.buttonSetMap.buttonSet),o=K.f.toJS(e);Object(ct.a)(t,o)||(this.buttonSetMap.buttonSet.replace(e),this.buttonSetMap.displayButtonSet.replace(e),this.buttonSetMap.moreButtonSet=[])},o.updateDisplayButtonSet=function(e){var t=this.filterButtons(this.buttonSetMap.buttonSet);if(e<t.length){var o=t.slice(0,e-1),n=t.slice(o.length,t.length),r=o.concat("more-view");this.buttonSetMap.displayButtonSet.replace(r),this.buttonSetMap.moreButtonSet.replace(n)}},o.resetDisplayButtonSet=function(){var e=this.buttonSetMap.buttonSet;this.buttonSetMap.displayButtonSet.replace(e),this.buttonSetMap.moreButtonSet=[]},o.updateToolbarState=function(e){this.toolbarState=e},o.filterButtons=function(e){var t=this;return pt.a.trimForArray(e.filter(function(e){var o=t._pluginButtonRegistry.getButtonStyleName({compType:t.toolbarState.componentType,toolbarName:"propertyToolbar",buttonName:e});return!t.disabledButtons.includes(o)}),"separator-bar")},o.updateUserConfig=function(e){var t=e.compType,o=e.toolbarName,n=e.buttonName,r="plugins.componentSettings."+t+".config.toolbar."+o+"."+Object(lt.a)(n);e.buttonConfig=this._configAgent.get(r),"font-color"!==n&&"background-color"!==n&&"cell-background-color"!==n&&"table-border"!==n||(e.useColorDetailFlag=this.useColorDetailFlag)},o.highlight=function(e,t){return!(!e||!t)&&ut.b.get(t,e)},o.updateHighLight=function(e){var t=this._configAgent.get("productConfig.highlight"),o=this.highlight(e.buttonName,t);o&&(e.highlight=o)},o.updateStoragePolicy=function(e){if(e.option&&e.option.storagePolicy){var t=e.option.storagePolicy,o=t.key,n=t.property,r=this._storage.get(o);e.option[n]=r,e.storageKey=o}},o._getButtonsWithButtonSet=function(e){var t=this;void 0===e&&(e=[]);var o=this.toolbarState.componentType;return this.filterButtons(e).map(function(e){var n=t._pluginButtonRegistry.getButtonInfo({compType:o,toolbarName:"propertyToolbar",buttonName:e});if(n)return t.updateUserConfig(n),t.updateHighLight(n),t.updateStoragePolicy(n),rt()({value:Object(J.a)(t.toolbarState,n.propertyName)},n)})},at()(t,[{key:"buttons",get:function(){return this._getButtonsWithButtonSet(this.buttonSetMap.displayButtonSet)}},{key:"moreButtons",get:function(){return this._getButtonsWithButtonSet(this.buttonSetMap.moreButtonSet)}},{key:"disabledButtons",get:function(){var e=this;return["speller","translation"].filter(function(t){return!1===e._configAgent.get("productConfig."+t)})}}]),t}(u.w),Je=q()(qe.prototype,"focusButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ke=q()(qe.prototype,"activeButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ye=q()(qe.prototype,"buttonSetMap",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{buttonSet:[],displayButtonSet:[],moreButtonSet:[]}}}),Xe=q()(qe.prototype,"toolbarState",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qe=q()(qe.prototype,"defaultButtonSet",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q()(qe.prototype,"buttons",[K.e],Object.getOwnPropertyDescriptor(qe.prototype,"buttons"),qe.prototype),q()(qe.prototype,"moreButtons",[K.e],Object.getOwnPropertyDescriptor(qe.prototype,"moreButtons"),qe.prototype),q()(qe.prototype,"disabledButtons",[K.e],Object.getOwnPropertyDescriptor(qe.prototype,"disabledButtons"),qe.prototype),qe),ht=dt,ft=ht;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/store/index.js",localName:t}})}catch(e){}}e(dt,"PropertyToolbarLayoutStore"),e(ht,"default")}();var mt,gt=(Ze=function(e){function t(){var t;t=e.call(this)||this;var o=u.U.get("configAgent");return t._documentToolbarLayoutService=u.U.get("documentToolbarLayoutService"),t._propertyToolbarLayoutService=u.U.get("propertyToolbarLayoutService"),t._toolbarService=u.U.get("toolbarService"),!1!==o.get("productConfig.propertyToolbar")&&t._initializeReaction(),t}h()(t,e);var o=t.prototype;return o._initializeReaction=function(){var e=this;this._toolbarService.reactionOfToolbarState(function(t){var o=t.toolbarState,n=t.buttonSet;e._propertyToolbarLayoutService.updateButtonSet(n),e._propertyToolbarLayoutService.updateToolbarState(o)},"propertyToolbar",{delay:1})},o.handleTab=function(e,t){!1===e.shiftKey&&this._propertyToolbarLayoutService.isLastButton(t)&&(this._documentToolbarLayoutService.focusFirstButton(),e.preventDefault())},o.handleBlur=function(){this._propertyToolbarLayoutService.blurFocusedButton()},o.toggleButton=function(e){this._documentToolbarLayoutService.hideAllLayers(),this._propertyToolbarLayoutService.toggleButton(e)},o.reflowToolbar=function(e){this._propertyToolbarLayoutService.reflowToolbar(e)},t}(u.m),q()(Ze.prototype,"handleTab",[K.d],Object.getOwnPropertyDescriptor(Ze.prototype,"handleTab"),Ze.prototype),q()(Ze.prototype,"handleBlur",[K.d],Object.getOwnPropertyDescriptor(Ze.prototype,"handleBlur"),Ze.prototype),q()(Ze.prototype,"toggleButton",[K.d],Object.getOwnPropertyDescriptor(Ze.prototype,"toggleButton"),Ze.prototype),Ze);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/use-case/index.js",localName:t}})}catch(e){}}(gt,"PropertyToolbarLayoutUseCase")}();var yt=(mt=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=e.viewMode,r=e.isFlexible,i=t.toolbarState,a=t.buttons,s=t.moreButtons,c=et()("se-toolbar","se-property-toolbar","se-property-toolbar-"+i.componentType);return K.b.createElement("div",{className:"se-header-inbox se-l-property-toolbar",onBlur:this._handleBlur},K.b.createElement(ot.a,{className:c,namespace:tt.e.PROPERTY,viewMode:n,isFlexible:r,buttons:a,moreButtons:s,logAreaId:"prt",focusButtonId:t.focusButtonId,activeButtonId:t.activeButtonId,selectedUnitIds:i.selectedUnitIds,i18n:o,onReflowToolbar:this._handleReflowToolbar,onKeyDown:this._handleKeyDown,onClickSelector:this._handleClickSelector}))},o._handleClickSelector=function(e){this.props.useCase.toggleButton(e)},o._handleReflowToolbar=function(e){var t=e.displayButtonCount;this.props.useCase.reflowToolbar(t)},o._handleKeyDown=function(e,t){9===e.which&&this.props.useCase.handleTab(e,t)},o._handleBlur=function(){this.props.useCase.handleBlur()},t}(K.b.Component),q()(mt.prototype,"_handleClickSelector",[ee.autobind],Object.getOwnPropertyDescriptor(mt.prototype,"_handleClickSelector"),mt.prototype),q()(mt.prototype,"_handleReflowToolbar",[ee.autobind],Object.getOwnPropertyDescriptor(mt.prototype,"_handleReflowToolbar"),mt.prototype),q()(mt.prototype,"_handleKeyDown",[ee.autobind],Object.getOwnPropertyDescriptor(mt.prototype,"_handleKeyDown"),mt.prototype),q()(mt.prototype,"_handleBlur",[ee.autobind],Object.getOwnPropertyDescriptor(mt.prototype,"_handleBlur"),mt.prototype),mt);yt.defaultProps={store:null,i18n:function(e){return e}},yt.propTypes={store:K.a.instanceOf(ft).isRequired,useCase:K.a.instanceOf(gt).isRequired,i18n:K.a.func,viewMode:K.a.string,isFlexible:K.a.bool};var bt=Object(Z.b)(yt),_t=bt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(yt,"PropertyToolbarLayoutView"),e(bt,"default")}();var vt=function(e){function t(t){var o;return(o=e.call(this,t)||this)._propertyChangeService=u.U.get("propertyChangeService"),o}h()(t,e);var o=t.prototype;return o.updateButtonSet=function(e){this._store.updateButtonSet(e)},o.updateToolbarState=function(e){this._store.updateToolbarState(e)},o.focusLastButton=function(){this._store.focusLastButton()},o.blurFocusedButton=function(){this._store.blurFocusedButton()},o.isLastButton=function(e){return this._store.isLastButton(e)},o.toggleButton=function(e){this._store.toggleButton(e)},o.hideAllLayers=function(){this._store.deactivateAllButtons()},o.reflowToolbar=function(e){this._store.updateDisplayButtonSet(e)},o.resetDisplayButtonSet=function(){this._store.resetDisplayButtonSet()},t}(u.f),Ct=vt,St=Ct;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/service/index.js",localName:t}})}catch(e){}}e(vt,"PropertyToolbarLayoutService"),e(Ct,"default")}();var Ot=o(79),kt={propertyToolbar:{align:Object(Ot.a)("align-group"),"more-view":Object(Ot.a)("more-view")}},It=kt;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/toolbar/property-toolbar-button-set-map.js",localName:t}})}catch(e){}}(kt,"default")}();var wt=function(e){function t(){return e.call(this,{buttonSetMap:It})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/toolbar/index.js",localName:t}})}catch(e){}}(wt,"PropertyToolbarLayoutToolbar")}();var Pt=u.G.extend({name:"PropertyToolbarLayout",view:_t,useCase:gt,service:St,store:ft,toolbar:wt}),jt=Pt,Tt=jt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/property-toolbar-layout/src/index.js",localName:t}})}catch(e){}}e(Pt,"PropertyToolbarLayout"),e(jt,"default")}();var Lt,Et,Nt,xt=function(e){function t(){var t;return(t=e.call(this)||this)._panelContainerLayerService=u.U.get("panelContainerLayerService"),t._stickerPanelLayoutService=u.U.get("stickerPanelLayoutService"),t._documentToolbarLayoutService=u.U.get("documentToolbarLayoutService"),t}h()(t,e);var o=t.prototype;return o.closePanel=function(){var e=this._panelContainerLayerService.getTarget();return this._documentToolbarLayoutService.setPanelButtonEnable(e,!1),this._stickerPanelLayoutService.close(),this._panelContainerLayerService.closePanel()},o.open=function(e){var t=(void 0===e?{}:e).option,o=void 0===t?{}:t,n=this._panelContainerLayerService.getTarget(),r=o.target||n,i=u.U.get(r+"PanelLayoutService");if(!i||!i.open)throw new Error('cannot find panel "'+r+'"');this._documentToolbarLayoutService.setPanelButtonEnable(n,!1),this._documentToolbarLayoutService.setPanelButtonEnable(r,!0),i.open(),this._panelContainerLayerService.openPanel(r,o.position)},o.close=function(){this.closePanel()},t}(u.m),Dt=xt,Rt=Dt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/panel-container-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(xt,"PanelContainerLayerUseCase"),e(Dt,"default")}();var At=(Lt=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"opened",Et,G()(o)),W()(o,"target",Nt,G()(o)),o.panelType=u.K.SIDEBAR,o.dimColor="transparent",o.unmountDelayTime=400;var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;return o._configAgent=u.U.get("configAgent"),o.opened=Object(J.a)(i,"opened",o.opened),o.panelType=Object(J.a)(s,"panelType",o.panelType),o.dimColor=Object(J.a)(s,"dimColor",o.dimColor),o.panelType=o._getValidValue(o._configAgent,"productConfig.panelType",o.panelType),o}h()(t,e);var o=t.prototype;return o._getValidValue=function(e,t,o){if(void 0===e&&(e={get:function(){}}),"productConfig.panelType"===t){var n=e.get(t);if(n===u.K.SIDEBAR||n===u.K.POPUP)return n}return o},o.closePanel=function(){this.target="",this.opened=!1},o.openPanel=function(e){void 0===e&&(e=""),this.opened=!0,this.target=e},t}(u.w),Et=q()(Lt.prototype,"opened",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nt=q()(Lt.prototype,"target",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Lt),Ut=At,Mt=Ut;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/panel-container-layer/src/store/index.js",localName:t}})}catch(e){}}e(At,"PanelContainerLayerStore"),e(Ut,"default")}();var Bt=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e,t){this.getPanelType()===u.K.POPUP&&this._pauseDocumentEdit(),this._store.openPanel(e,t)},o.close=function(){this._store.closePanel(),this.getPanelType()===u.K.POPUP&&this._unpauseDocumentEdit()},o.openPanel=function(e,t){this.open(e,t)},o.closePanel=function(){this.close()},o.opened=function(){return this._store.opened},o.getPanelType=function(){return this._store.panelType},o.getTarget=function(){return this._store.target},o.toggleLayout=function(e,t,o){var n=this._store,r=n.opened,i=n.target;i.length>0&&i!==e?(t.open(),this.openPanel(e),o&&o(e,!0)):r?(o&&o(e,!1),this.closePanel()):(t.open(),this.openPanel(e),o&&o(e,!0))},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/panel-container-layer/src/service/index.js",localName:t}})}catch(e){}}(Bt,"PanelContainerLayerService")}();var Ft,zt=o(667),Wt=(Ft=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={mounted:!1,showUpEnabled:!1,isEventBlockerOn:!1},o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this;this._timer=setTimeout(function(){e.setState({showUpEnabled:!0,mounted:!0})},10)},t.getDerivedStateFromProps=function(e,t){return t.mounted?{showUpEnabled:e.store.opened}:null},o.componentWillUnmount=function(){this.setState({mounted:!1,showUpEnabled:!1,isEventBlockerOn:!1}),this._timer&&clearTimeout(this._timer)},o.render=function(){var e=this.props.store,t=e.panelType,o=e.opened,n=t===u.K.POPUP?this._wrapPopup(o):this._wrapSidebar(o);return K.b.createElement(K.b.Fragment,null,n)},o._wrapChildren=function(e,t){var o={onClickItem:this._handleClickItem,target:t?e:"",wrappingType:this.props.store.panelType,draggable:this.props.store.panelType===u.K.SIDEBAR};return K.b.Children.map(this.props.children,function(e){return K.b.cloneElement(e,o)})},o._wrapPopup=function(e){var t;if(!e)return null;var o=this.props,n=o.i18n,r=o.store,i=r.dimColor,a=r.target,s=et()(["se-popup-panel","se-popup-"+a,(t={},t[this.props.className]=!0,t)]);return K.b.createElement($.a,{opened:e,className:s,dimColor:i},K.b.createElement("div",{className:"se-popup-content"},this._wrapChildren(a,e)),K.b.createElement("button",{type:"button",className:"se-popup-close-button","data-log":"sely.close",onClick:this.handleClickClose},K.b.createElement("span",{className:"se-blind"},n("panelLayout:close_popup"))))},o._wrapSidebar=function(e){var t,o=this.props,n=o.i18n,r=o.store.target,i=this.state,a=i.showUpEnabled,s=i.isEventBlockerOn,c=et()(["se-sidebar",{"se-sidebar-interaction":a,"se-is-event-blocking":s}]),l=et()(((t={})["se-sidebar-container se-sidebar-container-"+r]=!0,t)),u=this._logArea(r);return K.b.createElement("aside",{className:c,onDragStart:this.enableEventBlocker,onDragEnd:this.disableEventBlocker},K.b.createElement("div",{className:l},this._wrapChildren(r,e),K.b.createElement("button",{type:"button",className:"se-sidebar-close-button","data-log":u+".close",onClick:this.handleClickClose},K.b.createElement("span",{className:"se-blind"},n("panelLayout:close_popup","")))))},o._logArea=function(e){switch(e){case"moment":return"lmot";case"search":return"lsch";case"library":return"llib";case"template":return"ltpl";default:return"lsch"}},o._handleClickItem=function(){var e=this.props,t=e.useCase;e.store.panelType===u.K.POPUP&&t.closePanel()},o.handleClickClose=function(e){zt.a.log(e.nativeEvent),this.props.useCase.closePanel()},o.enableEventBlocker=function(){this.setState({isEventBlockerOn:!0})},o.disableEventBlocker=function(){this.setState({isEventBlockerOn:!1})},t}(K.b.Component),q()(Ft.prototype,"_wrapPopup",[ee.autobind],Object.getOwnPropertyDescriptor(Ft.prototype,"_wrapPopup"),Ft.prototype),q()(Ft.prototype,"_wrapSidebar",[ee.autobind],Object.getOwnPropertyDescriptor(Ft.prototype,"_wrapSidebar"),Ft.prototype),q()(Ft.prototype,"_handleClickItem",[ee.autobind],Object.getOwnPropertyDescriptor(Ft.prototype,"_handleClickItem"),Ft.prototype),q()(Ft.prototype,"handleClickClose",[ee.autobind],Object.getOwnPropertyDescriptor(Ft.prototype,"handleClickClose"),Ft.prototype),q()(Ft.prototype,"enableEventBlocker",[ee.autobind],Object.getOwnPropertyDescriptor(Ft.prototype,"enableEventBlocker"),Ft.prototype),q()(Ft.prototype,"disableEventBlocker",[ee.autobind],Object.getOwnPropertyDescriptor(Ft.prototype,"disableEventBlocker"),Ft.prototype),Ft);Wt.defaultProps={children:null,i18n:function(e){return e}},Wt.propTypes={children:K.a.oneOfType([K.a.arrayOf(K.a.element),K.a.element]),useCase:K.a.instanceOf(Rt).isRequired,store:K.a.instanceOf(Mt).isRequired,i18n:K.a.func,className:K.a.string,draggable:K.a.bool};var Vt=Object(Z.b)(Wt),Gt=Vt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/panel-container-layer/src/view/index.jsx",localName:t}})}catch(e){}}e(Wt,"PanelContainerLayerView"),e(Vt,"default")}();var Ht=u.F.extend({name:"PanelContainerLayer",view:Gt,useCase:Rt,store:Mt,service:Bt}),qt=Ht,Jt=qt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/panel-container-layer/src/index.js",localName:t}})}catch(e){}}e(Ht,"PanelContainerLayer"),e(qt,"default")}();var Kt=o(364),Yt=o(12),Xt=o.n(Yt),Qt=o(18),Zt=o.n(Qt),$t=function(){function e(e){this._config=e}return e.prototype.convert=function(e){return{ctype:"sticker",packCode:e.packCode,seq:e.seq,thumbnail:{ctype:"thumbnail",height:e.stickerInfo.imageHeight,src:e.stickerInfo.originalUrl,width:e.stickerInfo.imageWidth},format:e.animated?u.O.ANIMATED:u.O.NORMAL}},e}(),eo=$t,to=eo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/sticker-data-converter.js",localName:t}})}catch(e){}}e($t,"AbstractDataConverter"),e(eo,"default")}();var oo=function(){function e(e){this._config=e}var t=e.prototype;return t.convertToDragItem=function(e){return this.convert(e)},t.convert=function(e){var t=Object(J.a)(e,"fromText"),o=[{ctype:"paragraph",nodes:[{ctype:"textNode",value:t,link:{ctype:"urlLink",url:Object(J.a)(e,"urls.link")}}],style:{ctype:"paragraphStyle",align:"center"}}];return{ctype:"image",layout:"default",align:"left",src:Object(J.a)(e,"urls.img"),width:Object(J.a)(e,"width"),height:Object(J.a)(e,"height"),alt:t,caption:o,internalResource:!0,origin:{ctype:"imageOrigin",srcFrom:Object(J.a)(e,"provider"),externalId:Object(J.a)(e,"id")},phase:"empty"}},e}(),no=oo,ro=no;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/photo-data-converter.js",localName:t}})}catch(e){}}e(oo,"PhotoDataConverter"),e(no,"default")}();var io=o(75),ao=o(524),so=o(122),co=function(){function e(e){this._config=e}var t=e.prototype;return t.convert=function(){throw new Error("[ERROR] 컴포넌트 데이터 변환 메소드를 구현해 주세요.")},t._makeThumbnailInfo=function(e){return e?new Promise(function(t){var o=new Image;o.onload=function(o){var n=o.currentTarget;t({ctype:"thumbnail",src:e,width:n.width,height:n.height})},o.onerror=function(){t(null)},o.src=so.a.makeDthumbHttpsUrl(e)}):null},t._modifyPeopleInfo=function(e){var t=this;return Object(io.a)(e,function(e){return{ctype:"value",value:t._restoreSpecialChar(Object(J.a)(e,"name")||e)}})},t._restoreSpecialChar=function(e){return ao.a.restoreSpecialChar(e)},t._formatWithComma=function(e){return ao.a.formatWithComma(e)},e}(),lo=co,uo=lo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/abstract-data-converter.js",localName:t}})}catch(e){}}e(co,"AbstractDataConverter"),e(lo,"default")}();var po=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"image.url",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeOglinkInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeOglinkInfo(e)},o._makeOglinkInfo=function(e){var t=this._restoreSpecialChar(e.title),o=this._restoreSpecialChar(e.description);return{layout:"moment",title:t,domain:e.domain,link:e.url,description:o,thumbnail:{ctype:"thumbnail",src:Object(J.a)(e,"image.url"),width:Object(J.a)(e,"image.width"),height:Object(J.a)(e,"image.height")},video:!1,oglinkSign:e.oglinkSign,ctype:"oglink"}},t}(uo),ho=po,fo=ho;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/moment-data-converter.js",localName:t}})}catch(e){}}e(po,"MomentDataConverter"),e(ho,"default")}();var mo=o(121),go=o(107),yo=o(178),bo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._resolveThumbnailUrl(t),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._resolveThumbnailUrl=function(e){return Object(mo.a)(Object(go.a)(Object(yo.a)(e,["bigThumbnail2","bigThumbnail","thumbnail"])))},o._makeMaterialInfo=function(e){var t=e.title,o=e.author,n=this._restoreSpecialChar(t),r="string"==typeof o?this._restoreSpecialChar(o.replace(/\|/gi,", ").replace(/ 지음$/gi,"")):"미등록";return{ctype:"material",title:n,link:e.linkUrl,dataId:e.isbn,subId:e.bid,type:"book",volNo:e.volNo||"",detailInfo:[{ctype:"item",label:"저자",labelName:"author",values:[{ctype:"value",value:r}]},{ctype:"item",label:"출판",labelName:"publisher",values:[{ctype:"value",value:this._restoreSpecialChar(e.publisher)}]},{ctype:"item",label:"발매",labelName:"publishDay",values:[{ctype:"value",value:this._restoreSpecialChar(ao.a.reviseDateFormat(e.publishDay))}]}]}},t}(uo),_o=bo,vo=_o;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/book-data-converter.js",localName:t}})}catch(e){}}e(bo,"BookDataConverter"),e(_o,"default")}();var Co=o(542),So=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"imageUrls.poster.url",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t=this._restoreSpecialChar(e.titles.korean),o=e.theaters?e.theaters.map(function(e){return{ctype:"value",value:Co.a.getYYYYMMDDFormat(e.day)}}):[],n=this._modifyPeopleInfo(e.directors.directors),r=this._modifyPeopleInfo(e.actors.actors);return{ctype:"material",title:t,link:e.destinationUrl,dataId:e.mcode,type:"movie",detailInfo:[{ctype:"item",label:"감독",labelName:"directors",values:n},{ctype:"item",label:"출연",labelName:"actors",values:r},{ctype:"item",label:"개봉",labelName:"makingYear",values:o}]}},t}(uo),Oo=So,ko=Oo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/movie-data-converter.js",localName:t}})}catch(e){}}e(So,"MovieDataConverter"),e(Oo,"default")}();var Io=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"image",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t={ctype:"material",title:this._restoreSpecialChar(e.title),link:e.url,dataId:e.mcode||e.os,type:"broadcast",detailInfo:[]};return t.detailInfo.push({ctype:"item",label:"연출",labelName:"directors",values:this._modifyPeopleInfo(e.producer)}),t.detailInfo.push({ctype:"item",label:"출연",labelName:"actors",values:this._modifyPeopleInfo(e.guest)}),t.detailInfo.push({ctype:"item",label:"방송",labelName:"makingYear",values:[{ctype:"value",value:e.year+", "+e.channel}]}),t},t}(uo),wo=Io,Po=wo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/tv-data-converter.js",localName:t}})}catch(e){}}e(Io,"TVDataConverter"),e(wo,"default")}();var jo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"albumImg",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){return{ctype:"material",title:this._restoreSpecialChar(e.title),link:e.albumUrl,dataId:e.albumID,type:"music",detailInfo:[{ctype:"item",label:"아티스트",labelName:"artist",values:[{ctype:"value",value:this._restoreSpecialChar(e.artist.replace(/♩/gi,", "))}]},{ctype:"item",label:"발매일",labelName:"release",values:[{ctype:"value",value:this._restoreSpecialChar(ao.a.reviseDateFormat(e.release))}]}]}},t}(uo),To=jo,Lo=To;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/music-data-converter.js",localName:t}})}catch(e){}}e(jo,"MusicDataConverter"),e(To,"default")}();var Eo=o(108),No=[[null,1,10,7,4,1,1,1,1],[null,2,11,8,5,2,2,2,2],[null,3,12,9,6,3,3,3,3]],xo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t=this._restoreSpecialChar(e.productTitle),o=this._convertToGoodsType(e.mpTp,e.prodTp)+"";return{ctype:"material",title:t,link:this._makeLink(o,e),dataId:e.id,type:"shopping",detailInfo:[{ctype:"item",label:"",labelName:"type",values:[{ctype:"value",value:o}]},{ctype:"item",label:"",labelName:"nPayPcType",values:[{ctype:"value",value:e.nPayPcType}]},{ctype:"item",label:"",labelName:"nPayMblType",values:[{ctype:"value",value:e.nPayMblType}]},{ctype:"item",label:"",labelName:"mallNameOrg",values:[{ctype:"value",value:this._restoreSpecialChar(e.mallNameOrg)}]},{ctype:"item",label:"",labelName:"price",values:[{ctype:"value",value:this._formatWithComma(e.price)}]}]}},o._makeLink=function(e,t){var o=this._isCompareProduct(e);return t.mallProductUrl?t.mallProductUrl:!0===o?"https://search.shopping.naver.com/catalog/"+t.id+"?section=price":"https://search.shopping.naver.com/catalog/"+t.id},o._convertToGoodsType=function(e,t){var o=No[e];return o?o[t]:null},o._isCompareProduct=function(e){return Object(Eo.a)([1,4],e)},t}(uo),Do=xo,Ro=Do;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/shopping-data-converter.js",localName:t}})}catch(e){}}e(No,"GOODS_TYPE_MAPPING"),e(xo,"ShoppingDataConverter"),e(Do,"default")}();var Ao=o(94),Uo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchNewsDetail(t);case 2:return o=e.sent,n=this._resolveThumbnailUrl(o),e.next=6,this._makeThumbnailInfo(n);case 6:return r=e.sent,i=this._makeMaterialInfo(o),r&&(i.thumbnail=r),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._resolveThumbnailUrl=function(e){return Object(mo.a)(Object(go.a)(Object(yo.a)(e,["images[0].url","images.image[0].url","images.image.url"])))},o._fetchNewsDetail=function(e){return Ao.a.get(this._config.newsDetailAPI,{params:{oid:e.officeId||e.subId,aid:e.articleId||e.dataId},success:function(e){return Object(J.a)(e,"items[0]")}})},o._makeMaterialInfo=function(e){return{ctype:"material",title:this._restoreSpecialChar(e.title),link:e.orgUrl,dataId:e.articleId,subId:e.officeId,type:"news",detailInfo:[{ctype:"item",label:"",labelName:"subcontent",values:[{ctype:"value",value:this._restoreSpecialChar(e.subcontent)}]},{ctype:"item",label:"출처",labelName:"officeHname",values:[{ctype:"value",value:this._restoreSpecialChar(e.officeHname)}]}]}},t}(uo),Mo=Uo,Bo=Mo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/news-data-converter.js",localName:t}})}catch(e){}}e(Uo,"NewsDataConverter"),e(Mo,"default")}();var Fo=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t=e.objectId,o=this._resolveDatas(e),n=o.title,r=o.genre,i=o.locationName,a=o.period;return{ctype:"material",type:"show",dataId:t,layout:"default",title:n,link:o.link,detailInfo:[{label:"장르",labelName:"genre",values:[{value:r,ctype:"value"}],ctype:"item"},{label:"장소",labelName:"locationName",values:[{value:i,ctype:"value"}],ctype:"item"},{label:"기간",labelName:"period",values:[{value:a,ctype:"value"}],ctype:"item"}]}},o._isExhibitionDefine=function(e){return"269"!==e.searchLinkParameter.pkid},o._resolveDatas=function(e){var t,o,n,r=e.rendingUrl,i=e.formattedPeriod;return!0===this._isExhibitionDefine(e)?(t=e.name,o="전시",n=e.locationName):(t=e.title,o=e.majorGenreName,n=e.placeInformation.name),{title:t,genre:o,locationName:n,period:i,link:r}},t}(uo),zo=Fo,Wo=zo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/show-data-converter.js",localName:t}})}catch(e){}}e(Fo,"ShowDataConverter"),e(zo,"default")}();var Vo={moment:fo,sticker:to,"purchased-image":ro,photo:ro,book:vo,movie:ko,broadcast:Po,music:Lo,shopping:Ro,news:Bo,show:Wo},Go=Vo;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/data-converter/index.js",localName:t}})}catch(e){}}(Vo,"default")}();var Ho=function(){function e(e){this._config=Object(i.a)(e,{fetchCount:20})}return e.prototype.abort=function(){Ao.b.abort()},e}(),qo=Ho,Jo=qo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/abstract-provider.js",localName:t}})}catch(e){}}e(Ho,"AbstractDataProvider"),e(qo,"default")}();var Ko=function(e){function t(t){var o;return(o=e.call(this,t)||this)._currentRequestInfo={},o._nextPageInfo={},o._resultState=!1,o}h()(t,e);var o=t.prototype;return o.getInitializeData=function(e){return void 0===e&&(e={}),this._fetchInitializeData(e)},o.search=function(e){if(!1===Object(st.a)(e.keyword))return this._search(e)},o.nextPage=function(){return this._nextPage()},o._fetchInitializeData=function(e){var t=Object(J.a)(e,"source",["U","P","OC"]).join(""),o=Object(J.a)(e,"orientation",["all"]).join(""),n=Object(J.a)(e,"paid",["F","P"]).join("");return this._nextPageInfo={providers:t,orientation:o,per_page:this._config.fetchCount,paid_type:n,page:1},this._currentRequestInfo={url:this._config.API.INITIALIZE,query:this._nextPageInfo},this._request()},o._search=function(e){var t=Object(J.a)(e,"source",["U","P","OC"]).join(""),o=Object(J.a)(e,"orientation",["all"]).join(""),n=Object(J.a)(e,"paid",["F","P"]).join("");return this._currentRequestInfo={searchOption:e,url:this._config.API.SEARCH,query:{query:e.keyword,providers:t,orientation:o,paid_type:n,per_page:this._config.fetchCount,page:e.page||1}},this._request()},o._nextPage=function(){if(this._resultState){if(!Object(st.a)(this._nextPageInfo||{})&&!Object(ct.a)(this._currentRequestInfo.query,this._nextPageInfo))return this._currentRequestInfo.query=this._nextPageInfo,this._request()}else if(this._currentRequestInfo.query)return this._request()},o._request=function(){var e=this,t=this._currentRequestInfo.searchOption;return Ao.b.get(this._currentRequestInfo.url,{params:this._currentRequestInfo.query,options:{useAbort:!0},success:function(t){e._resultState=!0;var o=e._currentRequestInfo.query.page,n=t.hasMore;e._setNextPageInfo(n);var r=Object(J.a)(t,"result",[]),i=r.length,a=e._config.fetchCount*(o-1)+i,s=(new Date).getTime();return{items:r.map(function(e){return e.groupKey=s,e}),next:{page:e._currentRequestInfo.query.page+1,hasMore:n},count:i,total:a}},error:function(o){var n=!!o.aborted;if(n)return e._resultState=!1,{searchOption:t,isFetchNextPageError:!0,aborted:n,items:[],next:{},count:0,total:0};throw o}})},o._setNextPageInfo=function(e){e&&(this._nextPageInfo=Object(i.a)({page:this._currentRequestInfo.query.page+1},this._currentRequestInfo.query))},t}(Jo),Yo=Ko,Xo=Yo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/photo-data-provider.js",localName:t}})}catch(e){}}e(Ko,"PhotoDataProvider"),e(Yo,"default")}();var Qo=function(e){function t(t){var o;return(o=e.call(this,t)||this)._config=Object(i.a)(t,{fetchCount:20}),o._initialize(),o}h()(t,e);var o=t.prototype;return o._initialize=function(){this._nextPageInfo=null,this._tryAgainWithCurrentInfo=!1,this._baseQuery=null,this._currentRequestInfo={url:this._config.API.INITIALIZE,query:this._baseQuery}},o.getInitializeData=function(){return this._fetchInitializeData()},o.search=function(e){return this._search(e)},o.nextPage=function(){return this._nextPage()},o._fetchInitializeData=function(){return this._baseQuery={s:1,count:this._config.fetchCount},this._currentRequestInfo={url:this._config.API.INITIALIZE,query:this._baseQuery},this._request()},o._search=function(e){return this._nextPageInfo=null,this._baseQuery={q:e.keyword,count:this._config.fetchCount},this._currentRequestInfo={url:this._config.API.SEARCH,query:this._baseQuery},this._request()},o._nextPage=function(){if(this._tryAgainWithCurrentInfo){if(this._currentRequestInfo.query)return this._request()}else if(!Object(st.a)(this._nextPageInfo||{})&&!Object(ct.a)(this._currentRequestInfo.query,this._nextPageInfo))return this._currentRequestInfo.query=this._nextPageInfo,this._request()},o._request=function(){var e=this;return Ao.b.get(this._currentRequestInfo.url,{params:this._currentRequestInfo.query,options:{useAbort:!0},parser:function(e){return Object(J.a)(e,"data",{})},success:function(t){return e._tryAgainWithCurrentInfo=!1,e._setNextPageInfo(t.next),t},error:function(t){var o=!!t.aborted;if(o)return e._tryAgainWithCurrentInfo=!0,{isFetchNextPageError:!0,aborted:o,items:[],next:{},count:0,total:0};throw t}})},o._setNextPageInfo=function(e){Object(st.a)(e)?this._nextPageInfo=null:this._nextPageInfo=Object(i.a)(e,this._baseQuery)},t}(Jo),Zo=Qo,$o=Zo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/abstract-material-provider.js",localName:t}})}catch(e){}}e(Qo,"AbstractMaterialProvider"),e(Zo,"default")}();var en=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}($o),tn=en,on=tn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/book-data-provider.js",localName:t}})}catch(e){}}e(en,"BookDataProvider"),e(tn,"default")}();var nn=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}($o),rn=nn,an=rn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/movie-data-provider.js",localName:t}})}catch(e){}}e(nn,"MovieDataProvider"),e(rn,"default")}();var sn=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}($o),cn=sn,ln=cn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/tv-data-provider.js",localName:t}})}catch(e){}}e(sn,"TVDataProvider"),e(cn,"default")}();var un=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}($o),pn=un,dn=pn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/music-data-provider.js",localName:t}})}catch(e){}}e(un,"MusicDataProvider"),e(pn,"default")}();var hn=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.getInitializeData=function(){var e={total:0,start:1,count:0,items:[]};return new Promise(function(t){t(e)})},t}($o),fn=hn,mn=fn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/shopping-data-provider.js",localName:t}})}catch(e){}}e(hn,"ShoppingDataProvider"),e(fn,"default")}();var gn=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}($o),yn=gn,bn=yn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/news-data-provider.js",localName:t}})}catch(e){}}e(gn,"NewsDataProvider"),e(yn,"default")}();var _n=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.getCategories=function(){throw new Error("[ERROR] 데이터 공급 객체에 필수 메소드가 없습니다. - getCategories")},o.getStickerPack=function(){throw new Error("[ERROR] 데이터 공급 객체에 필수 메소드가 없습니다. - getStickerPack")},t}(Jo),vn=_n,Cn=vn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/abstract-sticker-provider.js",localName:t}})}catch(e){}}e(_n,"AbstractStickerProvider"),e(vn,"default")}();var Sn=function(e){function t(t){var o;return(o=e.call(this,t)||this)._initialize(),o}h()(t,e);var o=t.prototype;return o._initialize=function(){this._currentRequestInfo={url:this._config.API.INITIALIZE}},o.getCategories=function(){return this._fetchInitializeData()},o.getStickerPack=function(e){return this._fetchStickerPack(e)},o._fetchInitializeData=function(){return this._currentRequestInfo={url:this._config.API.INITIALIZE,query:{}},this._request()},o._fetchStickerPack=function(e){var t=this._config.API.INITIALIZE+"/"+e.packCode;return this._currentRequestInfo={url:t},this._request()},o._request=function(){return Ao.b.get(this._currentRequestInfo.url,{params:this._currentRequestInfo.query,success:function(e){return e},error:function(e){throw e}})},t}(Cn),On=Sn,kn=On;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/sticker-data-provider.js",localName:t}})}catch(e){}}e(Sn,"StickerDataProvider"),e(On,"default")}();var In={GET_TEMPORARY_KEY:"GET_TEMPORARY_KEY",GET_RECOMMEND_LIST:"GET_RECOMMEND_LIST",GET_RECOMMEND:"GET_RECOMMEND",GET_PART_TEMPLATE_LIST:"GET_PART_TEMPLATE_LIST",GET_MY_TEMPLATE_LIST:"GET_MY_TEMPLATE_LIST",GET_MY_TEMPLATE:"GET_MY_TEMPLATE",POST_MY_TEMPLATE:"ADD_MY_TEMPLATE",DELETE_MY_TEMPLATE:"DELETE_MY_TEMPLATE"};function wn(e){throw e}var Pn=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.get=function(e,t){switch(e){case In.GET_RECOMMEND_LIST:return this._getRecommendList();case In.GET_RECOMMEND:return this._getRecommend(t);case In.GET_PART_TEMPLATE_LIST:return this._getPartTemplateList();case In.GET_MY_TEMPLATE_LIST:return this._getMyTemplateList(t);case In.GET_MY_TEMPLATE:return this._getMyTemplate(t)}},o.post=function(e,t){switch(e){case In.ADD_MY_TEMPLATE:return this._addMyTemplate(t)}},o.delete=function(e,t){switch(e){case In.DELETE_MY_TEMPLATE:return this._deleteMyTemplate(t)}},o._getRecommendList=function(){var e=Object(J.a)(this._config,"dataProvider.getRecommendList");return"function"==typeof e?e():Ao.b.get(this._config.API.GET_RECOMMEND_LIST,{params:{page:1,size:1e4},options:{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:wn}).then(function(e){return e&&e.defaultPrevented&&wn(e),e})},o._getPartTemplateList=function(){var e=Object(J.a)(this._config,"dataProvider.getPartTemplateList");return"function"==typeof e?e():Ao.b.get(this._config.API.GET_PART_TEMPLATE_LIST,{params:{page:1,size:1e4},options:{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:wn}).then(function(e){return e&&e.defaultPrevented&&wn(e),e})},o._getRecommend=function(e){var t=Object(J.a)(this._config,"dataProvider.getRecommend");return"function"==typeof t?t(e):Ao.b.get(this._config.API.GET_RECOMMEND,{params:{templateNo:e.templateNo},options:{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:wn}).then(function(e){return e&&e.defaultPrevented&&wn(e),e})},o._getMyTemplateList=function(e){var t=Object(J.a)(this._config,"dataProvider.getMyTemplateList");if("function"==typeof t)return t(e);var o=e.userId;return Ao.b.get(this._config.API.GET_MY_TEMPLATE_LIST,{params:{userId:o,page:1,size:1e4},options:{withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:wn}).then(function(e){return e&&e.defaultPrevented&&wn(e),e})},o._getMyTemplate=function(e){var t=Object(J.a)(this._config,"dataProvider.getMyTemplate");if("function"==typeof t)return t(e);var o=this._config.API.GET_MY_TEMPLATE;return Ao.b.get(o,{params:e,options:{withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:wn}).then(function(e){return e&&e.defaultPrevented&&wn(e),e})},o._deleteMyTemplate=function(e){var t=Object(J.a)(this._config,"dataProvider.deleteMyTemplate");if("function"==typeof t)return t(e);var o=this._config.API,n=o.GET_MY_TEMPLATE,r=o.DELETE_MY_TEMPLATE;return(n===r?Ao.b.delete:Ao.b.post)(r,{params:e,options:{withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:wn}).then(function(e){return e&&e.defaultPrevented&&wn(e),e})},o._addMyTemplate=function(e){var t=Object(J.a)(this._config,"dataProvider.addMyTemplate");return"function"==typeof t?t(e):Ao.b.post(this._config.API.ADD_MY_TEMPLATE,{data:e,options:{headers:{"Content-Type":"application/x-www-form-urlencoded"},withCredentials:!0,simpleRequestForced:!0},success:function(e){return e||{}},error:wn}).then(function(e){return e&&e.defaultPrevented&&wn(e),e})},t}(Jo),jn=Pn,Tn=jn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/template-data-provider.js",localName:t}})}catch(e){}}e(In,"API"),e(1e4,"PAGE_SIZE"),e(wn,"throwError"),e(Pn,"TemplateDataProvider"),e(jn,"default")}();var Ln=function(e){function t(t){var o;return(o=e.call(this,t)||this)._currentRequestInfo={},o._nextPageInfo={},o._resultState=!1,o}h()(t,e);var o=t.prototype;return o.getInitializedData=function(){},o.search=function(e){return this._currentRequestInfo={url:this._config.API.SEARCH,query:{ordering:e.ordering,per_page:this._config.fetchCount,page:e.page||1}},this._request()},o._resolveUnknownSize=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.map(function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.width){e.next=4;break}return e.abrupt("return",t);case 4:return e.next=6,new Promise(function(e){var o=new Image;o.onload=function(){t.width=o.width,t.height=o.height,e(t)},o.onerror=function(){e(t)},o.src=t.urls.img});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=3,Promise.all(o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),o.nextPage=function(){if(this._resultState){if(!Object(st.a)(this._nextPageInfo||{})&&!Object(ct.a)(this._currentRequestInfo.query,this._nextPageInfo))return this._currentRequestInfo.query=this._nextPageInfo,this._request()}else if(this._currentRequestInfo.query)return this._request()},o._request=function(){var e=Zt()(Xt.a.mark(function e(){var t,o=this;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ao.b.get(this._currentRequestInfo.url,{params:this._currentRequestInfo.query,success:function(e){o._resultState=!0;var t=o._currentRequestInfo.query.page,n=e.hasMore;o._setNextPageInfo(n);var r=Object(J.a)(e,"result",[]),i=r.length,a=o._config.fetchCount*(t-1)+i,s=(new Date).getTime();return{items:r.map(function(e){return e.groupKey=s,e.provider="ogqCommercial",e}),next:{page:o._currentRequestInfo.query.page+1,hasMore:n},count:i,total:a}},error:function(){return o._resultState=!1,{items:[],next:{},count:0,total:0}}});case 2:if(!((t=e.sent).items.length>0)){e.next=7;break}return e.next=6,this._resolveUnknownSize(t.items);case 6:t.items=e.sent;case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._setNextPageInfo=function(e){e&&(this._nextPageInfo=Object(i.a)({page:this._currentRequestInfo.query.page+1},this._currentRequestInfo.query))},t}(Jo),En=Ln,Nn=En;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/purchased-image-data-provider.js",localName:t}})}catch(e){}}e(Ln,"PurchasedImageDataProvider"),e(En,"default")}();var xn=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}($o),Dn=xn,Rn=Dn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/show-data-provider.js",localName:t}})}catch(e){}}e(xn,"ShowDataProvider"),e(Dn,"default")}();var An=function(e){function t(t){var o;return(o=e.call(this,t)||this)._currentRequestInfo={},o._nextPageInfo={},o._resultState=!1,o}h()(t,e);var o=t.prototype;return o.getInitializeData=function(){},o.search=function(e){return this._search(e)},o.nextPage=function(){return this._nextPage()},o._search=function(e){return this._nextPageInfo={itemCount:this._config.fetchCount,page:e.page||1,momentSortType:e.ordering,publicOnly:!0,exposableOnly:!0,blogId:this._config.blogId},this._currentRequestInfo={url:this._config.API.SEARCH,query:this._nextPageInfo},this._request()},o._nextPage=function(){if(this._resultState){if(!Object(st.a)(this._nextPageInfo||{})&&!Object(ct.a)(this._currentRequestInfo.query,this._nextPageInfo))return this._currentRequestInfo.query=this._nextPageInfo,this._request()}else if(this._currentRequestInfo.query)return this._request()},o._request=function(){var e=this,t=this._currentRequestInfo.searchOption;return Ao.b.get(this._currentRequestInfo.url,{params:this._currentRequestInfo.query,options:this._currentRequestInfo.options,success:function(t){e._resultState=!0;var o=e._currentRequestInfo.query.page,n=Object(J.a)(t,"totalCount",0),r=n>e._config.fetchCount*o;e._setNextPageInfo(r);var i=Object(J.a)(t,"results",[]),a=i.length,s=(new Date).getTime(),c=Co.a.getMomentInstance;return{items:i.map(function(e){var t=c(parseInt(e.addDate)).format("YYYY.MM.DD.");return rt()({},e,{groupKey:s,createdAt:t})}),next:{page:e._currentRequestInfo.query.page+1,hasMore:r},count:a,total:n}},error:function(o){var n=!!o.aborted;if(n)return e._resultState=!1,{searchOption:t,isFetchNextPageError:!0,aborted:n,items:[],next:{},count:0,total:0};throw o}})},o._setNextPageInfo=function(e){e&&(this._nextPageInfo=Object(i.a)({page:this._currentRequestInfo.query.page+1},this._currentRequestInfo.query))},t}(Jo),Un=An,Mn=Un;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/moment-data-provider.js",localName:t}})}catch(e){}}e(An,"MomentDataProvider"),e(Un,"default")}();var Bn={moment:Mn,photo:Xo,book:on,movie:an,broadcast:ln,music:dn,shopping:mn,news:bn,sticker:kn,template:Tn,"purchased-image":Nn,show:Rn},Fn=Bn;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/provider/index.js",localName:t}})}catch(e){}}(Bn,"default")}();var zn=function(){function e(e){this.providers={},this.currentProvider=null,this.converters={},this.currentConverter=null,this.config=e}var t=e.prototype;return t.getProvider=function(){return this.currentProvider},t.changeProvider=function(e){this.currentProvider!==this.providers[e]&&(this._cancelCurrentProvider(),this._initializeDataProvider(e),this._initializeDataConverter(e))},t.abort=function(){this._cancelCurrentProvider()},t.getInitializeData=function(){var e=Zt()(Xt.a.mark(function e(t,o){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.changeProvider(t),e.next=3,this.currentProvider.getInitializeData(o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t.search=function(){var e=Zt()(Xt.a.mark(function e(t,o){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.changeProvider(t),e.next=3,this.currentProvider.search(o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t.nextPage=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currentProvider.nextPage(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.convertToCompData=function(e){return this._convertToCompData(e)},t._convertToCompData=function(e){return this.currentConverter.convert(e)},t._initializeDataConverter=function(e){var t=Go[e],o=this.config[e];t&&(t&&void 0===this.converters[e]&&(this.converters[e]=new t(o)),this.currentConverter=this.converters[e])},t._initializeDataProvider=function(e){var t=Fn[e],o=this.config[e];void 0===this.providers[e]&&(this.providers[e]=new t(o)),this.currentProvider=this.providers[e],this.currentSearchType=e},t._cancelCurrentProvider=function(){this.currentProvider&&this.currentProvider.abort()},e}(),Wn=zn,Vn=Wn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/index.js",localName:t}})}catch(e){}}e(zn,"SearchDataManager"),e(Wn,"default")}();var Gn=function(){function e(e){this._config=e}var t=e.prototype;return t.convert=function(){throw new Error("[ERROR] 컴포넌트 데이터 변환 메소드를 구현해 주세요.")},t._makeThumbnailInfo=function(e){return e?new Promise(function(t){var o=new Image;o.onload=function(o){var n=o.currentTarget;t({ctype:"thumbnail",src:e,width:n.width,height:n.height})},o.onerror=function(){t(null)},o.src=so.a.makeDthumbHttpsUrl(e)}):null},t._modifyPeopleInfo=function(e){var t=this;return Object(io.a)(e,function(e){return{ctype:"value",value:t._restoreSpecialChar(Object(J.a)(e,"name")||e)}})},t._restoreSpecialChar=function(e){return ao.a.restoreSpecialChar(e)},t._formatWithComma=function(e){return ao.a.formatWithComma(e)},e}(),Hn=Gn,qn=Hn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/abstract-data-converter.js",localName:t}})}catch(e){}}e(Gn,"AbstractDataConverter"),e(Hn,"default")}();var Jn=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._resolveThumbnailUrl(t),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._resolveThumbnailUrl=function(e){return Object(mo.a)(Object(go.a)(Object(yo.a)(e,["bigThumbnail2","bigThumbnail","thumbnail"])))},o._makeMaterialInfo=function(e){var t=e.title,o=e.author,n=this._restoreSpecialChar(t),r="string"==typeof o?this._restoreSpecialChar(o.replace(/\|/gi,", ").replace(/ 지음$/gi,"")):"미등록";return{ctype:"material",title:n,link:e.linkUrl,dataId:e.isbn,subId:e.bid,type:"book",volNo:e.volNo||"",detailInfo:[{ctype:"item",label:"저자",labelName:"author",values:[{ctype:"value",value:r}]},{ctype:"item",label:"출판",labelName:"publisher",values:[{ctype:"value",value:this._restoreSpecialChar(e.publisher)}]},{ctype:"item",label:"발매",labelName:"publishDay",values:[{ctype:"value",value:this._restoreSpecialChar(ao.a.reviseDateFormat(e.publishDay))}]}]}},t}(qn),Kn=Jn,Yn=Kn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/book-data-converter.js",localName:t}})}catch(e){}}e(Jn,"BookDataConverter"),e(Kn,"default")}();var Xn=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._resolveThumbnailUrl(t),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._resolveThumbnailUrl=function(e){return Object(mo.a)(Object(go.a)(Object(yo.a)(e,["imageUrls.thumbnail250","imageUrls.thumbnail150","imageUrls.poster.url"])))},o._makeMaterialInfo=function(e){var t=this._restoreSpecialChar(e.titles.korean),o=e.theaters?e.theaters.map(function(e){return{ctype:"value",value:Co.a.getYYYYMMDDFormat(e.day)}}):[],n=this._modifyPeopleInfo(e.directors.directors),r=this._modifyPeopleInfo(e.actors.actors);return{ctype:"material",title:t,link:e.destinationUrl,dataId:e.mcode,type:"movie",detailInfo:[{ctype:"item",label:"감독",labelName:"directors",values:n},{ctype:"item",label:"출연",labelName:"actors",values:r},{ctype:"item",label:"개봉",labelName:"makingYear",values:o}]}},t}(qn),Qn=Xn,Zn=Qn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/movie-data-converter.js",localName:t}})}catch(e){}}e(Xn,"MovieDataConverter"),e(Qn,"default")}();var $n=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"image",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t={ctype:"material",title:this._restoreSpecialChar(e.title),link:e.url,dataId:e.mcode||e.os,type:"broadcast",detailInfo:[]};return t.detailInfo.push({ctype:"item",label:"연출",labelName:"directors",values:this._modifyPeopleInfo(e.producer)}),t.detailInfo.push({ctype:"item",label:"출연",labelName:"actors",values:this._modifyPeopleInfo(e.guest)}),t.detailInfo.push({ctype:"item",label:"방송",labelName:"makingYear",values:[{ctype:"value",value:e.year+", "+e.channel}]}),t},t}(qn),er=$n,tr=er;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/tv-data-converter.js",localName:t}})}catch(e){}}e($n,"TVDataConverter"),e(er,"default")}();var or=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"albumImg",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){return{ctype:"material",title:this._restoreSpecialChar(e.title),link:e.albumUrl,dataId:e.albumID,type:"music",detailInfo:[{ctype:"item",label:"아티스트",labelName:"artist",values:[{ctype:"value",value:this._restoreSpecialChar(e.artist.replace(/♩/gi,", "))}]},{ctype:"item",label:"발매일",labelName:"release",values:[{ctype:"value",value:this._restoreSpecialChar(ao.a.reviseDateFormat(e.release))}]}]}},t}(qn),nr=or,rr=nr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/music-data-converter.js",localName:t}})}catch(e){}}e(or,"MusicDataConverter"),e(nr,"default")}();var ir=[[null,1,10,7,4,1,1,1,1],[null,2,11,8,5,2,2,2,2],[null,3,12,9,6,3,3,3,3]],ar=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t=this._restoreSpecialChar(e.productTitle),o=this._convertToGoodsType(e.mpTp,e.prodTp)+"";return{ctype:"material",title:t,link:this._makeLink(o,e),dataId:e.id,type:"shopping",detailInfo:[{ctype:"item",label:"",labelName:"type",values:[{ctype:"value",value:o}]},{ctype:"item",label:"",labelName:"nPayPcType",values:[{ctype:"value",value:e.nPayPcType}]},{ctype:"item",label:"",labelName:"nPayMblType",values:[{ctype:"value",value:e.nPayMblType}]},{ctype:"item",label:"",labelName:"mallNameOrg",values:[{ctype:"value",value:this._restoreSpecialChar(e.mallNameOrg)}]},{ctype:"item",label:"",labelName:"price",values:[{ctype:"value",value:this._formatWithComma(e.price)}]}]}},o._makeLink=function(e,t){var o=this._isCompareProduct(e);return t.mallProductUrl?t.mallProductUrl:!0===o?"https://search.shopping.naver.com/catalog/"+t.id+"?section=price":"https://search.shopping.naver.com/catalog/"+t.id},o._convertToGoodsType=function(e,t){var o=ir[e];return o?o[t]:null},o._isCompareProduct=function(e){return Object(Eo.a)([1,4],e)},t}(qn),sr=ar,cr=sr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/shopping-data-converter.js",localName:t}})}catch(e){}}e(ir,"GOODS_TYPE_MAPPING"),e(ar,"ShoppingDataConverter"),e(sr,"default")}();var lr=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchNewsDetail(t);case 2:return o=e.sent,n=this._resolveThumbnailUrl(o),e.next=6,this._makeThumbnailInfo(n);case 6:return r=e.sent,i=this._makeMaterialInfo(o),r&&(i.thumbnail=r),e.abrupt("return",i);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._resolveThumbnailUrl=function(e){return Object(mo.a)(Object(go.a)(Object(yo.a)(e,["images[0].url","images.image[0].url","images.image.url"])))},o._fetchNewsDetail=function(e){return Ao.a.get(this._config.newsDetailAPI,{params:{oid:e.officeId||e.subId,aid:e.articleId||e.dataId},success:function(e){return Object(J.a)(e,"items[0]")}})},o._makeMaterialInfo=function(e){return{ctype:"material",title:this._restoreSpecialChar(e.title),link:e.orgUrl,dataId:e.articleId,subId:e.officeId,type:"news",detailInfo:[{ctype:"item",label:"",labelName:"subcontent",values:[{ctype:"value",value:this._restoreSpecialChar(e.subcontent)}]},{ctype:"item",label:"출처",labelName:"officeHname",values:[{ctype:"value",value:this._restoreSpecialChar(e.officeHname)}]}]}},t}(qn),ur=lr,pr=ur;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/news-data-converter.js",localName:t}})}catch(e){}}e(lr,"NewsDataConverter"),e(ur,"default")}();var dr=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(o);case 3:return n=e.sent,r=this._makeMaterialInfo(t),n&&(r.thumbnail=n),e.abrupt("return",r);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._makeMaterialInfo(e)},o._makeMaterialInfo=function(e){var t=e.objectId,o=this._resolveDatas(e),n=o.title,r=o.genre,i=o.locationName,a=o.period;return{ctype:"material",type:"show",dataId:t,layout:"default",title:n,link:o.link,detailInfo:[{label:"장르",labelName:"genre",values:[{value:r,ctype:"value"}],ctype:"item"},{label:"장소",labelName:"locationName",values:[{value:i,ctype:"value"}],ctype:"item"},{label:"기간",labelName:"period",values:[{value:a,ctype:"value"}],ctype:"item"}]}},o._isExhibitionDefine=function(e){return"269"!==e.searchLinkParameter.pkid},o._resolveDatas=function(e){var t,o,n,r=e.rendingUrl,i=e.formattedPeriod;return!0===this._isExhibitionDefine(e)?(t=e.name,o="전시",n=e.locationName):(t=e.title,o=e.majorGenreName,n=e.placeInformation.name),{title:t,genre:o,locationName:n,period:i,link:r}},t}(qn),hr=dr,fr=hr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/show-data-converter.js",localName:t}})}catch(e){}}e(dr,"ShowDataConverter"),e(hr,"default")}();var mr={photo:ro,book:Yn,movie:Zn,broadcast:tr,music:rr,shopping:cr,news:pr,show:fr},gr=mr;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/data-converter/index.js",localName:t}})}catch(e){}}(mr,"default")}();var yr=o(212),br=yr.a.satisfies("os.name = Android && os.version = 4.4.2")&&yr.a.isSamsungBrowser(),_r=function(e){function t(t){var o;o=e.call(this,t)||this;var n=u.U.get("configAgent"),r=n.configMap.apiInfo;return o._componentFactory=u.U.get("componentFactory"),o._i18n=u.U.get("i18n"),o._fetchAuthorizedImage=r.fetchAuthorizedImage,o._searchDataManager=o._initializeSearchDataManager(r),o._dataConverter=o._initializeDataConverter(r),o._searchPanelConfig=n.get("productConfig.searchPanel"),o}h()(t,e);var o=t.prototype;return o.open=function(){this._store.open()},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this.close():this.open(),this._store.opened},o.update=function(){this._store.update()},o.append=function(){this._store.append()},o.reset=function(){this._store.reset()},o.updateErrorStatus=function(e){this._store.updateErrorStatus(e)},o.getSearchType=function(){return this._store.searchType},o.getSearchOption=function(){return this._store.searchOption},o.changeSearchType=function(){var e=Zt()(Xt.a.mark(function e(t,o){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.reset(),this._store.changeSearchType(t),e.next=4,this.requestData(t,o);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.changeSearchOption=function(){var e=Zt()(Xt.a.mark(function e(t,o){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.reset(),this._store.changeSearchOption(o),e.next=4,this.requestData(t,o);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.resetAll=function(){this._store.resetAll()},o.keywordSearch=function(){var e=Zt()(Xt.a.mark(function e(t,o){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.reset(),this._store.changeSearchOption(o),e.next=4,this.requestData(t,o);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.requestData=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.paid,"photo"===t&&(r=Object(J.a)(this._searchPanelConfig,"photo.license"),o.paid=n||r||["F","P"]),!o||!o.keyword){e.next=7;break}return e.next=5,this.search(t,o);case 5:e.next=9;break;case 7:return e.next=9,this.recommendData(t,o);case 9:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.authorizedImage=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ao.a.get(this._fetchAuthorizedImage,{params:{productId:t},success:function(e){return!!e.imageUrl}});case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),o.search=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this._store.searchType){e.next=2;break}return e.abrupt("return");case 2:return n=this._store.searchType,e.next=5,this._searchDataManager.search(t,o);case 5:(r=e.sent)&&n===this._store.searchType&&this._store.update(r);case 7:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._preLoadImage=function(e){return new Promise(function(t){var o=new Image;o.onload=function(){t(!0)},o.onerror=function(){t(!1)},o.src=e})},o._getValidImageList=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=[],n=0;case 2:if(!(n<t.length)){e.next=10;break}return e.next=5,this._preLoadImage(t[n].urls.thumb);case 5:e.sent&&o.push(t[n]);case 7:n++,e.next=2;break;case 10:return e.abrupt("return",o);case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.recommendData=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t===this._store.searchType){e.next=2;break}return e.abrupt("return");case 2:return n=this._store.searchType,e.next=5,this._searchDataManager.getInitializeData(t,o);case 5:if(r=e.sent,!br||"photo"!==t){e.next=10;break}return e.next=9,this._getValidImageList(r.items);case 9:r.items=e.sent;case 10:r&&n===this._store.searchType&&this._store.update(r);case 11:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.nextPage=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._store.searchType,o=t,e.next=4,this._searchDataManager.nextPage();case 4:if(n=e.sent,!br||"photo"!==t){e.next=9;break}return e.next=8,this._getValidImageList(n.items);case 8:n.items=e.sent;case 9:r=this._store.searchType,n&&o===r&&this._store.append(n);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.itemDataToStore=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return o=e.sent,e.abrupt("return",this.createComponent(o));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.itemDataToCompData=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.createComponent=function(e){return this._componentFactory.createComponentWithCompData(e)},o.updatePaidItem=function(e){this._store.updateItemById({id:e.id,props:{purchased:!0}})},o.removeItemById=function(e){this._store.removeItemById(e)},o._initializeDataConverter=function(e){var t=gr.book,o=gr.movie,n=gr.broadcast,r=gr.music,i=gr.shopping,a=gr.news,s=gr.show;return{photo:new(0,gr.photo),book:new t,movie:new o,broadcast:new n,music:new r,shopping:new i,news:new a({newsDetailAPI:e.fetchNewsDetail}),show:new s}},o._initializeSearchDataManager=function(e){return new Vn({photo:{API:{INITIALIZE:e.fetchRecommendedImage,SEARCH:e.fetchImages}},book:{API:{INITIALIZE:e.fetchBookBestSellers,SEARCH:e.fetchBooks}},movie:{API:{INITIALIZE:e.fetchBoxOfficeMovies,SEARCH:e.fetchMovies}},broadcast:{API:{INITIALIZE:e.fetchRecommandedBroadcasts,SEARCH:e.fetchBroadcasts}},music:{API:{INITIALIZE:e.fetchNewMusic,SEARCH:e.fetchMusics}},shopping:{API:{SEARCH:e.fetchShoppingItems}},news:{API:{INITIALIZE:e.fetchPopularNews,SEARCH:e.fetchNews,NEWS_DETAIL:e.fetchNewsDetail}},show:{API:{INITIALIZE:e.fetchRecommandedShows,SEARCH:e.fetchShows}}})},o.convertToDragItem=function(e){var t=this.getSearchType();return this._dataConverter[t].convertToDragItem(e)},o.convertToCompData=function(e){var t=this.getSearchType();return this._dataConverter[t].convert(e)},o.setSearchedState=function(e){this._store.setSearchedState(e)},t}(u.f),vr=_r,Cr=vr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(br,"isDefenceSamsungBrowser"),e(_r,"SearchPanelLayoutService"),e(vr,"default")}();var Sr=o(365),Or=u.G.extend({name:"SearchPanelLayout",view:Object(p.a)({Loader:function(){return Promise.all([o.e(0),o.e(1),o.e(27)]).then(o.bind(null,1267))}}),useCase:Kt.a,service:Cr,store:Sr.a}),kr=Or,Ir=kr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/index.js",localName:t}})}catch(e){}}e(Or,"SearchPanelLayout"),e(kr,"default")}();var wr=o(366),Pr=o(367),jr=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.U.get("configAgent"),o._i18n=u.U.get("i18n"),o._componentListStore=u.U.get("componentListStore"),o._componentFactory=u.U.get("componentFactory"),o._userId=o._configAgent.get("userInfo.userId"),o._searchDataManager=o._initializeSearchDataManager(),o._prevMomentItems=[],o._isCalledOnce=!1,o}h()(t,e);var o=t.prototype;return o.open=function(){this._store.reset(),this._store.open(),this.search(this._store.momentOption)},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this._store.close():this._store.open(),this._store.opened},o.reset=function(){this._store.reset()},o.resetAll=function(){this._store.resetAll()},o.update=function(){this._store.update()},o.append=function(){this._store.append()},o.updateErrorStatus=function(e){this._store.updateErrorStatus(e)},o.getMomentType=function(){return this._store.momentType},o.getMomentOption=function(){return this._store.momentOption},o._initializeSearchDataManager=function(){var e=this._configAgent.configMap.apiInfo;return new Vn({moment:{API:{SEARCH:e.fetchMoments},fetchCount:Pr.b,blogId:this._userId}})},o.getMomentItems=function(){return this._store.getMomentItems()},o.getCompData=function(e){return this._store.getItemByIndex(e).baseCompData},o.removeItemBy=function(e){this._store.removeItemByIndex(e)},o.getSyncUnitList=function(e){return this._store.getItemByIndex(e).syncUnitList},o.changeMomentOption=function(e){this.reset(),this._store.changeMomentOption(e),this.search(e)},o.search=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=this._store.momentType,e.next=4,this._searchDataManager.search("moment",t);case 4:n=e.sent,this._store.changeMomentOption(t),n&&o===this._store.momentType&&this._store.update(n),e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),this._store.isFetchNextPageError=!0,e.abrupt("return",this._showErrorMessage(e.t0));case 13:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),o.nextPage=function(){var e=Zt()(Xt.a.mark(function e(){var t,o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this._store.momentType,e.next=4,this._searchDataManager.nextPage();case 4:(o=e.sent)&&t===this._store.momentType&&this._store.append(o),e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),this._store.isFetchNextPageError=!0,e.abrupt("return",this._showErrorMessage(e.t0));case 12:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),o.itemDataToStore=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return o=e.sent,e.abrupt("return",this.createComponent(o));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.itemDataToCompData=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.createComponent=function(e){return this._componentFactory.createComponentWithCompData(e)},o.convertToCompData=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._searchDataManager.convertToCompData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.convertToDragItem=function(e){return this._searchDataManager.currentConverter.convertToDragItem(e)},o._showErrorMessage=function(e){if("abort"!==Object(J.a)(e,"message"))return new Error(this._i18n("momentPanelLayout:error_server_data_load"))},t}(u.f),Tr=jr,Lr=Tr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/moment-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(jr,"MomentPanelLayoutService"),e(Tr,"default")}();var Er=o(368),Nr=u.G.extend({name:"MomentPanelLayout",view:Object(p.a)({Loader:function(){return Promise.all([o.e(0),o.e(1),o.e(28)]).then(o.bind(null,1279))}}),useCase:wr.a,service:Lr,store:Er.a}),xr=Nr,Dr=xr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/moment-panel-layout/src/index.js",localName:t}})}catch(e){}}e(Nr,"MomentPanelLayout"),e(xr,"default")}();var Rr=o(369),Ar=o(371),Ur=o(189),Mr=o(464),Br=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.U.get("configAgent"),o._componentFactory=u.U.get("componentFactory"),o._dataProvider=o._initializeDataProvider(),o._dataConverter=new to,o._validPackCodeList=[],o}h()(t,e);var o=t.prototype;return o._initializeDataProvider=function(){var e=this._configAgent.get("apiInfo");return(this._configAgent.get("productConfig.stickerPanel")||{}).dataProvider||new kn({API:{INITIALIZE:e.fetchStickers}})},o.openRefreshPanel=function(e){this._pauseDocumentEdit(),this._store.openRefreshPanel(e)},o.closeRefreshPanel=function(){this._store.closeRefreshPanel(),this._unpauseDocumentEdit()},o.open=function(){this._store.open()},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this._store.close():this._store.open(),this._store.opened},o.updateErrorStatus=function(e){this._store.updateErrorStatus(e)},o.loadInitializeData=function(){var e=Zt()(Xt.a.mark(function e(){var t,o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._dataProvider.getCategories();case 2:return t=e.sent,o=Object(mo.a)(t.list),e.next=6,this.updateCategory(t);case 6:return this._updateValidPackCode(t.list),e.next=9,this.updateStickerPack(o);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.updateCategory=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=6;break}return e.next=3,this.loadInitializeData();case 3:return e.abrupt("return",e.sent);case 6:this._store.updateCategory(t);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.updateStickerPack=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._dataProvider.getStickerPack(t);case 2:o=e.sent,n=o.list.map(function(e){return{packCode:t.packCode,seq:e.seq,stickerInfo:e,animated:t.isAnimated}}),this._store.updateStickerPack({stickerPack:n,packCode:t.packCode});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.insertItem=function(e){var t=this._dataConverter.convert(e);return this.createComponent(t)},o.createComponent=function(e){return this._componentFactory.createComponentWithCompData(e)},o.updateUsedStickerPack=function(e){if(!0!==Object(st.a)(e)){var t=Object(io.a)(e,function(e){return e.packCode}),o=Object(Ur.a)(t,this._validPackCodeList);!1===Object(st.a)(o)&&Object(Mr.a)(e,function(e){return o.includes(e.packCode)}),this._store.updateUsedStickerPack(e)}else this._store.updateUsedStickerPack([])},o.getStickerCompData=function(e){return this._dataConverter.convert(e)},o.getUsedStickerList=function(e,t){var o=Object(Ue.a)(e,t);return o>-1&&e.splice(o,1),e.unshift(t),e},o._updateValidPackCode=function(e){this._validPackCodeList=Object(io.a)(e,function(e){return e.packCode})},t}(u.d),Fr=Br,zr=Fr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/sticker-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(Br,"StickerPanelLayoutService"),e(Fr,"default")}();var Wr=u.G.extend({name:"StickerPanelLayout",view:Object(p.a)({Loader:function(){return o.e(30).then(o.bind(null,1275))}}),useCase:Rr.a,store:Ar.a,service:zr}),Vr=Wr,Gr=Vr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/sticker-panel-layout/src/index.js",localName:t}})}catch(e){}}e(Wr,"StickerPanelLayout"),e(Vr,"default")}();var Hr=o(372),qr=o(158),Jr=o(176),Kr=["image","video","imageNode","imageGroup","imageStrip"],Yr=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.U.get("configAgent"),o._i18n=u.U.get("i18n"),o._componentListStore=u.U.get("componentListStore"),o._componentFactory=u.U.get("componentFactory"),o._searchDataManager=o._initializeSearchDataManager(),o._prevLibraryItems=[],o._isCalledOnce=!1,o}h()(t,e);var o=t.prototype;return o.open=function(){this._store.open(),this.search(this._store.orderOption)},o.openTab=function(e){this._store.open(),this._store.changeLibraryType(e),this.search(this._store.orderOption)},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this._store.close():this._store.open(),this._store.opened},o.reset=function(){this._store.reset()},o.update=function(){this._store.update()},o.append=function(){this._store.append()},o.getLibraryType=function(){return this._store.libraryType},o.getMediaItemsForLibrary=function(){return Object(qr.a)(this._componentListStore.compList,function(e,t){if(!0===t.isLibraryComponent()){var o=t.getLibraryItemData(),n=e.keys,r=e.items;Kr.includes(t.ctype)&&(Array.isArray(o)?o.forEach(function(e){n[e.data.id]=""+e.data.domain+e.data.path}):n[o.id]=o.key),o&&(Array.isArray(o)?o.forEach(function(e){r.push(e)}):r.push(o))}return e},{keys:{},items:[]})},o.updateMediaList=function(){var e=this.getMediaItemsForLibrary(),t=e.keys,o=e.items,n=Object(Jr.a)(o,function(e){return"string"==typeof e.key});this._store.updateMediaList(n,t)},o._initializeSearchDataManager=function(){var e=this._configAgent.configMap.apiInfo;return new Vn({"purchased-image":{API:{SEARCH:e.fetchPurchasedImages}}})},o.getLibraryItems=function(){return this._store.getLibraryItems()},o.getCompData=function(e){return this._store.getItemByIndex(e).baseCompData},o.removeItemBy=function(e){this._store.removeItemByIndex(e)},o.getSyncUnitList=function(e){return this._store.getItemByIndex(e).syncUnitList},o.changeLibraryType=function(e,t){this.reset(),this._store.changeLibraryType(e),this.search(t)},o.changeOrderOption=function(e){this.reset(),this._store.changeOrderOption(e),this.search(e)},o.search=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o=this._store.libraryType,e.next=4,this._searchDataManager.search("purchased-image",t);case 4:(n=e.sent)&&o===this._store.libraryType&&this._store.update(n),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",this._showErrorMessage(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(t){return e.apply(this,arguments)}}(),o.nextPage=function(){var e=Zt()(Xt.a.mark(function e(){var t,o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this._store.libraryType,e.next=4,this._searchDataManager.nextPage();case 4:(o=e.sent)&&t===this._store.libraryType&&this._store.append(o),e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",this._showErrorMessage(e.t0));case 11:case"end":return e.stop()}},e,this,[[0,8]])}));return function(){return e.apply(this,arguments)}}(),o.itemDataToStore=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return o=e.sent,e.abrupt("return",this.createComponent(o));case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.itemDataToCompData=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.convertToCompData(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.createComponent=function(e){return this._componentFactory.createComponentWithCompData(e)},o.convertToCompData=function(e){return this._searchDataManager.convertToCompData(e)},o._showErrorMessage=function(e){if("abort"!==Object(J.a)(e,"message"))return new Error(this._i18n("libraryPanelLayout:error_server_data_load"))},o._getAutoPopupMode=function(){return this._store.autoPopupMode},o._isActiveAutoPopup=function(){return this._getAutoPopupMode()===n.b.ACTIVE},o._isInActiveAutoPopup=function(){return this._getAutoPopupMode()===n.b.INACTIVE},o._isIncresedLibraryItems=function(){var e=this.getLibraryItems();return this._prevLibraryItems.length<e.length},o.isTimeToAutoPopup=function(e){if(void 0===e&&(e=!0),!1!==this._isCalledOnce)return!1;if(this._isActiveAutoPopup()){if(this._isIncresedLibraryItems())return this._isCalledOnce=!0,!0}else{if(this._isInActiveAutoPopup())return this._isCalledOnce=!0,!1;if(!e)return this._isCalledOnce=!0,!1;if(this._isIncresedLibraryItems())return this._isCalledOnce=!0,!0}return!1},t}(u.f),Xr=Yr,Qr=Xr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/library-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(Kr,"mediaType"),e(Yr,"LibraryPanelLayoutService"),e(Xr,"default")}();var Zr=o(373),$r=u.G.extend({name:"LibraryPanelLayout",view:Object(p.a)({Loader:function(){return Promise.all([o.e(0),o.e(1),o.e(31)]).then(o.bind(null,1276))}}),useCase:Hr.a,service:Qr,store:Zr.a}),ei=$r,ti=ei;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/library-panel-layout/src/index.js",localName:t}})}catch(e){}}e($r,"LibraryPanelLayout"),e(ei,"default")}();var oi=o(374),ni=function(e){function t(t){var o;(o=e.call(this,t)||this)._configAgent=u.U.get("configAgent"),o._i18n=u.U.get("i18n"),o._componentFactory=u.U.get("componentFactory"),o._userId=o._configAgent.get("userInfo.userId");var n=o._configAgent.get("apiInfo"),r=o._configAgent.get("productConfig.templatePanel.dataProvider");return o._templateDataProvider=new Tn({API:{GET_RECOMMEND_LIST:n.fetchRecommendedTemplates,GET_RECOMMEND:n.fetchRecommendedTemplate,GET_PART_TEMPLATE_LIST:n.fetchPartialTemplates,GET_MY_TEMPLATE_LIST:n.fetchMyTemplates,GET_MY_TEMPLATE:n.fetchMyTemplate,ADD_MY_TEMPLATE:n.addMyTemplate,DELETE_MY_TEMPLATE:n.deleteMyTemplate},dataProvider:r}),o}h()(t,e);var o=t.prototype;return o.open=function(){this._store.open()},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this._store.close():this._store.open(),this._store.opened},o.showLoadingIcon=function(){this._store.showLoadingIcon()},o.hideLoadingIcon=function(){this._store.hideLoadingIcon()},o.loadRecommendList=function(){var e=Zt()(Xt.a.mark(function e(){var t;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._store.initialize(),e.next=3,this._templateDataProvider.get(In.GET_RECOMMEND_LIST);case 3:t=e.sent,this._store.update(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.loadPartTemplateList=function(){var e=Zt()(Xt.a.mark(function e(){var t;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._store.initialize(),e.next=3,this._templateDataProvider.get(In.GET_PART_TEMPLATE_LIST);case 3:t=e.sent,this._store.update(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.update=function(e){this._store.update(e)},o.updateErrorStatus=function(e){this._store.updateErrorStatus(e)},o.getPartTemplateComponentList=function(e){var t=this;if(e.length)return e.map(function(e){return t._componentFactory.createComponentWithCompData(e)})},o.applyMyTemplate=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={userId:this._userId,templateNo:t},e.next=3,this._templateDataProvider.get(In.GET_MY_TEMPLATE,o);case 3:if(n=e.sent,!(r=Object(J.a)(n,"documentModel"))){e.next=7;break}return e.abrupt("return",JSON.parse(r));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.applyRecommendTemplate=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={templateNo:t},e.next=3,this._templateDataProvider.get(In.GET_RECOMMEND,o);case 3:if(n=e.sent,!(r=Object(J.a)(n,"documentModel"))){e.next=7;break}return e.abrupt("return",JSON.parse(r));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.loadMyTemplateList=function(){var e=Zt()(Xt.a.mark(function e(){var t,o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._store.initialize(),t={userId:this._userId},e.next=4,this._templateDataProvider.get(In.GET_MY_TEMPLATE_LIST,t);case 4:o=e.sent,this._store.update(o);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.addMyTemplate=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={userId:this._userId,documentModel:JSON.stringify(t)},e.next=3,this._templateDataProvider.post(In.ADD_MY_TEMPLATE,o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.deleteMyTemplate=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={userId:this._userId,templateNo:t},e.next=3,this._templateDataProvider.delete(In.DELETE_MY_TEMPLATE,o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.getPartTemplateData=function(e){var t=this._store.getItemById(e),o=Object(J.a)(t,"documentModel");if(o)return JSON.parse(o).document.components},o.changeTemplateType=function(e){this._store.reset(),this._store.changeTemplateType(e)},t}(u.f),ri=ni,ii=ri;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/template-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(ni,"TemplatePanelLayoutService"),e(ri,"default")}();var ai,si,ci=o(375),li=u.G.extend({name:"TemplatePanelLayout",view:Object(p.a)({Loader:function(){return o.e(32).then(o.bind(null,1272))}}),useCase:oi.a,service:ii,store:ci.a}),ui=li,pi=ui;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/template-panel-layout/src/index.js",localName:t}})}catch(e){}}e(li,"TemplatePanelLayout"),e(ui,"default")}();var di=(ai=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"viewMode",si,G()(o));var n=t.state,r=void 0===n?{}:n,i=u.U.get("configAgent");return o.useHelp=i.get("productConfig.help")||!1,o.usePreview=!1!==i.get("productConfig.preview"),o.viewMode=Object(J.a)(r,"viewMode",o.viewMode),o}h()(t,e);var o=t.prototype;return o.changeToNextViewMode=function(){this.changeViewMode(this.nextViewMode)},o.changeViewMode=function(e){this.viewMode=e},at()(t,[{key:"nextViewMode",get:function(){return this.viewMode===u.S.VIEW_MODE_PC?u.S.VIEW_MODE_MOBILE:this.viewMode===u.S.VIEW_MODE_MOBILE?u.S.VIEW_MODE_TABLET:this.viewMode===u.S.VIEW_MODE_TABLET?u.S.VIEW_MODE_PC:this.viewMode}},{key:"viewMode",get:function(){return this.viewMode}}]),t}(u.w),si=q()(ai.prototype,"viewMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.S.VIEW_MODE_PC}}),q()(ai.prototype,"nextViewMode",[K.e],Object.getOwnPropertyDescriptor(ai.prototype,"nextViewMode"),ai.prototype),ai),hi=di,fi=hi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/store/index.js",localName:t}})}catch(e){}}e(di,"ViewModeLayoutStore"),e(hi,"default")}();var mi,gi,yi=o(692),bi=(mi=function(e){function t(){var t;return(t=e.call(this)||this)._viewModeLayoutService=u.U.get("viewModeLayoutService"),t._headerLayoutService=u.U.get("headerLayoutService"),t._documentToolbarLayoutService=u.U.get("documentToolbarLayoutService"),t._propertyToolbarLayoutService=u.U.get("propertyToolbarLayoutService"),t._canvasLayoutService=u.U.get("canvasLayoutService"),t._helpPanelLayoutService=u.U.get("helpPanelLayoutService")||{togglePanel:function(){}},t._panelContainerLayerService=u.U.get("panelContainerLayerService"),t._virtualEditable=u.U.get("virtualEditable"),t._contentsToolbarLayoutService=u.U.get("contentsToolbarLayoutService"),t._canvasScrollingServie=u.U.get("canvasScrollingService"),t}h()(t,e);var o=t.prototype;return o.changeViewMode=function(){var e=this,t=this._viewModeLayoutService.changeViewMode();this._headerLayoutService.changeViewMode(t),this._documentToolbarLayoutService.resetDisplayButtonSet(),this._propertyToolbarLayoutService.resetDisplayButtonSet(),this._canvasLayoutService.changeViewMode(t),setTimeout(function(){if(e._contentsToolbarLayoutService){var t=e._virtualEditable.getClientRects();e._contentsToolbarLayoutService.updateContentsToolbarPosition({clientRects:t})}e._canvasScrollingServie.scrollToFocus(!0)},300)},o.openHelpPanel=function(){this._helpPanelLayoutService.togglePanel(),this._panelContainerLayerService.closePanel()},t}(u.m),q()(mi.prototype,"changeViewMode",[ee.history,K.d],Object.getOwnPropertyDescriptor(mi.prototype,"changeViewMode"),mi.prototype),mi),_i=bi,vi=_i;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(bi,"ViewModeLayoutUseCase"),e(_i,"default")}();var Ci=(gi=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.store,t=e.viewMode;if(!e.usePreview)return null;var o=this._getViewModeData(t),n=o.className,r=o.buttonText,i="flbbtn."+o.logId;return K.b.createElement("li",{className:"se-utils-item"},K.b.createElement("button",{type:"button",className:n,"data-log":i,onClick:this._handleClickViewMode},K.b.createElement("span",{className:"se-utils-text"},r)))},o._getViewModeData=function(e){switch(e){case u.S.VIEW_MODE_MOBILE:return{className:"se-util-button __mode-button se-util-button-device-mobile",buttonText:this.props.i18n("viewModeLayout:mobile_view"),logId:"vtablet"};case u.S.VIEW_MODE_TABLET:return{className:"se-util-button __mode-button se-util-button-device-tablet",buttonText:this.props.i18n("viewModeLayout:tablet_view"),logId:"vdesktop"};default:return{className:"se-util-button __mode-button se-util-button-device-desktop",buttonText:this.props.i18n("viewModeLayout:pc_view"),logId:"vmobile"}}},o._handleClickViewMode=function(e){this.props.useCase.changeViewMode(),zt.a.log(e.nativeEvent)},t}(K.b.Component),q()(gi.prototype,"_handleClickViewMode",[ee.autobind],Object.getOwnPropertyDescriptor(gi.prototype,"_handleClickViewMode"),gi.prototype),gi);Ci.defaultProps={i18n:function(e){return e}},Ci.propTypes={i18n:K.a.func,useCase:K.a.instanceOf(vi).isRequired,store:K.a.instanceOf(fi).isRequired};var Si,Oi=Object(Z.b)(Ci),ki=Oi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/view/preview-button.jsx",localName:t}})}catch(e){}}e(Ci,"PreviewButton"),e(Oi,"default")}();var Ii=(Si=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.useHelp;return!1===n?null:K.b.createElement("li",{className:"se-utils-item"},K.b.createElement("a",{href:!0===n?"#":n,target:"_blank",className:"se-util-button se-util-button-guide","data-log":"flbbtn.help",onClick:this._handleClickHelp},K.b.createElement("span",{className:"se-utils-text"},o("viewModeLayout:help"))))},o._handleClickHelp=function(e){!0===this.props.store.useHelp&&(this.props.useCase.openHelpPanel(),e.preventDefault()),zt.a.log(e.nativeEvent)},t}(K.b.Component),q()(Si.prototype,"_handleClickHelp",[ee.autobind],Object.getOwnPropertyDescriptor(Si.prototype,"_handleClickHelp"),Si.prototype),Si);Ii.defaultProps={i18n:function(e){return e}},Ii.propTypes={i18n:K.a.func,useCase:K.a.instanceOf(vi).isRequired,store:K.a.instanceOf(fi).isRequired};var wi=Object(Z.b)(Ii),Pi=wi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/view/help-button.jsx",localName:t}})}catch(e){}}e(Ii,"HelpButton"),e(wi,"default")}();var ji=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.render=function(){return K.b.createElement(yi.TransitionGroup,null,K.b.createElement(yi.CSSTransition,{classNames:{appear:"se-utils-interaction-enter",appearActive:"se-utils-interaction-enter-active"},timeout:300,appear:!0},K.b.createElement("div",{className:"se-utils"},K.b.createElement("ul",{className:"se-ultils-list"},K.b.createElement(ki,this.props),K.b.createElement(Pi,this.props)))))},t}(K.b.Component);ji.propTypes={store:K.a.instanceOf(fi).isRequired};var Ti=Object(Z.b)(ji),Li=Ti;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(ji,"ViewModeLayoutView"),e(Ti,"default")}();var Ei=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.getViewMode=function(){return this._store.viewMode},o.changeViewMode=function(){return this._store.changeToNextViewMode(),this._store.viewMode},t}(u.f);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/service/index.js",localName:t}})}catch(e){}}(Ei,"ViewModeLayoutService")}();var Ni,xi,Di=u.G.extend({name:"ViewModeLayout",view:Li,useCase:vi,service:Ei,store:fi}),Ri=Di,Ai=Ri;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/view-mode-layout/src/index.js",localName:t}})}catch(e){}}e(Di,"ViewModeLayout"),e(Ri,"default")}();var Ui=(Ni=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"visibility",xi,G()(o));var n=t.state,r=void 0===n?{}:n;return o.visibility=Object(J.a)(r,"visibility",o.visibility),o}h()(t,e);var o=t.prototype;return o.toggle=function(e){this.visibility="boolean"==typeof e?e:!this.visibility},o.show=function(){this.visibility=!0},o.hide=function(){this.visibility=!1},t}(u.w),xi=q()(Ni.prototype,"visibility",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ni),Mi=Ui,Bi=Mi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/loading-progress-layout/src/store/index.js",localName:t}})}catch(e){}}e(Ui,"LoadingProgressLayoutStore"),e(Mi,"default")}();var Fi=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.m),zi=Fi,Wi=zi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/loading-progress-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(Fi,"LoadingProgressLayoutUseCase"),e(zi,"default")}();var Vi=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){return K.b.createElement("div",{className:this._isShow()},K.b.createElement("span",{className:"se-blind"},this.props.i18n("loadingProgressLayout:loading"),"."))},o._isShow=function(){var e={"se-progressbar":!0};return!0===this.props.store.visibility&&(e["se-is-on"]=!0),et()(e)},t}(K.b.Component);Vi.defaultProps={children:null,i18n:function(e){return e}},Vi.propTypes={children:K.a.oneOfType([K.a.arrayOf(K.a.element),K.a.element]),i18n:K.a.func,store:K.a.instanceOf(Bi).isRequired,useCase:K.a.instanceOf(Wi).isRequired};var Gi=Object(Z.b)(Vi),Hi=Gi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/loading-progress-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(Vi,"LoadingProgressLayoutView"),e(Gi,"default")}();var qi=function(e){function t(t){var o;return(o=e.call(this)||this)._store=t,o}h()(t,e);var o=t.prototype;return o.show=function(){this._store.show()},o.hide=function(){this._store.hide()},t}(u.f);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/loading-progress-layout/src/service/index.js",localName:t}})}catch(e){}}(qi,"LoadingProgressLayoutService")}();var Ji=u.G.extend({name:"LoadingProgressLayout",view:Hi,service:qi,store:Bi,useCase:Wi}),Ki=Ji,Yi=Ki;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/loading-progress-layout/src/index.js",localName:t}})}catch(e){}}e(Ji,"LoadingProgressLayout"),e(Ki,"default")}();var Xi=o(376),Qi=o(671),Zi=o(526),$i=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.readCopiedUrl=function(){var e=Zt()(Xt.a.mark(function e(){var t,o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Qi.a.isReadPermissionUnknown()){e.next=2;break}return e.abrupt("return","");case 2:return e.prev=2,e.next=5,Qi.a.readText();case 5:if(t=e.sent,o=Zi.a.prependProtocol(t),!Zi.a.isValidURL(o)){e.next=9;break}return e.abrupt("return",t);case 9:return e.abrupt("return","");case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return","");case 15:case"end":return e.stop()}},e,null,[[2,12]])}));return function(){return e.apply(this,arguments)}}(),o.open=function(){var e=Zt()(Xt.a.mark(function e(){var t;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.readCopiedUrl();case 2:t=e.sent,this._pauseDocumentEdit(),this._store.open(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.updatePreview=function(e){this._store.updatePreview(e)},o.setLoading=function(e){this._store.setLoading(e)},o.changeToTextLayout=function(){this._store.changeToTextLayout()},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},o.reset=function(){this._store.reset()},t}(u.d),ea=$i,ta=ea;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/link-layer/src/service/index.js",localName:t}})}catch(e){}}e($i,"LinkLayerService"),e(ea,"default")}();var oa=o(264),na=u.F.extend({name:"LinkLayer",view:Object(p.a)({Loader:function(){return o.e(33).then(o.bind(null,1285))}}),useCase:Xi.a,service:ta,store:oa.a}),ra=na,ia=ra;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/link-layer/src/index.js",localName:t}})}catch(e){}}e(na,"LinkLayer"),e(ra,"default")}();var aa=o(377),sa={width:"920",height:"610",scrollbars:"yes",resizable:"yes",status:"yes"},ca=function(){function e(e,t,o){void 0===o&&(o="real"),this._baseUrl=this._getBaseUrl(o),this.resetPopupOptions(e,t)}var t=e.prototype;return t.resetPopupOptions=function(e,t){void 0===t&&(t={}),this.close(),this._popupTitle="se_"+(e||"popup"),this._popupOptions=rt()({},sa,t)},t._getBaseUrl=function(e){throw new Error("Implement '_getBaseUrl(buildPhase="+e+")' method")},t._getPopupUrl=function(e){void 0===e&&(e={});var t=Object.keys(e).map(function(t){return t+"="+e[t]}).join("&");return this._baseUrl+"?"+t},t._filterData=function(e){return e},t.open=function(e){var t=this;return void 0===e&&(e={}),new Promise(function(o){var n=t._getPopupUrl(e);t._handleMessageData=function(e){var n=t._filterData(e);n&&(t.close(),o(n))},t._openPopup(n)})},t._openPopup=function(e){if(this._popupWindow&&!this._popupWindow.closed)this._popupWindow.focus();else{var t=this._getPopupOption();this._addMessageListener(e),yr.a.IS_IE?(this._popupWindow=window.open(location.href,this._popupTitle,t),this._popupWindow.location.href=e):this._popupWindow=window.open(e,this._popupTitle,t)}},t._getPopupOption=function(){var e=this,t=this._popupOptions,o=t.width,n=t.height;return"left="+(screen.availWidth-o)/2+",top="+(screen.availHeight-n)/2+","+Object.keys(this._popupOptions).map(function(t){return t+"="+e._popupOptions[t]}).join(",")},t.close=function(){this._removeMessageListener(),this._popupWindow&&this._popupWindow.close(),this._popupWindow=null},t._removeMessageListener=function(){this._receiveMessage&&window.removeEventListener("message",this._receiveMessage,!1),this._receiveMessage=null},t._addMessageListener=function(e){var t=this;this._removeMessageListener();var o=(0===e.indexOf("//")?location.protocol+e:e).match(/https?:\/\/[^/]*/i),n=o&&o[0]||location.origin;this._receiveMessage=function(e){e.origin===n&&e.source===t._popupWindow&&t._handleMessageData&&t._handleMessageData(e.data)},window.addEventListener("message",this._receiveMessage,!1)},e}();!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/abstract/abstract-popup-window.js",localName:t}})}catch(e){}}e("se_","TITLE_PREFIX"),e(sa,"DEFAULT_POPUP_OPTIONS"),e(ca,"AbstractPopupWindow")}();var la={dev:"alpha.",qa:"stage.",stage:"stage.",real:""};function ua(e){var t=la[e];return"string"==typeof t?t:la.stage}var pa=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o._getBaseUrl=function(e){return"https://"+ua(e)+"mybox.naver.com/mini"},o._getPopupUrl=function(t){return void 0===t&&(t={}),e.prototype._getPopupUrl.call(this,t)+"&type=popup&postMessage=true"},o._filterData=function(e){if(e){var t=e.type,o=e.args;if("submit"===t){var n=(void 0===o?{}:o).files;return void 0===n?[]:n}}},t}(ca),da=null,ha={getInstance:function(e,t){return void 0===e&&(e="mybox-popup"),void 0===t&&(t={}),da?da.resetPopupOptions(e,t):da=new pa(e,t),da},destroy:function(){da&&da.close(),da=null}},fa=ha;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/naver-mybox-popup/index.js",localName:t}})}catch(e){}}e("mybox.naver.com","MYBOX_DOMAIN"),e(la,"MYBOX_DOMAIN_PHASE_MAP"),e(ua,"getMyboxPhasePrefix"),e(pa,"NaverMyboxPopup"),e(da,"instance"),e(ha,"naverMyboxPopup"),e(fa,"default")}();var ma={dev:"test.",qa:"test.",stage:"ecommerce.",real:"ecommerce."};function ga(e){var t=ma[e];return"string"==typeof t?t:ma.stage}var ya=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o._getBaseUrl=function(e){var t=ga(e);return location.protocol+"//"+t+"upphoto.naver.com/sns/view"},o._getPopupUrl=function(t){void 0===t&&(t={});var o=t,n=o.type,r=o.maxCount,i=void 0===r?50:r;return e.prototype._getPopupUrl.call(this,{postMessage:!0,maxFileCount:i})+"#"+n+"/origin="+encodeURIComponent(location.origin)+"&msgToken="+(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]},o._filterData=function(e){if(e){var t=JSON.parse(e),o=t.func,n=t.imageUrls;return"addImageUrls"===o?void 0===n?[]:n:void 0}},t}(ca),ba=null,_a={getInstance:function(e,t){return void 0===e&&(e="upphoto-sns-popup"),void 0===t&&(t={}),ba?ba.resetPopupOptions(e,t):ba=new ya(e,t),ba},destroy:function(){ba&&ba.close(),ba=null}},va=_a;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/naver-upphoto-sns-popup/index.js",localName:t}})}catch(e){}}e("upphoto.naver.com","UPPHOTO_DOMAIN"),e(ma,"UPPHOTO_DOMAIN_PHASE_MAP"),e(ga,"getUpphotoPhasePrefix"),e(ya,"NaverUpphotoSnsPopup"),e(ba,"instance"),e(_a,"naverUpphotoSnsPopup"),e(va,"default")}();var Ca=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._pauseDocumentEdit(),this._store.openCloudSnsPopup()},o.openCloudSNSWindowPopup=function(e){var t=this;return void 0===e&&(e={}),this._store.opened||this.open(),new Promise(function(o){t._resolve=t._resolve||o,t._option=rt()({},t._option,e);var n=t._option.type;t._openPopup(n)})},o.close=function(){this._destroyPopup(),this._store.closeCloudSnsPopup(),this._unpauseDocumentEdit(),this._resolve=null,this._option=null},o._openPopup=function(e){"ncloud"===e?this._openMyboxPopup():e&&this._openUpphotoSnsPopup()},o._getMaxCount=function(){return this._option.maxCount||u.U.get("configAgent").get("editorInfo.cloudMaxImageCount")},o._openMyboxPopup=function(){var e=this,t=this._getMaxCount();this._popup=ha.getInstance("mybox-photo"),this._popup.open({mode:"photo",maxCount:t}).then(function(t){e._resolve(t.map(function(e){return e.downloadUrl})),e.close()})},o._openUpphotoSnsPopup=function(){var e=this,t=this._option.type,o=this._getMaxCount();this._popup=_a.getInstance("upphoto-sns-popup"),this._popup.open({type:t,maxCount:o}).then(function(t){e._resolve(t.map(function(e){return decodeURIComponent(e)})),e.close()})},o._destroyPopup=function(){this._popup&&this._popup.close(),this._popup=null},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/cloud-sns-layer/src/service/index.js",localName:t}})}catch(e){}}(Ca,"CloudSnsLayerService")}();var Sa=o(379),Oa=u.F.extend({name:"CloudSnsLayer",view:Object(p.a)({Loader:function(){return o.e(34).then(o.bind(null,1240))}}),useCase:aa.a,service:Ca,store:Sa.a}),ka=Oa,Ia=ka;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/cloud-sns-layer/src/index.js",localName:t}})}catch(e){}}e(Oa,"CloudSnsLayer"),e(ka,"default")}();var wa=o(149),Pa=o(95),ja=function(e){function t(t){var o;return(o=e.call(this,t)||this)._i18n=u.U.get("i18n"),o._componentFactory=u.U.get("componentFactory"),o._componentListStore=u.U.get("componentListStore"),o._canvasScrollingService=u.U.get("canvasScrollingService"),o}h()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit();var t=this._refineToLayerData(e),o=this._i18n("chatLayer:name_placeholder");this._isUpdateMode=t&&!!t.compId,this._store.open(rt()({},t,{baseName:o})),this._canvasScrollingService.hideWindowScroll()},o.close=function(){this._store.close(),this._store.reset(),this._unpauseDocumentEdit(),this._canvasScrollingService.restoreWindowScroll()},o.isUpdateMode=function(){return this._isUpdateMode},o.addMessage=function(){this._store.addMessage()},o.addWriter=function(){this._store.addWriter()},o.toggleDragging=function(e){this._store.toggleDragging(e)},o.editMessage=function(e){this._store.editMessage(e)},o.editWriter=function(e){this._store.editWriter(e)},o.deleteWriter=function(e){this._store.deleteWriter(e)},o.completeMessageEditing=function(){this._store.completeMessageEditing()},o.completeWriterEditing=function(e,t){this._store.completeWriterEditing(e,t)},o.deleteMessage=function(e){this._store.deleteMessage(e)},o.changeOrder=function(e,t){this._store.changeOrder(e,t)},o.changeEditingText=function(e){this._store.changeEditingText(e)},o.selectWriter=function(e){this._store.selectWriter(e)},o.completeWritersEditing=function(){this._store.completeWritersEditing()},o.showWriterPopup=function(){this._store.showWriterPopup()},o.hideWriterPopup=function(){this._store.hideWriterPopup()},o.refineToCompData=function(e){var t=e.messages,o=e.writers,n=e.compId,r=o.map(function(e){return e.name});return{messages:t.map(function(e){return{ctype:"message",text:e.text,name:e.name,owner:e.owner}}),writers:r,compId:n}},o._refineToLayerData=function(e){var t=e.messages,o=void 0===t?[]:t,n=e.writers,r=void 0===n?[]:n,i=e.compId,a=void 0===i?null:i,s=r.map(function(e){return{name:e,key:u.Z.generate(),editing:!1}});return{messages:o.map(function(e){var t=Object(Pa.a)(s,function(t){return t.name===e.name}).key,o=e.text,n=e.owner,r=e.name;return{key:u.Z.generate(),text:o,owner:n,name:r,writer:t,dragging:!1,editing:!1}}),writers:s,compId:a}},t}(u.d),Ta=ja,La=Ta;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/chat-layer/src/service/index.js",localName:t}})}catch(e){}}e(ja,"ChatLayerService"),e(Ta,"default")}();var Ea=o(215),Na=u.F.extend({name:"ChatLayer",view:Object(p.a)({Loader:function(){return o.e(29).then(o.bind(null,1268))}}),useCase:wa.a,service:La,store:Ea.a}),xa=Na,Da=xa;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/chat-layer/src/index.js",localName:t}})}catch(e){}}e(Na,"ChatLayer"),e(xa,"default")}();var Ra=o(773),Aa=o(381),Ua=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit(),this._store.openImageDetailLayer(e)},o.close=function(){this._store.closeImageDetailLayer(),this._unpauseDocumentEdit()},o.openLoadingLayer=function(){this._store.openLoadingLayer()},o.closeLoadingLayer=function(){this._store.closeLoadingLayer()},t}(u.d),Ma=Ua,Ba=Ma;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-detail-layer/src/service/index.js",localName:t}})}catch(e){}}e(Ua,"ImageDetailLayerService"),e(Ma,"default")}();var Fa=o(380),za=u.G.extend({name:"ImageDetailLayer",view:Object(p.a)({Loader:function(){return o.e(35).then(o.bind(null,1241))}}),useCase:Fa.a,service:Ba,store:Aa.a}),Wa=za,Va=Wa;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-detail-layer/src/index.js",localName:t}})}catch(e){}}e(za,"ImageDetailLayer"),e(Wa,"default")}();var Ga=o(406),Ha=o(405),qa=o(17),Ja=o.n(qa),Ka=o(278),Ya=o(1211),Xa=o(1212),Qa=o(269),Za=function(){function e(e){this._config=e,this.reset()}var t=e.prototype;return t.reset=function(){this._pageBucketHash={},this._pageBucketSize=0},t.getAt=function(e){return this._pageBucketHash[e]},t.setAt=function(e,t){this._pageBucketSize+=t.length,this._pageBucketHash[e]=t.slice(0)},t.isLacking=function(e,t){return!this._pageBucketHash[t+1]&&e.length<=this._config.maxItemsPerPage},t.count=function(){return this._pageBucketSize},t.append=function(e){var t=Math.max(Math.ceil(this._pageBucketSize/this._config.maxItemsPerPage),1),o=this._pageBucketHash[t];this._pageBucketSize+=e.length,o?this._appendPage(e,t,o):this._createPage(e,t)},t._createPage=function(e,t){var o=this._config.maxItemsPerPage,n=e.splice(0,o);this._pageBucketHash[t]=n.slice(0);var r=e.length;0!==r&&(r>o?this._createPage(e,t+1):this._pageBucketHash[t+1]=e.slice(0))},t._appendPage=function(e,t,o){var n=this._config.maxItemsPerPage,r=o.length;if(r===n)this._createPage(e,t+1);else{var i=e.splice(0,n-r);this._pageBucketHash[t]=[].concat(this._pageBucketHash[t],i),this._createPage(e,t+1)}},e}(),$a=Za;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-nextpage-pool/index.js",localName:t}})}catch(e){}}e(Za,"PlaceNextPagePool"),e($a,"default")}();var es=function(){function e(e){this._config=e,this._i18n=u.U.get("i18n"),this._language=this._i18n.language(),this._api=null,this._nextPagePool=new Za({maxItemsPerPage:e.maxItemsPerPage}),this._initialize()}var t=e.prototype;return t.abort=function(){Ao.a.abort()},t.search=function(e){if(!e)return this._makeErrorResult("INVALID_REQUEST");var t=this._generateSearchParams(e);return this._api=this._config.api.search,this._request({params:t,isFirstSearch:!0})},t.nearby=function(e,t){var o=this._generateNearByParams(e,t);return this._api=this._config.api.nearby,this._request({params:o,isFirstSearch:!0})},t.nextpage=function(e){return this._nextpage(e)},t._generateSearchParams=function(){throw new Error("[ERROR] 검색 API 요청 파라미터를 처리하는 메서드가 없습니다.")},t._generateNearByParams=function(){throw new Error("[ERROR] 주변 검색 API 요청 파라미터를 처리하는 메서드가 없습니다.")},t._doAfterResponse=function(){throw new Error("[ERROR] API 요청 응답을 처리하는 메서드가 없습니다.")},t._nextpage=function(){throw new Error("[ERROR] 다음 페이지를 처리하는 메서드가 없습니다.")},t._request=function(e){var t=this,o=e.isFirstSearch,n=e.page,r=void 0===n?1:n,i=e.params;return o&&this._initialize(),Ao.a.get(this._api,{params:i,options:{useAbort:!0},success:function(e){return t._doAfterResponse(e,r)},error:function(e){throw e}})},t._initialize=function(){this._nextPagePool.reset(),this._itemCount=0},t._refineItem=function(e){var t=e.name,o=e.address,n=e.placeId,r=e.latlng,i=e.isDomestic,a=e.bookingUrl,s=void 0===a?"":a,c=e.tel,l=void 0===c?"":c;return{ctype:"place",latlng:rt()({ctype:"position"},r),address:o,placeId:n,name:t,bookingUrl:s,tel:l,__isDomestic:i}},t._makeSuccessResult=function(e,t){return{items:this._nextPagePool.getAt(e),pagination:{itemCount:this._itemCount,currentPage:e,hasNextPage:t}}},t._makeErrorResult=function(e){return{items:[],status:e}},e}(),ts=es,os=ts;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/abstract-search-provider.js",localName:t}})}catch(e){}}e(es,"AbstractSearchProvider"),e(ts,"default")}();var ns=function(e){function t(t){var o;return(o=e.call(this,t)||this)._params=null,o}h()(t,e);var o=t.prototype;return o._generateSearchParams=function(e){return this._params={query:e,siteSort:0,displayCount:this._config.maxItemsPerPage,page:1},this._params},o._generateNearByParams=function(e,t){var o=e.latitude,n=e.longitude;return this._params={siteSort:0,displayCount:this._config.maxItemsPerPage,page:1,radius:4e3,longitude:n,latitude:o},t&&(this._params.query=t,delete this._params.radius),this._params},o._nextpage=function(e){return this._nextPagePool.getAt(e)?this._makeSuccessResult(e):(this._params.page=e,this._request({isFirstSearch:!1,params:this._params,page:e}))},o._doAfterResponse=function(e,t){var o=this,n=Object(J.a)(e,"result.place");if(n){var r=n.list||[];if(0===r.length)return this._makeErrorResult("ZERO_RESULTS");var i=r.map(function(e){var t=o._refineItem({name:e.name,address:e.roadAddress||e.address||e.abbrAddress||"",placeId:e.id,latlng:{latitude:parseFloat(e.y),longitude:parseFloat(e.x)},bookingUrl:e.naverBookingUrl,tel:e.virtualTel||e.tel,isDomestic:!0});return t.searchType=e.type,t});return this._nextPagePool.setAt(t,i),this._itemCount=Math.min(parseInt(n.totalCount),2e3),this._makeSuccessResult(t,this._nextPagePool.count()<this._itemCount)}return this._makeErrorResult("ZERO_RESULTS")},t}(os),rs=ns;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/naver-search-provider.js",localName:t}})}catch(e){}}e(2e3,"MAX_SEARCH_RESULT"),e(ns,"NaverSearchProvider"),e(rs,"default")}();var is={"ko-KR":"ko","en-US":"en","zh-TW":"zh-TW","zh-CN":"zh-CN","es-ES":"es","id-ID":"id","ja-JP":"ja","vi-VN":"vi"},as=function(){function e(e){this._config=e,this._i18n=u.U.get("i18n"),this._language=this._i18n.language()}var t=e.prototype;return t.geocode=function(e){var t=this,o={language:is[this._language]};if("string"==typeof e)o.place_id=e;else{var n=e.latitude,r=e.longitude;o.latitude=n,o.longitude=r}return Ao.a.get(this._config.api,{params:o,success:function(o){return t._doAfterResponse(o,e)},error:function(e){throw e}})},t._doAfterResponse=function(){throw new Error("[ERROR] API 요청 응답을 처리하는 메서드가 없습니다.")},t._makeSuccessResult=function(e){var t=e.address,o=e.placeId,n=e.latlng,r=e.isDomestic;return{ctype:"place",latlng:rt()({ctype:"position"},n),name:t,address:t,placeId:o,__isDomestic:r}},t._makeErrorResult=function(){return null},e}(),ss=as,cs=ss;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/abstract-geocode-provider.js",localName:t}})}catch(e){}}e(is,"LANGUAGE_TO_GOOGLE_LANGUAGE_MAP"),e(as,"AbstractGeocodeProvider"),e(ss,"default")}();var ls=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype._doAfterResponse=function(e,t){if(Object(st.a)(e))return this._makeErrorResult();var o=e[0];return Object(st.a)(o)?this._makeErrorResult():this._makeSuccessResult({address:o.formattedAddress,placeId:"",latlng:t,isDomestic:!0})},t}(cs),us=ls;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/naver-geocode-provider.js",localName:t}})}catch(e){}}e(ls,"NaverGeocodeProvider"),e(us,"default")}();var ps=function(){function e(e){this._config=e,this._i18n=u.U.get("i18n"),this._language=this._i18n.language()}var t=e.prototype;return t.staticmap=function(e){return Ao.a.get(this._config.api,{params:this._generateParams(e),success:function(e){return e.url||e.staticMapUrl},error:function(){return null}})},t._generateParams=function(e){var t=e.markers,o=e.center,n=e.zoom,r=this._config.iconUrls,i=t.map(function(e){var t=Object(J.a)(e,"latlng");return(t?t.latitude:e.latitude)+","+(t?t.longitude:e.longitude)}),a=this._generateBaseParams();if(a.markers=i,r){var s=t.length;1===s&&(a.iconUrls=r["image-marker-x1"]),s>1&&(a.iconUrls=i.map(function(e,t){return r["image-place"+(t+1)+"-x1"]}))}return o&&(a.center=o.latitude+","+o.longitude),n&&(a.zoom=n),a},t._generateBaseParams=function(){throw new Error("[ERROR] 스태틱 맵 API 요청 파라미터를 처리하는 메서드가 없습니다.")},e}(),ds=ps,hs=ds;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/abstract-static-map-provider.js",localName:t}})}catch(e){}}e(ps,"AbstractStaticMapProvider"),e(ds,"default")}();var fs=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype._generateBaseParams=function(){var e=this._config.size;return{width:e.width,height:e.height}},t}(hs),ms=fs;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/naver-static-map-provider.js",localName:t}})}catch(e){}}e(fs,"NaverStaticMapProvider"),e(ms,"default")}();var gs=o(69),ys=function(){function e(e){this._config=e,this._i18n=u.U.get("i18n"),this._language=this._i18n.language()}var t=e.prototype;return t.autocomplete=function(e){var t=this;if(!e)return this._makeErrorResult();var o=this._generateParams(e);return Ao.a.get(this._config.api,{params:o,success:function(e){return t._doAfterResponse(e)},error:function(){return t._makeErrorResult()}})},t._generateParams=function(){throw new Error("[ERROR] API 요청 파라미터를 처리하는 메서드가 없습니다.")},t._doAfterResponse=function(){throw new Error("[ERROR] API 요청 응답을 처리하는 메서드가 없습니다.")},t._makeSuccessResult=function(e){return{suggestions:e}},t._makeErrorResult=function(){return{suggestions:[]}},e}(),bs=ys,_s=bs;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/abstract-autocomplete-provider.js",localName:t}})}catch(e){}}e(ys,"AbstractAutocompleteProvider"),e(bs,"default")}();var vs={query:[],items:[[],[],[],[]]},Cs=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o._generateParams=function(e){return{query:e}},o._doAfterResponse=function(e){var t=Object(gs.a)({},vs,e),o=this._getNaverACPlaceData(t);return this._makeSuccessResult(o)},o._getNaverACPlaceData=function(e){var t=[],o=[];return e.items[0].length>0?t=e.items[0]:e.items[2].length>0&&(t=e.items[2]),t.forEach(function(e){e.forEach(function(e){o.push({description:e,placeId:null})})}),o},t}(_s),Ss=Cs;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/naver-autocomplete-provider.js",localName:t}})}catch(e){}}e(vs,"DEFAULT_AC_DATA"),e(Cs,"NaverAutocompleteProvider"),e(Ss,"default")}();var Os={"ko-KR":"ko","en-US":"en","zh-TW":"zh-TW","zh-CN":"zh-CN","es-ES":"es","id-ID":"id","ja-JP":"ja","vi-VN":"vi"},ks=function(e){function t(t){var o;return(o=e.call(this,t)||this)._nextPageToken=null,o}h()(t,e);var o=t.prototype;return o._generateSearchParams=function(e){return{query:e,language:Os[this._language]}},o._generateNearByParams=function(e,t){var o={location:e.latitude+","+e.longitude,language:Os[this._language],radius:5e4};return t&&(o.keyword=t),o},o._nextpage=function(e){var t=this._nextPagePool.getAt(e);return t?this._nextPageToken&&this._nextPagePool.isLacking(t,e)?this._request({isFirstSearch:!1,params:{pagetoken:this._nextPageToken},page:e}):this._makeSuccessResult(e):this._request({isFirstSearch:!1,params:{pagetoken:this._nextPageToken},page:e})},o._doAfterResponse=function(e,t){var o=this;if("OK"===e.status){var n=(e.results||[]).map(function(e){return o._refineItem({name:e.name,address:e.formatted_address||e.vicinity||"",placeId:e.place_id,latlng:{latitude:e.geometry.location.lat,longitude:e.geometry.location.lng},isDomestic:!1})});return this._nextPagePool.append(n),this._itemCount=this._nextPagePool.count(),this._nextPageToken=e.next_page_token,this._makeSuccessResult(t,!!this._nextPageToken)}return this._makeErrorResult("ZERO_RESULTS")},t}(os),Is=ks;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/google-search-provider.js",localName:t}})}catch(e){}}e(Os,"LANGUAGE_TO_GOOGLE_LANGUAGE_MAP"),e(ks,"GoogleSearchProvider"),e(Is,"default")}();var ws=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype._doAfterResponse=function(e,t){if("OK"===e.status){var o=e.results[0],n={address:o.formatted_address,placeId:o.place_id,isDomestic:!1};if("string"==typeof t){var r=o.geometry.location,i=r.lat,a=r.lng;n.latlng={latitude:i,longitude:a}}else n.latlng=t;return this._makeSuccessResult(n)}return this._makeErrorResult()},t}(cs),Ps=ws;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/google-geocode-provider.js",localName:t}})}catch(e){}}e(ws,"GoogleGeocodeProvider"),e(Ps,"default")}();var js={"ko-KR":"ko","en-US":"en","zh-TW":"zh-TW","zh-CN":"zh-CN","es-ES":"es","id-ID":"id","ja-JP":"ja","vi-VN":"vi"},Ts=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype._generateBaseParams=function(){var e=this._config.size;return{scale:1,size:e.width+"x"+e.height,language:js[this._language]}},t}(hs),Ls=Ts;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/google-static-map-provider.js",localName:t}})}catch(e){}}e(js,"LANGUAGE_TO_GOOGLE_LANGUAGE_MAP"),e(Ts,"GoogleStaticMapProvider"),e(Ls,"default")}();var Es={"ko-KR":"ko","en-US":"en","zh-TW":"zh-TW","zh-CN":"zh-CN","es-ES":"es","id-ID":"id","ja-JP":"ja","vi-VN":"vi"},Ns=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o._generateParams=function(e){return{input:e,language:Es[this._language]}},o._doAfterResponse=function(e){if("OK"===e.status){var t=e.predictions.map(function(e){return{description:e.description,placeId:e.place_id}});return this._makeSuccessResult(t)}return this._makeErrorResult()},t}(_s),xs=Ns;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/place-provider/google-autocomplete-provider.js",localName:t}})}catch(e){}}e(Es,"LANGUAGE_TO_GOOGLE_LANGUAGE_MAP"),e(Ns,"GoogleAutocompleteProvider"),e(xs,"default")}();var Ds=o(277),Rs=o(194),As=function(e){function t(t){var o;o=e.call(this,t)||this;var n=u.U.get("configAgent");o._api=n.get("apiInfo"),o._i18n=u.U.get("i18n"),o._componentFactory=u.U.get("componentFactory"),o._toastTimer=null,o._resolve=null;var r=Rs.b[o._language],i=n.get("editorInfo.placesMapInfo"),a=n.get("productConfig.staticMapSize");return o._providers={domestic:{search:new ns({maxItemsPerPage:t.maxItemsPerPage,api:{search:o._api.fetchNaverPlaces,nearby:o._api.fetchNaverNearBy}}),geocode:new ls({api:o._api.fetchNaverGeocode}),staticmap:new fs({api:o._api.fetchNaverStaticMap,size:a,iconUrls:i}),autocomplete:new Cs({api:o._api.fetchNaverAutocomplete})},overseas:{search:new ks({maxItemsPerPage:t.maxItemsPerPage,api:{search:o._api.fetchGooglePlaces,nearby:o._api.fetchGoogleNearBy},language:r}),geocode:new ws({api:o._api.fetchGoogleGeocode,language:r}),staticmap:new Ts({api:o._api.fetchGoogleStaticMap,size:a,iconUrls:i,language:r}),autocomplete:new Ns({api:o._api.fetchGoogleAutocomplete,language:r})}},o._nextPagePool=new Za({maxItemsPerPage:t.maxItemsPerPage}),o._initializeOpeningOptions(),o}h()(t,e);var o=t.prototype;return o.openPlacePopup=function(e){void 0===e&&(e={}),this.open(Object.assign(e,{isUpdateMode:!1}))},o.open=function(e){void 0===e&&(e={});var t=e,o=t.isUpdateMode,n=void 0===o||o,r=Ja()(t,["isUpdateMode"]);this.updateInitializeData(r),this._isUpdateMode=n,this._pauseDocumentEdit(),this._store.open()},o.getMaxPlaceCount=function(){return this._store.maxPlaceCount},o.isUpdateMode=function(){return this._isUpdateMode},o.hasPlaces=function(){return this._store.places.length>0},o.resolve=function(e){this._resolve&&this._resolve(e),this._resolve=null},o.close=function(){this._store.opened&&(this._initializeOpeningOptions(),this._store.close(),this._unpauseDocumentEdit())},o._initializeOpeningOptions=function(){this._resolve=null,this._isSuggestionSearching=!1,this._nextPagePool.reset()},o.editPlaces=function(e){var t=this;return new Promise(function(o){t._resolve=o,t.open(e)})},o.groupByLocation=function(e){var t={queries:[],coordinates:[]};return e.forEach(function(e){var o=e.location;o?t.coordinates.push({latitude:o.latitude,longitude:o.longitude}):t.queries.push(e.path)}),t},o.updateInitializeData=function(e){this._store.updateInitializeData(e)},o.updateAutocompleteData=function(e){this._store.updateAutocompleteData(e)},o.updateSearchData=function(e){this._store.updateSearchData(e)},o.updateIndicatorStatus=function(e){this._isSuggestionSearching=!1,this._store.updateIndicatorStatus(e)},o.updateCompData=function(e){this._store.updateCompData(e)},o.updateHighlightData=function(e){this._store.updateHighlightData(e)},o.updateEditingInfoWindowData=function(e){this._store.updateEditingInfoWindowData(e)},o.addPlaces=function(e){this._store.addPlaces(e)},o.removePlace=function(e){this._store.removePlace(e)},o.resetPlaces=function(){this._store.resetPlaces()},o.showToast=function(e){var t=this;clearTimeout(this._toastTimer),this._store.showToast(e),this._toastTimer=setTimeout(function(){t._store.hideToast()},3e3)},o.startSearching=function(){this._store.updateSearchingStatus(!0)},o.stopSearching=function(){this._store.updateSearchingStatus(!1)},o.isFullPlace=function(){return this._store.isFullPlace},o.isAddedPlace=function(e){return!!this._store.places.filter(function(t){return Object(ct.a)(t.latlng,e.latlng)&&Object(ct.a)(t.placeId,e.placeId)})[0]},o.isIdenticalRegionOfAddedPlace=function(e){var t=this._store.places.length>0&&this._store.places[0];return!t||e.__isDomestic===t.__isDomestic},o.isIdenticalRegion=function(e){return(e.__isDomestic?Rs.c.DOMESTIC:Rs.c.OVERSEAS)===this._store.regionType},o.fetchCoordByIp=function(){return Ao.a.get(this._api.fetchCoordByIp,{success:function(e){return e},error:function(){return null}})},o.fetchDomesticCheck=function(e){var t=e.latitude,o=e.longitude;return Ao.a.get(this._api.fetchDomesticCheck,{params:{latitude:t,longitude:o},success:function(e){return e.isLocalCoordinate},error:function(){return null}})},o.fetchDomesticBulkCheck=function(e){var t=e.map(function(e){return e.longitude+"|"+e.latitude});return Ao.a.get(this._api.fetchDomesticBulkCheck,{params:{coordinates:t},success:function(e){return e},error:function(){return null}})},o.fetchImageExif=function(e){return Ao.a.post(this._api.fetchLocationOfImages,{data:e,options:{headers:{"Content-Type":"application/json"}},success:function(e){var t=e.filter(function(e){return e.longitude&&e.latitude});return t.length?t:null},error:function(){return null}})},o.createComponent=function(e){var t=e.places,o=e.imgUrl,n=this._store.regionType,r={ctype:"placesMap",layout:Ds.a.DEFAULT,thumbnail:{src:o,ctype:"thumbnail"},searchEngine:n===Rs.c.DOMESTIC?Rs.d.NAVER:Rs.d.GOOGLE,places:t};return this._componentFactory.createComponentWithCompData(r)},o.getSuggestion=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s,c,l,u,p;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._isSuggestionSearching=!0,o=this._makeUniqueData(t),n=o.length,r=1===t.length?6:3,i=[],a=0;case 6:if(!(a<n)){e.next=26;break}if(s=o[a],c=s.isLocalCoordinate,l={latitude:s.latitude,longitude:s.longitude},u=void 0,!c){e.next=17;break}return e.next=14,this._fetchNaverNearBy(l);case 14:u=e.sent,e.next=20;break;case 17:return e.next=19,this._fetchGoogleNearBy(l);case 19:u=e.sent;case 20:u=Object(Qa.a)(u.items,i,function(e,t){return e.placeId===t.placeId}),p=u.slice(0,r),i=[].concat(i,p);case 23:a++,e.next=6;break;case 26:return this._nextPagePool.append(i),this._itemCount=this._nextPagePool.count(),e.abrupt("return",{items:this._nextPagePool.getAt(1),pagination:{itemCount:this._nextPagePool.count(),currentPage:1}});case 29:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._makeUniqueData=function(e){var t=this._classifyUniqueLatLng(e),o=t.uniqueData,n=t.latlngDuplicatedHash;return this._rearrangeUniqueLatLng(o,n)},o._classifyUniqueLatLng=function(e){for(var t=[],o={},n=(e=Object(Ka.a)(e)).length-1;n>=0;n--){for(var r=e[n],i=new naver.maps.LatLng(r.latitude,r.longitude),a=0,s=n-1;s>=0;s--){var c=e[s],l=new naver.maps.LatLng(c.latitude,c.longitude);naver.maps.EPSG3857.getDistance(i,l)<=250&&(a++,e.splice(s,1),n-=1)}t.push(r),o[r.latitude+","+r.longitude]=a}return{uniqueData:t,latlngDuplicatedHash:o}},o._rearrangeUniqueLatLng=function(e,t){if(e.length>=6){var o=[];Object(Ya.a)(Object(Xa.a)(t),function(e){return e[1]}).reverse().forEach(function(t){var n=t[0],r=Object(Ue.a)(e,function(e){var t=n.split(",");return e.lat===+t[0]&&e.lng===+t[1]}),i=e.splice(r,1);i&&i.length>0&&o.push(i[0])}),e=[].concat(o,e).slice(0,5)}return e},o._fetchGoogleNearBy=function(e){return this._providers.overseas.search.nearby(e)},o._fetchNaverNearBy=function(e){return this._providers.domestic.search.nearby(e)},o.fetchAutocomplete=function(e){return this._providers[this._store.regionType].autocomplete.autocomplete(e)},o.fetchSearchByPlaceId=function(e){return this._isSuggestionSearching=!1,this.fetchGeocode(e)},o.fetchSearch=function(e){var t=this._providers[this._store.regionType].search;return this._isSuggestionSearching=!1,t.search(e)},o.fetchNextPage=function(e){return this._isSuggestionSearching?{items:this._nextPagePool.getAt(e),pagination:{itemCount:this._nextPagePool.count(),currentPage:e}}:this._providers[this._store.regionType].search.nextpage(e)},o.fetchStaticMap=function(e){var t=e[0].__isDomestic?Rs.c.DOMESTIC:Rs.c.OVERSEAS,o=Rs.a[t],n={markers:e};return 1===e.length&&(n.zoom=o),this._providers[t].staticmap.staticmap(n)},o.fetchGeocode=function(e){return this._providers[this._store.regionType].geocode.geocode(e)},o.updateRegionType=function(e,t){t||(this._isSuggestionSearching=!1),this._store.updateRegionType(e,t)},o.isOverseas=function(){return this._store.regionType===Rs.c.OVERSEAS},o.updateJsLoadErrorStatus=function(e){this._store.updateJsLoadErrorStatus(e)},o.isJsLoadError=function(){return this._store.jsErrorStatus},o.getSupportRegion=function(){return this._store.supportRegion},t}(u.d),Us=As,Ms=Us;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/service/index.js",localName:t}})}catch(e){}}e(As,"PlaceLayerService"),e(Us,"default")}();var Bs={ko:{placeLayer:{domestic:"국내",overseas:"해외",prev:"이전",next:"다음",search:"검색",loading:"로딩 중",add:"추가",cancel_btn:"취소",apply_btn:"확인",drop_pin_btn:"지도에 직접 표시",drop_pin_title:"드랍 핀",drop_pin_desc:"장소 표시를 위해 맵을 클릭해주세요.",search_input_placeholder:"장소명을 입력하세요",info_title:"원하시는 장소를 검색하거나",info_desc:"지도를 클릭해 직접 장소를 표시해 보세요.",info_title_no_result:"검색 결과가 없습니다.",info_desc_no_result:"다른 검색어로 다시 검색해 보세요.",no_selected_location:"위치는 최소 1개 이상 있어야 합니다.",no_place_name:"장소명을 입력하세요.",exceeded_max_limit:"위치는 최대 {{maxPlaceCount}}개까지 추가할 수 있습니다.",exceeded_max_limit_of_image:"하나의 장소만 선택해 주세요.",error_no_search_result:"검색 결과가 없습니다.",already_added:"이미 추가된 위치입니다.",clear_btn:"검색어 삭제",delete_place:"장소 삭제",address:"주소",info_window_placeholder:"장소명",exceeded_max_place_name:"최대 {{maxPlaceNameLength}}자까지 입력이 가능합니다."}},en:{placeLayer:{domestic:"Domestic",overseas:"Overseas",prev:"Previous",next:"Next",search:"Search",loading:"Loading",add:"Add",cancel_btn:"Cancel",apply_btn:"Apply",drop_pin_btn:"Drop Pin",drop_pin_title:"Drop Pin.",drop_pin_desc:"Click the map to mark the place directly.",search_input_placeholder:"Search for a location",info_title:"Search for a location.",info_desc:"or drop your own pin on the map.",info_title_no_result:"No result found.",info_desc_no_result:"Please try with another keyword.",no_selected_location:"Please add at least 1 location.",no_place_name:"Please enter a location name.",exceeded_max_limit:"You can add up to {{maxPlaceCount}} locations.",exceeded_max_limit_of_image:"Please select 1 location.",error_no_search_result:"No result found.",already_added:"This location already has been added.",clear_btn:"clear input value",delete_place:"delete place",address:"Address",info_window_placeholder:"Location name",exceeded_max_place_name:"You can insert up to {{maxPlaceNameLength}} characters."}},fr:{placeLayer:{domestic:"Domestique",overseas:"Outre-mer",prev:"Précédent",next:"Suivant",search:"Recherche",loading:"Chargement",add:"Ajouter",cancel_btn:"Annuler",apply_btn:"[T]Apply",drop_pin_btn:"[T]Drop Pin",drop_pin_title:"[T]Drop Pin.",drop_pin_desc:"[T]Click the map to mark the place directly.",search_input_placeholder:"[T]Search for a location",info_title:"[T]Search for a location.",info_desc:"[T]or drop your own pin on the map.",info_title_no_result:"Aucun résultat trouvé.",info_desc_no_result:"[T]Please try with another keyword.",no_selected_location:"[T]Please add at least 1 location.",no_place_name:"[T]Please enter a location name.",exceeded_max_limit:"[T]You can add up to {{maxPlaceCount}} locations.",exceeded_max_limit_of_image:"[T]Please select 1 location.",already_added:"[T]This location already has been added.",error_no_search_result:"Aucun résultat trouvé.",clear_btn:"[T]clear input value",delete_place:"[T]delete place",address:"[T]Address",info_window_placeholder:"[T]Location name",exceeded_max_place_name:"Vous pouvez insérer jusqu'à {{maxPlaceNameLength}} caractères."}}},Fs=Bs;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/i18n/index.js",localName:t}})}catch(e){}}(Bs,"default")}();var zs=u.F.extend({name:"PlaceLayer",view:Object(p.a)({Loader:function(){return Promise.all([o.e(76),o.e(47)]).then(o.bind(null,1266))}}),useCase:Ha.a,service:Ms,store:Ga.a,i18nConf:Fs}),Ws=zs,Vs=Ws;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/index.js",localName:t}})}catch(e){}}e(zs,"PlaceLayer"),e(Ws,"default")}();var Gs=o(384),Hs=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._pauseDocumentEdit(),this._store.open()},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/file-upload-layer/src/service/index.js",localName:t}})}catch(e){}}(Hs,"FileUploadLayerService")}();var qs=o(385),Js=u.F.extend({name:"FileUploadLayer",view:Object(p.a)({Loader:function(){return o.e(37).then(o.bind(null,1242))}}),useCase:Gs.a,service:Hs,store:qs.a}),Ks=Js,Ys=Ks;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/file-upload-layer/src/index.js",localName:t}})}catch(e){}}e(Js,"FileUploadLayer"),e(Ks,"default")}();var Xs=o(387),Qs=o(386),Zs=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._pauseDocumentEdit(),this._store.open()},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},t}(u.d),$s=Zs,ec=$s;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/paid-photo-notification-layer/src/service/index.js",localName:t}})}catch(e){}}e(Zs,"PaidPhotoNotificationLayerService"),e($s,"default")}();var tc=u.F.extend({name:"PaidPhotoNotificationLayer",view:Object(p.a)({Loader:function(){return o.e(38).then(o.bind(null,1243))}}),useCase:Qs.a,service:ec,store:Xs.a}),oc=tc,nc=oc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/paid-photo-notification-layer/src/index.js",localName:t}})}catch(e){}}e(tc,"PaidPhotoNotificationLayer"),e(oc,"default")}();var rc,ic,ac,sc=o(224),cc=o(1230),lc=o(378),uc=(rc=Object(ee.history)({sync:!1}),ic=Object(ee.history)({sync:!1}),ac=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.U.get("configAgent"),t._insertMenuLayoutService=u.U.get("insertMenuLayoutService"),t._imageUploadService=u.U.get("imageUploadService"),t._horizontalLineComponentService=u.U.get("horizontalLineComponentService"),t._quotationComponentService=u.U.get("quotationComponentService"),t._editingService=u.U.get("editingService"),t._stickerPanelLayoutService=u.U.get("stickerPanelLayoutService"),t._imageTypeLayerService=u.U.get("imageTypeLayerService"),t._componentListStore=u.U.get("componentListStore"),t._selectionInfoStore=u.U.get("selectionInfoStore"),t._imageBehavior=u.U.get("imageBehavior"),t._complexImageLayoutsEnabled=t._configAgent.get("productConfig.complexImageLayoutsEnabled"),t._documentToolbarLayoutService=u.U.get("documentToolbarLayoutService"),t._panelContainerLayerService=u.U.get("panelContainerLayerService"),t._libraryPanelLayoutService=u.U.get("libraryPanelLayoutService")||{close:function(){}},t._templatePanelLayoutService=u.U.get("templatePanelLayoutService")||{close:function(){}},t._searchPanelLayoutService=u.U.get("searchPanelLayoutService")||{close:function(){}},t._helpPanelLayoutService=u.U.get("helpPanelLayoutService")||{close:function(){}},t}h()(t,e);var o=t.prototype;return o.openInsertMenu=function(){this._insertMenuLayoutService.open()},o.closeInsertMenu=function(){this._insertMenuLayoutService.close()},o.updateActivatedButtonKey=function(e){this._insertMenuLayoutService.updateActivatedKey(e)},o.handlePanelButtonClick=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.name,n=t.value,this._insertMenuLayoutService.close(),e.t0=o,e.next="image"===e.t0?5:"sticker"===e.t0?8:"horizontalLine"===e.t0?10:"quotation"===e.t0?12:14;break;case 5:return e.next=7,this._insertImages();case 7:return e.abrupt("break",14);case 8:return this._toggleStickerPanel(),e.abrupt("break",14);case 10:return this._insertHorizontalLine(n),e.abrupt("break",14);case 12:return this._insertQuotation(n),e.abrupt("break",14);case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._toggleStickerPanel=function(){this._libraryPanelLayoutService.close(),this._templatePanelLayoutService.close(),this._searchPanelLayoutService.close(),this._helpPanelLayoutService.close(),!0===this._stickerPanelLayoutService.togglePanel()?(this._documentToolbarLayoutService.setPanelButtonEnable("sticker",!0),this._panelContainerLayerService.openPanel("sticker")):(this._panelContainerLayerService.closePanel(),this._documentToolbarLayoutService.setPanelButtonEnable("sticker",!1))},o._insertQuotation=function(e){var t=this._quotationComponentService.createWithLayout(e);this._editingService.insert({sourceComponents:[t]}),this._documentToolbarLayoutService.updateQuotationSelectedValue(t.layout)},o._insertHorizontalLine=function(e){var t=this._horizontalLineComponentService.createComponent({layout:e});this._editingService.insert({sourceComponents:[t]}),this._documentToolbarLayoutService.updateHorizontalSelectedValue(t.layout)},o._insertImages=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n,r,i,a,s,c;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog({multiple:!0});case 2:if(t=e.sent,o=t.validFiles,n=o.length,r=this._selectionInfoStore.focus,i=r.compId,a=r.unitId,s=this._componentListStore.getComponentById(i),c=s.getStoreById(a),"inline-image-allowed-append"!==c.attributes.insertion||"child"!==c.selection){e.next=13;break}return e.next=12,this._insertInlineImages(t);case 12:return e.abrupt("return",e.sent);case 13:if(!this._canUseComplexLayouts(n)){e.next=15;break}return e.abrupt("return",this._imageTypeLayerService.open({type:lc.a.FILE,payload:rt()({},t,{length:n})}));case 15:return e.next=17,this._insertImageComponents(t);case 17:return e.abrupt("return",e.sent);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._insertImageComponents=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageBehavior.insertImage(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertInlineImages=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageBehavior.insertInlineImage(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._canUseComplexLayouts=function(e){return e>1&&this._complexImageLayoutsEnabled},t}(u.m),q()(ac.prototype,"openInsertMenu",[K.d],Object.getOwnPropertyDescriptor(ac.prototype,"openInsertMenu"),ac.prototype),q()(ac.prototype,"closeInsertMenu",[K.d],Object.getOwnPropertyDescriptor(ac.prototype,"closeInsertMenu"),ac.prototype),q()(ac.prototype,"handlePanelButtonClick",[ee.preventOnComponentProcessing],Object.getOwnPropertyDescriptor(ac.prototype,"handlePanelButtonClick"),ac.prototype),q()(ac.prototype,"_toggleStickerPanel",[K.d],Object.getOwnPropertyDescriptor(ac.prototype,"_toggleStickerPanel"),ac.prototype),q()(ac.prototype,"_insertQuotation",[K.d,ee.history],Object.getOwnPropertyDescriptor(ac.prototype,"_insertQuotation"),ac.prototype),q()(ac.prototype,"_insertHorizontalLine",[K.d,ee.history],Object.getOwnPropertyDescriptor(ac.prototype,"_insertHorizontalLine"),ac.prototype),q()(ac.prototype,"_insertImages",[K.d],Object.getOwnPropertyDescriptor(ac.prototype,"_insertImages"),ac.prototype),q()(ac.prototype,"_insertImageComponents",[K.d,rc],Object.getOwnPropertyDescriptor(ac.prototype,"_insertImageComponents"),ac.prototype),q()(ac.prototype,"_insertInlineImages",[K.d,ic],Object.getOwnPropertyDescriptor(ac.prototype,"_insertInlineImages"),ac.prototype),ac),pc=uc,dc=pc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(uc,"InsertMenuLayoutUseCase"),e(pc,"default")}();var hc,fc,mc,gc,yc,bc,_c,vc,Cc,Sc,Oc=o(23),kc=o(74),Ic=o(175),wc=o(134),Pc={top:0,left:0,height:0,width:0},jc=(hc=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"activated",fc,G()(o)),W()(o,"visibility",mc,G()(o)),W()(o,"top",gc,G()(o)),W()(o,"left",yc,G()(o)),W()(o,"height",bc,G()(o)),W()(o,"width",_c,G()(o)),W()(o,"opened",vc,G()(o)),W()(o,"forceRenderFlag",Cc,G()(o)),W()(o,"activatedKey",Sc,G()(o)),o.panels=c.getDefinitions(["image","sticker","horizontalLine","quotation"]);var n=t.state,r=void 0===n?{}:n;return o._domAccessor=u.U.get("domAccessor"),o._componentListStore=u.U.get("componentListStore"),o._selectionInfoStore=u.U.get("selectionInfoStore"),o._dragAndDropStore=u.U.get("dragAndDropStore"),o._configAgent=u.U.get("configAgent"),o.panels=o._refinePanels(r),o.activated=Object(J.a)(r,"activated",o.activated),o.visibility=Object(J.a)(r,"visibility",o.visibility),o.opened=Object(J.a)(r,"opened",o.opened),o.top=Object(J.a)(r,"top",o.top),o.left=Object(J.a)(r,"left",o.left),o.height=Object(J.a)(r,"height",o.height),o.width=Object(J.a)(r,"width",o.width),o._prevClientRects=[],o._prevScrollTop=0,o._needToForceUpdate=!1,o}h()(t,e);var o=t.prototype;return o.moveTo=function(e,t){if(void 0===t&&(t=0),this._isDragging())this.hide();else{if(this._needToForceUpdate=this._isNeedToForceUpdate(e,t),this._prevScrollTop=t,this._prevClientRects=e,this._isCollapsed()&&this._isTypeFollowCursor()){var o=Object(kc.a)(e);this._isComponentMoveTo(o.top)&&this.hide(),this._setTopAtMiddle(o)}else{var n=this._getComponentClientRect();this._setTopAtBottom(n)}this._checkVisibility(),this.opened&&this.close()}},o._isNeedToForceUpdate=function(e,t){return!this._hasPrevClientRects()||this._isFocusedAfterCollapse(e)||this._isMovedAsUpOrDown(e,t)},o._hasPrevClientRects=function(){return this._prevClientRects.length>=1},o._isFocusedAfterCollapse=function(e){return this._prevClientRects.length>1&&1===e.length},o._isMovedAsUpOrDown=function(e,t){return this._prevClientRects[0].top+t!==e[0].top+this._prevScrollTop},o._isTypeFollowCursor=function(){var e=this.activateComponentType();return["text","sectionTitle"].includes(e)},o._isComponentMoveTo=function(e){return Math.abs(e-this.top)>150},o._checkVisibility=function(){this.isVisibility()?this.show():this.hide()},o._getComponentClientRect=function(){var e=this._selectionInfoStore.start,t=this._domAccessor.getComponentElement(e.compId);if(!t)return Pc;var o=t.getBoundingClientRect(),n=o.top,r=o.height;return{top:n,left:o.left,height:r,width:o.width}},o._setTopAtMiddle=function(e){var t=e.top,o=e.height,n=e.left,r=e.width,i=parseFloat(t),a=parseFloat(o);this.top=i+a/2,this.left=parseFloat(n),this.width=parseFloat(r),this.height=a,this._forceUpdate()},o._setTopAtBottom=function(e){var t=e.top,o=e.height,n=e.left,r=e.width,i=parseFloat(t),a=parseFloat(o);this.top=i+a,this.left=parseFloat(n),this.width=parseFloat(r),this.height=a,this._forceUpdate()},o._forceUpdate=function(){if(!this._needToForceUpdate)return!1;this._needToForceUpdate=!1,this.forceRenderFlag=1e5*Math.random()},o.show=function(){this.visibility=!0},o.hide=function(){this.visibility=!1},o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},o._isSingleCompMode=function(){return this._selectionInfoStore.mode===u.N.SINGLE_COMP},o._isCollapsed=function(){return this._selectionInfoStore.collapsed},o._isDragging=function(){return"dragging"===this._dragAndDropStore.progress},o.activateComponentType=function(){var e=this._selectionInfoStore.toValidJSON(),t=this._componentListStore.getSelectedComponents(e);return Object(mo.a)(t).ctype},o.isVisibility=function(){return!this._isDragging()&&("documentTitle"!==this.activateComponentType()&&(this._isSingleCompMode()||this._isCollapsed()))},o.updateActivatedKey=function(e){this.activatedKey=e},o._refinePanels=function(e){var t=Object(J.a)(e,"panels",this.panels);return(this._configAgent.get("plugins.excludeComponents")||[]).forEach(function(e){Object(Ic.a)(t,e)&&delete t[e]}),this._refineQuotationSubPanels(t),t},o._refineQuotationSubPanels=function(e){var t=this._configAgent.get("productConfig.quotation.layouts");if(t){var o=Object(wc.a)(Object(J.a)(e,"quotation.panels"),t);Object(Oc.a)(e,"quotation.panels",o)}},t}(u.w),fc=q()(hc.prototype,"activated",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mc=q()(hc.prototype,"visibility",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),gc=q()(hc.prototype,"top",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yc=q()(hc.prototype,"left",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),bc=q()(hc.prototype,"height",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_c=q()(hc.prototype,"width",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),vc=q()(hc.prototype,"opened",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cc=q()(hc.prototype,"forceRenderFlag",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sc=q()(hc.prototype,"activatedKey",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hc),Tc=jc,Lc=Tc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/store/index.js",localName:t}})}catch(e){}}e(Pc,"emptyRect"),e(jc,"InsertMenuLayoutStore"),e(Tc,"default")}();var Ec,Nc=o(55),xc=o.n(Nc),Dc=(Ec=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e,t=this.props,o=t.panel,n=t.i18n,r=t.index,i=et()(((e={"se-insert-menu-sub-panel-button":!0})["se-insert-menu-sub-panel-button-"+o.name+"-"+r]=!0,e));return K.b.createElement("li",{className:"se-insert-menu-sub-panel-item"},K.b.createElement("button",{type:"button",className:i,onClick:this._handleSubPanelBtnClick},K.b.createElement("span",{className:"se-blind"},n(o.label))))},o._handleSubPanelBtnClick=function(e){var t=this.props,o=t.handleSubPanelClick,n=t.panel,r=t.index;o(n.name,r,e)},t}(K.b.Component),q()(Ec.prototype,"_handleSubPanelBtnClick",[ee.autobind],Object.getOwnPropertyDescriptor(Ec.prototype,"_handleSubPanelBtnClick"),Ec.prototype),Ec);Dc.propTypes={index:K.a.string.isRequired,handleSubPanelClick:K.a.func.isRequired,panel:K.a.object.isRequired,i18n:K.a.func.isRequired};var Rc=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this._renderSubPanel(this.props.panels),t=this._subPanelClassName(this.props.name);return K.b.createElement("ul",{className:t},e)},o._subPanelClassName=function(e){var t;return et()(((t={"se-insert-menu-sub-panel":!0})["se-insert-menu-sub-panel-"+e]=!0,t))},o._renderSubPanel=function(e){var t=this.props,o=t.handleSubPanelClick,n=t.i18n;return Object(io.a)(e,function(e,t){return K.b.createElement(Dc,{key:t,index:t,handleSubPanelClick:o,panel:e,i18n:n})})},t}(K.b.Component);Rc.defaultProps={panels:{},name:"",handleSubPanelClick:function(){}},Rc.propTypes={panels:K.a.shape({}),name:K.a.string,handleSubPanelClick:K.a.func,i18n:K.a.func.isRequired};var Ac=Object(Z.b)(Rc),Uc=Ac;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/view/insert-menu-sub-panel.jsx",localName:t}})}catch(e){}}e(Dc,"Item"),e(Rc,"InsertMenuSubPanel"),e(Ac,"default")}();var Mc,Bc=o(266),Fc=(Mc=function(e){function t(t){var o;return(o=e.call(this,t)||this).handlerPanelMouseOver=o.props.handlePanelMouseOver.bind(G()(o)),o.handlerPanelClick=o.props.handlePanelClick.bind(G()(o)),o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this._renderPanel(this.props.panels);return K.b.createElement("ul",{className:"se-insert-menu-panel",ref:this._ref},e)},o._ref=function(e){this._insertMenuPanels=e},o._renderPanel=function(e){var t=this,o=this.props,n=o.handleSubPanelClick,r=o.i18n,i=o.store.activatedKey;return Object(io.a)(e,function(e,o){var a,s=et()(((a={"se-insert-menu-button":!0})["se-insert-menu-button-"+e.name]=!0,a)),c=et()({"se-insert-menu-item":!0,"se-is-activated":i===o});return K.b.createElement("li",{className:c,key:o},K.b.createElement(Bc.a,{type:"button",className:s,"data-log":e.logId,"data-group":"insertMenu","data-key":o,"data-name":e.name,onMouseOver:t.handlerPanelMouseOver,onClick:t.handlerPanelClick},K.b.createElement("span",{className:"se-insert-menu-button-label"},r(e.label))),K.b.createElement(Uc,xc()({},e,{i18n:r,handleSubPanelClick:n})))})},t}(K.b.Component),q()(Mc.prototype,"_ref",[ee.autobind],Object.getOwnPropertyDescriptor(Mc.prototype,"_ref"),Mc.prototype),Mc);Fc.defaultProps={panels:{},handlePanelClick:function(){},handleSubPanelClick:function(){}},Fc.propTypes={panels:K.a.shape({}),handlePanelClick:K.a.func,handleSubPanelClick:K.a.func,i18n:K.a.func.isRequired};var zc,Wc=Object(Z.b)(Fc),Vc=Wc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/view/insert-menu-panel.jsx",localName:t}})}catch(e){}}e(Fc,"InsertMenuPanel"),e(Wc,"default")}();var Gc=(zc=function(e){function t(){var t;return(t=e.call(this)||this)._wrapperRef=K.b.createRef(),t.state={isMenuInverted:!1},t.count=1,t}h()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){cc.a.on("click",this._handleOutsideClick)},o.componentDidMount=function(){this.parentNode=this._getWrapperElement().parentNode},o.componentWillUnmount=function(){cc.a.off("click",this._handleOutsideClick)},o.render=function(){var e=this.props,t=e.i18n,o=e.store,n=e.useCase;if(!o.visibility)return null;var r=this._wrapperClassName(),i={top:this._getTopPosition()},a=o.panels;return K.b.createElement("div",{className:r,style:i,ref:this._wrapperRef,"data-update-flag":o.forceRenderFlag},K.b.createElement(K.b.Fragment,null,K.b.createElement("div",{className:"se-insert-point-marker-button",onClick:this._handleToggleMarker},K.b.createElement("span",{className:"se-insert-point-marker-icon"}),K.b.createElement("span",{className:"se-blind"},t("insertMenuLayout:insert_point_marker_description"))),K.b.createElement(Vc,{panels:a,handlePanelMouseOver:this._handlePanelMouseOver,handlePanelClick:this._handlePanelClick,handleSubPanelClick:this._handleSubPanelClick,i18n:t,useCase:n,store:o})))},o._getWrapperElement=function(){return this._wrapperRef.current},o._getTopPosition=function(){return this.props.store.top-this._getParentTop()+this._getParentScrollTop()},o._getParentTop=function(){return this.parentNode?this.parentNode.getBoundingClientRect().top:0},o._getParentScrollTop=function(){return this.parentNode?this.parentNode.scrollTop:0},o._wrapperClassName=function(){var e=this.state.isMenuInverted,t=this.props.store,o=t.visibility,n=t.opened;return et()({"se-insert-menu":!0,"se-insert-menu-invert":e,"se-is-activated":n,"se-is-hidden":!o})},o._handleToggleMarker=function(e){var t=this.props,o=t.store,n=t.minMarginBottom,r=t.logAreaId;if(o.opened)this.props.useCase.closeInsertMenu(),zt.a.log(e.nativeEvent,r+".close");else{var i=this._getMarginBottomAtContent()<n;this.setState({isMenuInverted:i}),this.props.useCase.openInsertMenu(),zt.a.log(e.nativeEvent,r+".open")}},o._handlePanelClick=function(e,t){void 0===t&&(t="default");var o=this.props,n=o.store,r=o.logAreaId,i=e.currentTarget.dataset.name,a=n.panels[i];a&&"default"===a.type&&(this.props.useCase.handlePanelButtonClick({name:i,value:t}),zt.a.log(e.nativeEvent,r+"."+a.logId))},o._handlePanelMouseOver=function(e){var t=e.currentTarget.dataset.key;this.props.useCase.updateActivatedButtonKey(t)},o._handleSubPanelClick=function(e,t,o){void 0===t&&(t="default");var n=this.props,r=n.store,i=n.logAreaId,a=r.panels[e].panels[t];this.props.useCase.handlePanelButtonClick({name:e,value:t}),zt.a.log(o.nativeEvent,i+"."+a.logId)},o._handleOutsideClick=function(e){var t=e.target,o=this.props.store.opened,n=sc.a.isOutsideElementbySelector(t,".se-insert-menu");o&&n&&this.props.useCase.closeInsertMenu()},o._getMarginBottomAtContent=function(){var e=u.U.get("domAccessor").getScrollTarget(),t=this._getWrapperElement();return parseFloat(e.scrollTop+e.clientHeight)-parseFloat(t.offsetTop)},t}(K.b.Component),q()(zc.prototype,"_handleToggleMarker",[ee.autobind],Object.getOwnPropertyDescriptor(zc.prototype,"_handleToggleMarker"),zc.prototype),q()(zc.prototype,"_handlePanelClick",[ee.autobind],Object.getOwnPropertyDescriptor(zc.prototype,"_handlePanelClick"),zc.prototype),q()(zc.prototype,"_handlePanelMouseOver",[ee.autobind],Object.getOwnPropertyDescriptor(zc.prototype,"_handlePanelMouseOver"),zc.prototype),q()(zc.prototype,"_handleSubPanelClick",[ee.autobind],Object.getOwnPropertyDescriptor(zc.prototype,"_handleSubPanelClick"),zc.prototype),q()(zc.prototype,"_handleOutsideClick",[ee.autobind],Object.getOwnPropertyDescriptor(zc.prototype,"_handleOutsideClick"),zc.prototype),zc);Gc.defaultProps={children:null,i18n:function(e){return e},minMarginBottom:400,logAreaId:"ipt"},Gc.propTypes={children:K.a.oneOfType([K.a.arrayOf(K.a.element),K.a.element]),i18n:K.a.func,useCase:K.a.instanceOf(dc).isRequired,store:K.a.instanceOf(Lc).isRequired,minMarginBottom:K.a.number,logAreaId:K.a.string};var Hc=Object(Z.b)(Gc),qc=Hc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(Gc,"InsertMenuLayoutView"),e(Hc,"default")}();var Jc=function(e){function t(t){var o;return(o=e.call(this,t)||this)._virtualEditable=u.U.get("virtualEditable"),o}h()(t,e);var o=t.prototype;return o.open=function(){this.moveTo(),this._store.open()},o.moveTo=function(e){void 0===e&&(e=this._virtualEditable.getClientRects());var t=u.U.get("domAccessor").getScrollTarget().scrollTop;this._store.moveTo(e,t)},o.close=function(){this.moveTo(),this._store.close(),this.updateActivatedKey(null)},o.updateActivatedKey=function(e){this._store.updateActivatedKey(e)},t}(u.f),Kc=Jc,Yc=Kc;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/service/index.js",localName:t}})}catch(e){}}e(Jc,"InsertMenuLayoutService"),e(Kc,"default")}();var Xc,Qc,Zc,$c,el,tl,ol=u.G.extend({name:"InsertMenuLayout",view:qc,useCase:dc,service:Yc,store:Lc}),nl=ol,rl=nl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/insert-menu-layout/src/index.js",localName:t}})}catch(e){}}e(ol,"InsertMenuLayout"),e(nl,"default")}();var il,al=(Xc=K.e.struct,Qc=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"activeButtonId",Zc,G()(o)),W()(o,"buttonSet",$c,G()(o)),W()(o,"toolbarState",el,G()(o)),W()(o,"refreshCount",tl,G()(o)),o._configAgent=u.U.get("configAgent"),o._pluginButtonRegistry=u.U.get("pluginButtonRegistry"),o._selectionInfoStore=u.U.get("selectionInfoStore");var n=t.state,r=void 0===n?{}:n;return o.buttonSet=Object(J.a)(r,"buttonSet",o.buttonSet),o.activeButtonId=Object(J.a)(r,"activeButtonId",o.activeButtonId),o.toolbarState=Object(J.a)(r,"toolbarState",o.toolbarState),o.useColorDetailFlag=!1!==o._configAgent.get("modules.colorPicker.config.useDetail"),o}h()(t,e);var o=t.prototype;return o.refresh=function(){this.refreshCount=(this.refreshCount+1)%1e3},o.deactivateAllButtons=function(){this.activeButtonId=""},o.toggleButton=function(e){var t=this.activeButtonId===e;this.activeButtonId=t?"":e},o.filterButtons=function(e){var t=this;return pt.a.trimForArray(e.filter(function(e){var o=t._pluginButtonRegistry.getButtonStyleName({compType:t.toolbarState.componentType,toolbarName:"contextToolbar",buttonName:e});return!t.disabledButtons.includes(o)}),"separator-bar")},o.highlight=function(e,t){if(e&&t)return ut.b.get(t,e)},o.updateHighlight=function(e){var t=this._configAgent.get("productConfig.highlight"),o=this.highlight(e.buttonName,t);o&&(e.highlight=o)},o.updateUserConfig=function(e){var t=e.buttonName;"font-color"!==t&&"background-color"!==t&&"cell-background-color"!==t&&"table-border"!==t||(e.useColorDetailFlag=this.useColorDetailFlag)},o.updateButtonSet=function(e){this.buttonSet.replace(e)},o.updateToolbarState=function(e){this.toolbarState=e},o.hide=function(){this._reset()},o._reset=function(){this.buttonSet.replace([])},at()(t,[{key:"disabledButtons",get:function(){var e=this;return["speller","translation"].filter(function(t){return!1===e._configAgent.get("productConfig."+t)})}},{key:"buttons",get:function(){var e=this,t=this.toolbarState.componentType;return this.filterButtons(this.buttonSet).map(function(o){var n=e._pluginButtonRegistry.getButtonInfo({compType:t,toolbarName:"contextToolbar",buttonName:o});return e.updateUserConfig(n),e.updateHighlight(n),rt()({value:Object(J.a)(e.toolbarState,n.propertyName)},n)})}},{key:"toolbarName",get:function(){return this.toolbarState.componentType}},{key:"isActivated",get:function(){var e=this._configAgent.get("productConfig.contextToolbar");if("object"==typeof e){var t=Object(J.a)(e,"allowComponents"),o=this.toolbarState.componentType;if(t&&t.length>0&&!t.includes(o))return!1}var n=Object(J.a)(this.toolbarState,"selectedUnitIds");return!(!n||2!==n.length)&&(n[0]===n[1]&&this.buttonSet.length>0)}}]),t}(u.w),Zc=q()(Qc.prototype,"activeButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$c=q()(Qc.prototype,"buttonSet",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),el=q()(Qc.prototype,"toolbarState",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),tl=q()(Qc.prototype,"refreshCount",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q()(Qc.prototype,"disabledButtons",[K.e],Object.getOwnPropertyDescriptor(Qc.prototype,"disabledButtons"),Qc.prototype),q()(Qc.prototype,"buttons",[Xc],Object.getOwnPropertyDescriptor(Qc.prototype,"buttons"),Qc.prototype),q()(Qc.prototype,"toolbarName",[K.e],Object.getOwnPropertyDescriptor(Qc.prototype,"toolbarName"),Qc.prototype),q()(Qc.prototype,"isActivated",[K.e],Object.getOwnPropertyDescriptor(Qc.prototype,"isActivated"),Qc.prototype),Qc),sl=al,cl=sl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/context-toolbar-layout/src/store/index.js",localName:t}})}catch(e){}}e(1e3,"LOOP_EDGE_COUNT"),e(al,"ContextToolbarLayoutStore"),e(sl,"default")}();var ll,ul=(il=function(e){function t(){var t;return(t=e.call(this)||this)._contextToolbarLayoutService=u.U.get("contextToolbarLayoutService"),t._toolbarService=u.U.get("toolbarService"),t._initializeReaction(),t}h()(t,e);var o=t.prototype;return o._initializeReaction=function(){var e=this;this._toolbarService.reactionOfToolbarState(function(t){var o=t.toolbarState,n=t.buttonSet;e._contextToolbarLayoutService.updateButtonSet(n),e._contextToolbarLayoutService.updateToolbarState(o)},"contextToolbar",{delay:7,compareStructural:!1})},o.toggleButton=function(e){this._contextToolbarLayoutService.toggleButton(e)},t}(u.m),q()(il.prototype,"toggleButton",[K.d],Object.getOwnPropertyDescriptor(il.prototype,"toggleButton"),il.prototype),il),pl=ul,dl=pl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/context-toolbar-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(ul,"ContextToolbarLayoutUseCase"),e(pl,"default")}();var hl=(ll=function(e){function t(t){var o;return(o=e.call(this,t)||this)._domAccessor=u.U.get("domAccessor"),o._contextToolbar=document.createElement("div"),o._toolbarSlot=null,o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._removeContextToolbar(),this._appendContextToolbar()},o.componentDidUpdate=function(){this._removeContextToolbar(),this._appendContextToolbar()},o.componentWillUnmount=function(){this._removeContextToolbar()},o.render=function(){var e=this.props,t=e.i18n,o=e.store,n=o.buttons,r=o.isActivated;o.refreshCount;if(!1===r)return null;var i=this._resolveToolbarClassName();return K.c.createPortal(K.b.createElement(ot.a,{className:i,namespace:tt.e.CONTEXT,i18n:t,buttons:n,logAreaId:"ct",activeButtonId:o.activeButtonId,onClickSelector:this._handleClickSelector}),this._contextToolbar)},o._handleClickSelector=function(e){this.props.useCase.toggleButton(e)},o._appendContextToolbar=function(){this._toolbarSlot=this._getToolbarSlot(),this._toolbarSlot&&(this._toolbarSlot.style.display="block",this._toolbarSlot.appendChild(this._contextToolbar),this.props.isFlexible&&this._resolveWrapperFlexibleStyle(this._toolbarSlot))},o._removeContextToolbar=function(){this._toolbarSlot&&this._toolbarSlot.hasChildNodes()&&(this._toolbarSlot.style.display="none",this._toolbarSlot.removeChild(this._contextToolbar))},o._resolveToolbarClassName=function(){var e=this.props.store,t=e.toolbarName,o=e.toolbarState;return et()("se-toolbar","se-context-toolbar","se-context-toolbar-"+t,o.selectedUnitIds,"__se-context-toolbar","__se-cursor-unrelated")},o._resolveWrapperFlexibleStyle=function(e){var t=e.querySelector(".__se-context-toolbar");if(t){var o=this._isRefineded();t.classList[o?"add":"remove"]("se-context-toolbar-edge")}},o._getToolbarSlot=function(){var e=this._getSelectedUnitId();return u.U.get("domAccessor").findToolbarSlot(e)},o._getSelectedUnitId=function(){var e=this.props.store.toolbarState.selectedUnitIds;if(e)return e[0]},o._isRefineded=function(){var e=this._getToolbarSlot();if(!e)return!1;var t=e.querySelector(".__se-context-toolbar"),o=e.closest(".__se-unit");if(!t||!o)return!1;var n=t.offsetWidth;return o.offsetWidth<n},t}(K.b.Component),q()(ll.prototype,"_handleClickSelector",[ee.autobind],Object.getOwnPropertyDescriptor(ll.prototype,"_handleClickSelector"),ll.prototype),ll);hl.defaultProps={i18n:function(e){return e}},hl.propTypes={i18n:K.a.func,store:K.a.instanceOf(cl).isRequired,useCase:K.a.instanceOf(dl).isRequired,isFlexible:K.a.bool};var fl=Object(Z.b)(hl),ml=fl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/context-toolbar-layout/src/view/index.jsx",localName:t}})}catch(e){}}e("se-context-toolbar-edge","EDGE_CLASS"),e(hl,"ContextToolbarLayoutView"),e(fl,"default")}();var gl=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.toggleButton=function(e){this._store.toggleButton(e)},o.hideAllLayers=function(){this._store.deactivateAllButtons()},o.updateToolbarState=function(e){this._store.updateToolbarState(e)},o.updateButtonSet=function(e){this._store.updateButtonSet(e)},o.refresh=function(){this._store.refresh()},o.hide=function(){this._store.hide()},t}(u.f),yl=gl,bl=yl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/context-toolbar-layout/src/service/index.js",localName:t}})}catch(e){}}e(gl,"ContextToolbarLayoutService"),e(yl,"default")}();var _l,vl,Cl,Sl,Ol,kl,Il=u.G.extend({name:"ContextToolbarLayout",view:ml,useCase:dl,service:bl,store:cl,setting:{config:{},state:{}}}),wl=Il,Pl=wl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/context-toolbar-layout/src/index.js",localName:t}})}catch(e){}}e(Il,"ContextToolbarLayout"),e(wl,"default")}();var jl=(_l=K.e.struct,vl=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"activeButtonId",Cl,G()(o)),W()(o,"position",Sl,G()(o)),W()(o,"buttonSet",Ol,G()(o)),W()(o,"toolbarState",kl,G()(o));var n=t.state,r=void 0===n?{}:n;return o._configAgent=u.U.get("configAgent"),o._pluginButtonRegistry=u.U.get("pluginButtonRegistry"),o._storage=u.U.get("storagePolicy"),o.activeButtonId=Object(J.a)(r,"activeButtonId",o.activeButtonId),o.position=Object(J.a)(r,"position",o.position),o.buttonSet=Object(J.a)(r,"buttonSet",o.buttonSet),o.toolbarState=Object(J.a)(r,"toolbarState",o.toolbarState),o.useColorDetailFlag=!1!==o._configAgent.get("modules.colorPicker.config.useDetail"),o.showBottom=!0===o._configAgent.get("productConfig.contentsToolbar.showBottom"),o}h()(t,e);var o=t.prototype;return o.deactivateAllButtons=function(){this.activeButtonId=""},o.toggleButton=function(e){var t=this.activeButtonId===e;this.activeButtonId=t?"":e},o.filterButtons=function(e){var t=this;return pt.a.trimForArray(e.filter(function(e){var o=t._pluginButtonRegistry.getButtonStyleName({compType:t.toolbarState.componentType,toolbarName:"contentsToolbar",buttonName:e});return!t.disabledButtons.includes(o)}),"separator-bar")},o.highlight=function(e,t){if(e&&t){var o=ut.b.get(t,e);return o&&(o.tooltip=!1),o}},o.updateHighlight=function(e){var t=this._configAgent.get("productConfig.highlight"),o=this.highlight(e.buttonName,t);o&&(e.highlight=o)},o.updateUserConfig=function(e){var t=e.compType,o=e.toolbarName,n=e.buttonName,r="plugins.componentSettings."+t+".config.toolbar."+o+"."+Object(lt.a)(n);e.buttonConfig=this._configAgent.get(r),"font-color"!==n&&"background-color"!==n&&"cell-background-color"!==n&&"table-border"!==n||(e.useColorDetailFlag=this.useColorDetailFlag)},o.updateStoragePolicy=function(e){if(e&&e.option&&e.option.storagePolicy){var t=e.option.storagePolicy,o=t.key,n=t.property,r=this._storage.get(o);e.option[n]=r,e.storageKey=o}},o.changeToolbarPosition=function(e){this.position.top=e.top||0,this.position.left=e.left||0,"boolean"==typeof e.collapsed&&(this.position.collapsed=e.collapsed)},o.updateToolbarState=function(e){this.toolbarState=e},o.updateButtonSet=function(e){this.buttonSet.replace(e)},at()(t,[{key:"disabledButtons",get:function(){var e=this;return["speller","translation"].filter(function(t){return!1===e._configAgent.get("productConfig."+t)})}},{key:"buttons",get:function(){var e=this;return this.filterButtons(this.buttonSet).map(function(t){var o=e._pluginButtonRegistry.getButtonInfo({compType:e.toolbarState.componentType,toolbarName:"contentsToolbar",buttonName:t});return e.updateUserConfig(o),e.updateHighlight(o),e.updateStoragePolicy(o),rt()({value:Object(J.a)(e.toolbarState,o.propertyName)},o)})}},{key:"isVisible",get:function(){var e=this.buttonSet,t=this.toolbarState,o=this.position,n=this._configAgent.get("productConfig.contentsToolbar"),r=Object(J.a)(n,"allowComponents"),i=t.componentType,a=t.selectionMode;return!(r&&r.length>0&&!r.includes(i))&&(e.length>0&&a===u.N.BLOCK&&!o.collapsed)}}]),t}(u.w),Cl=q()(vl.prototype,"activeButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Sl=q()(vl.prototype,"position",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{left:0,top:0,collapsed:!0}}}),Ol=q()(vl.prototype,"buttonSet",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kl=q()(vl.prototype,"toolbarState",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),q()(vl.prototype,"disabledButtons",[K.e],Object.getOwnPropertyDescriptor(vl.prototype,"disabledButtons"),vl.prototype),q()(vl.prototype,"buttons",[_l],Object.getOwnPropertyDescriptor(vl.prototype,"buttons"),vl.prototype),q()(vl.prototype,"isVisible",[K.e],Object.getOwnPropertyDescriptor(vl.prototype,"isVisible"),vl.prototype),vl),Tl=jl,Ll=Tl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/store/index.js",localName:t}})}catch(e){}}e(jl,"ContentsToolbarLayoutStore"),e(Tl,"default")}();var El,Nl,xl=o(127),Dl=(El=function(e){function t(){var t;return(t=e.call(this)||this)._contentsToolbarLayoutService=u.U.get("contentsToolbarLayoutService"),t._toolbarService=u.U.get("toolbarService"),t._initializeReaction(),t}h()(t,e);var o=t.prototype;return o._initializeReaction=function(){var e=this;this._toolbarService.reactionOfToolbarState(function(t){var o=t.toolbarState,n=t.buttonSet;e._contentsToolbarLayoutService.updateButtonSet(n),e._contentsToolbarLayoutService.updateToolbarState(o)},"contentsToolbar",{delay:5})},o.toggleButton=function(e){this._contentsToolbarLayoutService.toggleButton(e)},o.updateContentsToolbarPosition=function(){this._contentsToolbarLayoutService.updateContentsToolbarPosition({})},t}(u.m),q()(El.prototype,"toggleButton",[K.d],Object.getOwnPropertyDescriptor(El.prototype,"toggleButton"),El.prototype),q()(El.prototype,"updateContentsToolbarPosition",[K.d],Object.getOwnPropertyDescriptor(El.prototype,"updateContentsToolbarPosition"),El.prototype),El);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/use-case/index.js",localName:t}})}catch(e){}}(Dl,"ContentsToolbarLayoutUseCase")}();var Rl=(Nl=function(e){function t(t){var o;return(o=e.call(this,t)||this)._resize=Object(xl.a)(function(){o.props.useCase.updateContentsToolbarPosition()},50,{leading:!1}),o._domAccessor=u.U.get("domAccessor"),o._currentRef=K.b.createRef(),o._position={top:0,left:0},o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){window.addEventListener("resize",this._resize)},o.componentDidUpdate=function(){var e=this._currentRef.current;if(e&&this._shouldUpdatePosition(e)){var t=this._resolveWrapperPosition(e);this._resolveWrapperFlexibleStyle(e,t)}},o.componentWillUnmount=function(){window.removeEventListener("resize",this._resize)},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.toolbarState;if(!t.isVisible)return null;var r=this._resolveWrapperClassName();return K.b.createElement("div",{className:r,ref:this._currentRef},K.b.createElement(ot.a,{className:"se-toolbar se-contents-toolbar se-contents-toolbar-"+n.componentType,namespace:tt.e.CONTENTS,buttons:t.buttons,i18n:o,logAreaId:"ct",activeButtonId:t.activeButtonId,onClickSelector:this._handleClickSelector}))},o._getScrollElement=function(){return this._domAccessor.getScrollTarget()},o._getCanvasWrapperWidth=function(){return this._domAccessor.getCanvas().offsetWidth},o._handleClickSelector=function(e){this.props.useCase.toggleButton(e)},o._resolveWrapperClassName=function(){var e=this.props.store,t=e.isVisible;return e.position.left,et()({"__se-cursor-unrelated":!0,"se-contents-toolbar-wrap":!0,"se-is-on":t})},o._resolveWrapperFlexibleStyle=function(e,t){e.style.top=t.top+"px",e.style.left=t.left+"px";var o=t.isOverflowLeft||t.isOverflowRight;e.classList[o?"add":"remove"]("se-contents-toolbar-wrap-edge"),t.isOverflowRight&&e.classList.add("se-contents-toolbar-wrap-edge-right")},o._resolveWrapperPosition=function(e){return this.props.isFlexible?this._refineEmbedPosition(e):this._refineFullscreenPosition(e)},o._refineFullscreenPosition=function(e){return this._resolveDefaultPosition(e)},o._refineEmbedPosition=function(e){var t=this._resolveDefaultPosition(e),o=e.offsetWidth,n=t.top,r=t.left,i=this._getContentAndScrollTarget(),a=i.bodyScroll,s=i.contentTarget,c=i.scrollTarget;if(a){var l=s.getBoundingClientRect(),u=sc.a.getScrollTop(c);r-=l.left,n=n-u-l.top}var p=this._getCanvasWrapperWidth(),d=r<0,h=r+o>p;if(r=Math.max(r,10),d&&(r=10),h){var f=r+o-p;r=Math.max(r-f-10,10)}return{top:n,left:r,isOverflowLeft:d,isOverflowRight:h}},o._resolveDefaultPosition=function(e){var t=this.props.store.position,o=t.top,n=t.left,r=this._getScrollElement(),i=r.getBoundingClientRect(),a=sc.a.getScrollTop(r),s={top:o-i.top+a,left:n-i.left-e.offsetWidth/2};return this.props.stickyHeader&&(s.top=s.top-this._resolveFixedHeaderTop()),s},o._resolveFixedHeaderTop=function(){var e=this._domAccessor.getHeader();return e.offsetHeight+parseInt(getComputedStyle(e).top,10)},o._shouldUpdatePosition=function(e){var t=e.style,o=t.top,n=t.left,r=this.props.store.position,i=r.top,a=r.left;return(this._position.top!==i||this._position.left!==a||!o||!n)&&(this._position.top=i,this._position.left=a,!0)},o._getContentAndScrollTarget=function(){var e=this._getScrollElement(),t=e===document.body;return{bodyScroll:t,contentTarget:t?this._domAccessor.getCanvas():this._domAccessor.getBodyContainer(),scrollTarget:t?window:e}},t}(K.b.Component),q()(Nl.prototype,"_handleClickSelector",[ee.autobind],Object.getOwnPropertyDescriptor(Nl.prototype,"_handleClickSelector"),Nl.prototype),Nl);Rl.defaultProps={children:null,i18n:function(e){return e}},Rl.propTypes={children:K.a.oneOfType([K.a.arrayOf(K.a.element),K.a.element]),i18n:K.a.func,useCase:K.a.instanceOf(Dl).isRequired,store:K.a.instanceOf(Ll).isRequired,isFlexible:K.a.bool,stickyHeader:K.a.bool};var Al=Object(Z.b)(Rl),Ul=Al;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(10,"TOOLBAR_LEFT_MIN_MARGIN"),e(Rl,"ContentsToolbarLayoutView"),e(Al,"default")}();var Ml=function(e){function t(t){var o;return(o=e.call(this,t)||this)._virtualEditable=u.U.get("virtualEditable"),o}h()(t,e);var o=t.prototype;return o.toggleButton=function(e){this._store.toggleButton(e)},o.hideAllLayers=function(){this._store.deactivateAllButtons(),this._store.updateButtonSet([])},o.hide=function(){this._store.changeToolbarPosition({collapsed:!0})},o.updateToolbarState=function(e){this._store.updateToolbarState(e),this.updateContentsToolbarPosition({clientRects:this._virtualEditable.getClientRects()})},o.updateButtonSet=function(e){this._store.updateButtonSet(e),this.updateContentsToolbarPosition({clientRects:this._virtualEditable.getClientRects()})},o.updateCollapsed=function(e){this._store.changeToolbarPosition({collapsed:e})},o.updateContentsToolbarPosition=function(e){var t=e.clientRects,o=void 0===t?this._virtualEditable.getClientRects():t,n=e.range,r=void 0===n?{}:n,i=this._calculatePosition(o,r);i&&this._store.changeToolbarPosition(i)},o._calculatePosition=function(e,t){if(Object(st.a)(e))return null;var o=this._store.showBottom?Object(kc.a)(e):Object(mo.a)(e),n=o.left,r=o.top,i=o.bottom,a=o.width/2+n;return{top:this._store.showBottom?i:r,left:a,collapsed:t.collapsed}},t}(u.f),Bl=Ml,Fl=Bl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/service/index.js",localName:t}})}catch(e){}}e(Ml,"ContentsToolbarService"),e(Bl,"default")}();var zl,Wl,Vl=o(106),Gl=(zl=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"contentBold:title_inactive",active:"contentBold:title_active"}:n,i=e.className,a=void 0===i?"text-bold":i,s=e.label,c=void 0===s?"contentBold:label":s,l=e.logId,u=void 0===l?"bold":l,p=Ja()(e,["type","title","className","label","logId"]);return K.b.createElement(Vl.a,xc()({type:o,title:r,className:a,label:c,logId:u},p,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggleBold(e)},t}(K.b.Component),q()(zl.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(zl.prototype,"_handleChange"),zl.prototype),zl),Hl=Gl,ql=Hl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/buttons/view/bold-button-view.jsx",localName:t}})}catch(e){}}e(Gl,"BoldButtonView"),e(Hl,"default")}();var Jl=(Wl=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"contentItalic:title_inactive",active:"contentItalic:title_active"}:n,i=e.className,a=void 0===i?"text-italic":i,s=e.label,c=void 0===s?"contentItalic:label":s,l=e.logId,u=void 0===l?"italic":l,p=Ja()(e,["type","title","className","label","logId"]);return K.b.createElement(Vl.a,xc()({type:o,title:r,className:a,label:c,logId:u},p,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggleItalic(e)},t}(K.b.Component),q()(Wl.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(Wl.prototype,"_handleChange"),Wl.prototype),Wl),Kl=Jl,Yl=Kl;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/buttons/view/italic-button-view.jsx",localName:t}})}catch(e){}}e(Jl,"ItalicButtonView"),e(Kl,"default")}();var Xl,Ql=o(192),Zl=o(397),$l=(Xl=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.CUSTOM_LAYER:t,n=e.title,r=void 0===n?{inactive:"contentLink:title_inactive",active:"contentLink:title_active"}:n,i=e.label,a=void 0===i?"contentLink:label":i,s=e.labelVisible,c=void 0!==s&&s,l=e.selectIfHasValue,u=void 0===l||l,p=e.onValidateValue,d=void 0===p?ao.a.hasValue:p,h=e.custom,f=void 0===h?{CustomLayer:Zl.a,customProps:{placeholder:"contentLink:placeholder"}}:h,m=e.logId,g=void 0===m?"urllink":m,y=Ja()(e,["type","title","label","labelVisible","selectIfHasValue","onValidateValue","custom","logId"]);return K.b.createElement(Ql.a,xc()({type:o,title:r,label:a,labelVisible:c,selectIfHasValue:u,onValidateValue:d,custom:f,logId:g},y,{onClick:this._handleClick,onChange:this._handleChange}))},o._handleClick=function(e){this.props.onClickSelector(e)},o._handleChange=function(e){this.props.useCase.changeLink(e),this.props.onClickSelector(e)},t}(K.b.Component),q()(Xl.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Xl.prototype,"_handleClick"),Xl.prototype),q()(Xl.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(Xl.prototype,"_handleChange"),Xl.prototype),Xl),eu=$l,tu=eu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/buttons/view/link-button-view.jsx",localName:t}})}catch(e){}}e($l,"LinkButtonView"),e(eu,"default")}();var ou=o(267),nu=o(704),ru={bold:{view:ql,useCase:ou.a,propertyName:"bold",styleName:"bold"},italic:{view:Yl,useCase:ou.a,propertyName:"italic",styleName:"italic"},link:{view:tu,useCase:nu.a,propertyName:"link",styleName:"link"}},iu=ru;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(ru,"default")}();var au={contentsToolbar:{bold:iu.bold,italic:iu.italic,link:iu.link}},su=au;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/contents-toolbar-button-set-map.js",localName:t}})}catch(e){}}(au,"default")}();var cu=function(e){function t(){return e.call(this,{buttonSetMap:su})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/toolbar/index.js",localName:t}})}catch(e){}}(cu,"ContentsToolbarLayoutToolbar")}();var lu,uu,pu=u.G.extend({name:"ContentsToolbarLayout",view:Ul,useCase:Dl,service:Fl,store:Ll,toolbar:cu}),du=pu,hu=du;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/contents-toolbar-layout/src/index.js",localName:t}})}catch(e){}}e(pu,"ContentsToolbarLayout"),e(du,"default")}();var fu=(lu=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"viewMode",uu,G()(o)),o.documentWidth=null;var n=t.state,r=void 0===n?{}:n;return o.viewMode=Object(J.a)(r,"viewMode",o.viewMode),o.documentWidth=u.U.get("configAgent").get("productConfig.documentWidth"),o._componentListStore=u.U.get("componentListStore"),o._dragAndDropStore=u.U.get("dragAndDropStore"),o._selectionInfoStore=u.U.get("selectionInfoStore"),o}return h()(t,e),t.prototype.changeViewMode=function(e){this.viewMode=e},at()(t,[{key:"componentList",get:function(){return this._componentListStore}},{key:"dragAndDrop",get:function(){return this._dragAndDropStore}},{key:"selectionInfo",get:function(){return this._selectionInfoStore}},{key:"themeName",get:function(){return u.U.get("themeStore").themeName}},{key:"hasLastText",get:function(){var e=Object(kc.a)(this._componentListStore.compList);return!!e&&"text"===e.ctype}}]),t}(u.w),uu=q()(lu.prototype,"viewMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.S.VIEW_MODE_PC}}),q()(lu.prototype,"componentList",[K.e],Object.getOwnPropertyDescriptor(lu.prototype,"componentList"),lu.prototype),q()(lu.prototype,"dragAndDrop",[K.e],Object.getOwnPropertyDescriptor(lu.prototype,"dragAndDrop"),lu.prototype),q()(lu.prototype,"selectionInfo",[K.e],Object.getOwnPropertyDescriptor(lu.prototype,"selectionInfo"),lu.prototype),q()(lu.prototype,"themeName",[K.e],Object.getOwnPropertyDescriptor(lu.prototype,"themeName"),lu.prototype),q()(lu.prototype,"hasLastText",[K.e],Object.getOwnPropertyDescriptor(lu.prototype,"hasLastText"),lu.prototype),lu),mu=fu,gu=mu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/store/index.js",localName:t}})}catch(e){}}e(fu,"CanvasLayoutStore"),e(mu,"default")}();var yu=o(87),bu=function(){function e(){this._jobQueue=[],this._isProgress=!1}var t=e.prototype;return t.add=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this._makeJob(t),this._addJob(o),!this._isProgress){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this._nextTick();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._nextTick=function(){var e=Zt()(Xt.a.mark(function e(){var t;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._nextJob())){e.next=7;break}return this._isProgress=!0,e.next=5,this._doWork(t);case 5:e.next=8;break;case 7:this._isProgress=!1;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._doWork=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.call(this);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._addJob=function(e){this._jobQueue.push(e)},t._nextJob=function(){return this._jobQueue.shift()},t._makeJob=function(e){var t=this;return Zt()(Xt.a.mark(function o(){return Xt.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,e.call(t);case 2:return o.next=4,t._nextTick();case 4:case"end":return o.stop()}},o)}))},e}(),_u=bu,vu=_u;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/async-task-queue/index.js",localName:t}})}catch(e){}}e(bu,"AsyncTaskQueue"),e(_u,"default")}();var Cu=function(){function e(){this._componentListStore=u.U.get("componentListStore"),this._editorStatusStore=u.U.get("editorStatusStore"),this._deviceType=u.U.get("configAgent").get("productEnv.deviceType")||"",this._taskQueue=new vu,this._editingService=u.U.get("editingService"),this._crawlerService=u.U.get("crawlerService"),this._loadingProgressLayoutService=u.U.get("loadingProgressLayoutService"),this._eventDispatcherService=u.U.get("eventDispatcherService"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this.insertContentsFromUrl=Object(yu.a)(this.insertContentsFromUrl,1e3,{leading:!0,trailing:!1})}var t=e.prototype;return t.insertContentsFromUrl=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isCrawlerAllowed()||!t){e.next=5;break}return e.next=4,this._insertContentsFromUrl(t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._insertContentsFromUrl=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n=this;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._beforeCrawling(),e.next=3,this._taskQueue.add(Zt()(Xt.a.mark(function e(){var r,i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n._crawlerService.crawlFrom(t);case 3:if(r=e.sent){e.next=7;break}return n._afterCrawling(),e.abrupt("return");case 7:i=[r],a=n._selectionInfoStore.toValidJSON(),(s=n._deviceType!==u.t.MOBILE?n._editingService.insert({sourceComponents:i,selectionInfo:a}):n._editingService.insertWithNewText({sourceComponents:i,selectionInfo:a})).errorMsg&&(o=s.errorMsg),n._afterCrawling(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),n._afterCrawling();case 17:case"end":return e.stop()}},e,null,[[0,14]])})));case 3:return e.abrupt("return",o);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._isCrawlerAllowed=function(){var e=this._selectionInfoStore.start,t=e.compId,o=e.unitId,n=this._componentListStore.getComponentById(t).getStoreById(o);return"text"===n.attributes.insertion&&n.isLinkAllowed()&&!1===n.isListParagraphByPoint(e)},t._beforeCrawling=function(){this._editorStatusStore.busy(),this._eventDispatcherService.emit(u.z.IN_PROGRESS),this._loadingProgressLayoutService&&this._loadingProgressLayoutService.show()},t._afterCrawling=function(){this._editorStatusStore.idle(),this._eventDispatcherService.emit(u.z.PROGRESS_COMPLETED),this._loadingProgressLayoutService&&this._loadingProgressLayoutService.hide()},e}();!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/behavior/crawler-behavior.js",localName:t}})}catch(e){}}(Cu,"CrawlerBehavior")}();var Su,Ou,ku,Iu,wu,Pu,ju,Tu,Lu,Eu,Nu=o(259),xu=o(37),Du=o(129),Ru=(Su=Object(ee.history)({sync:!1}),Ou=Object(ee.history)({sync:!1}),ku=Object(ee.history)({sync:!1}),Iu=Object(ee.history)({sync:!1}),wu=Object(ee.history)({throttle:!0}),Pu=Object(ee.command)(xu.a.COMMON.INSERT_COMPONENTS),ju=Object(ee.command)(xu.a.COMMON.PREPEND_COMPONENTS),Tu=Object(ee.command)(xu.a.COMMON.APPEND_COMPONENTS),Lu=Object(ee.history)({overwriteSelection:!0}),Eu=function(e){function t(){var t;return(t=e.call(this)||this)._eventDispatcherService=u.U.get("eventDispatcherService"),t._insertMenuLayoutService=u.U.get("insertMenuLayoutService"),t._copyPasteService=u.U.get("copyPasteService"),t._finderService=u.U.get("finderService"),t._configAgent=u.U.get("configAgent"),t._editingService=u.U.get("editingService"),t._virtualEditable=u.U.get("virtualEditable"),t._documentService=u.U.get("documentService"),t._canvasLayoutService=u.U.get("canvasLayoutService"),t._selectionService=u.U.get("selectionService"),t._toastLayerService=u.U.get("toastLayerService"),t._contentsToolbarLayoutService=u.U.get("contentsToolbarLayoutService"),t._contextToolbarLayoutService=u.U.get("contextToolbarLayoutService"),t._loadingLayerService=u.U.get("loadingLayerService"),t._canvasScrollingService=u.U.get("canvasScrollingService"),t._contextmenuLayerService=u.U.get("contextmenuLayerService"),t._historyService=u.U.get("historyService"),t._i18n=u.U.get("i18n"),t._alertLayerService=u.U.get("alertLayerService"),t._selectionInfoStore=u.U.get("selectionInfoStore"),t._componentListStore=u.U.get("componentListStore"),t._imageBehavior=u.U.get("imageBehavior"),t._crawlerBehavior=new Cu,t._allowSameFontAndBackgroundColor=!1!==t._configAgent.get("productConfig.allowSameFontAndBackgroundColor"),t}h()(t,e);var o=t.prototype;return o.__ON_LAZY__=function(){var e;this._canvasLayoutService.attachEvents(((e={})[u.Q.CHANGE_VALUE]=this._handleChangeValue.bind(this),e[u.Q.LEAVE_UNIT]=this._handleLeaveUnit.bind(this),e[u.Q.SELECTING_BY_MOUSE]=this._handleSelectingByMouse.bind(this),e[u.Q.SELECT_END]=this._handleSelectend.bind(this),e[u.Q.PASTE]=this._handlePaste.bind(this),e[u.Q.AFTER_PASTE]=this._handleAfterPaste.bind(this),e[u.Q.CUT]=this._handleCut.bind(this),e[u.Q.COPY]=this._handleCopy.bind(this),e[u.Q.CHANGE_CURSOR]=Object(yu.a)(this._handleChangeCursor.bind(this),100),e[u.Q.GLOBAL.MOUSEUP]=this._handleMouseUp.bind(this),e)),this._eventDispatcherService.on(u.z.INPUT,this._handleInput.bind(this)),this._eventDispatcherService.on(u.z.CONTENT_COUNT_TARGET_BLURRED,this._handleCountTargetBlur.bind(this)),this._eventDispatcherService.on(u.z.CONTENT_COUNT_TARGET_FOCUSED,this._handleCountTargetFocus.bind(this))},o._handleInput=function(){if(this._canvasLayoutService.shouldUpdateContentLength()){var e=this._selectionInfoStore.focus.compId;this._canvasLayoutService.setAvailableContentLength(e)}},o._handleCountTargetBlur=function(e){this._canvasLayoutService.resetAvailableContentLength(e)},o._handleCountTargetFocus=function(e){this._canvasLayoutService.setAvailableContentLength(e)},o._handleChangeCursor=function(e){var t=e.clientRects,o=e.collapsed,n=e.isDropCursor;this._insertMenuLayoutService&&this._insertMenuLayoutService.moveTo(t),!n&&this._eventDispatcherService.dispatch(u.z.SELECTION_CHANGE),this._contentsToolbarLayoutService&&(n?this._contentsToolbarLayoutService.hide():this._dragAndDropService.isUpdateReadySelection()&&(this._contentsToolbarLayoutService.updateContentsToolbarPosition({clientRects:t,range:{collapsed:o}}),this._dragAndDropService.setUpdateReadySelection(!1))),this._selectionInfoStore.shouldBlur&&(this._virtualEditable.blur(),this._selectionInfoStore.setShouldBlur(!1))},o._handleCopy=function(){var e=this._finderService.getCompStoresWithinSelection();this._copyPasteService.copy(e)},o._handleCut=function(){var e=this._finderService.getCompStoresWithinSelection();this._copyPasteService.copy(e)&&this._editingService.erase(void 0,u.u.LEFT)},o._handlePaste=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s,c,l;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!yr.a.IS_IE){e.next=2;break}return e.abrupt("return");case 2:if(t.preventDefault(),o=this._copyPasteService.checkClipboardData(t),n=o.isCopiedEditorData,r=o.isCaptureImage,i=o.isOldEditorData,a=o.isOnlyText,!r){e.next=8;break}return e.next=7,this._insertCaptureImage(t);case 7:return e.abrupt("return");case 8:if(this._loadingLayerService.open("transparent",100),e.prev=9,!i){e.next=16;break}return s=this._copyPasteService.getHTMLClipboardData(t),e.next=14,this._insertOldEditorData(s);case 14:e.next=34;break;case 16:if(!n){e.next=21;break}return e.next=19,this._insertCopiedEditorData();case 19:e.next=34;break;case 21:if(!a){e.next=29;break}return e.next=24,this._copyPasteService.parseText(t);case 24:return c=e.sent,e.next=27,this._insertExternalData(c);case 27:e.next=34;break;case 29:return e.next=31,this._copyPasteService.parseResourceByEvent(t);case 31:return l=e.sent,e.next=34,this._insertExternalData(l);case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(9),e.t0.failed&&this._showServerErrorAlert();case 40:return e.prev=40,this._loadingLayerService.close(),e.finish(40);case 43:case"end":return e.stop()}},e,this,[[9,36,40,43]])}));return function(t){return e.apply(this,arguments)}}(),o._insertOldEditorData=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._copyPasteService.getOldEditorData(t);case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:if(0!==(o=e.t0).length){e.next=8;break}return e.abrupt("return");case 8:n=this._editingService.insertByInternalPaste({sourceComponents:o}),r=n.errorMsg,this._showWarning(r);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertCopiedEditorData=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._copyPasteService.getCopiedEditorData();case 2:if(e.t0=e.sent,e.t0){e.next=5;break}e.t0=[];case 5:if(0!==(t=e.t0).length){e.next=8;break}return e.abrupt("return");case 8:o=this._editingService.insertByInternalPaste({sourceComponents:t}),n=o.errorMsg,this._showWarning(n);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._insertCaptureImage=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._copyPasteService.getClipboardData(t);case 2:return o=e.sent,e.next=5,this._imageBehavior.insertImage({validFiles:o,invalidFiles:[]});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertExternalData=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:if(o=t.sourceComponents,n=t.url,r=t.dataURIImage,0!==o.length){e.next=5;break}return e.abrupt("return");case 5:if(!r||!r.length){e.next=8;break}return e.next=8,this._imageBehavior.insertImage({validFiles:[r]});case 8:if(this._checkComponentStyle(o),i=this._editingService.insertByExternalPaste({sourceComponents:o}),a=i.errorMsg,!n){e.next=14;break}return e.next=13,this._crawlerBehavior.insertContentsFromUrl(n);case 13:a=e.sent;case 14:this._showWarning(a);case 15:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._handleAfterPaste=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(yr.a.IS_IE&&t){e.next=2;break}return e.abrupt("return");case 2:if(this._loadingLayerService.open("transparent",100),e.prev=3,o=this._configAgent.get("productConfig.uploadIECaptureImageEnabled")||!1,!this._copyPasteService.isCopiedEditorData(t)){e.next=10;break}return e.next=8,this._insertCopiedEditorData();case 8:e.next=27;break;case 10:if(!this._copyPasteService.isOldEditorData(t)){e.next=15;break}return e.next=13,this._insertOldEditorData(t);case 13:e.next=27;break;case 15:if(!o||!this._copyPasteService.isIECaptureImage(t)){e.next=22;break}if(n=t.match(/(data:image.+)/g)||[],!(r=n[0])||!r.length){e.next=20;break}return e.next=20,this._imageBehavior.insertImage({validFiles:[r]});case 20:e.next=27;break;case 22:return e.next=24,this._copyPasteService.parseResourceByPastedData(t);case 24:return i=e.sent,e.next=27,this._insertExternalData(i);case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(3),e.t0.failed&&this._showServerErrorAlert();case 33:return e.prev=33,this._loadingLayerService.close(),e.finish(33);case 36:case"end":return e.stop()}},e,this,[[3,29,33,36]])}));return function(t){return e.apply(this,arguments)}}(),o._handleLeaveUnit=function(e){this._changeCursorByKey(e)&&e.event.preventDefault(),this._contextToolbarLayoutService&&"mousemove"!==e.event.type&&this._contextToolbarLayoutService.hide()},o._handleSelectingByMouse=function(e){this._canvasScrollingService.scrollPage(e)},o._handleMouseUp=function(){this._canvasScrollingService.forceStopAutoScroll()},o._handleChangeValue=function(e){if(this._editingService.isCursorMode()||this._editingService.isBlockMode())this._writeWithTransaction(e);else{var t=this._editingService.write(e);this._showWarning(t)}this._eventDispatcherService.emit(u.z.INPUT,e)},o._writeWithTransaction=function(e){var t=this._editingService.write(e);this._showWarning(t)},o.destroy=function(){this._canvasLayoutService.destroyVirtualEditable()},o.refresh=function(){this._canvasLayoutService.refreshVirtualEditable()},o.toggleMultiSelection=function(e){this._canvasLayoutService.toggleMultiSelection(e)},o.insertTextComp=function(e,t){this._editingService.insertTextCompPositionById(t,e)},o.insertComponentsCommand=function(e){var t=e.data,o=e.option,n=void 0===o?{}:o,r=t.components;try{this._editingService.insertComponentsWithData(this._documentService.convertComponents(r),rt()({},n,{forceRefine:!0}))}catch(e){console.error(e)}},o.prependComponentsCommand=function(e){var t=e.data,o=e.option,n=void 0===o?{}:o,r=t.components,i=n.compId,a=n.newLine,s=void 0===a||a,c=Object(Du.a)(n,["compId","newLine"])||{},l=i?this._componentListStore.getComponentById(i):this._componentListStore.getComponentByIndex(this._componentListStore.getFirstContentsIndex());if(l){var u=l.getStartPoint();u&&this._selectionInfoStore.setRange({start:u,end:u})}try{this._editingService.insertComponentsWithData(this._documentService.convertComponents(r),rt()({},c,{commandType:"prepend",disableMerge:s,forceRefine:!0}))}catch(e){console.error(e)}},o.appendComponentsCommand=function(e){var t=e.data,o=e.option,n=void 0===o?{}:o,r=t.components,i=n.compId,a=n.newLine,s=void 0===a||a,c=Object(Du.a)(n,["compId","newLine"])||{},l=i?this._componentListStore.getComponentById(i):this._componentListStore.getLastComponent();if(l){var u=l.getEndPoint();u&&this._selectionInfoStore.setRange({start:u,end:u})}try{this._editingService.insertComponentsWithData(this._documentService.convertComponents(r),rt()({},c,{commandType:"append",disableMerge:s,forceRefine:!0}))}catch(e){console.error(e)}},o._handleSelectend=function(e){this._canvasScrollingService.forceStopAutoScroll();var t=e.destination,o=e.clientRects,n=e.range,r=t.focus;n.collapsed&&(this._editingService.refineEmptyNodeInParagraph(r)&&e.preventDefault());this._contentsToolbarLayoutService&&this._contentsToolbarLayoutService.updateContentsToolbarPosition({clientRects:o,range:n})},o._changeCursorByKey=function(e){var t=e.event,o=e.direction,n=e.destination,r=e.isShrink,i=e.collapsed,a=t.type,s=n.anchor,c=n.focus;return!0===this._selectionService.isCurrentAnchorUnitId(s.unitId)&&!1===i?this._selectionService.selectAsBlock({direction:o,toPoint:c,eventType:a,isShrink:r}):this._selectionService.moveCursor({direction:o,toPoint:c,eventType:a})},o._showWarning=function(e){e&&this._toastLayerService.warningMessage(e)},o.showContextMenu=function(e){if(this._contextmenuLayerService){var t=e.target,o=e.clientX,n=e.clientY;if(sc.a.isFocusableInputElement(t))return;this._contextmenuLayerService.open({top:n,left:o,selectAllable:this._selectionService.isSelectAllable(),undoable:this._historyService.isUndoable(),redoable:this._historyService.isRedoable(),saveAsUrl:this._getSaveAsUrlByEvent(e)}),e.preventDefault()}},o._getSaveAsUrlByEvent=function(e){var t=e.target;if(!t)return null;var o=t.classList.contains("se-image-resource"),n=t.classList.contains("se-inline-image-resource");if("IMG"===t.tagName&&(o||n)){var r=e.target.src,i=r;if(r.indexOf("?type=")>0||n)i=r.split("?type=")[0]+"?attachment";return i}return null},o._showServerErrorAlert=function(){this._alertLayerService.open({type:"alert",title:this._i18n("canvasLayout:paste_failed_title"),description:this._i18n("canvasLayout:paste_failed_desc")})},o._checkComponentStyle=function(e){var t=this;this._allowSameFontAndBackgroundColor||e.forEach(function(e){"text"===e.ctype&&e.getText().traverseNodes(function(e){var o=e.style,n=o.fontColor,r=o.backgroundColor;n&&n===r&&(o.backgroundColor="",t._toastLayerService.warningMessage(t._i18n("colorPickerButton:specify_different_color")))})})},t}(Nu.a),q()(Eu.prototype,"_handleChangeCursor",[K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"_handleChangeCursor"),Eu.prototype),q()(Eu.prototype,"_handleCopy",[ee.preventOnComponentProcessing,K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"_handleCopy"),Eu.prototype),q()(Eu.prototype,"_handleCut",[ee.preventOnComponentProcessing,ee.history,K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"_handleCut"),Eu.prototype),q()(Eu.prototype,"_handlePaste",[ee.preventOnComponentProcessing],Object.getOwnPropertyDescriptor(Eu.prototype,"_handlePaste"),Eu.prototype),q()(Eu.prototype,"_insertOldEditorData",[K.d,Su],Object.getOwnPropertyDescriptor(Eu.prototype,"_insertOldEditorData"),Eu.prototype),q()(Eu.prototype,"_insertCopiedEditorData",[K.d,Ou],Object.getOwnPropertyDescriptor(Eu.prototype,"_insertCopiedEditorData"),Eu.prototype),q()(Eu.prototype,"_insertCaptureImage",[K.d,ku],Object.getOwnPropertyDescriptor(Eu.prototype,"_insertCaptureImage"),Eu.prototype),q()(Eu.prototype,"_insertExternalData",[K.d,Iu],Object.getOwnPropertyDescriptor(Eu.prototype,"_insertExternalData"),Eu.prototype),q()(Eu.prototype,"_handleAfterPaste",[ee.preventOnComponentProcessing,K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"_handleAfterPaste"),Eu.prototype),q()(Eu.prototype,"_handleLeaveUnit",[K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"_handleLeaveUnit"),Eu.prototype),q()(Eu.prototype,"_handleSelectingByMouse",[K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"_handleSelectingByMouse"),Eu.prototype),q()(Eu.prototype,"_handleMouseUp",[K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"_handleMouseUp"),Eu.prototype),q()(Eu.prototype,"_handleChangeValue",[ee.preventOnComponentProcessing,K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"_handleChangeValue"),Eu.prototype),q()(Eu.prototype,"_writeWithTransaction",[wu],Object.getOwnPropertyDescriptor(Eu.prototype,"_writeWithTransaction"),Eu.prototype),q()(Eu.prototype,"destroy",[K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"destroy"),Eu.prototype),q()(Eu.prototype,"refresh",[K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"refresh"),Eu.prototype),q()(Eu.prototype,"insertTextComp",[ee.history,K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"insertTextComp"),Eu.prototype),q()(Eu.prototype,"insertComponentsCommand",[Pu,ee.history,K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"insertComponentsCommand"),Eu.prototype),q()(Eu.prototype,"prependComponentsCommand",[ju,ee.history,K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"prependComponentsCommand"),Eu.prototype),q()(Eu.prototype,"appendComponentsCommand",[Tu,ee.history,K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"appendComponentsCommand"),Eu.prototype),q()(Eu.prototype,"_handleSelectend",[K.d,Lu],Object.getOwnPropertyDescriptor(Eu.prototype,"_handleSelectend"),Eu.prototype),q()(Eu.prototype,"_showWarning",[K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"_showWarning"),Eu.prototype),q()(Eu.prototype,"showContextMenu",[K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"showContextMenu"),Eu.prototype),q()(Eu.prototype,"_showServerErrorAlert",[K.d],Object.getOwnPropertyDescriptor(Eu.prototype,"_showServerErrorAlert"),Eu.prototype),Eu),Au=Ru,Uu=Au;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(Ru,"CanvasLayoutUseCase"),e(Au,"default")}();var Mu,Bu=o(1228),Fu=(Mu=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.i18n,o=e.dragAndDrop,n=e.isClickable,r=o.isCanvasBottomActivated,i=et()({"se-canvas-bottom":!0,"se-is-clickable-canvas-bottom-button":n}),a=et()({"se-drop-indicator":!0,"se-drop-indicator-bottom":r});return K.b.createElement("div",{className:i,onDragOver:this._handleDragOver,onClick:this._handleClick},K.b.createElement("button",{type:"button",className:"se-canvas-bottom-button __edge-area"},K.b.createElement("span",{className:"se-blind"},t("canvasLayout:addText"))),K.b.createElement("div",{className:a}))},o._handleClick=function(e){this.props.onClick(e)},o._handleDragOver=function(e){this.props.onDragOver(e)},t}(K.b.Component),q()(Mu.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Mu.prototype,"_handleClick"),Mu.prototype),q()(Mu.prototype,"_handleDragOver",[ee.autobind],Object.getOwnPropertyDescriptor(Mu.prototype,"_handleDragOver"),Mu.prototype),Mu);Fu.defaultProps={onClick:function(){},onDragOver:function(){},isClickable:!1},Fu.propTypes={onClick:K.a.func,onDragOver:K.a.func,isClickable:K.a.bool,dragAndDrop:K.a.instanceOf(Bu.a).isRequired,i18n:K.a.func.isRequired};var zu=Object(Z.b)(Fu),Wu=zu;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/view/canvas-bottom-area.jsx",localName:t}})}catch(e){}}e(Fu,"CanvasBottomArea"),e(zu,"default")}();var Vu,Gu,Hu=o(658),qu=o(659),Ju=(Vu=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"compList",Gu,G()(o)),o._componentFactory=u.U.get("componentFactory"),o._themeStore=u.U.get("themeStore");var n=t.state,r=void 0===n?{}:n;return o.compList=o._createCompStoreList(r.compList),o._hashArray=o._makeHashArray(o.compList),o}h()(t,e);var o=t.prototype;return o.destroy=function(){var e=this;Object(r.a)(this.compList,function(t,o){t.destroy&&t.destroy(),e.compList[o]=null}),this._hashArray.length=0,this._hashArray=null,this.compList.length=0,this.compList=null},o.syncUp=function(){this._hashArray.syncUpWithDataList()},o.allowPlaceholderShownCompType=function(e){return["text","sectionTitle"].includes(e)},o._makeHashArray=function(e){var t=this;return new Hu.a(e,function(e){return t._handleChangeData(e)})},o._handleChangeData=function(e){u.U.get("componentIdChecker").sync(e)},o.insertComponent=function(e){this._insertComponent(e)},o.insertComponentBefore=function(e,t){var o=this.getComponentIndex(e.id);this._insertComponent(t,o)},o.insertComponentAfter=function(e,t){var o=this.getComponentIndex(e.id)+1;this._insertComponent(t,o)},o.updateComponent=function(e){this._updateComponent(e)},o.detachComponents=function(e,t){return this._hashArray.detachData(e,t)},o.replace=function(e,t){this._hashArray.replaceBetween(t,e.id,e.id)},o.replaceBetween=function(e,t,o){this._hashArray.replaceBetween(o,e.id,t.id)},o.deleteComponentById=function(e){this._deleteComponentById(e)},o.attachFirstParagraphAtEnd=function(e,t){this._attachFirstParagraphAtEnd(e,t)},o.resetCompList=function(e){var t=this._createCompStoreList(e);this.compList.replace(t),this._hashArray=this._makeHashArray(this.compList)},o.splitComponentByPoint=function(e){var t=e.compId,o=this.getComponentById(t),n=this.getComponentIndex(t)+1,r=o.splitComponent(e),i=r.front,a=r.back;return this._insertComponent(a,n),{front:i,back:a}},o.refineComponentList=function(e){var t=this.compList,o=this.getFirstComponent(),n=[],i=e.start,a=e.end,s={},c={},l=!1;if(Object(r.a)(t,function(e){if(o.id!==e.id)if("text"===e.ctype&&"text"===o.ctype){o.insert(e),n.push(e.id);var t=o.getText().id;e.id===i.compId&&(s.compId=o.id,s.unitId=t),e.id===a.compId&&(c.compId=o.id,c.unitId=t),l=!0}else o=e}),this._deleteComponentById(n),l)return{start:Object.assign(i,s),end:Object.assign(a,c)}},o.findNextSelection=function(e,t){if(t===u.u.LEFT){var o=this.getPrevComponent(e);if(!o)return;if(this.isTextType(o)||"documentTitle"===o.ctype){var n=o.getEndPoint();return{start:n,end:n}}return o.getComponentActiveRange()}var r=this.getNextComponent(e);if(r){if(this.isTextType(r)){var i=r.getStartPoint();return{start:i,end:i}}return r.getComponentActiveRange()}},o.getUpwardClosestTextTypeCompStore=function(e){for(var t=e;t;){if(["text","wrappingParagraph"].includes(t.ctype))return t;t=this.getPrevComponent(t)}return null},o.getComponentList=function(){return this.compList},o.getComponentById=function(e){return this._hashArray.getDataById(e)},o.getComponentByIndex=function(e){return this._hashArray.getDataByIndex(e)},o.getComponentIndex=function(e){return this._hashArray.getIndex(e)},o.getComponentsByCtype=function(e){return this._hashArray.filter(function(t){return t.ctype===e})},o.getComponentByCtype=function(e){var t=this._hashArray.filter(function(t){return t.ctype===e});return Object(mo.a)(t)},o.getComponentsByCtypes=function(e){return void 0===e&&(e=[]),this._hashArray.filter(function(t){return e.includes(t.ctype)})},o.getComponentsByIds=function(e){return void 0===e&&(e=[]),this.filter(function(t){return e.includes(t.id)})},o.getFirstComponent=function(){return this._hashArray.getFirst()},o.getLastComponent=function(){return this._hashArray.getLast()},o.getPrevComponent=function(e){return this._hashArray.getPrev(e.id)},o.getPrevComponentById=function(e){var t=this.getComponentById(e);return this.getPrevComponent(t)},o.getNextComponent=function(e){return this._hashArray.getNext(e.id)},o.getNextComponentById=function(e){var t=this.getComponentById(e);return this.getNextComponent(t)},o.getComponentIds=function(){return this._hashArray.getKeys()},o.getComponentsBetween=function(e,t){return this._hashArray.getBetween(e,t)},o.getComponentsByCtypeUntil=function(e,t){var o=this._hashArray.getFirst().id;return this._hashArray.getBetween(o,e).filter(function(e){return e.ctype===t})},o.getComponentsByCtypeFrom=function(e,t){var o=this._hashArray.getLast().id;return this._hashArray.getBetween(e,o).filter(function(e){return e.ctype===t})},o.getSelectedComponents=function(e){var t=e.compIdMap,o=e.start,n=e.end;return e.mode===u.N.MULTI_COMP?this.getComponentsByIds(Object.keys(t)):this.getComponentsBetween(o.compId,n.compId)},o.getCompListLength=function(){return this._hashArray.getLength()},o.getContentText=function(){var e=[];return this.compList.forEach(function(t,o,n){u.s.includes(t.ctype)&&(o>0&&"text"===n[o-1].ctype&&"text"===t.ctype&&e.push("\n"),e.push(t.getPlainTextWithEmoji()))}),e.join("")},o.moveComponentToIndex=function(e,t){this.deleteComponentById(e.id),this._insertComponent(e,t)},o.moveComponentToPrev=function(e){var t=this._hashArray.getIndex(e);if("documentTitle"!==this.getFirstComponent().ctype||1!==t){var o=this._hashArray.getDataByIndex(t);this.moveComponentToIndex(o,t-1)}},o.moveComponentToNext=function(e){var t=this._hashArray.getIndex(e),o=t+1;if(!this._hashArray.isOutOfBound(o)){var n=this._hashArray.getDataByIndex(t);this.moveComponentToIndex(n,o)}},o.has=function(e){return this._hashArray.has(e)},o.isEmpty=function(){return this._hashArray.isEmpty()},o.isFirstComponent=function(e){return this.getFirstComponent().id===e.id},o.getSelectedAlign=function(e){var t=e.mode,o=this.getSelectedComponents(e).map(function(t){return t.getSelectedAlign(e)});return rt()({selectionMode:t},qu.a.mergeStyles(o))},o.collectStyle=function(e){var t=e.mode,o=Object(go.a)(this.getSelectedComponents(e)),n=o.map(function(t){return t.collectStyle(e)}),r=qu.a.mergeStyles(n);return o.length>1&&null===r.align&&(r.align=this.getSelectedAlign(e).align),rt()({selectionMode:t},r)},o.inheritTextStyle=function(e,t){var o=this.getUpwardClosestTextTypeCompStore(e);if(o){var n=o.getCompEndPoint(),r=t.getCompStartRange(),i=o.getTextStyle(n);delete i.dropCap,delete i.align,delete i.subscript,delete i.superscript,delete i.list,t.updateStyles(i,r)}else{var a=this._themeStore.getUserDefinedStyle(t.ctype);a&&t.updateUserDefinedStyle(Object(Du.a)(a,["align"]))}},o.getDerivedTextStyle=function(e){var t=this.getComponentById(e.compId);if(t&&t.getTextStyle)return t.getTextStyle(e);var o=this.getUpwardClosestTextTypeCompStore(t);if(o){var n=o.getCompEndPoint();return o.getTextStyle(n)}return this._themeStore.getUserDefinedStyle("text")},o.getCompStoresWithinSelection=function(e){var t=this;return this.getSelectedComponents(e).map(function(o){var n=o.clone(e);return"textUnit"===n.ctype?t._componentFactory.createComponentWithCompData({ctype:"text",value:n.toValidJSON()}):n})},o._deleteComponentById=function(e){this._hashArray.remove(e)},o._insertComponent=function(e,t){this._hashArray.add(e,t)},o._updateComponent=function(e){var t=this.getComponentById(e.id);this._hashArray.replaceBetween(e,t.id,t.id)},o._attachFirstParagraphAtEnd=function(e,t){e.attachFirstParagraphAtEnd(t),t.isEmpty()&&this.deleteComponentById(t.id)},o._createCompStoreList=function(e){var t=this;return void 0===e&&(e=[]),e.map(function(e){return t._componentFactory.createComponentWithCompData(e)})},o.forEach=function(e){this._hashArray.forEach(e)},o.filter=function(e){return this._hashArray.filter(e)},o.append=function(e){var t=e.sourceComponents,o=e.point,n=this.getComponentById(o.compId);if("text"===n.attributes.insertion){var r=this.splitComponentByPoint(o).front;r.isEmpty()?this.replace(r,t):this.insertComponentAfter(r,t)}else this.insertComponentAfter(n,t)},o.isTextType=function(e){return["text","sectionTitle","wrappingParagraph"].includes(e.ctype)},o.isBackward=function(e,t){var o=this.getComponentIndex(e.compId),n=this.getComponentIndex(t.compId);if(n<o)return!1;if(n===o){if(t.unitId===e.unitId&&t.paraId){var r=this.getComponentById(t.compId).getText();return r&&r.isBackward(e,t)}return!1}return!0},o.countBy=function(e){return this.compList.filter(function(t){return t.ctype===e}).length},o.getComponentsByLikeType=function(e){return this.compList.filter(function(t){var o=Object(J.a)(t,"ctype","");if("image"===e){var n=Object(J.a)(t,"wrappedSection.ctype",""),r=Object(J.a)(t,"background.image",null);return-1!==o.indexOf(e)||-1!==n.indexOf(e)||null!==r}return o===e})},o.countByLikeType=function(e){return"image"===e?this.countByIncludedImage():this.getComponentsByLikeType(e).length},o.countByIncludedImage=function(){var e=this.getComponentsByLikeType("image");return Object(qr.a)(e,function(e,t){var o=t.ctype;return"imageGroup"===o||"imageStrip"===o?e+=Object(J.a)(t,"images",[]).reduce(function(e,t){return e+=Object(J.a)(t,"internalResource",!1)?1:0},0):"image"===o?e+=Object(J.a)(t,"internalResource","")?1:0:"wrappingParagraph"===o?e+=Object(J.a)(t,"wrappedSection.internalResource",!1)?1:0:"documentTitle"===o&&(e+=Object(J.a)(t,"background.image.internalResource",!1)?1:0),e},0)},o.getFirstContentsIndex=function(){return"documentTitle"===this.getComponentByIndex(0).ctype?1:0},o.toPlainJSON=function(){return this.compList.map(function(e){return e.toPlainJSON()})},o.toValidJSON=function(){var e=[];return this.compList.forEach(function(t){if(t.toValidJSON){var o=t.toValidJSON();Object(st.a)(o)||e.push(o)}else Object(st.a)(t)||e.push(t)}),e},at()(t,[{key:"shouldPlaceholderShownCompId",get:function(){var e=this,t=1===this.filter(function(e){if("documentTitle"!==e.ctype)return e}).length,o="";return this.compList.forEach(function(n){e.allowPlaceholderShownCompType(n.ctype)&&t&&(o=n.id)}),o}}]),t}(u.w),Gu=q()(Vu.prototype,"compList",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),q()(Vu.prototype,"shouldPlaceholderShownCompId",[K.e],Object.getOwnPropertyDescriptor(Vu.prototype,"shouldPlaceholderShownCompId"),Vu.prototype),Vu),Ku=Ju;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/component-list-store.js",localName:t}})}catch(e){}}e(Ju,"ComponentListStore"),e(Ku,"default")}();var Yu=o(688),Xu=o(772),Qu=o(690);function Zu(e){var t=e.list,o=e.store,n=e.rendererCollector,r=o.allowPlaceholderShownCompType,i=o.shouldPlaceholderShownCompId;return K.b.createElement(K.b.Fragment,null,t.map(function(e){var t=n.getRenderer(e.ctype),o={key:e.id,store:e};return r(e.ctype)&&(o.shouldPlaceholderShown=i===e.id),t&&t(o)}))}Zu.propTypes={list:Z.a.observableArray.isRequired,store:K.a.instanceOf(Ju).isRequired,rendererCollector:K.a.object.isRequired};var $u=Object(Yu.a)(Object(Yu.b)(Object(Z.b)(Zu),{getKey:function(e){return e.id},reorder:function(e,t){var o=t.selectionInfoStore.toValidJSON(),n=o.start,r=o.end;if(null===n.compId&&null===r.compId)return e;var i=t.store.getSelectedComponents(o),a=i[i.length-1],s=Object(io.a)(Object(Qu.a)(t.list,0,Object(Ue.a)(t.list,function(e){return Object(Eo.a)(e,a)})+1),function(e){return e.id}),c=Object(Xu.a)(s,e),l=Object(Ur.a)(e,s);return c.length?[c].concat(l):[].concat(l)}}),{path:"store.compList",output:"list"}),ep=function(e){function t(t){var o;return(o=e.call(this,t)||this)._selectionInfoStore=u.U.get("selectionInfoStore"),o}h()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._componentRendererCollector=u.U.get("componentRendererCollector")},o.render=function(){var e=this.props.store;return K.b.createElement("article",{className:"se-components-wrap"},K.b.createElement($u,{store:e,selectionInfoStore:this._selectionInfoStore,rendererCollector:this._componentRendererCollector}))},t}(K.b.Component);ep.defaultProps={},ep.propTypes={store:K.a.instanceOf(Ju).isRequired};var tp,op=ep,np=op;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/view/component-list-view.jsx",localName:t}})}catch(e){}}e(Zu,"List"),e($u,"ChunknizedObservedPage"),e(ep,"ComponentListView"),e(op,"default")}();var rp=(tp=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.i18n,o=e.store,n=o.dragAndDrop,r=o.componentList,i=this._resolveCanvasClass();return K.b.createElement("section",{className:i,onContextMenu:this.handleContextMenu,onMouseDown:this.handleMouseDown},K.b.createElement("div",{className:"se-content-guide"}),K.b.createElement(np,{store:r}),K.b.createElement(Wu,{isClickable:!1===o.hasLastText,dragAndDrop:n,i18n:t}))},o._resolveCanvasClass=function(){var e,t=this.props,o=t.store,n=t.isFlexible,r=o.viewMode,i=o.themeName,a=o.documentWidth;return et()(((e={"se-canvas":!0})["se-canvas-width-"+a]=!!a,e["se-canvas-flexible"]=n,e["se-l-viewport-mobile"]=r===u.S.VIEW_MODE_MOBILE,e["se-l-viewport-tablet"]=[u.S.VIEW_MODE_PC,u.S.VIEW_MODE_TABLET].includes(r),e["se-l-viewport-desktop"]=r===u.S.VIEW_MODE_PC,e["se-theme-"+i]=!0,e))},o.handleContextMenu=function(e){this.props.useCase.showContextMenu(e)},o.handleMouseDown=function(e){e.ctrlKey||e.metaKey?this._handleCtrlClick(e):this._handleEdgeClick(e)},o._handleCtrlClick=function(e){var t=this._extractCompId(e);if(t){var o=this.props.store,n=o.componentList,r=o.selectionInfo;n.getComponentById(t).isSelectable?(e.nativeEvent.stopImmediatePropagation(),this.props.useCase.toggleMultiSelection(t)):r.isComponentMode()&&e.nativeEvent.stopImmediatePropagation()}},o._extractCompId=function(e){var t=e.target;return t.dataset.compid?t.dataset.compid:sc.a.ancestor(t,function(e){var t=e.dataset.compid;return void 0!=t&&""!==t}).dataset.compid},o._handleEdgeClick=function(e){var t=e.target;if(t.classList.contains("__edge-area")){e.preventDefault();var o=t.dataset.compid,n=t.dataset.direction;this.props.useCase.insertTextComp(o,n)}},t}(K.b.Component),q()(tp.prototype,"handleContextMenu",[ee.autobind],Object.getOwnPropertyDescriptor(tp.prototype,"handleContextMenu"),tp.prototype),q()(tp.prototype,"handleMouseDown",[ee.autobind],Object.getOwnPropertyDescriptor(tp.prototype,"handleMouseDown"),tp.prototype),tp);rp.propTypes={i18n:function(e){return e}},rp.propTypes={useCase:K.a.instanceOf(Uu).isRequired,store:K.a.instanceOf(gu).isRequired,i18n:K.a.func.isRequired,isFlexible:K.a.bool};var ip=Object(Z.b)(rp),ap=ip;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(rp,"CanvasLayoutView"),e(ip,"default")}();var sp=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.U.get("configAgent"),o._componentListStore=u.U.get("componentListStore"),o._selectionInfoStore=u.U.get("selectionInfoStore"),o._editorStatusStore=u.U.get("editorStatusStore"),o._virtualEditable=u.U.get("virtualEditable"),o._contentTextMaxLength=o._configAgent.get("productConfig.contentTextMaxLength")||1/0,o}h()(t,e);var o=t.prototype;return o.attachEvents=function(e){var t=this;Object.keys(e).forEach(function(o){var n=e[o];t._virtualEditable.on(o,n)}),this.refreshVirtualEditable()},o.destroyVirtualEditable=function(){this._virtualEditable.destroy()},o.refreshVirtualEditable=function(){this._virtualEditable.refresh()},o.toggleMultiSelection=function(e){this._selectionInfoStore.toggleSelect(e)},o.changeViewMode=function(e){this._componentListStore.compList.forEach(function(t){t.changeViewMode&&t.changeViewMode(e)}),this._editorStatusStore.changeViewMode(e),this._store.changeViewMode(e),this._virtualEditable.refresh(),this._eventDispatcher.emit(u.z.DOCUMENT_VIEWPORT_RESIZED)},o.getViewMode=function(){return this._store.viewMode},o.shouldUpdateContentLength=function(){var e=this._isMaxContentLengthOptionEnabled(),t=null===this._editorStatusStore.contentTextLength;return e&&t},o.resetAvailableContentLength=function(e){if(this._isMaxContentLengthOptionEnabled()){var t=this._componentListStore.getComponentById(e);this._isTextCountTarget(t)&&t.resetAvailableContentLength()}},o.setAvailableContentLength=function(e){if(this._isMaxContentLengthOptionEnabled()){var t=this._componentListStore.getComponentById(e);if(this._isTextCountTarget(t)){var o=this._componentListStore.getContentText().length,n=t.getText().textLength,r=this._contentTextMaxLength-(o-n);this._editorStatusStore.setContentTextLength(o),t.setAvailableContentLength(r)}}},o._isMaxContentLengthOptionEnabled=function(){return!Number.isNaN(this._contentTextMaxLength)&&Number.isFinite(this._contentTextMaxLength)},o._isTextCountTarget=function(e){return u.s.includes(e.ctype)},t}(u.f),cp=sp,lp=cp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/service/index.js",localName:t}})}catch(e){}}e(sp,"CanvasLayoutService"),e(cp,"default")}();var up=u.G.extend({name:"CanvasLayout",view:ap,useCase:Uu,service:lp,store:gu}),pp=up,dp=pp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/canvas-layout/src/index.js",localName:t}})}catch(e){}}e(up,"CanvasLayout"),e(pp,"default")}();var hp,fp,mp,gp,yp,bp=function(e){function t(){var t;return(t=e.call(this)||this)._headerLayoutService=u.U.get("headerLayoutService"),t}return h()(t,e),t.prototype.enableSticky=function(){this._headerLayoutService.enableSticky()},t}(u.m),_p=bp,vp=_p;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(bp,"HeaderLayoutUseCase"),e(_p,"default")}();var Cp=(hp=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return t=e.call.apply(e,[this].concat(n))||this,W()(t,"_sticky",fp,G()(t)),W()(t,"_editorFocused",mp,G()(t)),W()(t,"_documentTitleFocused",gp,G()(t)),W()(t,"_viewMode",yp,G()(t)),t}h()(t,e);var o=t.prototype;return o.enableSticky=function(){this._sticky=!0},o.updateFocusedCanvas=function(e){this._editorFocused=e},o.updateDocumentTitleFocused=function(e){this._documentTitleFocused=e},o.changeViewMode=function(e){this._viewMode=e},at()(t,[{key:"sticky",get:function(){return this._sticky}},{key:"visible",get:function(){return!this._sticky||this._editorFocused&&!1===this._documentTitleFocused}},{key:"viewMode",get:function(){return this._viewMode}}]),t}(u.w),fp=q()(hp.prototype,"_sticky",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mp=q()(hp.prototype,"_editorFocused",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gp=q()(hp.prototype,"_documentTitleFocused",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yp=q()(hp.prototype,"_viewMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.S.VIEW_MODE_PC}}),q()(hp.prototype,"sticky",[K.e],Object.getOwnPropertyDescriptor(hp.prototype,"sticky"),hp.prototype),q()(hp.prototype,"visible",[K.e],Object.getOwnPropertyDescriptor(hp.prototype,"visible"),hp.prototype),q()(hp.prototype,"viewMode",[K.e],Object.getOwnPropertyDescriptor(hp.prototype,"viewMode"),hp.prototype),hp),Sp=Cp,Op=Sp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/store/index.js",localName:t}})}catch(e){}}e(Cp,"HeaderLayoutStore"),e(Sp,"default")}();var kp=o(260),Ip=window.CSS&&CSS.supports&&CSS.supports("position","sticky"),wp=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={fixed:!1},o._ref=K.b.createRef(),o._titleHeight=0,o._headerHeight=0,o._fixedTop=0,o._fixedPosition=null,o.props.useCase.enableSticky(),o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this,t=u.U.get("domAccessor").getScrollTarget(window);this._handleScroll=this._onScroll.bind(this),this._scrollArea=t===document.body?window:t,this._scrollArea&&this._scrollArea.addEventListener("scroll",this._handleScroll),this._titleResizeObserver=new kp.default(function(t){var o=t[0].contentRect.height;e._titleHeight!==o&&(e._titleHeight=o,e._updateHeaderTop())}),this._headerResizeObserver=new kp.default(function(t){var o=t[0].contentRect.height;e._headerHeight!==o&&(e._headerHeight=o,e._updateHeaderTop())}),this._headerResizeObserver.observe(this._ref.current),this._fixedTop=this._calculateFixedTop(),Ip||this.props.layoutType!==u.H.EMBED||(this._fixedPosition="absolute")},o.componentWillUnmount=function(){this._scrollArea&&this._scrollArea.removeEventListener("scroll",this._handleScroll),this._headerResizeObserver&&this._headerResizeObserver.disconnect(),this._titleResizeObserver&&this._titleResizeObserver.disconnect()},o.render=function(){var e=this.state.fixed,t=this.props,o=t.children,n=t.editorType,r=t.store,i=r.viewMode,a=r.visible,s=K.b.Children.map(o,function(e){return e&&K.b.cloneElement(e,{viewMode:i})}),c=et()("se-header","se-header-type-"+n,"se-header-sticky",{"se-is-fixed":e,"se-l-header-mobile":i===u.S.VIEW_MODE_MOBILE,"se-l-header-tablet":[u.S.VIEW_MODE_PC,u.S.VIEW_MODE_TABLET].includes(i),"se-l-header-desktop":i===u.S.VIEW_MODE_PC}),l={position:e?this._fixedPosition:null,top:e?this._fixedTop:this._getHeaderTopFromContents(),visibility:a?"visible":"hidden"};return K.b.createElement("header",{className:c,style:l,ref:this._ref},s)},o._updateHeaderTop=function(){if(!this.state.fixed){var e=this.props.outsideScroll,t=this._getHeaderTopFromContents(),o=e?t:t-this._getScrollTop();this._ref.current.style.top=o+"px"}},o._getDocumentTitleElement=function(){return this._documentTitle&&this._documentTitle.parentNode||(this._documentTitle&&this._titleResizeObserver.unobserve(this._documentTitle),this._documentTitle=u.U.get("domAccessor").querySelector(".se-documentTitle"),this._documentTitle&&this._titleResizeObserver.observe(this._documentTitle)),this._documentTitle},o._getDocumentTitleHeight=function(){var e=this._getDocumentTitleElement();if(e){var t=getComputedStyle(e),o=parseInt(t.marginTop,10)||0,n=parseInt(t.marginBottom,10)||0;return e.offsetHeight+o+n}return 0},o._getScrollTop=function(){return this._scrollArea.scrollTop||this._scrollArea.pageYOffset||0},o._getHeaderTopFromContents=function(){return this._getDocumentTitleHeight()-this._headerHeight},o._onScroll=function(){var e=this._getScrollTop(),t=this._getHeaderTopFromContents()-e,o=t<=0;this.state.fixed!==o&&this.setState({fixed:o}),o?this._ref.current.style.top=this._fixedTop+"px":this.props.outsideScroll||(this._ref.current.style.top=t+"px")},o._calculateFixedTop=function(){return this.props.layoutType===u.H.EMBED?0:u.U.get("domAccessor").getRootContainer().offsetTop||0},t}(K.b.Component);wp.defaultProps={children:null,editorType:u.y.BASIC,layoutType:u.H.FULL_SCREEN,outsideScroll:!1},wp.propTypes={store:K.a.instanceOf(Op).isRequired,useCase:K.a.instanceOf(vp).isRequired,children:K.a.oneOfType([K.a.array,K.a.element]),editorType:K.a.string,layoutType:K.a.string,outsideScroll:K.a.bool};var Pp=wp,jp=Pp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/view/sticky-header-layout-view.jsx",localName:t}})}catch(e){}}e(Ip,"STICKY_SUPPORTED"),e(wp,"StickyHeaderLayoutView"),e(Pp,"default")}();var Tp=function(e){function t(t){var o;return(o=e.call(this,t)||this)._ref=K.b.createRef(),o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this;this._timer=setTimeout(function(){e._ref.current&&e._ref.current.classList.remove("se-header-interaction")},400)},o.componentWillUnmount=function(){this._timer&&clearTimeout(this._timer)},o.render=function(){var e=this.props,t=e.children,o=e.editorType,n=et()("se-header","se-header-interaction","se-header-type-"+o);return K.b.createElement("header",{className:n,ref:this._ref},t)},t}(K.b.Component);Tp.defaultProps={i18n:function(e){return e},children:null,editorType:u.y.BASIC},Tp.propTypes={store:K.a.instanceOf(Op).isRequired,useCase:K.a.instanceOf(vp).isRequired,i18n:K.a.func,children:K.a.oneOfType([K.a.array,K.a.element]),editorType:K.a.string};var Lp=function(e){var t=e.sticky,o=Object(Z.b)(t?jp:Tp);return K.b.createElement(o,e)},Ep=Lp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(Tp,"HeaderLayoutView"),e(Lp,"CompositeHeaderLayoutView"),e(Ep,"default")}();var Np,xp=o(86),Dp=(Np=function(e){function t(t){var o;return(o=e.call(this,t)||this)._componentListStore=u.U.get("componentListStore"),o._selectionInfoStore=u.U.get("selectionInfoStore"),o._virtualEditable=u.U.get("virtualEditable"),o._domAccessor=u.U.get("domAccessor"),o}h()(t,e);var o=t.prototype;return o.destroy=function(){this._disposerReaction&&this._disposerReaction(),this._disposerReaction=null,this._virtualEditable&&(this._virtualEditable.removeListener(u.Q.FOCUS,this._handleFocus),this._virtualEditable.removeListener(u.Q.BLUR,this._handleBlur))},o._handleFocus=function(){this._store.updateFocusedCanvas(!0)},o._handleBlur=function(e){var t=e.relatedTarget;!this._domAccessor.getBodyContainer().contains(t)&&this._store.updateFocusedCanvas(!1)},o._getFocusedCompId=function(){return this._selectionInfoStore.focus.compId},o._updateDocumentTitleFocused=function(e){if(this._store.sticky){var t=(this._componentListStore.getComponentById(e)||{}).ctype;this._store.updateDocumentTitleFocused("documentTitle"===t)}},o.enableSticky=function(){this._store.sticky||(this._store.enableSticky(),this._disposerReaction=K.f.reaction(this._getFocusedCompId,this._updateDocumentTitleFocused),this._virtualEditable.on(u.Q.FOCUS,this._handleFocus),this._virtualEditable.on(u.Q.BLUR,this._handleBlur))},o.changeViewMode=function(e){this._store.changeViewMode(e)},t}(u.f),q()(Np.prototype,"_handleFocus",[xp.autobind],Object.getOwnPropertyDescriptor(Np.prototype,"_handleFocus"),Np.prototype),q()(Np.prototype,"_handleBlur",[xp.autobind],Object.getOwnPropertyDescriptor(Np.prototype,"_handleBlur"),Np.prototype),q()(Np.prototype,"_getFocusedCompId",[xp.autobind],Object.getOwnPropertyDescriptor(Np.prototype,"_getFocusedCompId"),Np.prototype),q()(Np.prototype,"_updateDocumentTitleFocused",[xp.autobind],Object.getOwnPropertyDescriptor(Np.prototype,"_updateDocumentTitleFocused"),Np.prototype),Np),Rp=Dp,Ap=Rp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/service/index.js",localName:t}})}catch(e){}}e(Dp,"HeaderLayoutService"),e(Rp,"default")}();var Up=u.G.extend({name:"HeaderLayout",view:Lp,useCase:vp,service:Ap,store:Op}),Mp=Up,Bp=Mp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/header-layout/src/index.js",localName:t}})}catch(e){}}e(Up,"HeaderLayout"),e(Mp,"default")}();var Fp=function(){function e(){}var t=e.prototype;return t.cloneCompList=function(e){var t=[];return e.forEach(function(e){t.push(e.cloneComponent())}),t},t.createParagraphInfoList=function(e){var t=[];return e.forEach(function(e){e.getTextUnits().forEach(function(o){o.forEach(function(n){if(!n.isEmpty()){var r=[];n.nodes.forEach(function(e){"textNode"===e.ctype?r.push(e.value):r.push("\t")});var i={value:r.join(""),compId:e.id,unitId:o.id,paraId:n.id};t.push(i)}})})}),t},t.getPlainText=function(e){var t="";return e.forEach(function(e){t+=e.value,t+="\n"}),t},t.matchCheckResultWithParagraphList=function(e,t){var o=[],n=t.length,r=0,i=0;return e.forEach(function(e){e.id=u.Z.generate(),e.excluded=!1,e.corrected=!1;for(var a=r;a<n;a++){var s=t[a],c=s.value,l=e.errata,p=c.indexOf(l,i);if(p>=0){e.position={};var d=e.position;Object.assign(d,s),delete d.value,d.startOffset=p,d.endOffset=p+l.length,i=d.endOffset,r=a;break}i=0}e.position&&o.push(e)}),o},e}(),zp=Fp,Wp=zp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/spell-check-layout/src/service/spell-check-data-controller.js",localName:t}})}catch(e){}}e(Fp,"SpellCheckDataController"),e(zp,"default")}();var Vp=function(e){function t(t){var o;return(o=e.call(this)||this)._store=t,o._componentListStore=u.U.get("componentListStore"),o._editorStatusStore=u.U.get("editorStatusStore"),o._virtualEditable=u.U.get("virtualEditable"),o._canvasScrollingService=u.U.get("canvasScrollingService"),o._dragAndDropService=u.U.get("dragAndDropService"),o._hotkeyBinder=u.U.get("hotkeyBinder"),o._spellChecker=u.U.get("spellChecker"),o._dataController=new Wp,o}h()(t,e);var o=t.prototype;return o.startSpellCheck=function(e){var t=this._dataController.cloneCompList(this._componentListStore),o=this._dataController.createParagraphInfoList(t),n=this._dataController.matchCheckResultWithParagraphList(e,o);this._enterSpellCheck(t,n)},o.getResultSpellCheck=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._dataController.getPlainText(t),e.next=3,this._spellChecker.request(o);case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.checkAgain=function(e,t){var o=t.spellCheckList;this._mergeCheckList(o,e);var n=o.filter(function(e){return!1===e.corrected&&!1===e.excluded}).length>0;return n&&this._store.selectFirstErrata(),n},o.getParagraphList=function(e){e||(e=this._componentListStore);var t=this._dataController.cloneCompList(e);return this._dataController.createParagraphInfoList(t)},o._mergeCheckList=function(e,t){var o=e.length,n=0;t.forEach(function(t){for(var r=n;r<o;r++){var i=e[r];if(i.corrected&&i.correctInfo.term===t.errata)return delete i.correctInfo,i.corrected=!1,i.errata=t.errata,i.suggests=t.suggests,void(n=r)}})},o._enterSpellCheck=function(e,t){this._editorStatusStore.startReadOnly(),this._canvasScrollingService.hideWindowScroll(),this._virtualEditable.disable(),this._hotkeyBinder.pause(),this._dragAndDropService.disable(),this._store.enterSpellCheck({spellCheckDocument:e,spellCheckList:t})},o._leaveSpellCheck=function(){this._editorStatusStore.finishReadOnly(),this._store.closeSpellCheck(),this._dragAndDropService.enable(),this._hotkeyBinder.unpause(),this._virtualEditable.enable(),this._virtualEditable.refresh(),this._canvasScrollingService.restoreWindowScroll()},o.confirmSpellCheck=function(e){var t=this,o=e.spellCheckList,n=e.spellCheckDocument;o.forEach(function(e){var o=e.corrected,r=e.position;if(!1!==o){var i=t._findParagraph(n,r);t._findParagraph(t._componentListStore.compList,r).replaceAllNodes(i.nodes)}}),this._leaveSpellCheck()},o._findParagraph=function(e,t){var o=t.compId,n=t.unitId,r=t.paraId,i=Object(Pa.a)(e,{id:o}).getTextUnits(),a=Object(Pa.a)(i,{id:n}).getParagraphById(r);return a.refine(),a},o.cancelSpellCheck=function(){this._leaveSpellCheck()},o.togglePopup=function(e){this._store.togglePopup(e)},o.correctAll=function(){this._store.correctAll(),this._store.checkTargetList.length>0&&this._store.selectFirstErrata()},t}(u.f),Gp=Vp,Hp=Gp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/spell-check-layout/src/service/index.js",localName:t}})}catch(e){}}e(Vp,"SpellCheckLayoutService"),e(Gp,"default")}();var qp=o(265),Jp=o(388),Kp=u.G.extend({name:"SpellCheckLayout",view:Object(p.a)({Loader:function(){return o.e(39).then(o.bind(null,1281))}}),service:Hp,store:qp.a,useCase:Jp.a}),Yp=Kp,Xp=Yp;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/spell-check-layout/src/index.js",localName:t}})}catch(e){}}e(Kp,"SpellCheckLayout"),e(Yp,"default")}();var Qp=o(389),Zp=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._pauseDocumentEdit(),this._store.open()},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},t}(u.d),$p=Zp,ed=$p;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/video-upload-layer/src/service/index.js",localName:t}})}catch(e){}}e(Zp,"VideoUploadLayerService"),e($p,"default")}();var td=o(390),od=u.F.extend({name:"VideoUploadLayer",view:Object(p.a)({Loader:function(){return o.e(40).then(o.bind(null,1244))},preload:!0}),useCase:Qp.a,service:ed,store:td.a}),nd=od,rd=nd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/video-upload-layer/src/index.js",localName:t}})}catch(e){}}e(od,"VideoUploadLayer"),e(nd,"default")}();var id=o(298),ad=o(151),sd=function(e){function t(t){var o;return(o=e.call(this,t)||this)._componentFactory=u.U.get("componentFactory"),o._canvasScrollingService=u.U.get("canvasScrollingService"),o}h()(t,e);var o=t.prototype;return o.open=function(e){this._canvasScrollingService.hideWindowScroll(),this._pauseDocumentEdit(),this._store.open(e)},o.close=function(){this._store.close(),this._unpauseDocumentEdit(),this._canvasScrollingService.restoreWindowScroll()},o.changeLayout=function(e){this._store.changeLayout(e)},o.updateImages=function(e){this._store.updateImages(e)},o.reorderImages=function(e){this._store.reorderImages(e)},o.getCurrentOrderLayerStore=function(){return this._store},o.getImages=function(){return this._store.getImages()},o.getUnitsAsImageCompStores=function(){return this._store.getUnitsAsImageCompStores()},o.deleteImage=function(e){this._store.deleteImage(e)},o.changeImageUnitToShell=function(e){this._store.changeImage(e,{phase:u.M.PROCESSING,internalResource:!0,path:""})},o.replaceImageFromData=function(e){var t=this._store.images,o=t.findIndex(function(t){return t.id===e.id}),n=this._convertToCompData(e);t[o]=this._componentFactory.createComponentWithCompData(n)},o.replaceImage=function(e){var t=this._store.images;t[t.findIndex(function(t){return t.id===e.id})]=e},o.applyEditedImages=function(e){var t=this._store.images,o=e.map(function(e){var o=t.find(function(t){return t.id===e.key});return o.applyEditedImage(e),o});this.updateImages(o)},o._convertToCompData=function(e){var t=e.fileName,o=e.fileSize,n=e.width,r=e.height;return{ctype:"image",fileName:t,alt:t,fileSize:+o,width:+n,height:+r,originalWidth:+n,originalHeight:+r,path:e.url,location:null,place:null,format:e.animatedCnt>1?u.C.ANIMATED:u.C.NORMAL,internalResource:!0,phase:u.M.DONE}},o.adjustImageGroupRatio=function(e){this._store.adjustImageGroupRatio(e)},o.updatePhase=function(e,t){var o=e.format,n={phase:t};this._store.isIndividualLayout()||o!==u.C.PANORAMA&&o!==u.C.VR360||(n.displayFormat=u.C.NORMAL),e.setState(n)},o.updateImageSize=function(e,t,o){e.updateImageSize(t,o)},t}(u.d),cd=sd,ld=cd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-group-order-layer/src/service/index.js",localName:t}})}catch(e){}}e(sd,"ImageGroupOrderLayerService"),e(cd,"default")}();var ud=o(152),pd=u.F.extend({name:"ImageGroupOrderLayer",view:Object(p.a)({Loader:function(){return Promise.all([o.e(0),o.e(50)]).then(o.bind(null,1269))}}),useCase:ad.a,service:ld,store:ud.a,setting:{config:{},state:{}}}),dd=pd,hd=dd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-group-order-layer/src/index.js",localName:t}})}catch(e){}}e(pd,"ImageGroupOrderLayer"),e(dd,"default")}();var fd=o(391),md=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._store.open()},o.close=function(){this._store.close()},o.togglePanel=function(){return this._store.opened?this._store.close():this._store.open(),this._store.opened},o.openLayer=function(e,t){this._store.openLayer(),this.setLayerKey(e),this.setLayerTitle(t)},o.closeLayer=function(){this._store.closeLayer()},o.toggleLayer=function(){return this._store.isLayerOpen?this._store.closeLayer():this._store.openLayer(),this._store.isLayerOpen},o.setLayerKey=function(e){this._store.setLayerKey(e)},o.setLayerTitle=function(e){this._store.setLayerTitle(e)},t}(u.f),gd=md,yd=gd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/help-panel-layout/src/service/index.js",localName:t}})}catch(e){}}e(md,"HelpPanelLayoutService"),e(gd,"default")}();var bd=o(392),_d=u.G.extend({name:"HelpPanelLayout",view:Object(p.a)({Loader:function(){return Promise.all([o.e(75),o.e(41)]).then(o.bind(null,1265))}}),useCase:fd.a,service:yd,store:bd.a,setting:{config:{},state:{}}}),vd=_d,Cd=vd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/help-panel-layout/src/index.js",localName:t}})}catch(e){}}e(_d,"HelpPanelLayout"),e(vd,"default")}();var Sd=o(455),Od=o(703),kd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e){this._store.open(e)},o.close=function(){this._store.close()},o.saveAsCurrentFile=function(){Object(Od.a)(this._store.saveAsUrl)},t}(u.d),Id=kd,wd=Id;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/contextmenu-layer/src/service/index.js",localName:t}})}catch(e){}}e(kd,"ContextmenuLayerService"),e(Id,"default")}();var Pd=o(393),jd=u.F.extend({name:"ContextmenuLayer",view:Object(p.a)({Loader:function(){return o.e(42).then(o.bind(null,1245))}}),useCase:Sd.a,service:wd,store:Pd.a}),Td=jd,Ld=Td;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/contextmenu-layer/src/index.js",localName:t}})}catch(e){}}e(jd,"ContextmenuLayer"),e(Td,"default")}();var Ed=o(394),Nd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(){this._store.opened||(this._pauseDocumentEdit(),this._store.open())},o.close=function(){this._store.opened&&(this._store.close(),this._unpauseDocumentEdit())},o.toggleLayer=function(){this._store.opened?this.close():this.open()},t}(u.d),xd=Nd,Dd=xd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/a11y-help-layer/src/service/index.js",localName:t}})}catch(e){}}e(Nd,"A11yHelpLayerService"),e(xd,"default")}();var Rd=o(395),Ad=u.F.extend({name:"A11yHelpLayer",view:Object(p.a)({Loader:function(){return o.e(44).then(o.bind(null,1246))}}),useCase:Ed.a,service:Dd,store:Rd.a}),Ud=Ad,Md=Ud;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/a11y-help-layer/src/index.js",localName:t}})}catch(e){}}e(Ad,"A11yHelpLayer"),e(Ud,"default")}();var Bd=o(396),Fd=function(){function e(e){this._config=e}var t=e.prototype;return t.convert=function(){throw new Error("[ERROR] 컴포넌트 데이터 변환 메소드를 구현해 주세요.")},t._makeThumbnailInfo=function(e){return e?new Promise(function(t){var o=new Image;o.onload=function(o){var n=o.currentTarget;t({ctype:"thumbnail",src:e,width:n.width,height:n.height})},o.onerror=function(){t(null)},o.src=so.a.makeDthumbHttpsUrl(e)}):null},t._modifyPeopleInfo=function(e){var t=this;return Object(io.a)(e,function(e){return t._restoreSpecialChar(Object(J.a)(e,"name")||e)})},t._restoreSpecialChar=function(e){return ao.a.restoreSpecialChar(e)},t._formatWithComma=function(e){return ao.a.formatWithComma(e)},e}(),zd=Fd,Wd=zd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/abstract-data-converter.js",localName:t}})}catch(e){}}e(Fd,"AbstractDataConverter"),e(zd,"default")}();var Vd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t,o,n,r){var i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=this._resolveThumbnailUrl(t),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._resolveThumbnailUrl=function(e){return Object(mo.a)(Object(go.a)(Object(yo.a)(e,["bigThumbnail2","bigThumbnail","thumbnail"])))},o._makeMaterialInfo=function(e){var t=e.title,o=e.author;return{title:this._restoreSpecialChar(t),description:"저자 : "+("string"==typeof o?this._restoreSpecialChar(o.replace(/\|/gi,", ").replace(/ 지음$/gi,"")):"미등록")+" · 출판 : "+this._restoreSpecialChar(e.publisher),url:e.linkUrl}},t}(Wd),Gd=Vd,Hd=Gd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/book-data-converter.js",localName:t}})}catch(e){}}e(Vd,"BookDataConverter"),e(Gd,"default")}();var qd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t,o,n,r){var i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(J.a)(t,"imageUrls.poster.url",""),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._makeMaterialInfo=function(e){return{title:this._restoreSpecialChar(e.titles.korean),description:"감독 : "+this._modifyPeopleInfo(e.directors.directors)+" · 출연 : "+this._modifyPeopleInfo(e.actors.actors),url:e.destinationUrl}},t}(Wd),Jd=qd,Kd=Jd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/movie-data-converter.js",localName:t}})}catch(e){}}e(qd,"MovieDataConverter"),e(Jd,"default")}();var Yd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t,o,n,r){var i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(J.a)(t,"image",""),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._makeMaterialInfo=function(e){return{title:this._restoreSpecialChar(e.title),description:"연출 : "+this._modifyPeopleInfo(e.producer)+" · 출연 : "+this._modifyPeopleInfo(e.guest),url:e.url}},t}(Wd),Xd=Yd,Qd=Xd;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/tv-data-converter.js",localName:t}})}catch(e){}}e(Yd,"TVDataConverter"),e(Xd,"default")}();var Zd=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t,o,n,r){var i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(J.a)(t,"albumImg",""),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._makeMaterialInfo=function(e){return{title:this._restoreSpecialChar(e.title),description:"아티스트 : "+this._restoreSpecialChar(e.artist.replace(/♩/gi,", ")),url:e.albumUrl}},t}(Wd),$d=Zd,eh=$d;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/music-data-converter.js",localName:t}})}catch(e){}}e(Zd,"MusicDataConverter"),e($d,"default")}();var th=[[null,1,10,7,4,1,1,1,1],[null,2,11,8,5,2,2,2,2],[null,3,12,9,6,3,3,3,3]],oh=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t,o,n,r){var i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._makeMaterialInfo=function(e){var t=this._restoreSpecialChar(e.productTitle),o=this._convertToGoodsType(e.mpTp,e.prodTp),n=this._makeLink(o,e),r=this._formatWithComma(e.price),i=this._isCompareProduct(o)?"최저 "+r+"원":e.mallNameOrg;return{title:t,description:this._restoreSpecialChar(i),url:n}},o._makeLink=function(e,t){var o=this._isCompareProduct(e);return t.mallProductUrl?t.mallProductUrl:!0===o?"https://search.shopping.naver.com/catalog/"+t.id+"?section=price":"https://search.shopping.naver.com/catalog/"+t.id},o._convertToGoodsType=function(e,t){var o=th[e];return o?o[t]:null},o._isCompareProduct=function(e){return Object(Eo.a)([1,4],e)},t}(Wd),nh=oh,rh=nh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/shopping-data-converter.js",localName:t}})}catch(e){}}e(th,"GOODS_TYPE_MAPPING"),e(oh,"ShoppingDataConverter"),e(nh,"default")}();var ih=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t,o,n,r){var i,a,s,c;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._fetchNewsDetail(t);case 2:return i=e.sent,a=this._resolveThumbnailUrl(i),e.next=6,this._makeThumbnailInfo(a);case 6:return s=e.sent,c=this._makeMaterialInfo(i),s&&(c.thumbnail=s),c.iconType=o,c.provider=n,c.categoryId=r,e.abrupt("return",c);case 13:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._resolveThumbnailUrl=function(e){return Object(mo.a)(Object(go.a)(Object(yo.a)(e,["images[0].url","images.image[0].url","images.image.url"])))},o._fetchNewsDetail=function(e){return Ao.a.get(this._config.newsDetailAPI,{params:{oid:e.officeId||e.subId,aid:e.articleId||e.dataId},success:function(e){return Object(J.a)(e,"items[0]")}})},o._makeMaterialInfo=function(e){return{title:this._restoreSpecialChar(e.title),description:this._restoreSpecialChar(e.officeHname),url:e.orgUrl}},t}(Wd),ah=ih,sh=ah;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/news-data-converter.js",localName:t}})}catch(e){}}e(ih,"NewsDataConverter"),e(ah,"default")}();var ch=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.convert=function(){var e=Zt()(Xt.a.mark(function e(t,o,n,r){var i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(J.a)(t,"imageUrl",""),e.next=3,this._makeThumbnailInfo(i);case 3:return a=e.sent,s=this._makeMaterialInfo(t),a&&(s.thumbnail=a),s.iconType=o,s.provider=n,s.categoryId=r,e.abrupt("return",s);case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n,r){return e.apply(this,arguments)}}(),o._makeMaterialInfo=function(e){var t=this._resolveDatas(e);return{title:t.title,description:"장르 : "+t.genre+" · 기간 : "+t.period,url:t.link}},o._checkExhibition=function(e){return"269"!==e.searchLinkParameter.pkid},o._resolveDatas=function(e){var t=e.rendingUrl,o=e.formattedPeriod,n=this._checkExhibition(e);return{title:n?e.name:e.title,genre:n?"전시":e.majorGenreName,period:o,link:t}},t}(Wd),lh=ch,uh=lh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/show-data-converter.js",localName:t}})}catch(e){}}e(ch,"ShowDataConverter"),e(lh,"default")}();var ph,dh={book:Hd,movie:Kd,broadcast:Qd,music:eh,shopping:rh,news:sh,show:uh},hh=dh;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/search-data-manager/image-tag-converter/index.js",localName:t}})}catch(e){}}(dh,"default")}();var fh=(ph=function(e){function t(t){var o;(o=e.call(this,t)||this)._store=t;var n=u.U.get("configAgent").get("apiInfo"),r=o._store.category,i=r.additionalCategories,a=r.categorySet;return o._additionalCategories=i,o._categorySet=a,o._searchDataManager=o._initializeSearchDataManager(n),o._dataConverter=o._initializeDataConverter(n),o}h()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit(),this._store.open(e)},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},o.setIsUrl=function(e){void 0===e&&(e=!0),this._store.setIsUrl(e)},o.setLoadingState=function(e){void 0===e&&(e=!1),this._store.setLoadingState(e)},o.search=function(e){void 0===e&&(e={}),this.clearSearchResult(),this.setLoadingState(!0),this._store.isFetchNextPageError=!1,this._store.isDefaultSet?this._searchDefaultCategory(e):this._search(e)},o.updateCrawledResult=function(e,t){if(!e||"image"===e.ctype){return this.setLoadingState(!1),void this._store.updateSearchResult({searchItems:[],totalCount:0,totalPage:0})}var o=e.ctype,n=e.title,r=e.description,i=e.thumbnail,a=e.thumbnailUrl,s=e.inputUrl,c=e.url,l="oembed"===o,u=i&&i.src||"",p={searchItems:[{title:n,description:r,url:l?s:c,thumbnail:{src:l?a:u},iconType:"normal",provider:this._store.getProvider(),categoryId:"web-url"}],totalCount:1,totalPage:1};this.updateKeyword(t),this.setLoadingState(!1),this.clearSearchResult(),this._store.updateSearchResult(p)},o._updateSubCategory=function(e){var t=this._getCategoriesByTabId(e);this._store.updateSubCategory(t.subCategories)},o.changeTab=function(e,t){t&&(this._store.tags=[]);var o=e?this._getTabIndexById(e):0;this._store.changeTabIndex(o),this._updateSubCategory(e),this.search()},o.changeSubCategory=function(e,t){t&&(this._store.tags=[]),this.clearSearchResult(),this._store.changeSubCategory(e),this.search({subCategoryIndex:e})},o.checkOnlyUrlTags=function(){for(var e=this._store.plainTagItem,t=0;t<e.length;t++){if("web-url"!==e[t].links[0].categoryId)return!1}return!0},o.checkAddibleTag=function(e){return!!this._store.allowTagOverlap||!this.getTags().some(function(t){return t.links[0].url===e})},o.addNewTag=function(e){Object.assign(e,{ctype:"mediaTag"}),Object.assign(e.point,{ctype:"point"}),e.links.forEach(function(e){Object.assign(e,{ctype:"mediaTagLink"}),Object.assign(e.thumbnail,{ctype:"thumbnail"})}),this._store.setIsUrl(!1),this._store.addNewTag(e),this._updateLastUsedCategory(),this.updateKeyword("")},o._updateLastUsedCategory=function(){var e=this._store,t=e.currentTabIndex,o=e.currentSubCategoryIndex;this._store.updateLastUsedCategory(t,o)},o.delTag=function(e){this._store.delTag(e)},o.updateTag=function(e,t){this._store.updateTag(e,t)},o.isFullTagItems=function(){return this._store.tags.length>=this._store.maxTagItems},o.clearSearchResult=function(){this._store.clearSearchResult()},o.clearSearchLayer=function(){this._store.clearSearchKeyword(),this._store.clearSearchResult()},o.clearSearchKeyword=function(){this._store.clearSearchKeyword()},o.updateKeyword=function(e){this._store.updateKeyword(e)},o.updatePinPoint=function(e){var t=e.dragTarget,o=e.x,n=e.y,r=Number(t.dataset.tagindex);this._store.updatePinPoint(r,o,n)},o.nextPage=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setLoadingState(!0),t=this._store.currentPage,o=t+1,!this._store.isDefaultSet){e.next=12;break}return e.next=7,this._searchDataManager.nextPage();case 7:n=e.sent,this._store.setCurrentPage(o),this._searchSuccess(n),e.next=13;break;case 12:this._search({page:o});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.getAllowUrlAttach=function(){return this._store.allowUrlAttach},o.getTabIdByIndex=function(e){return this._store.getTabIdByIndex(e)},o.getTabLabelByIndex=function(e){return this._store.getTabLabelByIndex(e)},o.getTags=function(){return this._store.plainTagItem},o.getPreservedTag=function(){return this._store.preservedTags},o.getCompId=function(){return this._store.imageCompId},o.getDuplicateConfig=function(){return this._store.duplicateConfig},o.getCurrentTabIndex=function(){return this._store.currentTabIndex},o.getcurrentSubCategoryIndex=function(){return this._store.currentSubCategoryIndex},o._getTabIndexById=function(e){return this._store.getTabIndexById(e)},o._getSearchKeyword=function(){return this._store.keyword},o._getCurrentPage=function(){return this._store.currentPage},o._getCategoriesByTabId=function(e){var t=this._additionalCategories.find(function(t){return t.id===e});return{category:t,subCategories:t.subCategories}},o._getSearchAPI=function(e){void 0===e&&(e={});var t=this._store,o=t.currentTabIndex,n=t.currentSubCategoryIndex,r=void 0===n?0:n,i=this._categorySet[o],a=this._getCategoriesByTabId(i);if(a.category.api)return a.category.api;var s=e.subCategoryIndex||r;return a.subCategories[s].api},o._searchDefaultCategory=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s,c;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._store.getCurrentCategoryIdByIndex(),n=t.keyword||this._getSearchKeyword(),r=t.page||this._getCurrentPage(),i=o.replace("material-",""),a={size:10},s=10*r+1,this._store.updateKeyword(n),Object.assign(a,{keyword:n}),this._store.updateCurrentPage(r),Object.assign(a,{s:s}),e.prev=10,e.next=13,this._searchDataManager.search(i,a);case 13:c=e.sent,this._searchSuccess(c),e.next=20;break;case 17:return e.prev=17,e.t0=e.catch(10),e.abrupt("return",this.searchFail(e.t0));case 20:case"end":return e.stop()}},e,this,[[10,17]])}));return function(t){return e.apply(this,arguments)}}(),o._search=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.keyword||this._getSearchKeyword(),n=t.page||this._getCurrentPage(),r={size:10},this._store.updateKeyword(o),Object.assign(r,{keyword:o}),this._store.updateCurrentPage(n),Object.assign(r,{page:n}),i=this._getSearchAPI(t),Object.assign(r,{api:i}),e.next=11,Ao.a.get(r.api,{params:{q:r.keyword,size:r.size,page:r.page},options:{query:r.keyword},success:this._searchSuccess,error:this.searchFail});case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._searchSuccess=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return e.next=3,this._resultToTagData(t);case 3:o=e.sent,this._store.updateSearchResult({searchItems:o.items,totalCount:o.totalCount,totalPage:o.totalPage}),e.next=8;break;case 7:console.warn("The search results are empty.");case 8:this._store.isFetchNextPageError=!1,this.setLoadingState(!1);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.searchFail=function(){this._store.isFetchNextPageError=!0},o._resultToTagData=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this._store.isDefaultSet,n=o?this._formatMaterialData(t):this._formatCustomData(t),!o){e.next=8;break}return e.next=5,this._materialToTag(t.items);case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=this._customSearchToTag(t.items);case 9:return r=e.t0,Object.assign(n,{items:r}),e.abrupt("return",n);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._formatCustomData=function(e){return{totalCount:e.totalCount,totalPage:e.totalPage,page:e.page,size:e.size}},o._formatMaterialData=function(e){var t=e.total,o=e.count,n=e.next;return{totalCount:t,totalPage:Math.ceil(t/10),page:Math.floor(n.s/10),size:o}},o._customSearchToTag=function(e){var t=this._store.getCurrentCategoryIdByIndex(),o=this._store.getIconType(t),n=this._store.getProvider();return e.map(function(e){return{id:e.id,title:e.title,description:e.description,url:e.url,thumbnail:{src:e.thumbnail},iconType:o,provider:n,categoryId:t,meta:e.meta}})},o._materialToTag=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._store.getCurrentCategoryIdByIndex(),n=this._store.getIconType(o),r=this._store.getProvider(),i=this._dataConverter[o],e.next=6,t.map(function(e){return i.convert(e,n,r,o)});case 6:return a=e.sent,e.abrupt("return",Promise.all(a));case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.getTagChanged=function(){return JSON.stringify(this._store.preservedTags)!==JSON.stringify(this._store.plainTagItem)},o._initializeSearchDataManager=function(e){return new Vn({book:{API:{SEARCH:e.fetchBooks},fetchCount:10},movie:{API:{SEARCH:e.fetchMovies},fetchCount:10},broadcast:{API:{SEARCH:e.fetchBroadcasts},fetchCount:10},music:{API:{SEARCH:e.fetchMusics},fetchCount:10},shopping:{API:{SEARCH:e.fetchShoppingItems},fetchCount:10},news:{API:{SEARCH:e.fetchNews,NEWS_DETAIL:e.fetchNewsDetail},fetchCount:10},show:{API:{SEARCH:e.fetchShows},fetchCount:10}})},o._initializeDataConverter=function(e){var t=hh.movie,o=hh.broadcast,n=hh.music,r=hh.shopping,i=hh.news,a=hh.show;return{"material-book":new(0,hh.book),"material-movie":new t,"material-broadcast":new o,"material-music":new n,"material-shopping":new r,"material-news":new i({newsDetailAPI:e.fetchNewsDetail}),"material-show":new a}},t}(u.d),q()(ph.prototype,"_searchSuccess",[ee.autobind],Object.getOwnPropertyDescriptor(ph.prototype,"_searchSuccess"),ph.prototype),q()(ph.prototype,"searchFail",[ee.autobind],Object.getOwnPropertyDescriptor(ph.prototype,"searchFail"),ph.prototype),ph);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-tag-layer/src/service/index.js",localName:t}})}catch(e){}}e(10,"PAGE_SIZE"),e(fh,"ImageTagLayerService")}();var mh=o(460),gh=u.F.extend({name:"ImageTagLayer",view:Object(p.a)({Loader:function(){return o.e(45).then(o.bind(null,1270))}}),useCase:Bd.a,service:fh,store:mh.a}),yh=gh,bh=yh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-tag-layer/src/index.js",localName:t}})}catch(e){}}e(gh,"ImageTagLayer"),e(yh,"default")}();var _h,vh=o(412),Ch={default:"ko",en:"ko",ko:"en"},Sh=(_h=function(e){function t(t){var o;(o=e.call(this,t)||this)._selectionInfoStore=u.U.get("selectionInfoStore"),o._virtualEditable=u.U.get("virtualEditable"),o._configAgent=u.U.get("configAgent"),o._translateAPI=o._configAgent.get("apiInfo").fetchTranslate;var n=(o._language||"").split("-")[0];if(n===o._store.toCode){var r=Ch[n]||Ch.default;o._updateStore("","",r,n)}return o}h()(t,e);var o=t.prototype;return o.open=function(){var e=Zt()(Xt.a.mark(function e(t,o,n){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=this._store.toCode),void 0===n&&(n="auto"),this._pauseDocumentEdit(),e.next=5,this._translate(t,o,n);case 5:this._open();case 6:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),o.close=function(){this._store.close(),this._unpauseDocumentEdit()},o.setDetectionMode=function(e){this._store.setDetectionMode(e)},o.setLoadingState=function(e){this._store.loading=e},o.translate=function(e,t,o){void 0===e&&(e=this._store.sourceText),void 0===t&&(t=this._store.toCode),void 0===o&&(o=this._store.fromCode),this.setLoadingState(!0),this._translate(e,t,o)},o._translate=function(){var e=Zt()(Xt.a.mark(function e(t,o,n){var r,i,a,s,c;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this._getValidText(t),i="",a=this._store.detectionMode?"auto":n,s=o,!r){e.next=11;break}return e.next=7,this._requestTranslate(r,o,a);case 7:c=e.sent,a=c.sourceLangCode?c.sourceLangCode:a,s=c.targetLangCode?c.targetLangCode:s,i=c.translatedText;case 11:this._updateStore(i,r,s,a),this.setLoadingState(!1);case 13:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),o._getValidText=function(e){var t=this._store.MAX_LENGTH,o=e;return e.length>t&&(this._store.textOvered=!0,o=e.slice(0,t)),o},o._updateStore=function(e,t,o,n){this._store.update(e,t,o,n)},o._open=function(){this._store.open()},o._requestTranslate=function(){var e=Zt()(Xt.a.mark(function e(t,o,n){var r,i,a,s,c,l;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.trim()){e.next=2;break}return e.abrupt("return",{sourceLangCode:n,targetLangCode:o,translatedText:t});case 2:return r={},e.next=5,this._request(t,o,n);case 5:if(i=e.sent,this._setUnknownLangCode(!1),"N2MT05"!==i.errorCode){e.next=15;break}return o=Ch[o]||Ch.default,e.next=11,this._request(t,o,n);case 11:i=e.sent,r.newTargetLangCode=o,e.next=16;break;case 15:"N2MT09"===i.errorCode?i={message:{result:{translatedText:t,srcLangType:o}}}:"N2MT02"===i.errorCode&&this._setUnknownLangCode(!0);case 16:return a=i.message.result,s=a.srcLangType,c=a.translatedText,l=a.tarLangType,r.targetLangCode=l,r.sourceLangCode=s,r.translatedText=c,e.abrupt("return",r);case 21:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),o._request=function(){var e=Zt()(Xt.a.mark(function e(t,o,n){var r,i,a;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n||"auto",i=this._translateAPI,a=i+("?source="+r+"&target="+o),e.next=6,Ao.b.post(a,{data:t,options:{withCredentials:!1,headers:{"Content-Type":"text/html"}},success:function(e){return e},error:function(e){var t={};try{t=JSON.parse(e.errorDetailMessage)}catch(e){}return{message:{result:{translatedText:"",srcLangType:r,tarLangType:o}},errorCode:t.errorCode}}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),o._setUnknownLangCode=function(e){this._store.unknownLangCode=e},o.resetSourceText=function(){this._store.resetSourceText()},o.resetTextOvered=function(){this._store.textOvered=!1},o.changeSourceLangCode=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.code,n=t.fromCode,r=t.toCode,o!==n){e.next=3;break}return e.abrupt("return");case 3:if(o!==r){e.next=7;break}return e.next=6,this._exchangeLangCode();case 6:return e.abrupt("return");case 7:return i=this._store,a=i.translatedText,s=i.sourceText,this.setDetectionMode("auto"===o),this._updateStore(a,s,r,o),e.next=12,this.translate();case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.changeTargetLangCode=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.code,n=t.fromCode,r=t.toCode,o!==r){e.next=3;break}return e.abrupt("return");case 3:if(o!==n){e.next=7;break}return e.next=6,this._exchangeLangCode();case 6:return e.abrupt("return");case 7:return i=this._store,a=i.translatedText,s=i.sourceText,this._updateStore(a,s,o,n),e.next=11,this.translate();case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._exchangeLangCode=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n,r,i,a;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._store,o=t.fromCode,n=t.toCode,r=Ch[n]||Ch.default,i="auto"===o?r:o,a=n,this.setDetectionMode(!1),e.next=7,this.translate(this.sourceText,i,a);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),at()(t,[{key:"sourceText",get:function(){var e=this._store.sourceText;return e.length<1?"":e}}]),t}(u.d),q()(_h.prototype,"_updateStore",[K.d],Object.getOwnPropertyDescriptor(_h.prototype,"_updateStore"),_h.prototype),q()(_h.prototype,"changeSourceLangCode",[K.d],Object.getOwnPropertyDescriptor(_h.prototype,"changeSourceLangCode"),_h.prototype),q()(_h.prototype,"changeTargetLangCode",[K.d],Object.getOwnPropertyDescriptor(_h.prototype,"changeTargetLangCode"),_h.prototype),_h),Oh=Sh,kh=Oh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/translation-layer/src/service/index.js",localName:t}})}catch(e){}}e(Ch,"FALLBACK_LANG_CODE"),e(Sh,"TranslationLayerService"),e(Oh,"default")}();var Ih=o(413),wh=u.F.extend({name:"TranslationLayer",view:Object(p.a)({Loader:function(){return o.e(51).then(o.bind(null,1286))}}),useCase:vh.a,service:kh,store:Ih.a,setting:{config:{},state:{}}}),Ph=wh,jh=Ph;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/translation-layer/src/index.js",localName:t}})}catch(e){}}e(wh,"TranslationLayer"),e(Ph,"default")}();var Th=o(279),Lh=o(414),Eh=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=u.U.get("configAgent"),o._componentFactory=u.U.get("componentFactory"),o._selectionInfoStore=u.U.get("selectionInfoStore"),o._componentListStore=u.U.get("componentListStore"),o}h()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit(),this._store.open(e)},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},o.changeAccountId=function(e){this._store.changeAccountId(e)},o.changeBannerType=function(e){this._store.changeBannerType(e)},o.changeImage=function(e){this._store.changeImage(e)},o.createTalktalkComponent=function(){var e=this._store,t=e.bannerType,o=e.selectedAccountInfo,n=e.image,r={ctype:"talktalk",layout:t,accountId:o.accountId,profileName:o.profileName},i=this._componentFactory.createComponentWithCompData(r);return t===Lh.a.CUSTOM&&(i.image=this._imageDataToComp(n)),i},o.editTalktalkComponent=function(){var e=this._store,t=e.bannerType,o=e.selectedAccountInfo,n=e.image,r=this._selectionInfoStore.toValidJSON(),i=this._componentListStore.getSelectedComponents(r),a=Object(mo.a)(i),s={layout:t,accountId:o.accountId,profileName:o.profileName};t===Lh.a.CUSTOM&&a.updateImage(this._imageDataToComp(n)),a.updateAccount(s)},o._imageDataToComp=function(e){var t=this._configAgent.get("editorInfo"),o=this._configAgent.get("infraInfo.photoInfra.imageHost");return this._componentFactory.createComponentWithCompData({ctype:"image",src:""+o+e.url+"?type="+t.thumbnailType.normal,internalResource:!0,caption:null,domain:o,path:e.path+"/"+e.fileName,displayFormat:"normal",width:parseInt(e.width,10),height:parseInt(e.height,10),fileSize:parseInt(e.fileSize,10),fileName:e.fileName})},t}(u.d),Nh=Eh,xh=Nh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/layers/talktalk-edit-layer/service/index.js",localName:t}})}catch(e){}}e(Eh,"TalktalkEditLayerService"),e(Nh,"default")}();var Dh=o(280),Rh=u.F.extend({name:"TalktalkEditLayer",view:Object(p.a)({Loader:function(){return o.e(52).then(o.bind(null,1287))}}),useCase:Th.a,service:xh,store:Dh.a}),Ah=Rh,Uh=Ah;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/layers/talktalk-edit-layer/index.js",localName:t}})}catch(e){}}e(Rh,"TalktalkEditLayer"),e(Ah,"default")}();var Mh=o(409),Bh=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.open=function(e){var t=e.onClickChange,o=e.onClickRemove;this._store.opened||(this._onClickChange=t||function(){},this._onClickRemove=o||function(){},this._pauseDocumentEdit(),this._store.open())},o.close=function(){this._store.opened&&(this._store.close(),this._unpauseDocumentEdit())},o.change=function(){this._store.opened&&(this.close(),this._onClickChange())},o.remove=function(){this._store.opened&&(this.close(),this._onClickRemove())},t}(u.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-location-edit-layer/src/service/index.js",localName:t}})}catch(e){}}(Bh,"ImageLocationEditLayerService")}();var Fh,zh,Wh,Vh,Gh,Hh,qh,Jh=o(410),Kh=u.F.extend({name:"ImageLocationEditLayer",view:Object(p.a)({Loader:function(){return o.e(49).then(o.bind(null,1248))}}),useCase:Mh.a,service:Bh,store:Jh.a}),Yh=Kh,Xh=Yh;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-location-edit-layer/src/index.js",localName:t}})}catch(e){}}e(Kh,"ImageLocationEditLayer"),e(Yh,"default")}();var Qh,Zh=Object(io.a)(n.a,function(e){return e}),$h=(Fh=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"buttonSetMap",zh,G()(o)),W()(o,"focusButtonId",Wh,G()(o)),W()(o,"activeButtonId",Vh,G()(o)),W()(o,"activePanelButtonId",Gh,G()(o)),W()(o,"selectedButtonStates",Hh,G()(o)),W()(o,"toolbarState",qh,G()(o));var n=t,r=n.config,i=void 0===r?{}:r,a=n.state,s=void 0===a?{}:a;o._pluginButtonRegistry=u.U.get("pluginButtonRegistry"),o._configAgent=u.U.get("configAgent"),o._additionalButtonsMap={},o._generateAdditionalButtonsMap(),o.activePanelButtonId=Object(J.a)(s,"activePanelButtonId",o.activePanelButtonId),o.activeButtonId=Object(J.a)(s,"activeButtonId",o.activeButtonId),o.buttonSetMap=o._rearrangeButtonSet(i);var c=o._configAgent.get("productConfig.quotation.layouts"),l=o._configAgent.get("productConfig.horizontalLine.layouts");return o.selectedButtonStates=Object(J.a)(s,"state",{"horizontal-line":l?l[0]:"default",quotation:c?c[0]:"default"}),o}h()(t,e);var o=t.prototype;return o.deactivateAllButtons=function(){this.activeButtonId=""},o.updateHorizontalSelectedValue=function(e){e&&(this.selectedButtonStates["horizontal-line"]=e)},o.updateQuotationSelectedValue=function(e){e&&(this.selectedButtonStates.quotation=e)},o.focusFirstButton=function(){this.focusButtonId=this.buttonSetMap.buttonSet[0]},o.blurFocusedButton=function(){this.focusButtonId=""},o.isFirstButton=function(e){return this.buttonSetMap.buttonSet[0]===e},o.togglePanelButton=function(e){var t=this.activePanelButtonId===e;this.activePanelButtonId=t?"":e},o.setPanelButtonEnable=function(e,t){var o=this.activePanelButtonId===e;t?this.activePanelButtonId=e:o&&(this.activePanelButtonId="")},o.toggleButton=function(e){var t=this.activeButtonId===e;this.activeButtonId=t?"":e},o.updateDisplayButtonSet=function(e){var t=this.buttonSetMap.buttonSet;if(e<t.length){var o=t.slice(0,e-1),n=t.slice(o.length,t.length),r=o.concat("more-view");this.buttonSetMap.displayButtonSet=r,this.buttonSetMap.moreButtonSet=n}},o.resetDisplayButtonSet=function(){var e=this.buttonSetMap.buttonSet;this.buttonSetMap.displayButtonSet.replace(e),this.buttonSetMap.moreButtonSet=[]},o.updateToolbarState=function(e){this.toolbarState=e},o.highlight=function(e,t){if(t&&e)return ut.b.get(t,e)},o.updateAdditionalButtonOption=function(e,t,o){o&&(e.option=this._additionalButtonsMap[t])},o.updateHighlight=function(e,t){var o=t?e.option.name:e.buttonName,n=t?rt()({id:e.option.name},e.option.highlight):this._configAgent.get("productConfig.highlight"),r=this.highlight(o,n);r&&(e.highlight=r)},o.resolveButtonInfoByStates=function(e,t){var o=this.selectedButtonStates[t];return o?rt()({selectedValue:o},e,{value:Object(J.a)(this.toolbarState,e.propertyName)}):rt()({},e,{value:Object(J.a)(this.toolbarState,e.propertyName)})},o._getButtonsWithButtonSet=function(e){var t=this;return void 0===e&&(e=[]),e.reduce(function(e,o){var n=t._isAdditionalButton(o),r=t._pluginButtonRegistry.getButtonInfo({compType:"default",toolbarName:"documentToolbar",buttonName:n?"additional-button":o});return r&&(t.updateAdditionalButtonOption(r,o,n),t.updateHighlight(r,n),e.push(t.resolveButtonInfoByStates(r,o))),e},[])},o._isAdditionalButton=function(e){return Object(Ic.a)(this._additionalButtonsMap,e)},o._generateAdditionalButtonsMap=function(){var e=this;(this._configAgent.get("productConfig.documentToolbar.additionalButtons")||[]).forEach(function(t){var o=t.name;e._additionalButtonsMap[o]=t})},o._rearrangeButtonSet=function(e){var t,o=this,n=this._configAgent.get("productConfig.layoutType"),r=Object(J.a)(e,"buttonSetMap",this.buttonSetMap),i=this._configAgent.get("productConfig.documentToolbar.buttonSet"),a=this._configAgent.get("plugins.excludeComponents")||[],s=Object.keys(this._additionalButtonsMap)||[],c=i||r.buttonSet||[],l=(c=c.reduce(function(e,t){return(Zh.includes(t)||o._isAdditionalButton(t))&&e.push(t),e},[])).indexOf("separator-bar");(n===u.H.EMBED&&l>-1&&c.splice(l,1),(s=Object(Qa.a)(s,c,function(e,t){return-1!==e.indexOf(t)})).length>0)&&(t=c).splice.apply(t,[-1===l?c.length:l,0].concat(s));return{buttonSet:c=c.filter(function(e){return!a.some(function(t){return new RegExp(t,"i").test(e)})}),displayButtonSet:c,moreButtonSet:[]}},at()(t,[{key:"buttons",get:function(){return this._getButtonsWithButtonSet(this.buttonSetMap.displayButtonSet)}},{key:"moreButtons",get:function(){return this._getButtonsWithButtonSet(this.buttonSetMap.moreButtonSet)}}]),t}(u.w),zh=q()(Fh.prototype,"buttonSetMap",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{buttonSet:[],displayButtonSet:[],moreButtonSet:[]}}}),Wh=q()(Fh.prototype,"focusButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Vh=q()(Fh.prototype,"activeButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Gh=q()(Fh.prototype,"activePanelButtonId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Hh=q()(Fh.prototype,"selectedButtonStates",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),qh=q()(Fh.prototype,"toolbarState",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),q()(Fh.prototype,"buttons",[K.e],Object.getOwnPropertyDescriptor(Fh.prototype,"buttons"),Fh.prototype),q()(Fh.prototype,"moreButtons",[K.e],Object.getOwnPropertyDescriptor(Fh.prototype,"moreButtons"),Fh.prototype),Fh),ef=$h,tf=ef;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/store/index.js",localName:t}})}catch(e){}}e(Zh,"RESERVED_BTN_NAMES"),e("additional-button","ADDITIONAL_BUTTON_NAME"),e($h,"DocumentToolbarLayoutStore"),e(ef,"default")}();var of,nf=(Qh=function(e){function t(){var t;t=e.call(this)||this;var o=u.U.get("configAgent");return t._documentToolbarLayoutService=u.U.get("documentToolbarLayoutService"),t._propertyToolbarLayoutService=u.U.get("propertyToolbarLayoutService"),t._toolbarService=u.U.get("toolbarService"),!1!==o.get("productConfig.documentToolbar")&&t._initializeReaction(),t}h()(t,e);var o=t.prototype;return o._initializeReaction=function(){var e=this;this._toolbarService.reactionOfToolbarState(function(t){var o=t.toolbarState;e._documentToolbarLayoutService.updateToolbarState(o)},"documentToolbar",{delay:1})},o.handleTab=function(e,t){e.shiftKey&&this._documentToolbarLayoutService.isFirstButton(t)&&(this._propertyToolbarLayoutService.focusLastButton(),e.preventDefault())},o.handleBlur=function(){this._documentToolbarLayoutService.blurFocusedButton()},o.toggleButton=function(e){this._propertyToolbarLayoutService.hideAllLayers(),this._documentToolbarLayoutService.toggleButton(e)},o.reflowToolbar=function(e){this._documentToolbarLayoutService.reflowToolbar(e)},t}(u.m),q()(Qh.prototype,"handleTab",[K.d],Object.getOwnPropertyDescriptor(Qh.prototype,"handleTab"),Qh.prototype),q()(Qh.prototype,"handleBlur",[K.d],Object.getOwnPropertyDescriptor(Qh.prototype,"handleBlur"),Qh.prototype),q()(Qh.prototype,"toggleButton",[K.d],Object.getOwnPropertyDescriptor(Qh.prototype,"toggleButton"),Qh.prototype),Qh),rf=nf,af=rf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(nf,"DocumentToolbarLayoutUseCase"),e(rf,"default")}();var sf=(of=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=e.viewMode,r=e.isFlexible,i=t.buttons,a=t.moreButtons,s=t.toolbarState.componentType,c=this._resolveToolbarType(),l=et()("se-toolbar","se-document-toolbar",{"se-toolbar-flexible":r});return K.b.createElement("div",{className:"se-header-inbox se-l-document-toolbar",onBlur:this._handleBlur},K.b.createElement(ot.a,{className:l,namespace:tt.e.DOCUMENT,viewMode:n,isFlexible:r,documentToolbarIconType:c,buttons:i,moreButtons:a,logAreaId:"dot",focusButtonId:t.focusButtonId,activePanelButtonId:t.activePanelButtonId,activeButtonId:t.activeButtonId,selectedComponentType:s,i18n:o,onReflowToolbar:this._handleReflowToolbar,onKeyDown:this._handleKeyDown,onClickSelector:this._handleClickSelector}))},o._resolveToolbarType=function(){return!1===this.props.useDocumentToolbarButtonText?tt.d.ICON:tt.d.TEXT_ICON},o._handleClickSelector=function(e){this.props.useCase.toggleButton(e)},o._handleReflowToolbar=function(e){var t=e.displayButtonCount;this.props.useCase.reflowToolbar(t)},o._handleKeyDown=function(e,t){9===e.which&&this.props.useCase.handleTab(e,t)},o._handleBlur=function(){this.props.useCase.handleBlur()},t}(K.b.Component),q()(of.prototype,"_handleClickSelector",[ee.autobind],Object.getOwnPropertyDescriptor(of.prototype,"_handleClickSelector"),of.prototype),q()(of.prototype,"_handleReflowToolbar",[ee.autobind],Object.getOwnPropertyDescriptor(of.prototype,"_handleReflowToolbar"),of.prototype),q()(of.prototype,"_handleKeyDown",[ee.autobind],Object.getOwnPropertyDescriptor(of.prototype,"_handleKeyDown"),of.prototype),q()(of.prototype,"_handleBlur",[ee.autobind],Object.getOwnPropertyDescriptor(of.prototype,"_handleBlur"),of.prototype),of);sf.defaultProps={i18n:function(e){return e},useDocumentToolbarButtonText:!0},sf.propTypes={store:K.a.instanceOf(tf).isRequired,useCase:K.a.instanceOf(af).isRequired,i18n:K.a.func,viewMode:K.a.string,isFlexible:K.a.bool,useDocumentToolbarButtonText:K.a.bool};var cf=Object(Z.b)(sf),lf=cf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/view/index.jsx",localName:t}})}catch(e){}}e(sf,"DocumentToolbarLayoutView"),e(cf,"default")}();var uf=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.focusFirstButton=function(){this._store.focusFirstButton()},o.blurFocusedButton=function(){this._store.blurFocusedButton()},o.isFirstButton=function(e){return this._store.isFirstButton(e)},o.toggleButton=function(e){this._store.toggleButton(e)},o.togglePanelButton=function(e){this._store.togglePanelButton(e)},o.setPanelButtonEnable=function(e,t){this._store.setPanelButtonEnable(e,t)},o.hideAllLayers=function(){this._store.deactivateAllButtons()},o.updateHorizontalSelectedValue=function(e){this._store.updateHorizontalSelectedValue(e)},o.updateQuotationSelectedValue=function(e){this._store.updateQuotationSelectedValue(e)},o.reflowToolbar=function(e){this._store.updateDisplayButtonSet(e)},o.resetDisplayButtonSet=function(){this._store.resetDisplayButtonSet()},o.updateToolbarState=function(e){this._store.updateToolbarState(e)},t}(u.f),pf=uf,df=pf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/service/index.js",localName:t}})}catch(e){}}e(uf,"DocumentToolbarLayoutService"),e(pf,"default")}();var hf,ff,mf,gf=o(720),yf=(hf=Object(ee.history)({sync:!1}),ff=Object(ee.history)({sync:!1}),mf=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.U.get("configAgent"),t._imageUploadService=u.U.get("imageUploadService"),t._imageTypeLayerService=u.U.get("imageTypeLayerService"),t._imageBehavior=u.U.get("imageBehavior"),t._selectionInfoStore=u.U.get("selectionInfoStore"),t._componentListStore=u.U.get("componentListStore"),t._complexImageLayoutsEnabled=t._configAgent.get("productConfig.complexImageLayoutsEnabled"),t}h()(t,e);var o=t.prototype;return o.insertImage=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n,r,i,a,s,c,l;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog({multiple:!0});case 2:if(t=e.sent,o=t.validFiles,n=t.invalidFiles,r=o.length,i=this._selectionInfoStore.focus,a=i.compId,s=i.unitId,c=this._componentListStore.getComponentById(a),l=c.getStoreById(s),"inline-image-allowed-append"!==l.attributes.insertion||"child"!==l.selection){e.next=15;break}return e.next=13,this._insertInlineImage({validFiles:o,invalidFiles:n});case 13:e.next=21;break;case 15:if(!this._canUseComplexLayouts(r)){e.next=19;break}this._openImageTypeLayer({validFiles:o,invalidFiles:n,length:o.length}),e.next=21;break;case 19:return e.next=21,this._insertImage({validFiles:o,invalidFiles:n});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._openImageTypeLayer=function(e){this._imageTypeLayerService.open({type:lc.a.FILE,payload:e})},o._insertInlineImage=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageBehavior.insertInlineImage(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertImage=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageBehavior.insertImage(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._canUseComplexLayouts=function(e){return e>1&&this._complexImageLayoutsEnabled},t}(u.m),q()(mf.prototype,"insertImage",[ee.sentryCatch,ee.preventOnComponentProcessing],Object.getOwnPropertyDescriptor(mf.prototype,"insertImage"),mf.prototype),q()(mf.prototype,"_openImageTypeLayer",[K.d],Object.getOwnPropertyDescriptor(mf.prototype,"_openImageTypeLayer"),mf.prototype),q()(mf.prototype,"_insertInlineImage",[hf,K.d],Object.getOwnPropertyDescriptor(mf.prototype,"_insertInlineImage"),mf.prototype),q()(mf.prototype,"_insertImage",[ff,K.d],Object.getOwnPropertyDescriptor(mf.prototype,"_insertImage"),mf.prototype),mf);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/toolbar/buttons/use-case/image-insert-use-case.js",localName:t}})}catch(e){}}(yf,"ImageInsertUseCase")}();var bf={image:{view:gf.a,useCase:yf,styleName:"image"}},_f=bf;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(bf,"default")}();var vf={documentToolbar:{"text-format-drop-down":Object(Ot.a)("text-format-drop-down"),image:_f.image,"social-media-image":Object(Ot.a)("social-media-image"),sticker:Object(Ot.a)("sticker"),video:Object(Ot.a)("video"),"horizontal-line":Object(Ot.a)("horizontal-line"),quotation:Object(Ot.a)("quotation"),map:Object(Ot.a)("map"),oglink:Object(Ot.a)("oglink"),file:Object(Ot.a)("file"),audio:Object(Ot.a)("audio"),schedule:Object(Ot.a)("schedule"),code:Object(Ot.a)("code"),table:Object(Ot.a)("table"),formula:Object(Ot.a)("formula"),search:Object(Ot.a)("search"),moment:Object(Ot.a)("moment"),library:Object(Ot.a)("library"),template:Object(Ot.a)("template"),"additional-button":Object(Ot.a)("additional-button"),"more-view":Object(Ot.a)("more-view"),talktalk:Object(Ot.a)("talktalk"),"separator-bar":Object(Ot.a)("separator-bar"),webtoon:Object(Ot.a)("webtoon"),chat:Object(Ot.a)("chat")}},Cf=vf;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/toolbar/document-toolbar-button-set-map.js",localName:t}})}catch(e){}}(vf,"default")}();var Sf=function(e){function t(){return e.call(this,{buttonSetMap:Cf})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/toolbar/index.js",localName:t}})}catch(e){}}(Sf,"DocumentToolbarLayoutToolbar")}();var Of=u.G.extend({name:"DocumentToolbarLayout",view:lf,useCase:af,service:df,store:tf,toolbar:Sf}),kf=Of,If=kf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/document-toolbar-layout/src/index.js",localName:t}})}catch(e){}}e(Of,"DocumentToolbarLayout"),e(kf,"default")}();var wf,Pf,jf,Tf=o(764),Lf=o(82),Ef=o(83),Nf=o(155),xf=o(101),Df=o(996),Rf=o(196),Af=o(1284),Uf=(wf=function(e){h()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:null,selection:null,insertion:"text",drop:"text",paste:"text",lineBreak:{enter:"hard-and-insert-empty-line-at-end",shiftEnter:"line-break-in-paragraph"},erasure:"text"},o.isSelectable=!1,W()(o,"layout",Pf,G()(o)),W()(o,"title",jf,G()(o)),o._componentFactory=u.U.get("componentFactory"),o._configAgent=u.U.get("configAgent");var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;return o.attributes=Object(gs.a)(o.attributes,s.attributes),o.layout=Object(J.a)(i,"layout",i.layout||o.layout),o.title=o._createTextUnit(i.title,s.title),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,title:this.title.toPlainJSON()}},t._createTextUnit=function(e,t){var o={state:e,config:Object(i.a)({},t,{attributes:{selection:"text",insertion:"text",drop:"text",paste:"text",lineBreak:{enter:"hard-and-insert-empty-line-at-end",shiftEnter:"line-break-in-paragraph"},erasure:"text"},filterTextStyle:{fontSizeCode:Rf.b.conditionalAllowed(["fs11","fs13","fs15","fs16","fs19","fs24","fs28","fs30","fs34","fs38"]),backgroundColor:Rf.b.NOT_ALLOWED,strikeThrough:Rf.b.NOT_ALLOWED,subscript:Rf.b.NOT_ALLOWED,superscript:Rf.b.NOT_ALLOWED,dropCap:Rf.b.NOT_ALLOWED},styleFilterPayload:{layout:this.layout}})},n=Object(J.a)(t,"textStyle",{}),r=o.config.filterTextStyle;return o.config.filterTextStyle=Object(gs.a)(r,n),new Af.a(o)},t.attachLastParagraphAtStart=function(e){var t=this.getText(),o=e.getText();t.attachParagraphAtStart(o.detachLastParagraph())},t.setText=function(e){var t=this.title.getStyleFilter();this.title=e,this.title.updateStyleFilter(t),this.updateTheme()},t.insert=function(e,t){void 0===t&&(t={});var o=this.getText(),n=e.getText();if("text"===e.ctype&&n.getParagraphsLength()>1){var r=t.mergePoint||this.getEndPoint(),i=o.getPositionByPoint(r);if(i===Rf.d.TEXT_START){var a=e.getStartPoint(),s=e.getEndPoint();return this.attachLastParagraphAtStart(e),{start:a,end:Object.assign(s,{compId:this.id})}}if(i===Rf.d.TEXT_END)return this.attachFirstParagraphAtEnd(e),{start:r,end:e.getEndPoint()}}var c=o.mergeWith(n,t);return c.start.compId=this.id,c.end.compId=this.id,c},t.changeLink=function(e,t){var o=this.refineSelection(t);return this.getText().changeLink(this.checkProtocol(e),o)},t.changeLayout=function(e){this.layout=e,this.getText().updateStyleFilterPayload({layout:e}),this.updateTheme()},t.updateProperty=function(e,t){var o=e.link,n=e.layout,r=Ja()(e,["link","layout"]);if(n&&this.changeLayout(n),Object(xf.a)(this,r),o)return this.changeLink(o,t)},t.getStoreById=function(e){return e===this.id?this:e===this.title.id?this.title:null},t.getText=function(){return this.title},t.hasDropCapInParagraph=function(e){return this.getText().hasDropCapInParagraph(e)},t.hasInlineImageInParagraph=function(e){return this.getText().hasInlineImageInParagraph(e)},t.hasInlineImageOnly=function(){return this.getText().hasInlineImageOnly()},t._updateParagraphStyle=function(e,t){return this.getText().updateWholeParagraphStyle(e),t},t.isRepresentativeImage=function(){return this.getText().isRepresentativeImage()},t.hasRepresentativeImage=function(){return this.getText().hasRepresentativeImage()},t.setRepresentativeImage=function(e){var t=e.paraId,o=e.nodeId;this.getText().setRepresentativeImage(t,o)},t.releaseRepresentativeImage=function(e){this.getText().releaseRepresentativeImage(e)},t.getRepresentativeId=function(){var e=this,t=this.getText().getRepresentativeId();return Object(io.a)(t,function(t){return""+e.id+t})},t.setAvailableContentLength=function(e){this.getText().setAvailableContentLength(e)},t.resetAvailableContentLength=function(){this.getText().resetAvailableContentLength()},t.collectStyle=function(t){var o=e.prototype.collectStyle.call(this,t);return o.textLayout=this.layout,o},at()(o,[{key:"textLength",get:function(){return this.getText().textLength}},{key:"translationEnabled",get:function(){return"none"!==this.title.selection}}]),o}(Object(u.W)(u.j)),Pf=q()(wf.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),jf=q()(wf.prototype,"title",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wf);Uf.ctype="sectionTitle",Uf.schema={id:Df.a.string.isRequired,ctype:Df.a.string.isRequired,layout:Df.a.string.isRequired,title:Df.a.textUnit.isRequired};var Mf,Bf=Uf,Ff=Bf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/store/index.js",localName:t}})}catch(e){}}e(Uf,"SectionTitleComponentStore"),e(Bf,"default")}();var zf,Wf=(Mf=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.U.get("configAgent"),t._libraryPanelLayoutService=u.U.get("libraryPanelLayoutService"),t._toastLayerService=u.U.get("toastLayerService"),t._eventDispatcherService=u.U.get("eventDispatcherService"),t._i18n=u.U.get("i18n"),t._contentTextMaxLength=t._configAgent.get("productConfig.contentTextMaxLength"),t}h()(t,e);var o=t.prototype;return o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;u.U.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o,paraId:n,nodeId:r}),this._libraryPanelLayoutService.updateMediaList()},o.showOverContentLengthLimitWarn=function(){this._eventDispatcherService.emit(u.z.ON_MAX_CONTENT_TEXT_LENGTH),this._toastLayerService.warningMessage(this._i18n("textUnit:warning_limit_over_max_text_length",{maxLength:this._contentTextMaxLength}))},t}(u.c),q()(Mf.prototype,"setRepresentativeImage",[ee.history,K.d],Object.getOwnPropertyDescriptor(Mf.prototype,"setRepresentativeImage"),Mf.prototype),Mf),Vf=Wf,Gf=Vf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/use-case/index.js",localName:t}})}catch(e){}}e(Wf,"SectionTitleComponentUseCase"),e(Vf,"default")}();var Hf={useToolbarSlot:!1},qf=(zf=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.title,a=t.layout,s=t.isFocused,c=this._getAdditionalOption(i),l=this._resolveSectionClassName({ctype:r,layout:a,isFocused:s});return K.b.createElement(Lf.a,{id:n,ctype:r,layout:a,i18n:o},K.b.createElement(Ef.a,{compId:n,compStore:t},K.b.createElement("div",{className:l},K.b.createElement(Nf.a,{text:i,compId:n,additionalOption:c,options:Hf,onLimitTextLength:this._handleContentLengthLimit,onClickRepresentative:this._handleClickRepresentative}))))},o._resolveSectionClassName=function(e){var t,o=e.ctype,n=e.layout,r=e.isFocused;return et()(((t={})["se-section se-section-"+o]=!!o,t["se-l-"+(n||"default")]=!0,t["se-is-focused"]=r,t))},o._getAdditionalOption=function(e){var t=this.props,o=t.i18n;return{placeholder:t.shouldPlaceholderShown&&e.unchangedFirstNodeStyle?o("sectionTitleComponent:placeholder"):null,uploadProgressTitle:o("sectionTitleComponent:upload_process_title"),representativeTitle:o("sectionTitleComponent:representative")}},o._handleClickRepresentative=function(e){var t=e.paraId,o=e.nodeId,n=this.props.store;this.props.useCase.setRepresentativeImage({compId:n.id,unitId:n.id,paraId:t,nodeId:o})},o._handleContentLengthLimit=function(){this.props.useCase.showOverContentLengthLimitWarn()},t}(K.b.Component),q()(zf.prototype,"_handleClickRepresentative",[ee.autobind],Object.getOwnPropertyDescriptor(zf.prototype,"_handleClickRepresentative"),zf.prototype),q()(zf.prototype,"_handleContentLengthLimit",[ee.autobind],Object.getOwnPropertyDescriptor(zf.prototype,"_handleContentLengthLimit"),zf.prototype),zf);qf.defaultProps={i18n:function(e){return e},shouldPlaceholderShown:!1},qf.propTypes={shouldForceRefresh:K.a.bool,i18n:K.a.func,store:K.a.instanceOf(Ff).isRequired,useCase:K.a.instanceOf(Gf).isRequired,shouldPlaceholderShown:K.a.bool};var Jf=Object(Z.b)(qf),Kf=Jf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/view/index.jsx",localName:t}})}catch(e){}}e(Hf,"textUnitOptions"),e(qf,"SectionTitleComponentView"),e(Jf,"default")}();var Yf=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.a),Xf=Yf,Qf=Xf;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/service/index.js",localName:t}})}catch(e){}}e(Yf,"SectionTitleComponentService"),e(Xf,"default")}();var Zf={propertyToolbar:{"text-format":Object(Ot.a)("text-format"),"font-family":Object(Ot.a)("font-family"),"font-size":Object(Ot.a)("font-size"),bold:Object(Ot.a)("bold"),italic:Object(Ot.a)("italic"),underline:Object(Ot.a)("underline"),"font-color":Object(Ot.a)("font-color"),"align-drop-down-with-justify":Object(Ot.a)("align-drop-down-with-justify"),"line-height":Object(Ot.a)("line-height"),"special-letter":Object(Ot.a)("special-letter"),"text-link":Object(Ot.a)("text-link"),"translation-right-label":Object(Ot.a)("translation-right-label"),speller:Object(Ot.a)("speller"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{},contentsToolbar:{"section-title-layout":Object(Ot.a)("section-title-layout"),"to-text":Object(Ot.a)("to-text"),"font-family":Object(Ot.a)("font-family"),"font-size":Object(Ot.a)("font-size"),bold:Object(Ot.a)("bold"),italic:Object(Ot.a)("italic"),"font-color":Object(Ot.a)("font-color"),"to-quotation":Object(Ot.a)("to-quotation"),"cycle-align":Object(Ot.a)("cycle-align-with-justify"),"cycle-align-without-justify":Object(Ot.a)("cycle-align"),translation:Object(Ot.a)("translation"),"separator-bar":Object(Ot.a)("separator-bar")}},$f=Zf;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/toolbar/section-title-button-set-map.js",localName:t}})}catch(e){}}(Zf,"default")}();var em={propertyToolbar:function(e){var t=["text-format","font-family","font-size","separator-bar","bold","italic","underline","font-color","separator-bar","align-drop-down-with-justify","line-height","separator-bar","special-letter","text-link"];return e.selectedComponents.every(function(e){return e.translationEnabled})&&t.push("separator-bar","translation-right-label"),t.push("separator-bar","speller"),t},contentsToolbar:function(e){var t=e.selectedComponents,o=e.defaultButtonSet;if(!1===(t.filter(function(e){return"sectionTitle"===e.ctype}).length===t.length))return[];if(o)return o;var n=["font-family","separator-bar","font-size","separator-bar","bold","italic","separator-bar","font-color","separator-bar","to-quotation","separator-bar","cycle-align"];return t.every(function(e){return e.translationEnabled})&&n.push("separator-bar","translation"),n}},tm=em;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/toolbar/section-title-button-resolver.js",localName:t}})}catch(e){}}(em,"default")}();var om=function(e){function t(){return e.call(this,{buttonSetMap:$f,buttonResolver:tm})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/toolbar/index.js",localName:t}})}catch(e){}}(om,"SectionTitleComponentToolbar")}();var nm=u.q.extend({name:"SectionTitleComponent",view:Kf,useCase:Gf,service:Qf,store:Ff,toolbar:om}),rm=nm,im=rm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/section-title-component/src/index.js",localName:t}})}catch(e){}}e(nm,"SectionTitleComponent"),e(rm,"default")}();var am,sm,cm,lm,um,pm,dm=o(84),hm=(am=Object(ee.history)({sync:!1}),sm=Object(ee.history)({sync:!1}),cm=Object(ee.history)({sync:!1}),lm=Object(ee.history)({sync:!1}),um=Object(ee.history)({sync:!1}),pm=function(e){function t(){var t;return(t=e.call(this)||this)._documentTitleComponentService=u.U.get("documentTitleComponentService"),t._eventDispatcherService=u.U.get("eventDispatcherService"),t._imageUploadService=u.U.get("imageUploadService"),t._toastLayerService=u.U.get("toastLayerService"),t._canvasLayoutService=u.U.get("canvasLayoutService"),t._cloudSnsLayerService=u.U.get("cloudSnsLayerService"),t._libraryPanelLayoutService=u.U.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._imageBehavior=u.U.get("imageBehavior"),t._imageEditService=u.U.get("imageEditService"),t._i18n=u.U.get("i18n"),t._alertLayerService=u.U.get("alertLayerService"),t}h()(t,e);var o=t.prototype;return o._openPhotoEditorByDirect=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._documentTitleComponentService.getComponentStore(),n=this._documentTitleComponentService.getBackgroundImageData(),r=o.toValidJSON(),e.next=5,this._imageEditService.editImage({activeCompId:n.id,editableImages:[r],direct:t});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.cropCoverImage=function(){var e=Zt()(Xt.a.mark(function e(){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditorByDirect("crop");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.filterCoverImage=function(){var e=Zt()(Xt.a.mark(function e(){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditorByDirect("filter");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.adjustCoverImage=function(){var e=Zt()(Xt.a.mark(function e(){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditorByDirect("adjust");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId;u.U.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o}),this._libraryPanelLayoutService.updateMediaList()},o.deleteBackground=function(){this._documentTitleComponentService.deleteBackgroundImage()},o.uploadBackground=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n=this;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:return t=e.sent,o=this._documentTitleComponentService.getComponentStore().id,e.abrupt("return",this._imageBehavior.insertBackground(o,t).then(function(){n._canvasLayoutService.refreshVirtualEditable()}));case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.uploadBackgroundFromSNS=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n=this;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!yr.a.UNDER_IE11){e.next=3;break}return this._alertLayerService.open({type:u.n.ALERT,isDimUse:!1,title:this._i18n("commonPopup:recommended_browser_title"),description:this._i18n("commonPopup:recommended_browser_description")}),e.abrupt("return");case 3:return e.next=5,this._cloudSnsLayerService.openCloudSNSWindowPopup({maxCount:1});case 5:return t=e.sent,o=this._documentTitleComponentService.getComponentStore().id,e.next=9,this._imageBehavior.insertBackgroundFromUrls(o,t).then(function(){n._canvasLayoutService.refreshVirtualEditable()});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.startEditingBackgroundPosition=function(){this._documentTitleComponentService.startEditingBackgroundPosition()},o.fixBackgroundPosition=function(e){this._documentTitleComponentService.updateBackgroundPosition(e),this._documentTitleComponentService.stopEditingBackgroundPosition()},o.revertBackgroundPosition=function(){this._documentTitleComponentService.stopEditingBackgroundPosition()},o.showToast=function(e){this._toastLayerService.warningMessage(e)},t}(u.c),q()(pm.prototype,"cropCoverImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,am,K.d],Object.getOwnPropertyDescriptor(pm.prototype,"cropCoverImage"),pm.prototype),q()(pm.prototype,"filterCoverImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,sm,K.d],Object.getOwnPropertyDescriptor(pm.prototype,"filterCoverImage"),pm.prototype),q()(pm.prototype,"adjustCoverImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,cm,K.d],Object.getOwnPropertyDescriptor(pm.prototype,"adjustCoverImage"),pm.prototype),q()(pm.prototype,"setRepresentativeImage",[ee.history,K.d],Object.getOwnPropertyDescriptor(pm.prototype,"setRepresentativeImage"),pm.prototype),q()(pm.prototype,"deleteBackground",[ee.history,K.d],Object.getOwnPropertyDescriptor(pm.prototype,"deleteBackground"),pm.prototype),q()(pm.prototype,"uploadBackground",[lm,K.d],Object.getOwnPropertyDescriptor(pm.prototype,"uploadBackground"),pm.prototype),q()(pm.prototype,"uploadBackgroundFromSNS",[ee.preventOnComponentProcessing,um,K.d],Object.getOwnPropertyDescriptor(pm.prototype,"uploadBackgroundFromSNS"),pm.prototype),q()(pm.prototype,"fixBackgroundPosition",[ee.history,K.d],Object.getOwnPropertyDescriptor(pm.prototype,"fixBackgroundPosition"),pm.prototype),q()(pm.prototype,"showToast",[K.d],Object.getOwnPropertyDescriptor(pm.prototype,"showToast"),pm.prototype),pm),fm=hm,mm=fm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/use-case/index.js",localName:t}})}catch(e){}}e(hm,"DocumentTitleComponentUseCase"),e(fm,"default")}();var gm,ym,bm,_m,vm,Cm,Sm,Om=o(1231),km=o(411),Im={LEFT:"left",CENTER:"center"},wm={};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/consts/index.js",localName:t}})}catch(e){}}e(Im,"ALIGN"),e(wm,"default")}();var Pm=(gm=function(e){h()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).backgroundConfig={uploadDND:!0,uploadSNS:!0,uploadLocal:!0,reposition:!0},o.attributes={cursor:"query",selection:"isolated",insertion:"append",erasure:"unerasable",drop:"query",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"}},o.isSelectable=!1,o.allowedComponentAlign=[Im.LEFT,Im.CENTER],W()(o,"layout",ym,G()(o)),W()(o,"background",bm,G()(o)),W()(o,"title",_m,G()(o)),W()(o,"subTitle",vm,G()(o)),W()(o,"phase",Cm,G()(o)),W()(o,"representativeEnabled",Sm,G()(o)),o.onRenderServiceDataButton=null,o.onClickServiceDataButton=null;var n=t,r=n.state,a=void 0===r?{}:r,s=n.config,c=void 0===s?{}:s;return o._configAgent=u.U.get("configAgent"),o.backgroundConfig=Object(i.a)({},c.background,o.backgroundConfig),o.lineBreakable=Object(J.a)(c,"lineBreakable",o.lineBreakable),o.attributes=Object(gs.a)(o.attributes,c.attributes),o.updateConfig(),o.layout=a.layout||c.layout||o.layout,o.title=o._createTitleTextUnit(a.title,c.title),o.subTitle=o._createSubTitleTextUnit(a.subTitle,c.subTitle),o.background=o._resolveBackground(a.background),o.thumbnailType=o._configAgent.get("editorInfo.thumbnailType.normal"),o.onClickServiceDataButton=c.onClickServiceDataButton,o.onRenderServiceDataButton=c.onRenderServiceDataButton,o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,background:K.f.toJS(this.background),phase:this.phase,title:this.title.toPlainJSON(),subTitle:this.subTitle?this.subTitle.toPlainJSON():null}},t._resolveBackground=function(e){if(e&&e.image){var t=Object(i.a)({},e),o=t.image;return t.image=new km.a({state:o,config:{attributes:{erasure:"query"}}}),t}},t._createTitleTextUnit=function(e,t){var o=this._isSubTitleEnabled()?{enter:"next-unit",shiftEnter:"next-unit"}:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},n={state:e,config:Object(i.a)({},t,{attributes:{cursor:null,selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:o,erasure:"trapped-text"},maxLength:100,filterTextStyle:{fontFamily:Rf.b.FOLLOW_CURRENT_STYLE,fontSizeCode:Rf.b.FOLLOW_CURRENT_STYLE,fontColor:Rf.b.NOT_ALLOWED,backgroundColor:Rf.b.NOT_ALLOWED,bold:Rf.b.NOT_ALLOWED,italic:Rf.b.NOT_ALLOWED,underline:Rf.b.NOT_ALLOWED,strikeThrough:Rf.b.NOT_ALLOWED,subscript:Rf.b.NOT_ALLOWED,superscript:Rf.b.NOT_ALLOWED,dropCap:Rf.b.NOT_ALLOWED,link:Rf.b.NOT_ALLOWED,list:Rf.b.NOT_ALLOWED}})},r=Object(J.a)(t,"textStyle",{}),a=n.config.filterTextStyle;return n.config.filterTextStyle=Object(gs.a)(a,r),new Af.a(n)},t._createSubTitleTextUnit=function(e,t){var o=!this._isSubTitleEnabled(),n={state:e,config:Object(i.a)({},t,{attributes:{cursor:null,selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"backward-escapable-text"},maxLength:250,disable:o,filterTextStyle:{fontFamily:Rf.b.FOLLOW_CURRENT_STYLE,fontSizeCode:Rf.b.FOLLOW_CURRENT_STYLE,fontColor:Rf.b.NOT_ALLOWED,backgroundColor:Rf.b.NOT_ALLOWED,bold:Rf.b.NOT_ALLOWED,italic:Rf.b.NOT_ALLOWED,underline:Rf.b.NOT_ALLOWED,strikeThrough:Rf.b.NOT_ALLOWED,subscript:Rf.b.NOT_ALLOWED,superscript:Rf.b.NOT_ALLOWED,dropCap:Rf.b.NOT_ALLOWED,link:Rf.b.NOT_ALLOWED,list:Rf.b.NOT_ALLOWED}})},r=Object(J.a)(t,"textStyle",{}),a=n.config.filterTextStyle;return n.config.filterTextStyle=Object(gs.a)(a,r),new Af.a(n)},t.updateStyle=function(e){this._isParagraphStyle(e)?e.align&&this.allowedComponentAlign.includes(e.align)&&(this.getText().updateWholeParagraphStyle(e),this.align=e.align):this.getText().updateWholeCharacterStyle(e)},t.applyUserDefinedStyle=function(e){var t=this.getText();if(t.isEmpty()){var o={start:t.getStartPoint(),end:t.getEndPoint()};this.updateStyles(e,o);var n=e.align;n&&this.allowedComponentAlign.includes(n)&&(this.align=n)}},t.reset=function(){this.updatePhase(u.M.DONE)},t.applyEditedImage=function(e){var t=this.background.image,o=e.photos[0];if(o.modified){var n=o.height,r=o.width,i=o.domain,a=o.path,s=this.thumbnailType?"?type="+this.thumbnailType:"",c=rt()({},t,{src:""+i+a+s,path:a,originalWidth:r,originalHeight:n});this._replaceBackgroundImage(c)}},t.queryDragAndDrop=function(e){var t=e.type,o=e.dropPoint,n=e.items,r=["library","aside"].includes(t)&&n.length&&"image"===n[0].ctype,i=this.backgroundConfig.uploadDND;return("external-file"===t||r)&&i?{items:[n[0]],insertCommand:"query",insertPoint:o,direction:u.x.DOCUMENT_BACKGROUND}:null},t.queryCursor=function(e){var t=e.direction,o=e.toPoint.unitId===this.id,n=null;return(t===u.u.LEFT||t===u.u.UP)&&o&&(n={start:this.getStartPoint(),end:this.getStartPoint()}),{type:"range",range:n}},t.putCursor=function(e){this._changeSelectionToChild(),(e.unitId===this.title.id?this.title:this.subTitle).putCursor(e)},t.getNextUnit=function(){return this.subTitle},t.getPrevUnit=function(){return this.title},t.merge=function(e){var t=Object(mo.a)(e);return this.insertBackgroundImage(t),{components:[this]}},t.insert=function(e,t){void 0===t&&(t={});var o=this.getText(),n=e.getText(),r=o.mergeWith(n,t);return r.start.compId=this.id,r.end.compId=this.id,r},t.erase=function(e,t){var o={};!0===this._isBackgroundTarget(e)?this.deleteBackgroundImage():o=this.getText().erase(e,t);var n={start:{compId:this.id},end:{compId:this.id}};return Object(i.a)(n,o)},t.queryErasure=function(){return this.deleteBackgroundImage(),{result:"move",range:this.getCompEndRange()}},t.refineSelection=function(e){return e},t.insertBackgroundImage=function(e){this.background=K.f.observable({ctype:"background",image:new km.a({state:e,config:{attributes:{erasure:"query"}}}),point:{ctype:"point",x:50,y:50}})},t._replaceBackgroundImage=function(e){this.background=K.f.observable({ctype:"background",image:new km.a({state:e,config:{attributes:{erasure:"query"}}}),point:this.background.point})},t.updateBackgroundPosition=function(e){var t=e.backgroundPositionX,o=e.backgroundPositionY;this.background.point.x=parseFloat(t),this.background.point.y=parseFloat(o)},t.deleteBackgroundImage=function(){this.background=null,this.updatePhase(u.M.DONE)},t.getRepresentativeId=function(){var e=[];if(this.background){var t=this.background.image.getRepresentativeId();e.push(this.id+"|"+t)}return e},t.hasBackgroundImage=function(){return""!==Object(J.a)(this,"background.image.src","")},t.hasEditableBackgroundImage=function(){var e=Object(J.a)(this,"background.image",{}),t=e.format,o=e.internalResource;return"normal"===t&&!0===o},t.clone=function(e){var t=this.getText().clone(e);return t.resetStyle(),t},t.selectAsBlock=function(e,t){this.deselect(),e.unitId===this.title.id?(this.title.selectAsBlock(e,t),this._changeSelectionToChild()):e.unitId===this.subTitle.id?(this.subTitle.selectAsBlock(e,t),this._changeSelectionToChild()):this._changeSelectionToBlock()},t.setRepresentativeImage=function(){this.background.image.setRepresentativeImage()},t.releaseRepresentativeImage=function(){this.background.image.releaseRepresentativeImage()},t.getRepresentativeInnerData=function(){return this.background.image.getRepresentativeInnerData()},t.updateTheme=function(t,o){if(e.prototype.updateTheme.call(this,t,o),this.themeStyle&&this.themeStyle[this.layout]&&!this.align){var n=this.themeStyle[this.layout].title;this.align=n.align}},t.getStoreById=function(e){return e===this.id?this:e===this.title.id?this.title:this.background&&e===this.background.image.id?this.background.image:e===this.subTitle.id?this.subTitle:null},t._isBackgroundTarget=function(e){return Object(J.a)(e,"start.unitId")===Object(J.a)(this,"background.image.id")},t.deselect=function(){this._changeSelectionToNone(),this.title.deselect(),this.subTitle.deselect()},t.getText=function(e){return e?this[e]:"none"!==this.subTitle.selection?this.subTitle:this.title},t.getDocumentTitle=function(){return this.title.getPlainTextWithEmoji()},t.updateConfig=function(){e.prototype.updateConfig.call(this),this.representativeEnabled=!1!==this._configAgent.get("productConfig.representativeEnabled")},t.isRepresentativeImage=function(){return this.representativeEnabled&&!0===Object(J.a)(this,"background.image.internalResource",!1)},t.hasRepresentativeImage=function(){return Object(J.a)(this,"background.image.represent",!1)},t.collectStyle=function(e){var t=this.getText().collectStyle(e),o=Object(J.a)(this,"background.image.src","");return Object(i.a)({src:o},t)},t.isLibraryComponent=function(){var e=!!Object(J.a)(this,"background.image.src",!1),t=!!Object(J.a)(this,"background.image.internalResource",!1);return e&&t},t.getLibraryItemData=function(){var e=Object(J.a)(this.toValidJSON(),"background.image"),t=e.domain,o=e.path,n=Object(i.a)({phase:"done"},e);return{id:this.id,key:""+t+o,thumbnail:Object(J.a)(this,"background.image.src"),data:n}},t.getFontSizeCode=function(){return this.getFirstParagraph().getFirstNode().computedStyle.fontSizeCode},t._isSubTitleEnabled=function(){return"flex"===this.layout},t._isFocusedOnText=function(){return"none"!==this.title.selection||"none"!==this.subTitle.selection},t.updateServiceData=function(e){this.background&&this.background.image.updateServiceData(e)},at()(o,[{key:"isDndUploadEnable",get:function(){return!!this.backgroundConfig&&this.backgroundConfig.uploadDND}},{key:"isSnsUploadEnabled",get:function(){return!!this.backgroundConfig&&this.backgroundConfig.uploadSNS}},{key:"isLocalUploadEnabled",get:function(){return!!this.backgroundConfig&&this.backgroundConfig.uploadLocal}},{key:"isBackgroundMovable",get:function(){return!!this.backgroundConfig&&this.backgroundConfig.reposition}},{key:"translationEnabled",get:function(){return this._isFocusedOnText()}}]),o}(u.j),ym=q()(gm.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),bm=q()(gm.prototype,"background",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_m=q()(gm.prototype,"title",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vm=q()(gm.prototype,"subTitle",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Cm=q()(gm.prototype,"phase",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.M.DONE}}),Sm=q()(gm.prototype,"representativeEnabled",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),q()(gm.prototype,"isDndUploadEnable",[K.e],Object.getOwnPropertyDescriptor(gm.prototype,"isDndUploadEnable"),gm.prototype),q()(gm.prototype,"isSnsUploadEnabled",[K.e],Object.getOwnPropertyDescriptor(gm.prototype,"isSnsUploadEnabled"),gm.prototype),q()(gm.prototype,"isLocalUploadEnabled",[K.e],Object.getOwnPropertyDescriptor(gm.prototype,"isLocalUploadEnabled"),gm.prototype),q()(gm.prototype,"isBackgroundMovable",[K.e],Object.getOwnPropertyDescriptor(gm.prototype,"isBackgroundMovable"),gm.prototype),gm);Pm.ctype="documentTitle",Pm.schema={id:Df.a.string.isRequired,layout:Df.a.string.isRequired,ctype:Df.a.string.isRequired,title:Df.a.textUnit.isRequired,subTitle:Df.a.textUnit,background:Df.a.shape({ctype:Df.a.string.isRequired,image:Df.a.shape(km.a.schema).isRequired,point:Df.a.shape(Om.f).isRequired}),align:Df.a.string};var jm,Tm=Pm,Lm=Tm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/store/index.js",localName:t}})}catch(e){}}e(Pm,"DocumentTitleComponentStore"),e(Tm,"default")}();var Em=(jm=function(e){function t(t){var o;return(o=e.call(this,t)||this)._uniqueEventKey="click.__se-draggable-background",o._globalEventProxy=cc.a,o._handleDragStart=o._handleDragStart.bind(G()(o)),o._handleDragMove=o._handleDragMove.bind(G()(o)),o._handleDragEnd=o._handleDragEnd.bind(G()(o)),o._handleClickDraggableBackgroundOutside=o._handleClickDraggableBackgroundOutside.bind(G()(o)),o}h()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){var e=this.props.backgroundPoint;this.setState({draggable:!1,initialX:0,initialY:0,isLockHorizontal:!1,isLockVertical:!1,backgroundPositionX:e.x,backgroundPositionY:e.y,standardBackgroundPositionX:e.x,standardBackgroundPositionY:e.y})},o.componentDidMount=function(){this._globalEventProxy.on(this._uniqueEventKey,this._handleClickDraggableBackgroundOutside)},o.UNSAFE_componentWillReceiveProps=function(e){var t=e.isEditing,o=e.backgroundImage,n=e.backgroundPoint;t!==this.props.isEditing&&(this._updateBackgroundStates(o),this._resetPosition(n))},o.componentWillUnmount=function(){this._globalEventProxy.off(this._uniqueEventKey)},o.render=function(){var e=this.props,t=e.targetClassName,o=e.backgroundClassName,n=e.targetChildren,r=e.backgroundChildren,i=this._makeBackgroundStyle(),a="__se-draggable-background "+o;return K.b.createElement("div",{className:a,ref:this._ref,style:i},this._appendTempElement(),r,K.b.createElement("div",{className:t,onMouseDown:this._handleDragStart},n))},o._ref=function(e){this._background=e},o._hasBackgroundImage=function(){return!Object(st.a)(this.props.backgroundImage)},o._makeBackgroundStyle=function(){if(!1===this._hasBackgroundImage())return{};var e=this.props,t=e.backgroundImage,o=e.backgroundPoint,n=o.x,r=o.y;return this.props.isEditing&&(n=this.state.backgroundPositionX,r=this.state.backgroundPositionY),{backgroundImage:"url('"+t.src.replace(/'/g,"\\'")+"')",backgroundPositionX:n+"%",backgroundPositionY:r+"%"}},o._appendTempElement=function(){if(this.state.draggable){return K.b.createElement("div",{className:"__background-dim",style:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:20,background:"rgba(255,255,255,0)"},onMouseMove:this._handleDragMove,onMouseUp:this._handleDragEnd})}},o._handleDragStart=function(e){this._updateInitPosition(e)},o._handleDragMove=function(e){var t=this._calculateBackgroundPosition(e);this._updateBackgroundPosition(t)},o._handleDragEnd=function(){var e={backgroundPositionX:this.state.backgroundPositionX,backgroundPositionY:this.state.backgroundPositionY};this.props.onChangePosition(e),this._updateStandardBackgroundPosition()},o._updateBackgroundStates=function(e){var t=this._getBackgroundSizeState(e),o=this._getBackgroundLockState(t);this.setState(rt()({},t,o))},o._getBackgroundSizeState=function(e){var t=e.originalWidth/e.originalHeight,o=parseFloat(this._background.clientWidth),n=parseFloat(this._background.clientHeight),r=o/n,i=o,a=n;return t>r?i=a*t:t<r&&(a=i/t),{viewWidth:o,viewHeight:n,resizedWidth:i,resizedHeight:a}},o._getBackgroundLockState=function(e){var t=e.viewWidth/e.viewHeight,o=e.resizedWidth/e.resizedHeight;return{isLockHorizontal:t>=o,isLockVertical:t<=o}},o._updateInitPosition=function(e){this.setState({draggable:!0,initialX:e.clientX,initialY:e.clientY})},o._updateStandardBackgroundPosition=function(){this.setState({draggable:!1,standardBackgroundPositionX:this.state.backgroundPositionX,standardBackgroundPositionY:this.state.backgroundPositionY})},o._updateBackgroundPosition=function(e){var t=this.state,o=t.isLockHorizontal,n=t.isLockVertical;!1===o&&this.setState({backgroundPositionX:e.positionX}),!1===n&&this.setState({backgroundPositionY:e.positionY})},o._resetPosition=function(e){this.setState({backgroundPositionX:e.x,backgroundPositionY:e.y,standardBackgroundPositionX:e.x,standardBackgroundPositionY:e.y})},o._calculateBackgroundPosition=function(e){var t=this.state,o=t.initialX,n=t.initialY,r=t.resizedWidth,i=t.resizedHeight,a=t.standardBackgroundPositionX,s=t.standardBackgroundPositionY,c=(o-e.clientX)/r*100,l=(n-e.clientY)/i*100,u=parseFloat(a)+c,p=parseFloat(s)+l;return u>100?u=100:u<0&&(u=0),p>100?p=100:p<0&&(p=0),{positionX:u,positionY:p}},o._handleClickDraggableBackgroundOutside=function(){this.props.isEditing&&this.props.onClickOutside()},t}(K.b.Component),q()(jm.prototype,"_ref",[ee.autobind],Object.getOwnPropertyDescriptor(jm.prototype,"_ref"),jm.prototype),jm);Em.defaultProps={isEditing:!1,backgroundClassName:"",targetClassName:"",backgroundChildren:null,targetChildren:null,onChangePosition:function(){},onClickOutside:function(){},position:{},backgroundImage:{},backgroundPoint:{}},Em.propTypes={isEditing:K.a.bool,backgroundClassName:K.a.string,targetClassName:K.a.string,backgroundChildren:K.a.oneOfType([K.a.string,K.a.element]),targetChildren:K.a.oneOfType([K.a.string,K.a.element]),onChangePosition:K.a.func,onClickOutside:K.a.func,position:K.a.object,backgroundImage:K.a.object,backgroundPoint:K.a.object};var Nm=Object(Z.b)(Em),xm=Nm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/draggable-background/index.jsx",localName:t}})}catch(e){}}e(Em,"DraggableBackground"),e(Nm,"default")}();var Dm=function(e){var t=e.background,o=e.i18n,n=e.isEditing,r=e.onChangePosition,i=e.onClickOutside,a=e.isBackgroundMovable;if(t&&t.image){if(a)return K.b.createElement(xm,{backgroundClassName:"se-title-cover __se-cursor-unrelated",targetClassName:"se-cover-moving-message",backgroundChildren:K.b.createElement("div",{className:"se-title-cover-dim"}),targetChildren:o("documentTitleComponent:image_move_notice"),isEditing:n,backgroundImage:t.image,backgroundPoint:t.point,onChangePosition:r,onClickOutside:i});var s=t.image,c=t.point,l={};return Object(st.a)(s)||(l={backgroundImage:"url('"+s.src.replace(/'/g,"\\'")+"')",backgroundPositionX:c.x+"%",backgroundPositionY:c.y+"%"}),K.b.createElement("div",{className:"__se-draggable-background se-title-cover __se-cursor-unrelated",style:l},K.b.createElement("div",{className:"se-title-cover-dim"}))}return null};Dm.propTypes={isEditing:K.a.bool,onChangePosition:K.a.func,onClickOutside:K.a.func,background:K.a.object,i18n:K.a.func,isBackgroundMovable:K.a.bool};var Rm=Object(Z.b)(Dm),Am=Rm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/view/document-title-background.jsx",localName:t}})}catch(e){}}e(Dm,"DocumentTitleBackground"),e(Rm,"default")}();var Um=function(e){var t=e.enabled,o=e.isRepresentative,n=e.i18n,r=e.onClick,i=et()({"se-set-rep-image-button":!0,"se-is-selected":o});return t?K.b.createElement("button",{type:"button",className:i,title:n("documentTitleComponent:delegate_image_setting_title"),onClick:r},K.b.createElement("span",{className:"se-set-rep-image-button-text"},n("documentTitleComponent:delegate_image_setting"))):null};Um.propTypes={enabled:K.a.bool,onClick:K.a.func,isRepresentative:K.a.bool,i18n:K.a.func};var Mm=Object(Z.b)(Um),Bm=Mm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/view/representative-button.jsx",localName:t}})}catch(e){}}e(Um,"RepresentativeButton"),e(Mm,"default")}();var Fm=o(198),zm=function(e){var t=e.i18n,o=e.store,n=e.onClickLocalUpload,r=e.onClickSnsUpload,i=e.onClickRepresentativeButton,a=e.onClickReposition,s=e.onClickCrop,c=e.onClickFilter,l=e.onClickAdjust,u=e.onClickDelete,p=e.onClickCancel,d=e.onClickConfirm,h=o.representativeEnabled,f="flex"===o.layout;return K.b.createElement("div",{className:"se-cover-button-wrap"},K.b.createElement("div",{className:"se-cover-attach-button-container"},o.isLocalUploadEnabled&&K.b.createElement("span",{className:"se-cover-button se-cover-button-local-image-upload",title:t("documentTitleComponent:background_upload"),onClick:n}),o.isSnsUploadEnabled&&K.b.createElement("span",{className:"se-cover-button se-cover-button-sns-image-upload",title:t("documentTitleComponent:background_image_load"),onClick:r})),K.b.createElement("div",{className:"se-cover-edit-button-container"},K.b.createElement(Bm,{i18n:t,enabled:!!h&&o.isRepresentativeImage(),isRepresentative:Object(J.a)(o,"background.image.represent",!1),onClick:i}),o.isBackgroundMovable&&K.b.createElement("span",{className:"se-cover-button se-cover-button-set-position",title:t("documentTitleComponent:background_position_move_title"),onClick:a},K.b.createElement("span",{className:"se-cover-button-label"},t("documentTitleComponent:background_position_move"))),f&&o.hasEditableBackgroundImage()&&K.b.createElement(K.b.Fragment,null,K.b.createElement("span",{className:"se-cover-button se-cover-button-set-crop",title:t("documentTitleComponent:background_image_crop"),onClick:s},K.b.createElement("span",{className:"se-cover-button-label"},t("documentTitleComponent:background_image_crop"))),K.b.createElement("span",{className:"se-cover-button se-cover-button-set-filter",title:t("documentTitleComponent:background_image_filter"),onClick:c},K.b.createElement("span",{className:"se-cover-button-label"},t("documentTitleComponent:background_image_filter"))),K.b.createElement("span",{className:"se-cover-button se-cover-button-set-adjust",title:t("documentTitleComponent:background_image_adjust"),onClick:l},K.b.createElement("span",{className:"se-cover-button-label"},t("documentTitleComponent:background_image_adjust")))),K.b.createElement("span",{className:"se-cover-button se-cover-button-del-image",title:t("documentTitleComponent:background_image_delete_title"),onClick:u},K.b.createElement("span",{className:"se-cover-button-label"},t("documentTitleComponent:background_image_delete_title")))),K.b.createElement("div",{className:"se-cover-moving-button-container"},K.b.createElement("span",{className:"se-cover-button se-cover-button-discard-position",title:t("documentTitleComponent:background_position_cancel_title"),onClick:p},t("documentTitleComponent:cancel")),K.b.createElement("span",{className:"se-cover-button se-cover-button-confirm-position",title:t("documentTitleComponent:background_position_save_title"),onClick:d},t("documentTitleComponent:confirm"))),o.background&&K.b.createElement(Fm.a,{store:o}))};zm.propTypes={store:K.a.instanceOf(Lm),isLocalUploadEnabled:K.a.bool,isSnsUploadEnabled:K.a.bool,isRepresentativeEnabled:K.a.bool,isRepresentative:K.a.bool,isBackgroundMovable:K.a.bool,onClickLocalUpload:K.a.func,onClickSnsUpload:K.a.func,onClickRepresentativeButton:K.a.func,onClickReposition:K.a.func,onClickCrop:K.a.func,onClickFilter:K.a.func,onClickAdjust:K.a.func,onClickDelete:K.a.func,onClickCancel:K.a.func,onClickConfirm:K.a.func,i18n:K.a.func};var Wm,Vm=zm,Gm=Vm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/view/document-title-buttons.jsx",localName:t}})}catch(e){}}e(zm,"DocumentTitleButtons"),e(Vm,"default")}();var Hm={useToolbarSlot:!1},qm=["image","external-file","aside","library"],Jm=(Wm=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={isEditing:!1},o._prevBackgroundId=null,o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.componentDidUpdate=function(){var e=this.props.store.background,t=Object(J.a)(e,"image.id");this._prevBackgroundId!==t&&(this._disposeReactionBackground&&this._disposeReactionBackground(),this._disposeReactionBackground=K.f.reaction(function(){return e},this._handleReactionBackground,{fireImmediately:!0}),this._prevBackgroundId=t)},o.componentWillUnmount=function(){this._disposeReactionBackground&&this._disposeReactionBackground()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.layout,a=this._resolveWrapperClassName(),s=this._renderTitle(),c=this._renderSubtitle();return K.b.createElement(Lf.a,{store:t,id:n,ctype:r,layout:i,className:a,head:this._renderBackground(),tail:this._renderButtons(),i18n:o},K.b.createElement(dm.a,{blockWrapperProps:t,draggable:"false"},s,c))},o._renderTitle=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.title,i={placeholder:o("documentTitleComponent:title_placeholder")},a=t.getFontSizeCode(),s=et()("se-title-text","se-module-"+a+"-min-height-for-ie");return K.b.createElement(Nf.a,{text:r,compId:n,className:s,options:Hm,additionalOption:i,onLimitTextLength:this._handleLimitOverTitle})},o._renderSubtitle=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.subTitle;if(r.disable)return null;var i={placeholder:o("documentTitleComponent:sub_title_placeholder")},a=et()("se-subtitle-text");return K.b.createElement(Nf.a,{text:r,compId:n,className:a,options:Hm,additionalOption:i,onLimitTextLength:this._handleLimitOverSubTitle})},o._getAdditionalOption=function(){return{placeholder:(0,this.props.i18n)("documentTitleComponent:title_placeholder")}},o._renderBackground=function(){var e=this.props.store;return K.b.createElement(Am,{i18n:this.props.i18n,isEditing:this.state.isEditing,background:this.props.store.background,onChangePosition:this._handleChangePosition,onClickOutside:this._handleClickBackgroundOutside,isBackgroundMovable:e.isBackgroundMovable})},o._renderButtons=function(){return Gm({i18n:this.props.i18n,store:this.props.store,onClickLocalUpload:this._handleClickImageBtn,onClickSnsUpload:this._handleClickSNSBtn,onClickRepresentativeButton:this._handleClickRepresent,onClickReposition:this._handleClickPositionBtn,onClickCrop:this._handleClickCropBtn,onClickFilter:this._handleClickFilterBtn,onClickAdjust:this._handleClickAdjustBtn,onClickDelete:this._handleClickDelBtn,onClickCancel:this._handleClickCancel,onClickConfirm:this._handleClickConfirm})},o._resolveWrapperClassName=function(){var e=this.state.isEditing,t=this.props.store,o=t.dragAndDrop,n=o.dragDataType,r=qm.includes(n),i=!0===t.isDndUploadEnable&&o.isOnDrop&&r,a=this._hasBackgroundImage()&&!1===e;return et()({"__se-cursor-inverted":a,"se-documentTitle-cover-image":a,"se-documentTitle-cover-image se-is-cover-moving":e,"se-is-drop-activated":i})},o._handleClickRepresent=function(e){this.props.useCase.setRepresentativeImage({compId:this.props.store.id}),zt.a.log(e.nativeEvent,"ttlct.rep")},o._handleChangePosition=function(e){this.setState({backgroundPosition:e})},o._hasBackgroundImage=function(){var e=this.props.store;return""!==Object(J.a)(e,"background.image.src","")},o._handleClickCropBtn=function(){this.props.useCase.cropCoverImage()},o._handleClickFilterBtn=function(){this.props.useCase.filterCoverImage()},o._handleClickAdjustBtn=function(){this.props.useCase.adjustCoverImage()},o._handleClickDelBtn=function(e){this.props.useCase.deleteBackground(),zt.a.log(e.nativeEvent,"ttlct.pdel")},o._handleClickImageBtn=function(e){this.props.useCase.uploadBackground(),zt.a.log(e.nativeEvent,"ttlct.photo")},o._handleClickSNSBtn=function(){this.props.useCase.uploadBackgroundFromSNS()},o._handleClickPositionBtn=function(e){this.props.useCase.startEditingBackgroundPosition(),this._startEditing(),zt.a.log(e.nativeEvent,"ttlct.move")},o._handleClickConfirm=function(e){this.props.useCase.fixBackgroundPosition(this.state.backgroundPosition),this._stopEditing(),zt.a.log(e.nativeEvent,"ttlct.moveok")},o._handleClickCancel=function(e){this.props.useCase.revertBackgroundPosition(),this._stopEditing(),zt.a.log(e.nativeEvent,"ttlct.movecancel")},o._handleClickBackgroundOutside=function(){this._cancelEditingMode()},o._handleLimitOverTitle=function(){var e=this.props,t=e.i18n,o=e.store;this.props.useCase.showToast(t("documentTitleComponent:warning_limit_over_title_text",{maxLength:o.title.maxLength}))},o._handleLimitOverSubTitle=function(){var e=this.props,t=e.i18n,o=e.store;this.props.useCase.showToast(t("documentTitleComponent:warning_limit_over_sub_title_text",{maxLength:o.subTitle.maxLength}))},o._handleReactionBackground=function(){this.props.useCase.repaintCursor()},o._startEditing=function(){var e=this.props.store.background.point;this.setState({isEditing:!0,backgroundPosition:{backgroundPositionX:e.x||"50%",backgroundPositionY:e.y||"50%"}})},o._stopEditing=function(){this.setState({isEditing:!1})},o._cancelEditingMode=function(){this.props.useCase.revertBackgroundPosition(),this._stopEditing()},t}(K.b.Component),q()(Wm.prototype,"_renderButtons",[ee.muteIfReadOnly],Object.getOwnPropertyDescriptor(Wm.prototype,"_renderButtons"),Wm.prototype),q()(Wm.prototype,"_handleClickRepresent",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickRepresent"),Wm.prototype),q()(Wm.prototype,"_handleChangePosition",[ee.autobind,ee.muteIfReadOnly],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleChangePosition"),Wm.prototype),q()(Wm.prototype,"_handleClickCropBtn",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickCropBtn"),Wm.prototype),q()(Wm.prototype,"_handleClickFilterBtn",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickFilterBtn"),Wm.prototype),q()(Wm.prototype,"_handleClickAdjustBtn",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickAdjustBtn"),Wm.prototype),q()(Wm.prototype,"_handleClickDelBtn",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickDelBtn"),Wm.prototype),q()(Wm.prototype,"_handleClickImageBtn",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickImageBtn"),Wm.prototype),q()(Wm.prototype,"_handleClickSNSBtn",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickSNSBtn"),Wm.prototype),q()(Wm.prototype,"_handleClickPositionBtn",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickPositionBtn"),Wm.prototype),q()(Wm.prototype,"_handleClickConfirm",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickConfirm"),Wm.prototype),q()(Wm.prototype,"_handleClickCancel",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickCancel"),Wm.prototype),q()(Wm.prototype,"_handleClickBackgroundOutside",[ee.autobind,ee.muteIfReadOnly],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleClickBackgroundOutside"),Wm.prototype),q()(Wm.prototype,"_handleLimitOverTitle",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleLimitOverTitle"),Wm.prototype),q()(Wm.prototype,"_handleLimitOverSubTitle",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleLimitOverSubTitle"),Wm.prototype),q()(Wm.prototype,"_handleReactionBackground",[ee.autobind],Object.getOwnPropertyDescriptor(Wm.prototype,"_handleReactionBackground"),Wm.prototype),Wm);Jm.defaultProps={i18n:function(e){return e},dragAndDrop:{isDropEnabled:!1,isExternalImage:!1,direction:"",compId:"",unitId:""}},Jm.propTypes={shouldForceRefresh:K.a.bool,i18n:K.a.func,useCase:K.a.instanceOf(mm).isRequired,store:K.a.instanceOf(Lm).isRequired,dragAndDrop:K.a.object};var Km=Object(Z.b)(Jm),Ym=Km;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/view/index.jsx",localName:t}})}catch(e){}}e(Hm,"textUnitOptions"),e(qm,"DRAG_TYPE"),e(Jm,"DocumentTitleComponentView"),e(Km,"default")}();var Xm=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.U.get("configAgent"),t._componentListStore=u.U.get("componentListStore"),t._componentFactory=u.U.get("componentFactory"),t._virtualEditable=u.U.get("virtualEditable"),t}h()(t,e);var o=t.prototype;return o.updateBackgroundImage=function(e){var t=this._uploadDataToComp(e);this.getComponentStore().insertBackgroundImage(t)},o._uploadDataToComp=function(e){var t=this._configAgent.get("editorInfo"),o=e.domain||this._configAgent.get("infraInfo.photoInfra.imageHost"),n=e.animatedCnt>1?"animated":"normal";return this._componentFactory.createComponentWithCompData({ctype:"image",src:""+o+e.url+"?type="+t.thumbnailType.normal,internalResource:!0,caption:null,domain:o,path:e.path+"/"+e.fileName,format:n,displayFormat:n,width:parseInt(e.width,10),height:parseInt(e.height,10),fileSize:parseInt(e.fileSize,10),allowVR360OrPanorama:!1})},o.deleteBackgroundImage=function(){this.getComponentStore().deleteBackgroundImage()},o.reset=function(){this.getComponentStore().reset()},o.updateBackgroundPosition=function(e){this.getComponentStore().updateBackgroundPosition(e)},o.startEditingBackgroundPosition=function(){this._virtualEditable.disable()},o.stopEditingBackgroundPosition=function(){this._virtualEditable.enable()},o.getComponentStore=function(){return this._componentListStore.getComponentByCtype("documentTitle")},o.getBackgroundImageId=function(){return this.getComponentStore().toValidJSON().background.image.id},o.getBackgroundImageData=function(){return this.getComponentStore().toValidJSON().background.image},t}(u.a),Qm=Xm,Zm=Qm;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/service/index.js",localName:t}})}catch(e){}}e(Xm,"DocumentTitleComponentService"),e(Qm,"default")}();var $m,eg=o(193),tg=["fs26","fs32","fs38"],og=($m=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.LABEL_SELECT:t,n=e.title,r=void 0===n?"titleFontSizeCode:title":n,i=e.label,a=void 0===i?"titleFontSizeCode:label":i,s=e.hasIcon,c=void 0!==s&&s,l=e.value,u=void 0===l?"fs38":l,p=e.logId,d=void 0===p?"size":p,h=e.buttonConfig,f=Ja()(e,["type","title","label","hasIcon","value","logId","buttonConfig"]),m=this._refineOptions(h&&h.allowList);return K.b.createElement(eg.a,xc()({type:o,title:r,label:a,hasIcon:c,value:u,logId:d,options:m},f,{onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeFontSize(e),this.props.onClickSelector(e)},o._refineOptions=function(e){return Object(wc.a)(tt.a,e||tg)},t}(K.b.Component),q()($m.prototype,"_handleClickOption",[ee.autobind],Object.getOwnPropertyDescriptor($m.prototype,"_handleClickOption"),$m.prototype),$m),ng=og,rg=ng;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/buttons/view/document-title-font-size-button-view.jsx",localName:t}})}catch(e){}}e(tg,"DefaultFontSizeCodes"),e(og,"TitleSizeButtonView"),e(ng,"default")}();var ig,ag,sg,cg=o(219),lg=o(276),ug=(ig=Object(ee.history)({sync:!1}),ag=Object(ee.history)({sync:!1}),sg=function(e){function t(){var t;return(t=e.call(this)||this)._documentTitleComponentService=u.U.get("documentTitleComponentService"),t._imageEditService=u.U.get("imageEditService"),t._alertLayerService=u.U.get("alertLayerService"),t._canvasLayoutService=u.U.get("canvasLayoutService"),t._imageUploadService=u.U.get("imageUploadService"),t._imageBehavior=u.U.get("imageBehavior"),t}h()(t,e);var o=t.prototype;return o.changeImage=function(){var e=Zt()(Xt.a.mark(function e(){var t,o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:return t=e.sent,o=this._documentTitleComponentService.getComponentStore().id,e.next=6,this._imageBehavior.insertBackground(o,t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.editImage=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._documentTitleComponentService.getComponentStore(),o=this._documentTitleComponentService.getBackgroundImageData(),n=t.toValidJSON(),e.next=5,this._imageEditService.editImage({activeCompId:o.id,editableImages:[n]});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._handleFailUploadBackground=function(e){var t=this;this._alertLayerService.open({type:"alert",title:e.cause,description:e.description,onClickConfirm:function(){t._canvasLayoutService.refreshVirtualEditable()}}),this._documentTitleComponentService.reset(),this._imageUploadService.reset()},t}(u.m),q()(sg.prototype,"changeImage",[ee.sentryCatch,ig,K.d],Object.getOwnPropertyDescriptor(sg.prototype,"changeImage"),sg.prototype),q()(sg.prototype,"editImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,ag,K.d],Object.getOwnPropertyDescriptor(sg.prototype,"editImage"),sg.prototype),q()(sg.prototype,"_handleFailUploadBackground",[ee.autobind],Object.getOwnPropertyDescriptor(sg.prototype,"_handleFailUploadBackground"),sg.prototype),sg);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/buttons/use-case/document-title-button-use-case.js",localName:t}})}catch(e){}}(ug,"DocumentTitleButtonUseCase")}();var pg={"title-font-size":{view:rg,useCase:ou.a,propertyName:"fontSizeCode",styleName:"font-size-code"},"background-image-replacement":{view:lg.a,useCase:ug,propertyName:"",styleName:"image-replacement"},"background-image-edit":{view:cg.a,useCase:ug,propertyName:"",styleName:"image-edit"}},dg=pg;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(pg,"default")}();var hg={propertyToolbar:{"font-family":Object(Ot.a)("font-family"),"title-font-size":dg["title-font-size"],"align-drop-down-without-right":Object(Ot.a)("align-drop-down-without-right"),"background-image-replacement":dg["background-image-replacement"],"background-image-edit":dg["background-image-edit"],"special-letter":Object(Ot.a)("special-letter"),"translation-right-label":Object(Ot.a)("translation-right-label"),speller:Object(Ot.a)("speller"),"separator-bar":Object(Ot.a)("separator-bar")}},fg=hg;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/document-title-button-map.js",localName:t}})}catch(e){}}(hg,"default")}();var mg={propertyToolbar:function(e){var t=e.selectedComponents,o=["font-family","title-font-size","separator-bar","align-drop-down-without-right","separator-bar","special-letter"];return t.every(function(e){return e.translationEnabled})&&o.push("separator-bar","translation-right-label"),o.push("separator-bar","speller"),1===t.length&&t[0].hasBackgroundImage()&&(o.push("separator-bar","background-image-replacement"),t[0].hasEditableBackgroundImage()&&o.push("separator-bar","background-image-edit")),o}},gg=mg;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/document-title-button-resolver.js",localName:t}})}catch(e){}}(mg,"default")}();var yg=function(e){function t(){return e.call(this,{buttonSetMap:fg,buttonResolver:gg})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/toolbar/index.js",localName:t}})}catch(e){}}(yg,"DocumentTitleComponentToolbar")}();var bg=u.q.extend({name:"DocumentTitleComponent",view:Ym,useCase:mm,service:Zm,store:Lm,toolbar:yg}),_g=bg,vg=_g;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/document-title-component/src/index.js",localName:t}})}catch(e){}}e(bg,"DocumentTitleComponent"),e(_g,"default")}();var Cg=o(143),Sg={LEFT:"left",CENTER:"center",RIGHT:"right"},Og={DEFAULT:"default"},kg={FIT:"fit",EXTEND:"extend",PAGEFULL:"pagefull"},Ig={NORMAL:"normal",VR360:"vr360",PANORAMA:"panorama"},wg={ImageAlign:Sg,ImageLayout:Og,ImageContentMode:kg,ImageFormat:Ig};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/consts/index.js",localName:t}})}catch(e){}}e(Sg,"ImageAlign"),e(Og,"ImageLayout"),e(kg,"ImageContentMode"),e(Ig,"ImageFormat"),e(wg,"default")}();var Pg=o(281),jg=o(197),Tg=o(767),Lg=function(e){var t=e.i18n,o=e.images,n=e.onDoubleClick,r=e.onClickRepresent,i=e.onClickDelete,a=e.onCompleteImage;return o.map(function(e){var o=e.representativeEnabled,s={showLocationButton:e.showLocationButton,showRepresentative:!!o&&e.isRepresentativeImage()};return K.b.createElement(Tg.a,{key:e.id,style:{width:e.widthPercentage+"%"},onDoubleClick:n,onClickRepresentative:r,onClickDelete:i,onCompleteImage:a,additionalOption:s,labelLink:t("imageUnit:label_link"),labelThumbnail:t("imageUnit:label_thumbnail"),labelDeleteImage:t("imageUnit:label_delete_image"),labelThisIs360VR:t("imageUnit:label_this_is_360vr"),labelUse360vr:t("imageUnit:label_use_360vr"),i18n:t,store:e})})},Eg=Lg,Ng=Eg;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/view/images.jsx",localName:t}})}catch(e){}}e(Lg,"Images"),e(Eg,"default")}();var xg,Dg,Rg,Ag,Ug,Mg,Bg,Fg=o(105),zg=o(116),Wg=o(177),Vg=o(531),Gg=Object(u.Y)(u.h),Hg=Object(u.W)(Gg),qg=(xg=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"query",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"query"},o.domain="",o.thumbnailTypeMap={},o.imageMiniumHeight=0,W()(o,"caption",Dg,G()(o)),W()(o,"images",Rg,G()(o)),W()(o,"layout",Ag,G()(o)),W()(o,"contentMode",Ug,G()(o)),W()(o,"phase",Mg,G()(o)),W()(o,"align",Bg,G()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;o._config=s,o._configAgent=u.U.get("configAgent"),o._componentFactory=u.U.get("componentFactory"),o.thumbnailTypeMap=o._configAgent.get("editorInfo.thumbnailType")||o.thumbnailTypeMap,o.imageMiniumHeight=o._configAgent.get("editorInfo.imageMiniumHeight")||o.imageMiniumHeight,o.attributes=Object(gs.a)(o.attributes,s.attributes),o.showLocationButton=!1,o.caption=o._createTextUnitStore(i.caption,s.caption);var c={attributes:{cursor:"selectable-unit",selection:"selectable-unit",erasure:"query"}};return o.images=Object(io.a)(i.images,function(e){return o._componentFactory.createComponentWithCompData(e,c)}),o.layout=i.layout||o.layout,o.contentMode=i.contentMode||o.contentMode,o.align=i.align||o.align,o.updateWidthRatio(o.images),o}h()(t,e);var o=t.prototype;return o.filterStyle=function(e){this.caption.filterStyle(e)},o.setState=function(){return this},o.updateConfig=function(){e.prototype.updateConfig.call(this),this.images.forEach(function(e){e.updateConfig&&e.updateConfig()})},o.updateData=function(e){var t=this;e.images.forEach(function(e){var o=t.images.find(function(t){return t.id===e.id});Object(Fg.a)(o,e)})},o.changeContentMode=function(e){this.contentMode=e},o.changeLink=function(e,t){if(void 0===e&&(e={}),!0===this.caption.isFocused)return this.caption.changeLink(this.checkProtocol(e),t);if(!0===this._isImageUnit(t)){var o=t.start.unitId;this._findImageUnitByUnitId(o).link=e.value?this.checkProtocol(e).value:null}},o.updateProperty=function(e,t){var o=e.contentMode,n=e.link,r=Ja()(e,["contentMode","link"]);if(o&&this.changeContentMode(o),Object(xf.a)(this,r),n)return this.changeLink(n,t)},o.queryDragAndDrop=function(e){var t=e.items,o=e.dropPoint,n=e.focus,r=e.insertDirection,i=e.itemIds,a=e.isOnEdge,s=t.some(function(e){return"image"!==e.ctype}),c=t.length>1,l=3===this.images.length,p=!c&&!s&&!l,d=this.images.findIndex(function(e){return e.id===n.unitId}),h=t[0].id===n.unitId&&!s&&!c&&d>-1,f=i.includes(this.id);if(a)return n.compId===n.unitId&&this.id===n.compId?null:(o.unitId=this.id,{insertCommand:r===u.x.BOTTOM?"append":"prepend",insertPoint:o,direction:r});if(h){var m=d-this.images.findIndex(function(e){return e.id===o.unitId});if(0===m)return null;if(1===m&&o.offset>0)return null;if(-1===m&&0===o.offset)return null;var g=0===o.offset?u.x.LEFT:u.x.RIGHT;return{insertCommand:"query",insertPoint:o,direction:g}}return f?null:p?{insertCommand:"query",insertPoint:o,direction:0===o.offset?u.x.LEFT:u.x.RIGHT}:this._isAppendable({items:t,hasOtherType:s,isFull:l,focus:n})?(o.unitId=this.id,{insertCommand:r===u.x.BOTTOM?"append":"prepend",insertPoint:o,direction:r}):null},o._isAppendable=function(e){var t=e.hasOtherType,o=e.isFull,n=e.focus,r=this.images.some(function(e){return e.id===n.unitId});return t||o||r},o.merge=function(e,t){var o=e.every(function(e){return"image"===e.ctype});if(e.length<=2&&o){var n,r=t.unitId,i=t.offset;e.forEach(function(e){Object.assign(e.attributes,{cursor:"selectable-unit",selection:"selectable-unit",erasure:"query"}),e.format!==u.C.PANORAMA&&e.format!==u.C.VR360||(e.displayFormat=u.C.NORMAL,e._resolveThumbnailType())});var a=[].concat(e),s=this.images.findIndex(function(e){return e.id===r});if(s>=0&&i>=1?s=0===i?Math.max(s-1,0):Math.min(s+1,2):s<0&&(s=0),(n=this.images).splice.apply(n,[s,0].concat(a)),this.updateWidthRatio(this.images),1===a.length){var c=a[0],l=this.caption.isEmpty()?c.caption:this.caption,p=Vg.a.dropProperty(l.toValidJSON(),"id");this.caption=this._createTextUnitStore(p,this._config.caption),this.updateTheme()}return{components:[this]}}return{components:[this].concat(e)}},o.mergeWith=function(e,t){var o,n=t.mergePoint,r=n.unitId,i=n.offset,a=[].concat(e),s=this.images.findIndex(function(e){return e.id===r});return s>=0&&1===i?s+=1:s<0&&(s=0),(o=this.images).splice.apply(o,[s,0].concat(a)),this.updateWidthRatio(this.images),this},o.queryErasure=function(e){if(this._isImageUnit(e)){if(this._removeImageUnit(e),1===this.images.length){var t=this.images.pop().toValidJSON();t.id=this.id;var o=this._componentFactory.createComponentWithCompData(t);return{result:"replace",component:o,range:o.getComponentActiveRange()}}return{result:"replace",component:this,range:this.getComponentActiveRange()}}if(this._isSelectedComponent())return{result:"self",component:null,range:null}},o._removeImageUnit=function(e){var t=this.images.filter(function(t){return t.id!==e.start.unitId});this.images=this.updateWidthRatio(t)},o.changeImage=function(e,t){var o=e.start.unitId;this._findImageUnitByUnitId(o).setState(t)},o.applyEditedImage=function(e){var t=this,o=e.photos.map(function(e){return e.modified?t._refineIntoImageData(e):e});this.updateData({compId:e.key,images:o}),this.updateWidthRatio(this.images)},o._refineIntoImageData=function(e){var t=e.key,o=e.fileSize,n=e.height,r=e.width,i=e.domain,a=e.path;return{fileSize:o,height:n,width:r,originalWidth:r,originalHeight:n,path:a,id:t,src:""+i+a+(this.thumbnailTypeMap.normal?"?type="+this.thumbnailTypeMap.normal:"")}},o.getStoreById=function(e){if(e===this.id)return this;if(e===this.caption.id)return this.caption;var t=this.images.find(function(t){return t.id===e});return t||null},o.getSelectedAlign=function(){return{align:this.align}},o.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o={layout:this.layout,contentMode:this.contentMode,width:this.width,height:this.height,align:t};if(e&&!0===this.caption.isFocused){var n=this.caption.collectStyle(e),r=Object(Wg.a)(n,function(e){return""===e||null===e});o.caption=r}if(!0===this._isImageUnit(e)){var i=Object(Pa.a)(this.images,{id:e.start.unitId});o.link={value:i.link},o.src=i.src}return o},o._findImageUnitByUnitId=function(e){return this.images.filter(function(t){return t.id===e})[0]},o._isSelectedComponent=function(){return"single"===this.selection||"multi"===this.selection||"block"===this.selection},o._isImageUnit=function(e){return!!this._findImageUnitByUnitId(e.start.unitId)},o.updateWidthRatio=function(e){if(0===e.length)return!1;var t=e,o=t[0].height;t.forEach(function(e){var t=o/e.height;e._normalHeight=e.height*t,e._normalWidth=e.width*t});var n=t.reduce(function(e,t){return("number"==typeof e?e:e._normalWidth)+("number"==typeof t?t:t._normalWidth)});return t.forEach(function(e){e.widthPercentage=e._normalWidth/n*100,delete e._normalHeight,delete e._normalWidth}),t},o.clone=function(e){if(this.caption.isFocused)return this.caption.clone(e);if(this.isUnitFocused){var t=this._findFocusedUnit().clone();return t.resetWidthPercentage(),t}return this._isSelectedComponent()?this._componentFactory.createComponentWithCompData(this.toValidJSON()):void 0},o._findFocusedUnit=function(){return Object(Pa.a)(this.images,function(e){return"single"===e.selection})},o.isRepresentativeImage=function(){return Object(zg.a)(this.images,function(e){return e.isRepresentativeImage()})},o.hasRepresentativeImage=function(){return Object(zg.a)(this.images,function(e){return e.hasRepresentativeImage()})},o.setRepresentativeImage=function(e){var t=e.unitId,o=this._findImageUnitByUnitId(t);o||(o=Object(Pa.a)(this.images,function(e){return e.isRepresentativeImage()})),o&&o.setRepresentativeImage()},o.releaseRepresentativeImage=function(e){var t=e.unitId,o=this._findImageUnitByUnitId(t);o&&o.releaseRepresentativeImage()},o.getRepresentativeId=function(){var e=this;return Object(io.a)(this.images,function(t){return e.id+"|"+t.getRepresentativeId()})},o.getRepresentativeInnerData=function(){var e=Object(Pa.a)(this.images,function(e){return e.hasRepresentativeImage()});return e?e.getRepresentativeInnerData():null},o.isLibraryComponent=function(){return Object(zg.a)(this.images,function(e){return!0===e.isLibraryComponent()})},o.getLibraryItemData=function(){var e=this;return Object(go.a)(Object(io.a)(this.images,function(t){if(t.isLibraryComponent())return Object.assign(t.getLibraryItemData(),{id:e.id})}))},o.deselect=function(){this.images.forEach(function(e){return e.deselect()}),this.caption.deselect(),this._changeSelectionToNone()},o._createTextUnitStore=function(e,t){var o={state:e,config:Object(i.a)({},t,{attributes:{cursor:"trapped",selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},filterTextStyle:{fontFamily:Rf.b.NOT_ALLOWED,fontSizeCode:Rf.b.NOT_ALLOWED,fontColor:Rf.b.NOT_ALLOWED,backgroundColor:Rf.b.NOT_ALLOWED,italic:Rf.b.NOT_ALLOWED,underline:Rf.b.NOT_ALLOWED,strikeThrough:Rf.b.NOT_ALLOWED,subscript:Rf.b.NOT_ALLOWED,superscript:Rf.b.NOT_ALLOWED,dropCap:Rf.b.NOT_ALLOWED}})},n=Object(J.a)(t,"textStyle",{}),r=o.config.filterTextStyle;return o.config.filterTextStyle=Object(gs.a)(r,n),new Af.a(o)},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,caption:this.caption.toPlainJSON(),images:this.images.map(function(e){return e.toPlainJSON()}),layout:this.layout,phase:this.phase,contentMode:this.contentMode,align:this.align}},at()(t,[{key:"isUnitFocused",get:function(){return Object(zg.a)(this.images,function(e){return"single"===e.selection})}},{key:"isFocused",get:function(){return this.caption.isFocused||this.isUnitFocused||"none"!==this.selection}},{key:"translationEnabled",get:function(){return"none"!==this.caption.selection}}]),t}(Hg),Dg=q()(xg.prototype,"caption",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rg=q()(xg.prototype,"images",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Ag=q()(xg.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Og.DEFAULT}}),Ug=q()(xg.prototype,"contentMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return kg.EXTEND}}),Mg=q()(xg.prototype,"phase",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.M.DONE}}),Bg=q()(xg.prototype,"align",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q()(xg.prototype,"isUnitFocused",[K.e],Object.getOwnPropertyDescriptor(xg.prototype,"isUnitFocused"),xg.prototype),q()(xg.prototype,"isFocused",[K.e],Object.getOwnPropertyDescriptor(xg.prototype,"isFocused"),xg.prototype),xg);qg.ctype="imageStrip",qg.schema={id:Df.a.string.isRequired,ctype:Df.a.string.isRequired,layout:Df.a.string.isRequired,contentMode:Df.a.string.isRequired,images:Df.a.arrayOf(Df.a.shape(km.a.schema)).isRequired,caption:Df.a.captionTextUnit,align:Df.a.string};var Jg,Kg,Yg,Xg=qg,Qg=Xg;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/store/index.js",localName:t}})}catch(e){}}e(Gg,"RepresentativeCompStore"),e(Hg,"LinkWritableAndRepresentativeCompStore"),e(qg,"ImageStripComponentStore"),e(Xg,"default")}();var Zg,$g=(Jg=Object(ee.history)({sync:!1}),Kg=Object(ee.history)({sync:!1}),Yg=function(e){function t(){var t;t=e.call(this)||this;var o=u.U.get("configAgent");return t._maxLength=o.get("plugins.componentSettings.imageStrip.config.caption.maxLength"),t._editingService=u.U.get("editingService"),t._imageStripComponentService=u.U.get("imageStripComponentService"),t._imageUploadService=u.U.get("imageUploadService"),t._selectionInfoStore=u.U.get("selectionInfoStore"),t._imageEditService=u.U.get("imageEditService"),t._libraryPanelLayoutService=u.U.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._imageBehavior=u.U.get("imageBehavior"),t._toastLayerService=u.U.get("toastLayerService"),t._i18n=u.U.get("i18n"),t}h()(t,e);var o=t.prototype;return o.deleteImageUnit=function(e){this._editingService.erase(e)},o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId;u.U.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o}),this._libraryPanelLayoutService.updateMediaList()},o.changeImage=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r=this;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:return n=e.sent,this._imageStripComponentService.changeImageUnitToShell(),e.next=6,this._imageBehavior.changeImage({targetStore:t,selectedImages:n},{onEachUpload:function(e){var t=e.code,n=e.response;"SUCCESS"===t&&r._imageStripComponentService.updateShellImageUnit(n,o)}}).then(function(e){if(e.invalidImageErrors.length>0){var t=r._selectionInfoStore.toValidJSON();r._imageStripComponentService.updateComponentPhase(u.M.DONE,o),r._editingService.erase(t)}});case 6:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.editImage=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageEditService.editImage({activeCompId:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.exceedTextMaxLength=function(){this._toastLayerService.warningMessage(this._i18n("imageStripComponent:exceed_text_max_length",{maxLength:this._maxLength}))},t}(u.c),q()(Yg.prototype,"deleteImageUnit",[ee.history,K.d],Object.getOwnPropertyDescriptor(Yg.prototype,"deleteImageUnit"),Yg.prototype),q()(Yg.prototype,"setRepresentativeImage",[ee.history,K.d],Object.getOwnPropertyDescriptor(Yg.prototype,"setRepresentativeImage"),Yg.prototype),q()(Yg.prototype,"changeImage",[Jg,K.d],Object.getOwnPropertyDescriptor(Yg.prototype,"changeImage"),Yg.prototype),q()(Yg.prototype,"editImage",[ee.preventOnDocumentProcessing,Kg,K.d],Object.getOwnPropertyDescriptor(Yg.prototype,"editImage"),Yg.prototype),q()(Yg.prototype,"exceedTextMaxLength",[K.d],Object.getOwnPropertyDescriptor(Yg.prototype,"exceedTextMaxLength"),Yg.prototype),Yg),ey=$g,ty=ey;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/use-case/index.js",localName:t}})}catch(e){}}e($g,"ImageStripComponentUseCase"),e(ey,"default")}();var oy=(Zg=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.layout||Og.DEFAULT,a=t.contentMode||kg.FIT,s=this._resolveWrapperClassName();return K.b.createElement(Lf.a,{store:t,id:n,ctype:r,layout:i,contentMode:a,className:s,i18n:o},K.b.createElement(Ef.a,{compId:n,compStore:t},K.b.createElement(dm.a,{blockWrapperProps:t},Object(jg.a)({}),K.b.createElement("div",{className:"se-imageStrip-container"},Ng({i18n:o,images:t.images,onDoubleClick:this._handleDblClickImage,onClickRepresent:this._handleClickRepresent,onClickDelete:this._handleClickDeleteImageUnit,onCompleteImage:this._handleCompleteImage})),K.b.createElement(Pg.a,{store:t,i18n:o,additionalOption:{placeholder:this.props.i18n("imageStripComponent:placeholder_caption")},onLimitTextLength:this._handleLimitTextLength}))))},o._resolveWrapperClassName=function(){var e,t=this.props.store.images.length;return et()(((e={})["se-imageStrip"+t]=!0,e))},o._handleDblClickImage=function(e,t){var o=this.props,n=o.store,r=o.useCase;t.internalResource?r.editImage(t.id):r.changeImage(t,n.id)},o._handleClickRepresent=function(e,t){e.preventDefault(),e.stopPropagation();var o=this.props,n=o.store;o.useCase.setRepresentativeImage({compId:n.id,unitId:t.id}),zt.a.log(e.nativeEvent,"imsct.rep")},o._handleClickDeleteImageUnit=function(e,t){var o,n=this.props,r=n.store;n.useCase.deleteImageUnit({compIdMap:(o={},o[r.id]={},o),start:{compId:r.id,unitId:t.id,paraId:null,nodeId:null,offset:0},end:{compId:r.id,unitId:t.id,paraId:null,nodeId:null,offset:1}}),zt.a.log(e.nativeEvent,"imsct.x")},o._handleCompleteImage=function(){this.props.useCase.repaintCursor()},o._handleLimitTextLength=function(){this.props.useCase.exceedTextMaxLength()},t}(K.b.Component),q()(Zg.prototype,"_handleDblClickImage",[ee.autobind],Object.getOwnPropertyDescriptor(Zg.prototype,"_handleDblClickImage"),Zg.prototype),q()(Zg.prototype,"_handleClickRepresent",[ee.autobind],Object.getOwnPropertyDescriptor(Zg.prototype,"_handleClickRepresent"),Zg.prototype),q()(Zg.prototype,"_handleClickDeleteImageUnit",[ee.autobind],Object.getOwnPropertyDescriptor(Zg.prototype,"_handleClickDeleteImageUnit"),Zg.prototype),q()(Zg.prototype,"_handleCompleteImage",[ee.autobind],Object.getOwnPropertyDescriptor(Zg.prototype,"_handleCompleteImage"),Zg.prototype),q()(Zg.prototype,"_handleLimitTextLength",[ee.autobind],Object.getOwnPropertyDescriptor(Zg.prototype,"_handleLimitTextLength"),Zg.prototype),Zg);oy.propTypes={shouldForceRefresh:K.a.bool,i18n:K.a.func.isRequired,store:K.a.instanceOf(Qg).isRequired,useCase:K.a.instanceOf(ty).isRequired};var ny=Object(Z.b)(oy),ry=ny;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/view/index.jsx",localName:t}})}catch(e){}}e(oy,"ImageStripComponentView"),e(ny,"default")}();var iy=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.U.get("configAgent"),t._componentListStore=u.U.get("componentListStore"),t._selectionInfoStore=u.U.get("selectionInfoStore"),t._i18n=u.U.get("i18n"),t}h()(t,e);var o=t.prototype;return o.updateData=function(e){this.getComponentStore(e.compId).updateData(e)},o.updateComponentPhase=function(e,t){this.getComponentStore(t).updatePhase(e)},o.isImageCompIncluded=function(e,t){var o=e.compId,n=t.compId;if(n===o)return!0;var r=this._componentListStore.getComponentById(o);return"imageStrip"===r.ctype&&r.images.some(function(e){return e.id===n})},o.getSelectedCompStore=function(){var e=this._selectionInfoStore.start.compId;return this.getComponentStore(e)},o.getCompStoreByCompId=function(e){return this.getComponentStore(e)},o.getImageComponent=function(e,t){return e.getStoreById(t)},o.getSelectedImage=function(){var e=this.getSelectedCompStore(),t=this._selectionInfoStore.toValidJSON().start;return this.getImageComponent(e,t.unitId)},o.isComponentActivated=function(){var e=this._selectionInfoStore.toValidJSON().start;return e.compId===e.unitId},o._updateImageStripWithRatio=function(e){var t=this.getCompStoreByCompId(e);t.updateWidthRatio(t.images)},o.updateShellImageUnit=function(e,t){var o=this.getCompStoreByCompId(t).images,n=Object(Pa.a)(o,{id:e.id});this.updateShellImageUnitBy(e,n,t)},o.updateShellImageUnitBy=function(e,t,o){var n=this._configAgent.get("infraInfo.photoInfra.imageHost"),r=e.animatedCnt>1,i={alt:e.fileName,height:parseInt(e.height,10),width:parseInt(e.width,10),originalWidth:parseInt(e.width,10),originalHeight:parseInt(e.height,10),path:e.path+"/"+e.fileName,fileSize:Number(e.fileSize),format:r?u.C.ANIMATED:u.C.NORMAL,fileName:e.fileName,internalResource:!0,phase:u.M.DONE,domain:e.domain||t.domain||n};r||(i.displayFormat=u.C.NORMAL),t.setState(i),this._updateImageStripWithRatio(o)},o.changeImageUnitToShell=function(){var e=this.getSelectedCompStore(),t=this._selectionInfoStore.toValidJSON();e.changeImage(t,{phase:u.M.PROCESSING,internalResource:!0,path:""})},o.getShellUnitInfoOfImageStripComp=function(e){var t=this._componentListStore.getComponentById(e.start.compId).images.filter(function(e){return e.phase!==u.M.DONE});return 0===t.length?{}:{id:t[0].id,unitStores:t}},o.getInternalResourceImages=function(){return this.getSelectedCompStore().images.filter(function(e){return!0===e.internalResource})},t}(u.a),ay=iy,sy=ay;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/service/index.js",localName:t}})}catch(e){}}e(iy,"ImageStripComponentService"),e(ay,"default")}();var cy,ly,uy,py,dy,hy,fy=o(272),my=o(273),gy=o(274),yy=o(275),by=o(739),_y=(cy=Object(ee.history)({sync:!1}),ly=Object(ee.history)({sync:!1}),uy=Object(ee.history)({sync:!1}),py=Object(ee.history)({sync:!1}),dy=Object(ee.history)({sync:!1}),hy=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=u.U.get("editingService"),t._imageUploadService=u.U.get("imageUploadService"),t._componentListStore=u.U.get("componentListStore"),t._selectionInfoStore=u.U.get("selectionInfoStore"),t._imageStripComponentService=u.U.get("imageStripComponentService"),t._imageEditService=u.U.get("imageEditService"),t._imageComponentService=u.U.get("imageComponentService"),t._imageBehavior=u.U.get("imageBehavior"),t}h()(t,e);var o=t.prototype;return o.changeImage=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n,r=this;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._imageStripComponentService.getSelectedCompStore(),o=this._imageStripComponentService.getSelectedImage(),e.next=4,this._imageUploadService.openFileDialog();case 4:return n=e.sent,this._imageStripComponentService.changeImageUnitToShell(),e.next=8,this._imageBehavior.changeImage({targetStore:o,selectedImages:n},{onEachUpload:function(e){var o=e.code,n=e.response;"SUCCESS"===o&&r._imageStripComponentService.updateShellImageUnit(n,t.id)}}).then(function(e){if(e.invalidImageErrors.length>0){var o=r._selectionInfoStore.toValidJSON();r._imageStripComponentService.updateComponentPhase(u.M.DONE,t.id),r._editingService.erase(o)}});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._openPhotoEditor=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._imageStripComponentService.getInternalResourceImages(),n=this._imageStripComponentService.isComponentActivated(),r=this._imageStripComponentService.getSelectedImage(),i=n?o[0].id:r.id,e.next=6,this._imageEditService.editImage({activeCompId:i,direct:t});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.editImage=function(){var e=Zt()(Xt.a.mark(function e(){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.adjustImage=function(){var e=Zt()(Xt.a.mark(function e(){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("adjust");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.cropImage=function(){var e=Zt()(Xt.a.mark(function e(){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("crop");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.filterImage=function(){var e=Zt()(Xt.a.mark(function e(){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("filter");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t}(u.m),q()(hy.prototype,"changeImage",[ee.sentryCatch,ee.preventOnComponentProcessing,cy,K.d],Object.getOwnPropertyDescriptor(hy.prototype,"changeImage"),hy.prototype),q()(hy.prototype,"editImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,ly,K.d],Object.getOwnPropertyDescriptor(hy.prototype,"editImage"),hy.prototype),q()(hy.prototype,"adjustImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,uy,K.d],Object.getOwnPropertyDescriptor(hy.prototype,"adjustImage"),hy.prototype),q()(hy.prototype,"cropImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,py,K.d],Object.getOwnPropertyDescriptor(hy.prototype,"cropImage"),hy.prototype),q()(hy.prototype,"filterImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,dy,K.d],Object.getOwnPropertyDescriptor(hy.prototype,"filterImage"),hy.prototype),hy);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/toolbar/buttons/use-case/image-strip-button-use-case.js",localName:t}})}catch(e){}}(_y,"ImageStripButtonUseCase")}();var vy={"image-edit-right-label":{view:cg.a,useCase:_y,propertyName:"",styleName:"image-edit"},"image-edit":{view:fy.a,useCase:_y,propertyName:"",styleName:"image-edit"},"image-adjust":{view:my.a,useCase:_y,styleName:"image-adjust"},"image-crop":{view:gy.a,useCase:_y,styleName:"image-crop"},"image-filter":{view:yy.a,useCase:_y,styleName:"image-filter"},"image-replacement-right-label":{view:lg.a,useCase:_y,propertyName:"",styleName:"image-replacement"},"image-replacement":{view:by.a,useCase:_y,propertyName:"",styleName:"image-replacement"}},Cy=vy,Sy=Cy;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(vy,"buttons"),e(Cy,"default")}();var Oy={propertyToolbar:{"image-replacement-right-label":Sy["image-replacement-right-label"],"image-edit-right-label":Sy["image-edit-right-label"],align:Object(Ot.a)("align-group"),"caption-align":Object(Ot.a)("caption-align-group"),"content-mode-without-default":Object(Ot.a)("content-mode-group-without-default"),"content-mode-fit-and-extend":Object(Ot.a)("content-mode-group-fit-and-extend"),"wrapping-layout":Object(Ot.a)("wrapping-layout-drop-down"),"image-link":Object(Ot.a)("image-link"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"caption-bold":Object(Ot.a)("caption-bold"),"special-letter":Object(Ot.a)("special-letter"),"caption-link":Object(Ot.a)("caption-link"),"caption-align":Object(Ot.a)("caption-align"),"image-replacement":Sy["image-replacement"],"image-edit":Sy["image-edit"],"content-mode":Object(Ot.a)("content-mode-group"),"content-mode-without-default":Object(Ot.a)("content-mode-group-without-default"),"content-mode-fit-and-extend":Object(Ot.a)("content-mode-group-fit-and-extend"),delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar"),translation:Object(Ot.a)("translation")}},ky=Oy;function Iy(e,t){var o=t.start.unitId;return Object(Pa.a)(e.images,{id:o})}function wy(e,t){return t?"normal"===t.displayFormat&&!0===t.internalResource:Object(zg.a)(e.images,function(e){return"normal"===e.displayFormat&&!0===e.internalResource})}!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/toolbar/image-strip-button-set-map.js",localName:t}})}catch(e){}}(Oy,"default")}();var Py=function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=[];if(1===t.length){var r=Object(mo.a)(t),i=Iy(r,o),a=!!i,s=wy(r,i);r.isCaptionFocused()?n.push("caption-align","separator-bar"):n.push("align","separator-bar"),!0===a&&n.push("separator-bar","image-replacement-right-label"),!0===s&&n.push("separator-bar","image-edit-right-label"),n.push("separator-bar","content-mode-fit-and-extend"),!0===a&&n.push("separator-bar","image-link")}else n.push("align","separator-bar","content-mode-fit-and-extend");return n},jy=function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=[];if(t.length>1)return n;var r=Object(mo.a)(t);if(r.isCaptionFocused()){return["caption-align","separator-bar","caption-bold","special-letter","caption-link","separator-bar","translation"]}var i=o.start.unitId===r.id,a=Iy(r,o),s=!!a,c=wy(r,a);return i?(!0===c&&n.push("image-edit","separator-bar"),!1===s&&(n.push("content-mode-fit-and-extend"),n.push("separator-bar","delete")),n):(!0===s&&n.push("image-replacement"),!0===c&&n.push("image-edit"),n)},Ty={propertyToolbar:Py,contextToolbar:jy},Ly=Ty;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/toolbar/image-strip-button-resolver.js",localName:t}})}catch(e){}}e(Iy,"getActivatedImage"),e(wy,"checkHasEditableImage"),e(Py,"propertyToolbarButtonSetResolver"),e(jy,"contextToolbarButtonSetResolver"),e(Ty,"default")}();var Ey=function(e){function t(){return e.call(this,{buttonSetMap:ky,buttonResolver:Ly})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Ey,"ImageStripComponentToolbar")}();var Ny=u.q.extend({name:"ImageStripComponent",view:ry,useCase:ty,service:sy,store:Qg,toolbar:Ey}),xy=Ny,Dy=xy;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-strip-component/src/index.js",localName:t}})}catch(e){}}e(Ny,"ImageStripComponent"),e(xy,"default")}();var Ry=o(72),Ay=o(735),Uy=o(734),My=o(123),By={LEFT:"left",CENTER:"center",RIGHT:"right"},Fy={DEFAULT:"default"},zy={NORMAL:"normal",FIT:"fit",EXTEND:"extend",PAGEFULL:"pagefull"},Wy={NORMAL:"normal",VR360:"vr360"},Vy={VideoAlign:By,VideoLayout:Fy,VideoContentMode:zy,VideoFormat:Wy};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/consts/index.js",localName:t}})}catch(e){}}e(By,"VideoAlign"),e(Fy,"VideoLayout"),e(zy,"VideoContentMode"),e(Wy,"VideoFormat"),e(Vy,"default")}();var Gy,Hy,qy,Jy,Ky,Yy,Xy,Qy,Zy,$y,eb,tb,ob,nb,rb,ib,ab,sb,cb,lb,ub,pb,db,hb,fb,mb=o(85),gb=o(225),yb=o(20),bb=Object(u.Y)(Object(u.W)(u.h)),_b=(Gy=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.documentWidth=null,o.onRender=null,o.onRenderServiceDataButton=null,o.onClickServiceDataButton=null,W()(o,"vid",Hy,G()(o)),W()(o,"layout",qy,G()(o)),W()(o,"contentMode",Jy,G()(o)),W()(o,"fileSize",Ky,G()(o)),W()(o,"playTime",Yy,G()(o)),W()(o,"template",Xy,G()(o)),W()(o,"internalResource",Qy,G()(o)),W()(o,"vendor",Zy,G()(o)),W()(o,"originalWidth",$y,G()(o)),W()(o,"originalHeight",eb,G()(o)),W()(o,"width",tb,G()(o)),W()(o,"height",ob,G()(o)),W()(o,"format",nb,G()(o)),W()(o,"source",rb,G()(o)),W()(o,"represent",ib,G()(o)),W()(o,"caption",ab,G()(o)),W()(o,"align",sb,G()(o)),W()(o,"thumbnail",cb,G()(o)),W()(o,"mediaMeta",lb,G()(o)),W()(o,"serviceData",ub,G()(o)),W()(o,"videoInfraServiceId",pb,G()(o)),W()(o,"viewMode",db,G()(o)),W()(o,"imageLoaded",hb,G()(o)),W()(o,"representativeEnabled",fb,G()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;o._config=s,o._configAgent=u.U.get("configAgent"),o._componentFactory=u.U.get("componentFactory"),o._editorStatusStore=u.U.get("editorStatusStore"),o.documentWidth=o._configAgent.get("productConfig.documentWidth"),o.videoMinimumWidth=s.videoMinimumWidth||o._configAgent.get("editorInfo.videoMinimumWidth"),o.videoMinimumHeight=s.videoMinimumHeight||o._configAgent.get("editorInfo.videoMinimumHeight"),o.attributes=Object(gs.a)(o.attributes,s.attributes),o.vid=Object(J.a)(i,"vid",o.vid),o.layout=Object(J.a)(i,"layout",o.layout),o.fileSize=Object(J.a)(i,"fileSize",o.fileSize),o.playTime=Object(J.a)(i,"playTime",o.playTime),o.template=Object(J.a)(i,"template",o.template),o.internalResource=Object(J.a)(i,"internalResource",o.internalResource),o.vendor=Object(J.a)(i,"vendor",o.vendor),o.contentMode=Object(J.a)(i,"contentMode"),o.width=Object(J.a)(i,"width"),o.height=Object(J.a)(i,"height"),o.originalWidth=Object(J.a)(i,"originalWidth",o.width),o.originalHeight=Object(J.a)(i,"originalHeight",o.height),o.viewMode=o._editorStatusStore.viewMode,o.onRender=s.onRenderServiceData,o.onClickServiceDataButton=s.onClickServiceDataButton,o.onRenderServiceDataButton=s.onRenderServiceDataButton,o.updateConfig(),o.originalWidth&&o.originalHeight?o.width&&o.height?o._resolveWidthAndHeight({width:o.width,height:o.height}):(o.width=o.originalWidth,o.height=o.originalHeight,o._resolveWidthAndHeight({width:o.width,height:o.height})):(o.width=o.documentWidth,o.height=Math.floor(9*o.width/16),o.originalWidth=o.width,o.originalHeight=o.height,o.contentMode=zy.FIT),o.format=Object(J.a)(i,"format",o.format),o.source=Object(J.a)(i,"source",o.source),o.represent=Object(J.a)(i,"represent",o.represent),o.align=Object(J.a)(i,"align",o.align),o.caption=o._createCaptionTextUnitStore(i.caption,s.caption),o.thumbnail=Object(Fg.a)(o.thumbnail,i.thumbnail),o.viewMode=Object(J.a)(i,"viewMode",o.viewMode);var c=o._configAgent.get("infraInfo.videoInfra.serviceId");return o.videoInfraServiceId=c?c.toString():null,i.mediaMeta&&(o.mediaMeta=Object(Fg.a)({ctype:"mediaMeta"},i.mediaMeta),o.mediaMeta.tags=Object(J.a)(o.mediaMeta,"tags",[])),i.serviceData&&!Object(st.a)(i.serviceData)&&(o.serviceData=Object(J.a)(i,"serviceData",null)),o.contentMode?o._resolveSizeByContentMode():o._resolveContentModeBySize(),o.maxVideoTitleLength=40,o}h()(t,e);var o=t.prototype;return o.setState=function(e){var t=e.width,o=e.height,n=e.caption,r=e.mediaMeta,i=e.serviceData,a=e.thumbnail;if(n){var s=this._createCaptionTextUnitStore(n,this._config.caption);delete e.caption,this.caption=s}return this.layout=Object(J.a)(e,"layout",this.layout),this.contentMode=Object(J.a)(e,"contentMode",this.contentMode),this.fileSize=Object(J.a)(e,"fileSize",this.fileSize),this.playTime=Object(J.a)(e,"playTime",this.playTime),this.template=Object(J.a)(e,"template",this.template),this.internalResource=Object(J.a)(e,"internalResource",this.internalResource),this.vendor=Object(J.a)(e,"vendor",this.vendor),this._resolveWidthAndHeight({width:t,height:o}),this.originalWidth=Object(J.a)(e,"originalWidth",this.originalWidth),this.originalHeight=Object(J.a)(e,"originalHeight",this.originalHeight),this.format=Object(J.a)(e,"format",this.format),this.source=Object(J.a)(e,"source",this.source),this.represent=Object(J.a)(e,"represent",this.represent),this.align=Object(J.a)(e,"align",this.align),this.videoInfraServiceId=Object(J.a)(e,"videoInfraServiceId",this.videoInfraServiceId),this.thumbnail=Object(Fg.a)(this.thumbnail,a),this.maxVideoTitleLength=Object(J.a)(e,"maxVideoTitleLength",this.maxVideoTitleLength),r&&(this.mediaMeta=Object(Fg.a)({ctype:"mediaMeta"},r),this.mediaMeta.tags=Object(J.a)(this.mediaMeta,"tags",[])),i&&!Object(st.a)(i)&&(this.serviceData=Object(J.a)(e,"serviceData",null)),t&&this._resolveContentModeBySize(),this},o.changeContentMode=function(e){this.contentMode=e,this._resolveSizeByContentMode()},o.changeSize=function(e){var t=e.width,o=e.height,n=e.isReset,r=this.width/this.height,i=t,a=o,s=!0;i?a||(a=t/r):i=o*r,n&&(i=this.originalWidth,a=this.originalHeight,s=!1),this._resolveWidthAndHeight({width:i,height:a,hasBoundedBelowSize:s}),this._resolveContentModeBySize()},o.changeLink=function(e,t){return void 0===e&&(e={}),!0===this.caption.isFocused?this.caption.changeLink(this.checkProtocol(e),t):(this.link=e.value?this.checkProtocol(e).value:null,[this.getStartPoint()])},o.updateProperty=function(e,t){var o=e.contentMode,n=e.resizing,r=e.link,i=Ja()(e,["contentMode","resizing","link"]);if(o&&this.changeContentMode(o),n&&this.changeSize(n),Object(xf.a)(this,i),r)return this.changeLink(r,t)},o.updateMediaMeta=function(e){this.mediaMeta=Object(Fg.a)({ctype:"mediaMeta"},e)},o.updateServiceData=function(e){e&&!Object(st.a)(e)&&(this.serviceData=e)},o.normalizeData=function(e){null!==this.mediaMeta&&void 0!==this.mediaMeta||this.updateMediaMeta({title:"",description:"",tags:[]});var t=this.mediaMeta.title;Object(st.a)(t)&&(this.mediaMeta=rt()({},this.mediaMeta,{title:e.substring(0,this.maxVideoTitleLength)}))},o.getMaxVideoTitleLength=function(){return this.maxVideoTitleLength},o.getMediaMeta=function(){if(this.mediaMeta){var e=this.mediaMeta,t=e.title,o=e.description,n=e.tags;return{title:t,description:o,tags:K.f.toJS(n)}}return{title:"",description:"",tags:[]}},o.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o={layout:this.layout,align:t,contentMode:this.contentMode,size:{width:this.width,height:this.height}};if(e&&!0===this.caption.isFocused){var n=this.caption.collectStyle(e),r=Object(Wg.a)(n,function(e){return""===e||null===e});o.caption=r}return o},o.getSelectedAlign=function(){return{align:this.align}},o._getDefaultContentMode=function(e){if(e){var t=this.getLayoutThemeStyle(this.themeStyle)||{};return Object(J.a)(t,"component.contentMode",zy.FIT)}return zy.NORMAL},o._validateContentMode=function(e){return e&&Object(Eo.a)(zy,e)},o._resolveContentModeBySize=function(){var e=this.isLonggerThanDocumentWidth(this.width)||this.isWidthEqualToDocumentWidth(this.width),t=this._config.contentMode,o=Object(yb.a)(t)?t({width:this.width,height:this.height,largerThanDocumentWidth:e}):t;this._validateContentMode(o)?this.contentMode=o:this.contentMode=this._getDefaultContentMode(e)},o._resolveSizeByContentMode=function(){var e=this.documentWidth/this.width,t=zy.NORMAL,o=zy.FIT,n=zy.EXTEND,r=zy.PAGEFULL;if(this.contentMode===t)if(this.width<this.documentWidth)this._updateSize(this.width,this.height);else if(this.width>this.documentWidth||this.originalWidth>=this.documentWidth){var i=.75*this.documentWidth,a=this.height*e*.75;this._updateSize(i,a)}else this.originalWidth<this.documentWidth&&this._resolveWidthAndHeight({width:this.originalWidth,height:this.originalHeight});else if([o,n,r].includes(this.contentMode)){var s=Math.floor(this.height*e);this._updateSize(this.documentWidth,s)}},o._resolveWidthAndHeight=function(e){var t=e.width,o=void 0===t?this.width:t,n=e.height,r=void 0===n?this.height:n,i=e.hasBoundedBelowSize,a=void 0!==i&&i,s=this.width/this.height,c=o,l=r;if(a&&l<this.videoMinimumHeight&&(c=(l=this.videoMinimumHeight)*s),a&&c<this.videoMinimumWidth)l=(c=this.videoMinimumWidth)/s;else if(c>this.documentWidth){var u=this.documentWidth/o;c=this.documentWidth,l=Math.floor(r*u)}this._updateSize(c,l)},o._updateSize=function(e,t){this.width=Math.floor(e),this.height=Math.floor(t)},o.isWidthEqualToDocumentWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e===this.documentWidth:!!this._isNumber(t)&&t*this.width/this.height===this.documentWidth},o.isLonggerThanDocumentWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e>this.documentWidth:!!this._isNumber(t)&&t*this.width/this.height>this.documentWidth},o.isSmallerThanMinimumHeight=function(e,t){return void 0===e&&(e=""),this._isNumber(t)?t<this.videoMinimumHeight:!!this._isNumber(e)&&e*this.height/this.width<this.videoMinimumHeight},o.isSmallerThanMinimumWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e<this.videoMinimumWidth:!!this._isNumber(t)&&t*this.width/this.height<this.videoMinimumWidth},o._isNumber=function(e){return"number"==typeof e},o.isLibraryComponent=function(){return!0===this.internalResource},o.getLibraryItemData=function(){return{id:this.id,key:this.vid,thumbnail:Object(J.a)(this,"thumbnail.src"),data:this.toValidJSON()}},o.getRepresentativeImageURL=function(){return Object(J.a)(this,"thumbnail.src")},o.getRepresentativeInnerData=function(){return this.toValidJSON()},o.updateViewMode=function(e){this.viewMode=e},o.completeImageLoad=function(){this.imageLoaded=!0},o.updateConfig=function(){e.prototype.updateConfig.call(this),this.representativeEnabled=!1!==this._configAgent.get("productConfig.representativeEnabled")},o.isRepresentativeImage=function(){return e.prototype.isRepresentativeImage.call(this)&&!this.isSmallerThanMinimumSize(this.width,this.height)},o.isSmallerThanMinimumSize=function(e,t){return this.isSmallerThanMinimumWidth(e,t)||this.isSmallerThanMinimumHeight(e,t)},o._createCaptionTextUnitStore=function(e,t){var o={state:e,config:Object(i.a)({},t,{attributes:{cursor:"trapped",selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},maxLength:1/0,filterTextStyle:{fontFamily:Rf.b.NOT_ALLOWED,fontSizeCode:Rf.b.NOT_ALLOWED,fontColor:Rf.b.NOT_ALLOWED,backgroundColor:Rf.b.NOT_ALLOWED,italic:Rf.b.NOT_ALLOWED,underline:Rf.b.NOT_ALLOWED,strikeThrough:Rf.b.NOT_ALLOWED,subscript:Rf.b.NOT_ALLOWED,superscript:Rf.b.NOT_ALLOWED,dropCap:Rf.b.NOT_ALLOWED,list:Rf.b.NOT_ALLOWED}})},n=Object(J.a)(t,"textStyle",{}),r=o.filterTextStyle;return o.filterTextStyle=Object(gs.a)(r,n),new Af.a(o)},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,vid:this.vid,layout:this.layout,contentMode:this.contentMode,fileSize:this.fileSize,playTime:this.playTime,template:this.template,internalResource:this.internalResource,vendor:this.vendor,originalWidth:this.originalWidth,originalHeight:this.originalHeight,width:this.width,height:this.height,format:this.format,source:this.source,represent:this.represent,caption:this.caption.toPlainJSON(),align:this.align,thumbnail:K.f.toJS(this.thumbnail),mediaMeta:K.f.toJS(this.mediaMeta),serviceData:K.f.toJS(this.serviceData),videoInfraServiceId:this.videoInfraServiceId,viewMode:this.viewMode}},at()(t,[{key:"translationEnabled",get:function(){return"none"!==this.caption.selection}}]),t}(Object(u.V)(bb)),Hy=q()(Gy.prototype,"vid",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qy=q()(Gy.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),Jy=q()(Gy.prototype,"contentMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return zy.FIT}}),Ky=q()(Gy.prototype,"fileSize",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yy=q()(Gy.prototype,"playTime",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xy=q()(Gy.prototype,"template",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qy=q()(Gy.prototype,"internalResource",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zy=q()(Gy.prototype,"vendor",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$y=q()(Gy.prototype,"originalWidth",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),eb=q()(Gy.prototype,"originalHeight",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),tb=q()(Gy.prototype,"width",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ob=q()(Gy.prototype,"height",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),nb=q()(Gy.prototype,"format",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"normal"}}),rb=q()(Gy.prototype,"source",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ib=q()(Gy.prototype,"represent",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ab=q()(Gy.prototype,"caption",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),sb=q()(Gy.prototype,"align",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cb=q()(Gy.prototype,"thumbnail",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"thumbnail",alt:"",src:""}}}),lb=q()(Gy.prototype,"mediaMeta",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ub=q()(Gy.prototype,"serviceData",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pb=q()(Gy.prototype,"videoInfraServiceId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),db=q()(Gy.prototype,"viewMode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.S.VIEW_MODE_PC}}),hb=q()(Gy.prototype,"imageLoaded",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fb=q()(Gy.prototype,"representativeEnabled",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Gy);_b.ctype="video",_b.schema={id:Df.a.string.isRequired,ctype:Df.a.string.isRequired,layout:Df.a.string.isRequired,align:Df.a.string,contentMode:Df.a.string.isRequired,fileSize:Df.a.number,playTime:Df.a.number,internalResource:Df.a.bool.isRequired,vendor:Df.a.string,thumbnail:Df.a.shape(Om.i),originalWidth:Df.a.number,originalHeight:Df.a.number,width:Df.a.number,height:Df.a.number,caption:Df.a.captionTextUnit,format:Df.a.string.isRequired,source:Df.a.string,represent:Df.a.bool.isRequired,vid:Df.a.string.isRequired,mediaMeta:Df.a.shape(Om.c),serviceData:Df.a.object,videoInfraServiceId:Df.a.string};var vb=_b,Cb=vb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/store/index.js",localName:t}})}catch(e){}}e(bb,"LinkWritableAndRepresentativeCompStore"),e(_b,"VideoComponentStore"),e(vb,"default")}();var Sb=function(e,t){var o=e.store,n=e.onLoad,r=e.onError,i=o.thumbnail,a=o.width,s=o.height,c=o.selection;return K.b.createElement("div",{className:"se-video-thumbnail"},K.b.createElement(mb.b,{src:i.src,type:"none"!==c||t.readOnly?mb.a.normal:mb.a.lazyLoad,alt:i.alt,className:"se-video-thumbnail-resource",originalWidth:a,originalHeight:s,onLoad:n,onError:r}))};Sb.contextType=gb.a,Sb.propTypes={store:K.a.instanceOf(Cb),onLoad:K.a.func,onError:K.a.func};var Ob,kb=Object(Z.b)(Sb),Ib=kb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/view/video-thumbnail.jsx",localName:t}})}catch(e){}}e(Sb,"VideoThumbnail"),e(kb,"default")}();var wb=(Ob=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={activatedVideoInfo:!1,isLongTitle:!1,isLongDesc:!1,prevTags:[],isLongTags:!1},o.refMetaTitleText=K.b.createRef(),o.refMetaDeskText=K.b.createRef(),o.refMetaTagText=K.b.createRef(),o.titleTextWidth=0,o.metaInfoWrapperWidth=0,o.prevMetaInfo={},o.tagWrapperHeight=0,o}h()(t,e),t.getDerivedStateFromProps=function(e,t){var o=e.store.mediaMeta,n=t.prevTags,r=JSON.stringify(o&&o.tags?o.tags:[]);return r!==JSON.stringify(n||[])?rt()({},t,{prevTags:JSON.parse(r)}):t};var o=t.prototype;return o.componentDidMount=function(){this._updateTitleState(),this._updateMetaInfo(),this._updateDescState(),this._updateTagState()},o.componentDidUpdate=function(e){var t=this.props,o=t.mediaTitle,n=t.viewMode,r=t.contentMode,i=t.store,a=Object(J.a)(i.mediaMeta,"description"),s=Object(J.a)(i.mediaMeta,"tags"),c=this._isTitleOnly(),l=e.mediaTitle!==o,u=e.viewMode!==n,p=e.contentMode!==r,d=this.prevMetaInfo.description!==a,h=this.prevMetaInfo.tags!==s,f=u||p||(d||h);!l||!c&&c||this._updateTitleState(),!l&&f&&(this._updateMetaInfoWrapperWidthState(),this._updateMetaInfo()),(l||d||h)&&(this._updateDescState(),this._updateMetaInfo()),(l||d||h)&&this._updateTagState()},o.render=function(){this.state.prevTags;var e=this._renderVideoPlayInfo(),t=this._renderVideoMetaInfo();return K.b.createElement(K.b.Fragment,null,e,t)},o._updateMetaInfo=function(){this.prevMetaInfo=this.props.store.mediaMeta||{}},o._updateTitleState=function(){if(!this.props.mediaTitle)return null;this.titleTextWidth=this.refMetaTitleText.current.clientWidth,this.metaInfoWrapperWidth=this.refMetaTitleText.current.parentNode.clientWidth,this.titleTextWidth>this.metaInfoWrapperWidth?this.setState({activatedVideoInfo:!1,isLongTitle:!0}):this.setState({activatedVideoInfo:!1,isLongTitle:!1})},o._updateDescState=function(){var e=this.refMetaDeskText.current;e&&(e.scrollWidth>e.clientWidth?this.setState({activatedVideoInfo:!1,isLongDesc:!0}):this.setState({activatedVideoInfo:!1,isLongDesc:!1}))},o._isTagsExceededWidth=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"tags",[]),o=Object(J.a)(this.refMetaTagText,"current",{}),n=Object(J.a)(o,"children",[]);if(t.length>0&&n.length>0)for(var r=n[0].getBoundingClientRect().top,i=0;i<n.length;i++){var a=n[i],s=a.getBoundingClientRect(),c=a.getClientRects();if(s.top!==r||c.length>1&&c[0].top!==c[c.length-1].top)return!0}return!1},o._updateTagState=function(){this._isTagsExceededWidth()?this.setState(function(e){return rt()({},e,{activatedVideoInfo:!1,isLongTags:!0})}):this.setState(function(e){return rt()({},e,{activatedVideoInfo:!1,isLongTags:!1})})},o._updateMetaInfoWrapperWidthState=function(){if(!this.props.mediaTitle)return null;this.metaInfoWrapperWidth=this.refMetaTitleText.current.parentNode.clientWidth,this.titleTextWidth>this.metaInfoWrapperWidth?this.setState({isLongTitle:!0}):this.setState({isLongTitle:!1})},o._renderVideoPlayInfo=function(){var e=this.props,t=e.verticalThumbnail,o=e.store,n=o.playTime,r=o.originalWidth,i=o.originalHeight,a=!t&&this._videoThumbnailRatio(r,i);return K.b.createElement("div",{className:"se-video-play-info",style:{paddingTop:a}},n&&K.b.createElement("span",{className:"se-video-time"},Co.a.getHMSFormat(n)))},o._renderVideoMetaInfo=function(){var e=this._renderVideoTitle(),t=this._renderVideoDescription(),o=this._renderVideoTags();if(e||t||o){var n=this._resolveVideoInfoClassName(),r=this._renderToggleButton();return K.b.createElement("div",{className:n},r,t,e,o)}},o._renderVideoDescription=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"description",""),o=this._isOnlyWhitespace(t),n=this._isDescOnly(),r=et()({"se-video-description":!0,"se-video-description-only":n,"se-video-description-long":n&&this.state.isLongDesc});if(t&&!o)return K.b.createElement("p",{ref:this.refMetaDeskText,className:r},t)},o._renderVideoTitle=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"title","");if(!Object(st.a)(t)){var o=Object(J.a)(e,"description",""),n=this._isOnlyWhitespace(o),r=this.state.isLongTitle,i=this._isTitleOnly(),a=et()({"se-video-title":!0,"se-video-title-only":i,"se-video-title-long":r&&n});return K.b.createElement("div",{className:a},K.b.createElement("span",{className:"se-video-title-text-dummy",ref:this.refMetaTitleText},t),K.b.createElement("strong",{className:"se-video-title-text"},t))}},o._renderVideoTags=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"tags",[]),o=0===t.length,n=this._isTagOnly(),r=et()({"se-video-tag-wrap":!0,"se-video-tag-only":n,"se-video-tag-long":n&&this.state.isLongTags});if(!o)return K.b.createElement("div",{ref:this.refMetaTagText,className:r},this._renderVideoTagItem(t))},o._renderVideoTagItem=function(e){return e.map(function(e,t){return K.b.createElement("span",{className:"se-video-tag",key:t},e)})},o._isNeedToogleButton=function(){var e=this._isTitleOnly(),t=this._isDescOnly(),o=this._isTagOnly(),n=!this.state.isLongTitle,r=!this.state.isLongDesc,i=!this.state.isLongTags,a=this._emptyServiceData();return!(e&&n||t&&r||o&&i)||this.props.store.onRender&&!a},o._renderToggleButton=function(){var e=this.props.i18n,t=this._getNClickTagName();return this._isNeedToogleButton()?K.b.createElement("button",{type:"button",className:"se-video-info-toggle-button",onClick:this._handleOpenMetaInfo,onDoubleClick:this._handleOpenMetaInfo,"data-log":t},K.b.createElement("span",{className:"se-blind"},e("videoComponent:mediaMeta_more_label"))):null},o._resolveVideoInfoClassName=function(){return et()({"se-video-info-wrap":!0,"se-is-activated":this.state.activatedVideoInfo})},o._isOnlyWhitespace=function(e){return 0===e.trim().length},o._isTitleOnly=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"description",""),o=Object(J.a)(e,"tags",[]);return Object(st.a)(t)&&0===o.length},o._isDescOnly=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"tags",[]),o=Object(J.a)(e,"title","");return Object(st.a)(o)&&0===t.length},o._isTagOnly=function(){var e=this.props.store.mediaMeta,t=Object(J.a)(e,"description",""),o=Object(J.a)(e,"title","");return Object(st.a)(t)&&Object(st.a)(o)},o._emptyServiceData=function(){var e=this.props.store.serviceData;return Object(st.a)(e)||Object(zg.a)(e,function(e){return Object(st.a)(e)})},o._videoThumbnailRatio=function(e,t){return t/e*100+"%"},o._getNClickTagName=function(){return this.state.activatedVideoInfo?"vioct.mvmetasimple":"vioct.mvmetadetail"},o._handleOpenMetaInfo=function(e){var t=this._getNClickTagName();e.stopPropagation(),this.setState({activatedVideoInfo:!this.state.activatedVideoInfo}),this.props.refreshVirtualEditable(),zt.a.log(e.nativeEvent,t)},t}(K.b.Component),q()(Ob.prototype,"_handleOpenMetaInfo",[ee.autobind],Object.getOwnPropertyDescriptor(Ob.prototype,"_handleOpenMetaInfo"),Ob.prototype),Ob);wb.propTypes={store:K.a.instanceOf(Cb),verticalThumbnail:K.a.bool,width:K.a.number,contentMode:K.a.string,viewMode:K.a.string,mediaTitle:K.a.string,i18n:K.a.func,refreshVirtualEditable:K.a.func};var Pb,jb=Object(Z.b)(wb),Tb=jb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/view/video-info.jsx",localName:t}})}catch(e){}}e(wb,"VideoInfo"),e(jb,"default")}();var Lb=(Pb=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=u.U.get("configAgent"),t._eventDispatcherService=u.U.get("eventDispatcherService"),t._videoComponentService=u.U.get("videoComponentService"),t._canvasLayoutService=u.U.get("canvasLayoutService"),t._videoUploadService=u.U.get("videoUploadService"),t._videoUploadLayerService=u.U.get("videoUploadLayerService"),t._libraryPanelLayoutService=u.U.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._alertLayerService=u.U.get("alertLayerService"),t._i18n=u.U.get("i18n"),t._toastLayerService=u.U.get("toastLayerService"),t._maxLength=t._configAgent.get("plugins.componentSettings.video.config.caption.maxLength"),t}h()(t,e);var o=t.prototype;return o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId;u.U.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o}),this._libraryPanelLayoutService.updateMediaList()},o.exceedTextMaxLength=function(){this._toastLayerService.warningMessage(this._i18n("videoComponent:exceed_text_max_length",{maxLength:this._maxLength}))},o.subscribeViewModeChange=function(e){this._eventDispatcherService.on(u.z.DOCUMENT_VIEWPORT_RESIZED,e)},o.unsubscribeViewModeChange=function(e){this._eventDispatcherService.off(u.z.DOCUMENT_VIEWPORT_RESIZED,e)},o.refreshViewMode=function(e){var t=this._canvasLayoutService.getViewMode();this._videoComponentService.updateViewMode(e,t)},o.openVideoMetaEditLayer=function(){if(!1===this._configAgent.get("modules.videoUploader.config.featureMetaEdit"))return!1;var e=this._videoComponentService.getMediaMeta(),t=this._videoComponentService.getServiceData();this._videoUploadLayerService.open(),this._videoUploadService.openMetaEditor(e,t,{confirm:this._onConfirmVideoMetaEditLayer.bind(this),error:this._onErrorVideoMetaEditLayer.bind(this),close:this._onCloseVideoMetaEditLayer.bind(this)})},o._onCloseVideoMetaEditLayer=function(){this._videoUploadLayerService.close()},o._onConfirmVideoMetaEditLayer=function(e){var t=e.mediaMeta,o=e.serviceData;this._videoComponentService.updateServiceData(o),this._videoComponentService.updateMediaMeta(t),this._videoUploadLayerService.close()},o._onErrorVideoMetaEditLayer=function(){this._videoUploadLayerService.close(),this._alertLayerService.open({type:"alert",title:this._i18n("videoComponent:error_meta_title"),description:this._i18n("videoComponent:error_meta_description")})},o.completeImageLoad=function(e){this._videoComponentService.completeImageLoad(e)},o.refreshVirtualEditable=function(){this._canvasLayoutService.refreshVirtualEditable()},t}(u.c),q()(Pb.prototype,"setRepresentativeImage",[ee.history,K.d],Object.getOwnPropertyDescriptor(Pb.prototype,"setRepresentativeImage"),Pb.prototype),q()(Pb.prototype,"exceedTextMaxLength",[K.d],Object.getOwnPropertyDescriptor(Pb.prototype,"exceedTextMaxLength"),Pb.prototype),q()(Pb.prototype,"subscribeViewModeChange",[K.d],Object.getOwnPropertyDescriptor(Pb.prototype,"subscribeViewModeChange"),Pb.prototype),q()(Pb.prototype,"unsubscribeViewModeChange",[K.d],Object.getOwnPropertyDescriptor(Pb.prototype,"unsubscribeViewModeChange"),Pb.prototype),q()(Pb.prototype,"openVideoMetaEditLayer",[K.d],Object.getOwnPropertyDescriptor(Pb.prototype,"openVideoMetaEditLayer"),Pb.prototype),q()(Pb.prototype,"_onConfirmVideoMetaEditLayer",[ee.history],Object.getOwnPropertyDescriptor(Pb.prototype,"_onConfirmVideoMetaEditLayer"),Pb.prototype),q()(Pb.prototype,"_onErrorVideoMetaEditLayer",[K.d],Object.getOwnPropertyDescriptor(Pb.prototype,"_onErrorVideoMetaEditLayer"),Pb.prototype),q()(Pb.prototype,"completeImageLoad",[K.d],Object.getOwnPropertyDescriptor(Pb.prototype,"completeImageLoad"),Pb.prototype),Pb),Eb=Lb,Nb=Eb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/use-case/index.js",localName:t}})}catch(e){}}e(Lb,"VideoComponentUseCase"),e(Eb,"default")}();var xb=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.render=function(){var e=this.props,t=e.compId,o=e.serviceData,n=e.onRender,r=n&&n({compId:t,serviceData:o});return r?K.b.createElement("div",{className:"se-service-data-wrap",dangerouslySetInnerHTML:{__html:r}}):null},t}(K.b.Component);xb.propTypes={compId:K.a.string,serviceData:K.a.object,onRender:K.a.func};var Db,Rb=Object(Z.b)(xb),Ab=Rb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/view/video-service-data.jsx",localName:t}})}catch(e){}}e(xb,"VideoServiceData"),e(Rb,"default")}();var Ub=(Db=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={isThumbError:!1},o._placeholder=null,o}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this.props,t=e.shouldForceRefresh,o=e.useCase;t&&this.props.useCase.refreshAfterLazy(),o.subscribeViewModeChange(this._handleViewModeChange)},o.componentWillUnmount=function(){this.props.useCase.unsubscribeViewModeChange(this._handleViewModeChange)},o.render=function(){var e=this.props,t=e.store,o=e.children,n=e.i18n,r=t.id,i=t.ctype,a=t.layout||Fy.DEFAULT,s=t.contentMode||zy.FIT,c=this._resolveVideoClassName(),l=this._resolveComponentSectionStyle(),u=this._renderRepresentationButton();return K.b.createElement(Lf.a,{id:r,ctype:i,layout:a,contentMode:s,i18n:n},K.b.createElement(Ef.a,{compId:r,compStore:t},K.b.createElement(dm.a,{blockWrapperProps:t,style:l,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,onDoubleClick:this._handleDoubleClick},K.b.createElement(Ry.a,{ctype:i,className:c,draggable:"true"},K.b.createElement(Ib,{store:t,onLoad:this._handleImageOnLoad,onError:this._handleImageOnError}),this._renderVideoInfo(),this._renderServiceData(),Object(Ay.a)({enabled:"vr360"===this.props.store.format,labelThisIs360VR:this.props.i18n("videoComponent:vr_360_video")}),u,o,K.b.createElement(Fm.a,{store:t}),K.b.createElement(My.a,{compStore:t,isReady:!0,i18n:n})),K.b.createElement(Pg.a,{store:t,i18n:n,additionalOption:this._getAdditionalOption(),onLimitTextLength:this._handleLimitTextLength}))))},o._renderRepresentationButton=function(){var e=this.props,t=e.store,o=e.i18n,n={showRepresentative:!!t.representativeEnabled&&t.isRepresentativeImage()};return K.b.createElement(Uy.a,{store:t,additionalOption:n,labelThumbnail:o("videoComponent:representative"),status:this.state.isThumbError?null:"complete",onClick:this._handleClickRepresent})},o._renderVideoInfo=function(){var e=this.props.store;if(!e.mediaMeta&&e.serviceData&&e.onRender)return K.b.createElement("div",{className:"se-video-info-wrap se-is-activated"});var t=this.props.i18n,o=e.originalWidth,n=e.originalHeight,r=this._isVertical(o,n);return K.b.createElement(Tb,{store:e,verticalThumbnail:r,contentMode:e.contentMode,mediaTitle:e.mediaMeta&&e.mediaMeta.title||"",viewMode:e.viewMode,i18n:t,refreshVirtualEditable:this._handleRefresh})},o._renderServiceData=function(){var e=this.props.store,t=e.id,o=e.serviceData,n=e.onRender;return n?K.b.createElement(Ab,{compId:t,serviceData:o,onRender:n}):null},o._handleRefresh=function(){this.props.useCase.refreshVirtualEditable()},o._getAdditionalOption=function(){return this._placeholder?{placeholder:this._placeholder}:(this._placeholder=this.props.i18n("videoComponent:caption_placeholder"),{placeholder:this._placeholder})},o._handleViewModeChange=function(){var e=this.props,t=e.useCase,o=e.store;t.refreshViewMode(o)},o._resolveComponentSectionStyle=function(){var e=this.props.store,t=e.contentMode,o=e.width,n=e.viewMode,r=o,i=this._isBiggerThanDocument(o),a={};return t!==zy.NORMAL||i||n!==u.S.VIEW_MODE_PC||(a.maxWidth=r+"px"),a},o._resolveVideoClassName=function(){var e=this.props.store,t=e.originalWidth,o=e.originalHeight,n=e.width,r=e.height,i=r<101||n<101,a=r>280&&n>400&&520<=n,s=r>280&&520<n;return et()({"se-module-video-vertical":this._isVertical(t,o),"se-module-video-thumb-error":!0===this.state.isThumbError,"se-module-video-small":i,"se-module-video-middle":a,"se-module-video-large":s})},o._isBiggerThanDocument=function(e){return e>=this.props.store.documentWidth},o._isVertical=function(e,t){return e<=t},o._handleImageOnLoad=function(){var e=this.props,t=e.store,o=e.useCase;o.completeImageLoad(t.id),o.repaintCursor()},o._handleImageOnError=function(){var e=this.props,t=e.store,o=e.useCase;this.setState({isThumbError:!0}),o.completeImageLoad(t.id),o.repaintCursor()},o._handleClickRepresent=function(e){var t=this.props.store;this.props.useCase.setRepresentativeImage({compId:t.id,unitId:t.id}),zt.a.log(e.nativeEvent,"vioct.rep")},o._handleLimitTextLength=function(){this.props.useCase.exceedTextMaxLength()},o._handleDoubleClick=function(){this.props.useCase.openVideoMetaEditLayer()},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(K.b.Component),q()(Db.prototype,"_renderRepresentationButton",[ee.muteIfReadOnly],Object.getOwnPropertyDescriptor(Db.prototype,"_renderRepresentationButton"),Db.prototype),q()(Db.prototype,"_handleRefresh",[ee.autobind],Object.getOwnPropertyDescriptor(Db.prototype,"_handleRefresh"),Db.prototype),q()(Db.prototype,"_handleViewModeChange",[ee.autobind],Object.getOwnPropertyDescriptor(Db.prototype,"_handleViewModeChange"),Db.prototype),q()(Db.prototype,"_handleImageOnLoad",[ee.autobind],Object.getOwnPropertyDescriptor(Db.prototype,"_handleImageOnLoad"),Db.prototype),q()(Db.prototype,"_handleImageOnError",[ee.autobind],Object.getOwnPropertyDescriptor(Db.prototype,"_handleImageOnError"),Db.prototype),q()(Db.prototype,"_handleClickRepresent",[ee.autobind],Object.getOwnPropertyDescriptor(Db.prototype,"_handleClickRepresent"),Db.prototype),q()(Db.prototype,"_handleLimitTextLength",[ee.autobind],Object.getOwnPropertyDescriptor(Db.prototype,"_handleLimitTextLength"),Db.prototype),q()(Db.prototype,"_handleDoubleClick",[ee.autobind,ee.muteIfReadOnly],Object.getOwnPropertyDescriptor(Db.prototype,"_handleDoubleClick"),Db.prototype),q()(Db.prototype,"_handleMoveToPrev",[ee.autobind],Object.getOwnPropertyDescriptor(Db.prototype,"_handleMoveToPrev"),Db.prototype),q()(Db.prototype,"_handleMoveToNext",[ee.autobind],Object.getOwnPropertyDescriptor(Db.prototype,"_handleMoveToNext"),Db.prototype),Db);Ub.defaultProps={i18n:function(e){return e}},Ub.propTypes={shouldForceRefresh:K.a.bool,i18n:K.a.func,store:K.a.instanceOf(Cb).isRequired,useCase:K.a.instanceOf(Nb).isRequired,children:K.a.oneOfType([K.a.element,K.a.array])};var Mb=Object(Z.b)(Ub),Bb=Mb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/view/index.jsx",localName:t}})}catch(e){}}e(Ub,"VideoComponentView"),e(Mb,"default")}();var Fb=function(e){function t(){var t;return(t=e.call(this)||this)._selectionInfoStore=u.U.get("selectionInfoStore"),t._componentFactory=u.U.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.createVideoComponent=function(e){var t=rt()({ctype:"video"},e);return this._componentFactory.createComponentWithCompData(t)},o.getMediaMeta=function(){var e=this._selectionInfoStore.toValidJSON().start,t=this.getComponentStore(e.compId);if(t.mediaMeta){var o=t.mediaMeta,n=o.title,r=o.description,i=o.tags;return{title:n,description:r,tags:K.f.toJS(i)}}return{title:"",description:"",tags:[]}},o.updateMediaMeta=function(e){var t=this._selectionInfoStore.toValidJSON().start;this.getComponentStore(t.compId).updateMediaMeta(e)},o.getServiceData=function(){var e=this._selectionInfoStore.toValidJSON().start,t=this.getComponentStore(e.compId).serviceData||{};return K.f.toJS(t)},o.updateServiceData=function(e){var t=this._selectionInfoStore.toValidJSON().start;this.getComponentStore(t.compId).updateServiceData(e)},o.completeImageLoad=function(e){this.getComponentStore(e).completeImageLoad()},o.checkLimitedSize=function(e){var t=e.value,o=t.width,n=t.height,r=!1,i=!1,a=!1;return(t.isApplyAllChecked?this._getAllVideoComponents():this._getSelectedVideoCompList()).forEach(function(e){!r&&e.isLonggerThanDocumentWidth(o,n)?r=!0:!a&&e.isSmallerThanMinimumWidth(o,n)&&(a=!0),!i&&e.isSmallerThanMinimumHeight(o,n)&&(i=!0)}),{hasBiggerThanContentWidth:r,hasSmallerThanMinHeight:i,hasSmallerThanMinWidth:a}},o._getAllVideoComponents=function(){return this._componentListStore.getComponentsByCtype("video")},o._getSelectedVideoCompList=function(){var e=this._selectionInfoStore.toValidJSON().compIdMap,t=Object.keys(e);return this._componentListStore.compList.filter(function(e){return t.includes(e.id)}).filter(function(e){return"video"===e.ctype})},o.updateViewMode=function(e,t){e.updateViewMode(t)},t}(u.a),zb=Fb,Wb=zb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/service/index.js",localName:t}})}catch(e){}}e(Fb,"VideoComponentService"),e(zb,"default")}();var Vb,Gb,Hb=o(63),qb=(Vb=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"videoMeta:title":n,i=e.label,a=void 0===i?"videoMeta:label":i,s=e.labelVisible,c=void 0===s||s,l=e.logId,u=void 0===l?"mvmeta":l,p=Ja()(e,["type","title","label","labelVisible","logId"]);return K.b.createElement(Hb.a,xc()({type:o,title:r,label:a,logId:u,labelVisible:c},p,{onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.openVideoMetaEditLayer(e)},t}(K.b.Component),q()(Vb.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Vb.prototype,"_handleClick"),Vb.prototype),Vb),Jb=qb,Kb=Jb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/buttons/view/video-meta-right-label-button-view.jsx",localName:t}})}catch(e){}}e(qb,"VideoMetaRightLabelButtonView"),e(Jb,"default")}();var Yb,Xb=(Gb=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"videoMeta:title":n,i=e.label,a=void 0===i?"videoMeta:label":i,s=e.logId,c=void 0===s?"mvmeta":s,l=Ja()(e,["type","title","label","logId"]);return K.b.createElement(Hb.a,xc()({type:o,title:r,label:a,logId:c},l,{onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.openVideoMetaEditLayer(e)},t}(K.b.Component),q()(Gb.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Gb.prototype,"_handleClick"),Gb.prototype),Gb),Qb=Xb,Zb=Qb;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/buttons/view/video-meta-button-view.jsx",localName:t}})}catch(e){}}e(Xb,"VideoMetaButtonView"),e(Qb,"default")}();var $b=(Yb=function(e){function t(){var t;return(t=e.call(this)||this)._videoUploadLayerService=u.U.get("videoUploadLayerService"),t._videoUploadService=u.U.get("videoUploadService"),t._videoComponentService=u.U.get("videoComponentService"),t._alertLayerService=u.U.get("alertLayerService"),t._i18n=u.U.get("i18n"),t}h()(t,e);var o=t.prototype;return o.openVideoMetaEditLayer=function(){var e=this._videoComponentService.getMediaMeta(),t=this._videoComponentService.getServiceData();this._videoUploadLayerService.open(),this._videoUploadService.openMetaEditor(e,t,{confirm:this._onConfirmVideoMetaEditLayer.bind(this),error:this._onErrorVideoMetaEditLayer.bind(this),close:this._onCloseVideoMetaEditLayer.bind(this)})},o._onCloseVideoMetaEditLayer=function(){this._videoUploadLayerService.close()},o._onConfirmVideoMetaEditLayer=function(e){var t=e.mediaMeta,o=e.serviceData;this._videoComponentService.updateServiceData(o),this._videoComponentService.updateMediaMeta(t),this._videoUploadLayerService.close()},o._onErrorVideoMetaEditLayer=function(){this._videoUploadLayerService.close(),this._alertLayerService.open({type:"alert",title:this._i18n("videoComponent:error_meta_title"),description:this._i18n("videoComponent:error_meta_description")})},t}(u.m),q()(Yb.prototype,"openVideoMetaEditLayer",[K.d],Object.getOwnPropertyDescriptor(Yb.prototype,"openVideoMetaEditLayer"),Yb.prototype),q()(Yb.prototype,"_onConfirmVideoMetaEditLayer",[ee.history,K.d],Object.getOwnPropertyDescriptor(Yb.prototype,"_onConfirmVideoMetaEditLayer"),Yb.prototype),q()(Yb.prototype,"_onErrorVideoMetaEditLayer",[K.d],Object.getOwnPropertyDescriptor(Yb.prototype,"_onErrorVideoMetaEditLayer"),Yb.prototype),Yb);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/buttons/use-case/video-meta-button-use-case.js",localName:t}})}catch(e){}}($b,"VideoMetaButtonUseCase")}();var e_={"video-meta-right-label":{view:Kb,useCase:$b,styleName:"video-meta"},"video-meta":{view:Zb,useCase:$b,styleName:"video-meta"}},t_=e_,o_=t_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(e_,"buttons"),e(t_,"default")}();var n_={propertyToolbar:{"video-resizing":Object(Ot.a)("video-resizing"),align:Object(Ot.a)("align-group"),"caption-align":Object(Ot.a)("caption-align-group"),"content-mode-without-pagefull":Object(Ot.a)("content-mode-group-without-pagefull"),"video-meta-right-label":o_["video-meta-right-label"],"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"cycle-align":Object(Ot.a)("cycle-align"),"caption-bold":Object(Ot.a)("caption-bold"),"special-letter":Object(Ot.a)("special-letter"),"caption-link":Object(Ot.a)("caption-link"),"caption-align":Object(Ot.a)("caption-align"),"content-mode-without-pagefull":Object(Ot.a)("content-mode-group-without-pagefull"),delete:Object(Ot.a)("delete"),"video-meta":o_["video-meta"],"separator-bar":Object(Ot.a)("separator-bar"),translation:Object(Ot.a)("translation")},overlayToolbar:{"content-mode":Object(Ot.a)("content-mode-group-without-default"),delete:Object(Ot.a)("delete")}},r_=n_;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/video-button-set-map.js",localName:t}})}catch(e){}}(n_,"default")}();var i_={propertyToolbar:function(e){var t=e.selectedComponents,o=1===t.length;return o&&t[0].isCaptionFocused()?["caption-align","separator-bar","video-resizing","separator-bar","video-meta-right-label","separator-bar","content-mode-without-pagefull"]:o?["align","separator-bar","video-resizing","separator-bar","video-meta-right-label","separator-bar","content-mode-without-pagefull"]:["align","separator-bar","video-resizing","separator-bar","content-mode-without-pagefull"]},contextToolbar:function(e){var t=e.selectedComponents,o=["video-meta","separator-bar","content-mode-without-pagefull","separator-bar","delete"];if(1===t.length){var n=t[0];if(n.isCaptionFocused()){return["caption-align","separator-bar","caption-bold","special-letter","caption-link","separator-bar","translation"]}n.contentMode===zy.NORMAL&&o.unshift("cycle-align","separator-bar")}return o},overlayToolbar:function(){return{fixedButtonSets:{top:["content-mode"],bottom:["delete"]}}}},a_=i_;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/video-button-resolver.js",localName:t}})}catch(e){}}(i_,"default")}();var s_=function(e){function t(){return e.call(this,{buttonSetMap:r_,buttonResolver:a_})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/toolbar/index.js",localName:t}})}catch(e){}}(s_,"VideoComponentToolbar")}();var c_=u.q.extend({name:"VideoComponent",view:Bb,service:Wb,store:Cb,toolbar:s_,useCase:Nb}),l_=c_,u_=l_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/video-component/src/index.js",localName:t}})}catch(e){}}e(c_,"VideoComponent"),e(l_,"default")}();var p_=o(670),d_={},h_=function(e,t){var o=null,n=function(n){function r(t){var r;return(r=n.call(this,t)||this).state={LazyComponent:o},r._flows=new p_.a,o?G()(r):(r._flows.fork("loading").next(e).next(function(e){var t=e.default;o=t,r.setState({LazyComponent:o})}),r)}h()(r,n);var i=r.prototype;return i.componentWillUnmount=function(){this._flows.abort()},i.render=function(){var e=this.state.LazyComponent,o=this.props.store.ctype,n=!0;return e?(d_[o]&&(n=!1),d_[o]=!0,K.b.createElement(e,xc()({shouldForceRefresh:n},this.props,t))):null},r}(K.b.Component);return Object(Z.b)(n)},f_=h_,m_=f_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/withLazy/withLazyByCompId.jsx",localName:t}})}catch(e){}}e(d_,"completed"),e(h_,"withLazyByCompId"),e(f_,"default")}();var g_=o(430),y_=function(e){function t(){var t;return(t=e.call(this)||this)._selectionInfoStore=u.U.get("selectionInfoStore"),t}h()(t,e);var o=t.prototype;return o.changeToTextLayout=function(e){this.getComponentStore(e).changeToTextLayout()},o.changeToImageTypeLayout=function(e){this.getComponentStore(e).changeLayoutWithThumbnail()},o.getFirstSelectedCompId=function(){return this._selectionInfoStore.toValidJSON().start.compId},t}(u.a),b_=y_,__=b_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/service/index.js",localName:t}})}catch(e){}}e(y_,"OglinkComponentService"),e(b_,"default")}();var v_=o(461),C_={propertyToolbar:{align:Object(Ot.a)("align-group"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"cycle-align":Object(Ot.a)("cycle-align"),delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")},overlayToolbar:{delete:Object(Ot.a)("delete")}},S_=C_;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/toolbar/oglink-button-set-map.js",localName:t}})}catch(e){}}(C_,"default")}();var O_={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["cycle-align","separator-bar","delete"]},overlayToolbar:function(){return{fixedButtonSets:{top:["delete"]}}}},k_=O_;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/toolbar/oglink-button-resolver.js",localName:t}})}catch(e){}}(O_,"default")}();var I_=function(e){function t(){return e.call(this,{buttonSetMap:S_,buttonResolver:k_})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/toolbar/index.js",localName:t}})}catch(e){}}(I_,"OglinkComponentToolbar")}();var w_=u.q.extend({name:"OglinkComponent",view:m_(function(){return o.e(58).then(o.bind(null,1254))}),useCase:g_.a,service:__,store:v_.a,toolbar:I_}),P_=w_,j_=P_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/index.js",localName:t}})}catch(e){}}e(w_,"OglinkComponent"),e(P_,"default")}();var T_,L_,E_,N_,x_,D_,R_,A_,U_,M_,B_,F_={LEFT:"left",CENTER:"center",RIGHT:"right"},z_={HORIZONTAL:"horizontal",VERTICAL:"vertical"},W_={LEFT_TO_RIGHT:"ltr",RIGHT_TO_LEFT:"rtl"},V_={RATIO_1_1:"1:1",RATIO_3_4:"3:4"},G_={WebtoonAlign:F_,WebtoonLayout:z_,WebtoonHorizontalDirection:W_,WebtoonHorizontalAspectRatio:V_,WebtoonBackgroundColor:"#ffffff"};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/consts/index.js",localName:t}})}catch(e){}}e(F_,"WebtoonAlign"),e(z_,"WebtoonLayout"),e(W_,"WebtoonHorizontalDirection"),e(V_,"WebtoonHorizontalAspectRatio"),e("#ffffff","WebtoonBackgroundColor"),e(G_,"default")}();var H_=(T_=K.g.shallow,L_=K.g.shallow,E_=function(e){h()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},W()(o,"layout",N_,G()(o)),W()(o,"align",x_,G()(o)),W()(o,"horizontalDirection",D_,G()(o)),W()(o,"horizontalAspectRatio",R_,G()(o)),W()(o,"backgroundColor",A_,G()(o)),W()(o,"images",U_,G()(o)),W()(o,"mediaMeta",M_,G()(o)),W()(o,"currentPageIndex",B_,G()(o)),o.serviceData=null,o.onRenderServiceDataButton=null,o.onClickServiceDataButton=null;var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;return o.attributes=Object(gs.a)(o.attributes,s.attributes),o.layout=Object(J.a)(i,"layout",o.layout),o.align=Object(J.a)(i,"align",o.align),o.images=Object(io.a)(i.images,function(e){return o._componentFactory.createComponentWithCompData(rt()({ctype:"image"},e),{attributes:{cursor:"selectable-unit",selection:"selectable-unit",erasure:"query",drop:"object"}})}),o.backgroundColor=Object(J.a)(i,"backgroundColor",o.backgroundColor),o.serviceData=Object(J.a)(i,"serviceData",o.serviceData),o.onClickServiceDataButton=s.onClickServiceDataButton,o.onRenderServiceDataButton=s.onRenderServiceDataButton,i.mediaMeta&&(o.mediaMeta=Object(Fg.a)({ctype:"mediaMeta"},i.mediaMeta),o.mediaMeta.tags=Object(J.a)(o.mediaMeta,"tags",[])),o.layout===z_.HORIZONTAL?(o.horizontalDirection=Object(J.a)(i,"horizontalDirection",W_.RIGHT_TO_LEFT),o.horizontalAspectRatio=Object(J.a)(i,"horizontalAspectRatio",V_.RATIO_3_4)):o.currentPageIndex=-1,o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,align:this.align,horizontalDirection:this.horizontalDirection,horizontalAspectRatio:this.horizontalAspectRatio,mediaMeta:K.f.toJS(this.mediaMeta),backgroundColor:this.backgroundColor,images:K.f.toJS(this.images),serviceData:K.f.toJS(this.serviceData)}},t.updateServiceData=function(e){this.serviceData=e},t.updateCurrentPage=function(e){this.currentPageIndex=e},t.updateLayout=function(e){this.layout=e},t.updateProperty=function(e){var t=e.layout,o=Ja()(e,["layout"]);t&&this.updateLayout(t),Object(xf.a)(this,o)},t.updateStyle=function(e){var t=e.align;this.align=t},t.collectStyle=function(){return{layout:this.layout,align:this.align||F_.LEFT}},at()(o,[{key:"pageMaxCount",get:function(){return this.images.length-1}}]),o}(u.g),N_=q()(E_.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z_.HORIZONTAL}}),x_=q()(E_.prototype,"align",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D_=q()(E_.prototype,"horizontalDirection",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R_=q()(E_.prototype,"horizontalAspectRatio",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A_=q()(E_.prototype,"backgroundColor",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"#ffffff"}}),U_=q()(E_.prototype,"images",[T_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M_=q()(E_.prototype,"mediaMeta",[L_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B_=q()(E_.prototype,"currentPageIndex",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q()(E_.prototype,"pageMaxCount",[K.e],Object.getOwnPropertyDescriptor(E_.prototype,"pageMaxCount"),E_.prototype),E_);H_.ctype="webtoon",H_.schema={id:Df.a.string.isRequired,layout:Df.a.string.isRequired,align:Df.a.string,ctype:Df.a.string.isRequired,horizontalDirection:Df.a.string,horizontalAspectRatio:Df.a.string,mediaMeta:Df.a.shape(Om.c),backgroundColor:Df.a.string,images:Df.a.arrayOf(Df.a.shape(km.a.schema)).isRequired,serviceData:Df.a.object};var q_=H_,J_=q_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/store/index.js",localName:t}})}catch(e){}}e(H_,"WebtoonComponent"),e(q_,"default")}();var K_,Y_=function(e){function t(){var t;return(t=e.call(this)||this)._webtoonLayerService=u.U.get("webtoonLayerService"),t._webtoonComponentService=u.U.get("webtoonComponentService"),t._eventDispatcherService=u.U.get("eventDispatcherService"),t}h()(t,e);var o=t.prototype;return o.updateCurrentPage=function(e,t){this._webtoonComponentService.updateCurrentPage(e,t)},o.editWebtoon=function(){var e=this._webtoonComponentService.getSelectedWebtoonStore(),t=this._webtoonComponentService.getCurrentPageIndex();this._webtoonLayerService.editWebtoon({images:e.images,layout:e.layout,horizontalDirection:e.horizontalDirection,horizontalAspectRatio:e.horizontalAspectRatio,currentPageIndex:t})},o.addResizeViewModeListener=function(e){this._eventDispatcherService.on(u.z.DOCUMENT_VIEWPORT_RESIZED,e)},o.removeResizeViewModeListener=function(e){this._eventDispatcherService.off(u.z.DOCUMENT_VIEWPORT_RESIZED,e)},t}(u.c),X_=Y_,Q_=X_;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/use-case/index.js",localName:t}})}catch(e){}}e(Y_,"WebtoonComponentUseCase"),e(X_,"default")}();var Z_=function(e){var t=e.width,o=e.height,n=e.originalHeight,r=e.originalWidth;return t>=5*o||r>=5*n},$_=(K_=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={isLoaded:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this._renderWebtoonImages();return K.b.createElement("div",{className:"se-webtoon-viewer"},e)},o._renderWebtoonImages=function(){var e=this;return this.props.images.map(function(t,o){var n=t.src,r=t.width,i=t.height,a=t.originalWidth,s=t.originalHeight,c=Z_(t),l=et()("se-webtoon-image",{"se-webtoon-image-ratio-5-1":c});return K.b.createElement("div",{key:"webtoon-vertical-image-"+o,className:l},K.b.createElement(mb.b,{src:n,type:e.state.isLoaded?null:mb.a.lazyLoad,width:r,height:i,originalHeight:s,originalWidth:a,onLoad:e._handleImageOnLoad,className:"se-image-resource"}))})},o._handleImageOnLoad=function(){this.setState({isLoaded:!0})},t}(K.b.Component),q()(K_.prototype,"_handleImageOnLoad",[ee.autobind],Object.getOwnPropertyDescriptor(K_.prototype,"_handleImageOnLoad"),K_.prototype),K_);$_.defaultProps={i18n:function(e){return e}},$_.propTypes={i18n:K.a.func,images:K.a.oneOfType([K.a.array,K.a.object]).isRequired};var ev=Object(Z.b)($_),tv=ev;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/view/vertical-view.jsx",localName:t}})}catch(e){}}e(Z_,"verticalImageRatioExceeded"),e($_,"WebtoonComponentVerticalView"),e(ev,"default")}();var ov,nv=o(763),rv=(ov=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={isLoaded:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.controlRef,o=e.horizontalDirection,n=e.horizontalAspectRatio,r=e.pageMaxCount,i=n?n.replace(":","-"):V_.RATIO_3_4,a=et()(["se-webtoon-viewer","se-webtoon-viewer-ratio-"+i]),s=this._renderWebtoonImages(),c=o===W_.RIGHT_TO_LEFT?r:0;return K.b.createElement("div",{className:a,draggable:!1},K.b.createElement("div",{className:"se-webtoon-flick-wrap se-webtoon-flick-image-loaded"},K.b.createElement(nv.a,{ref:t,needPanelThreshold:50,disableOnInit:!0,defaultIndex:c},s)))},o._renderWebtoonImages=function(){var e=this,t=this.props,o=t.images;return(t.horizontalDirection===W_.RIGHT_TO_LEFT?Object(Ka.a)(o.slice()):o).map(function(t,o){var n=t.src,r=t.width,i=t.height,a=t.originalWidth,s=t.originalHeight;return K.b.createElement("div",{key:"eg-flick-panel-"+o,className:"se-webtoon-image"},K.b.createElement(mb.b,{src:n,type:e.state.isLoaded?null:mb.a.lazyLoad,width:r,height:i,originalHeight:s,originalWidth:a,onLoad:e._handleImageOnLoad,className:"se-image-resource"}))})},o._handleChange=function(e){var t=this.props.onFlickEnd,o=e.index,n=e._canceled;if(void 0!==n&&n)return null;t&&t(o)},o._handleImageOnLoad=function(){this.setState({isLoaded:!0})},t}(K.b.Component),q()(ov.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(ov.prototype,"_handleChange"),ov.prototype),q()(ov.prototype,"_handleImageOnLoad",[ee.autobind],Object.getOwnPropertyDescriptor(ov.prototype,"_handleImageOnLoad"),ov.prototype),ov);rv.defaultProps={i18n:function(e){return e}},rv.propTypes={i18n:K.a.func,pageMaxCount:K.a.number.isRequired,images:K.a.oneOfType([K.a.array,K.a.object]).isRequired,horizontalDirection:K.a.string,horizontalAspectRatio:K.a.string,onFlickEnd:K.a.func,onClickUpload:K.a.func,controlRef:K.a.any};var iv=Object(Z.b)(rv),av=iv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/view/horizontal-flicker.jsx",localName:t}})}catch(e){}}e(rv,"WebtoonComponentHorizontalFlicker"),e(iv,"default")}();var sv,cv=o(433),lv=o.n(cv),uv=(sv=function(e){function t(){var t;return(t=e.call(this)||this).state={showPaging:!1},t._debounceActivatePageInfo=Object(yu.a)(t._activatePageInfo.bind(G()(t)),100),t}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.currentPageIndex,o=e.pageMaxCount,n=e.horizontalDirection,r=e.controlRef,i=et()(["se-webtoon-slider-wrap","se-webtoon-slider-"+n]),a=n===W_.RIGHT_TO_LEFT?o:0;return K.b.createElement("div",{className:i},K.b.createElement(lv.a,{ref:r,value:t,defaultValue:a,min:0,max:o,reverse:!1,tooltip:!1,onChangeStart:this._handleChangeStart,onChange:this._handleChange}),this._renderPagingInfo())},o._convertPageNumber=function(e){var t=this.props,o=t.pageMaxCount;return t.horizontalDirection===W_.RIGHT_TO_LEFT?o-e+1:e+1},o._renderPagingInfo=function(){var e=this.state.sliderHandlePosition,t=this.props,o=t.currentPageIndex,n=t.pageMaxCount,r=e||o,i=this._convertPageNumber(r),a=n,s=et()("se-webtoon-slider-value",{"se-webton-slider-value-active":this.state.showPaging});return K.b.createElement("div",{className:s},K.b.createElement("span",{className:"se-webtoon-slider-value-current"},i),K.b.createElement("span",{className:"se-webtoon-slider-value-total"},"/"+(a+1)))},o._handleChangeStart=function(){this._debounceActivatePageInfo()},o._handleChange=function(e){this._debounceActivatePageInfo(e);var t=this.props.onSlide;t&&t(e)},o._deactivatePageInfo=function(){this.setState({showPaging:!1})},o._activatePageInfo=function(e){this.setState({showPaging:!0,sliderHandlePosition:e}),this._pagingTimer&&clearTimeout(this._pagingTimer),this._pagingTimer=setTimeout(this._deactivatePageInfo,1e3)},t}(K.b.Component),q()(sv.prototype,"_handleChangeStart",[ee.autobind],Object.getOwnPropertyDescriptor(sv.prototype,"_handleChangeStart"),sv.prototype),q()(sv.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(sv.prototype,"_handleChange"),sv.prototype),q()(sv.prototype,"_deactivatePageInfo",[ee.autobind],Object.getOwnPropertyDescriptor(sv.prototype,"_deactivatePageInfo"),sv.prototype),sv);uv.defaultProps={i18n:function(e){return e}},uv.propTypes={i18n:K.a.func,pageMaxCount:K.a.number.isRequired,currentPageIndex:K.a.number.isRequired,horizontalDirection:K.a.string,onSlide:K.a.func,controlRef:K.a.any};var pv,dv=Object(Z.b)(uv),hv=dv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/view/horizontal-slider.jsx",localName:t}})}catch(e){}}e(1,"INDEX_OFFSET"),e(uv,"WebtoonComponentHorizontalSlider"),e(dv,"default")}();var fv=(pv=function(e){function t(){var t;return(t=e.call(this)||this)._flickingRef=K.b.createRef(),t._sliderRef=K.b.createRef(),t._debounceChangeSlide=Object(yu.a)(t._handleChangeSlide.bind(G()(t)),100),t._debounceChangePrev=Object(yu.a)(t._handleChangePrev.bind(G()(t)),300),t._debounceChangeNext=Object(yu.a)(t._handleChangeNext.bind(G()(t)),300),t._debounceUpdateCurrentPage=Object(yu.a)(t._updateCurrentPage.bind(G()(t)),300),t._debounceResizeView=Object(yu.a)(t._resizeView.bind(G()(t)),50),t}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this,t=this.props,o=t.shouldForceRefresh,n=t.store,r=t.useCase,i=n.horizontalDirection,a=n.pageMaxCount;o&&this.props.useCase.refreshAfterLazy(),i===W_.RIGHT_TO_LEFT&&(this._updateCurrentPage(a),setTimeout(function(){e._adjustSliderOnRTL()},100)),r.addResizeViewModeListener(this._debounceResizeView)},o.componentDidUpdate=function(){this._adjustSliderOnRTL()},o.componentWillUnmount=function(){this.props.useCase.removeResizeViewModeListener(this._debounceResizeView)},o.render=function(){var e=this.props.store,t=e.layout,o=e.images,n=e.pageMaxCount,r=e.horizontalDirection,i=e.horizontalAspectRatio,a=e.currentPageIndex;return K.b.createElement(K.b.Fragment,null,K.b.createElement(av,{controlRef:this._flickingRef,pageMaxCount:n,images:o,currentPageIndex:a,horizontalDirection:r,horizontalAspectRatio:i,onFlickEnd:this._handleChangeFlickEnd}),K.b.createElement(hv,{controlRef:this._sliderRef,currentPageIndex:a,pageMaxCount:n,horizontalDirection:r,onSlide:this._debounceChangeSlide}),t===z_.HORIZONTAL&&this._renderNavigationButtons())},o._renderNavigationButtons=function(){var e=this.props.store,t=e.currentPageIndex,o=e.pageMaxCount,n=K.b.createElement("button",{type:"button",className:"se-webtoon-navigation-button se-webtoon-navigation-button-prev",onClick:this._debounceChangePrev},K.b.createElement("span",{className:"se-blind"},"이전")),r=K.b.createElement("button",{type:"button",className:"se-webtoon-navigation-button se-webtoon-navigation-button-next",onClick:this._debounceChangeNext},K.b.createElement("span",{className:"se-blind"},"다음"));return 0===t&&(n=null),t===o&&(r=null),K.b.createElement("div",{className:"se-webtoon-navigation"},n,r)},o._handleChangeFlickEnd=function(e){this._debounceUpdateCurrentPage(e)},o._handleChangeSlide=function(e){this._debounceUpdateCurrentPage(e),this._moveToFlicking(e)},o._handleChangePrev=function(){var e=this.props.store.currentPageIndex-1;e<0||(this._debounceUpdateCurrentPage(e),this._moveToFlicking(e))},o._handleChangeNext=function(){var e=this.props.store,t=e.currentPageIndex+1;t>e.pageMaxCount||(this._moveToFlicking(t),this._debounceUpdateCurrentPage(t))},o._moveToFlicking=function(e){this._flickingRef.current&&this._flickingRef.current.moveTo(e).catch(function(){})},o._updateCurrentPage=function(e){var t=this.props,o=t.useCase,n=t.store;o.updateCurrentPage(n.id,e)},o._adjustSliderOnRTL=function(){var e=this.props.store.horizontalDirection,t=this._sliderRef.current,o=e===W_.RIGHT_TO_LEFT;if(t&&o){var n=t.slider.offsetWidth,r=t.slider.querySelector(".rangeslider__fill"),i=n-t.slider.querySelector(".rangeslider__handle").offsetLeft;r.style.width=i+"px"}},o._resizeView=function(){this._flickingRef&&this._flickingRef.current.resize(),this._adjustSliderOnRTL()},t}(K.b.Component),q()(pv.prototype,"_handleChangeFlickEnd",[ee.autobind],Object.getOwnPropertyDescriptor(pv.prototype,"_handleChangeFlickEnd"),pv.prototype),pv);fv.defaultProps={i18n:function(e){return e}},fv.propTypes={shouldForceRefresh:K.a.bool,i18n:K.a.func,useCase:K.a.instanceOf(Q_).isRequired,store:K.a.instanceOf(J_).isRequired,children:K.a.oneOfType([K.a.element,K.a.array])};var mv,gv=Object(Z.b)(fv),yv=gv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/view/horizontal-view.jsx",localName:t}})}catch(e){}}e(fv,"WebtoonComponentHorizontalView"),e(gv,"default")}();var bv=(mv=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.layout,a=t.images,s="se-l-"+i;return K.b.createElement(Lf.a,{id:n,ctype:r,layout:i,i18n:o},K.b.createElement(Ef.a,{compId:n,compStore:t},K.b.createElement(dm.a,{blockWrapperProps:t,className:s,onDoubleClick:this._handleDoubleClick},K.b.createElement(Ry.a,{ctype:r},i===z_.VERTICAL?this._renderVerticalView():this._renderHorizontalView(),K.b.createElement(Fm.a,{store:t}),K.b.createElement(My.a,{compStore:t,isReady:!0,i18n:o,value:a})))))},o._renderVerticalView=function(){var e=this.props,t=e.store,o=e.i18n,n=t.images;return K.b.createElement(tv,{images:n,i18n:o})},o._renderHorizontalView=function(){var e=this.props,t=e.store,o=e.i18n,n=e.useCase,r=e.shouldForceRefresh;return K.b.createElement(yv,{store:t,useCase:n,i18n:o,shouldForceRefresh:r})},o._handleDoubleClick=function(e){var t=e.target;t&&t.classList.contains("se-webtoon-navigation-button")||this.props.useCase.editWebtoon()},t}(K.b.Component),q()(mv.prototype,"_handleDoubleClick",[ee.autobind],Object.getOwnPropertyDescriptor(mv.prototype,"_handleDoubleClick"),mv.prototype),mv);bv.defaultProps={i18n:function(e){return e}},bv.propTypes={shouldForceRefresh:K.a.bool,i18n:K.a.func,useCase:K.a.instanceOf(Q_).isRequired,store:K.a.instanceOf(J_).isRequired,children:K.a.oneOfType([K.a.element,K.a.array])};var _v=Object(Z.b)(bv),vv=_v;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/view/index.jsx",localName:t}})}catch(e){}}e(bv,"WebtoonComponent"),e(_v,"default")}();var Cv,Sv=function(e){function t(){var t;return(t=e.call(this)||this)._selectionInfoStore=u.U.get("selectionInfoStore"),t._componentFactory=u.U.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.createComponent=function(e){return this._componentFactory.createComponentWithCompData(rt()({ctype:"webtoon"},e))},o.getSelectedWebtoonStore=function(){var e=this._selectionInfoStore.start.compId;return this.getComponentStore(e).toPlainJSON()},o.getCurrentPageIndex=function(){var e=this._selectionInfoStore.start.compId;return this.getComponentStore(e).currentPageIndex},o.updateCurrentPage=function(e,t){this.getComponentStore(e).updateCurrentPage(t)},t}(u.a),Ov=Sv,kv=Ov;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/service/index.js",localName:t}})}catch(e){}}e(Sv,"WebtoonComponentService"),e(Ov,"default")}();var Iv,wv=(Cv=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"webtoonEdit:title":n,i=e.label,a=void 0===i?"webtoonEdit:label":i,s=e.labelVisible,c=void 0===s||s,l=e.logId,u=void 0===l?"edit":l,p=Ja()(e,["type","title","label","labelVisible","logId"]);return K.b.createElement(Hb.a,xc()({type:o,title:r,label:a,logId:u,labelVisible:c},p,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editWebtoon()},t}(K.b.Component),q()(Cv.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Cv.prototype,"_handleClick"),Cv.prototype),Cv),Pv=wv,jv=Pv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/toolbar/buttons/view/webtoon-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(wv,"WebtoonEditRightLabelButtonView"),e(Pv,"default")}();var Tv=(Iv=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"webtoonEdit:title":n,i=e.logId,a=void 0===i?"edit":i,s=Ja()(e,["type","title","logId"]);return K.b.createElement(Hb.a,xc()({type:o,title:r,logId:a},s,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editWebtoon()},t}(K.b.Component),q()(Iv.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Iv.prototype,"_handleClick"),Iv.prototype),Iv),Lv=Tv,Ev=Lv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/toolbar/buttons/view/webtoon-edit-button-view.jsx",localName:t}})}catch(e){}}e(Tv,"WebtoonEditButtonView"),e(Lv,"default")}();var Nv={"webtoon-edit-right-label":{view:jv,useCase:Q_,styleName:"webtoon-edit"},"webtoon-edit":{view:Ev,useCase:Q_,styleName:"webtoon-edit"}},xv=Nv,Dv=xv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(Nv,"buttons"),e(xv,"default")}();var Rv={propertyToolbar:{align:Object(Ot.a)("align-group"),"webtoon-edit":Dv["webtoon-edit-right-label"],"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"webtoon-edit":Dv["webtoon-edit"],delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")},overlayToolbar:{"webtoon-edit":Dv["webtoon-edit"],delete:Object(Ot.a)("delete")}},Av=Rv;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/toolbar/webtoon-button-set-map.js",localName:t}})}catch(e){}}(Rv,"default")}();var Uv={propertyToolbar:function(){return["align","separator-bar","webtoon-edit"]},contextToolbar:function(){return["webtoon-edit","separator-bar","delete"]},overlayToolbar:function(){return{fixedButtonSets:{bottom:["webtoon-edit","delete"]}}}},Mv=Uv;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/toolbar/webtoon-button-resolver.js",localName:t}})}catch(e){}}(Uv,"default")}();var Bv=function(e){function t(){return e.call(this,{buttonSetMap:Av,buttonResolver:Mv})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Bv,"WebtoonComponentToolbar")}();var Fv=u.q.extend({name:"WebtoonComponent",view:vv,useCase:Q_,service:kv,store:J_,toolbar:Bv}),zv=Fv,Wv=zv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/webtoon-component/src/index.js",localName:t}})}catch(e){}}e(Fv,"WebtoonComponent"),e(zv,"default")}();var Vv=o(418),Gv=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.U.get("componentFactory"),t}return h()(t,e),t.prototype.createComponent=function(e){return this._componentFactory.createComponentWithCompData(rt()({ctype:"horizontalLine"},e))},t}(u.a),Hv=Gv,qv=Hv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/service/index.js",localName:t}})}catch(e){}}e(Gv,"HorizontalLineComponentService"),e(Hv,"default")}();var Jv,Kv=o(419),Yv=o(102),Xv=(Jv=function(e){function t(){var t;t=e.call(this)||this;var o=u.U.get("configAgent");return t._allowLayouts=o.get("productConfig.horizontalLine.layouts"),t}h()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.type,n=void 0===o?tt.b.GROUP_TOGGLE:o,r=t.title,i=void 0===r?"horizontalLineLayout:title":r,a=t.label,s=void 0===a?"horizontalLineLayout:label":a,c=t.value,l=void 0===c?"default":c,u=t.logId,p=void 0===u?"horizt":u,d=t.groups,h=void 0===d?[{value:"default",title:"horizontalLineLayout:default_title",label:"horizontalLineLayout:default_label",logId:"horizt0"},{value:"line1",title:"horizontalLineLayout:line1_title",label:"horizontalLineLayout:line1_label",logId:"horizt1"},{value:"line2",title:"horizontalLineLayout:line2_title",label:"horizontalLineLayout:line2_label",logId:"horizt2"},{value:"line3",title:"horizontalLineLayout:line3_title",label:"horizontalLineLayout:line3_label",logId:"horizt3"},{value:"line4",title:"horizontalLineLayout:line4_title",label:"horizontalLineLayout:line4_label",logId:"horizt4"},{value:"line5",title:"horizontalLineLayout:line5_title",label:"horizontalLineLayout:line5_label",logId:"horizt5"},{value:"line6",title:"horizontalLineLayout:line6_title",label:"horizontalLineLayout:line6_label",logId:"horizt6"},{value:"line7",title:"horizontalLineLayout:line7_title",label:"horizontalLineLayout:line7_label",logId:"horizt7"}]:d,f=Ja()(t,["type","title","label","value","logId","groups"]),m=h;return this._allowLayouts&&(m=m.filter(function(t){return e._allowLayouts.includes(t.value)})),K.b.createElement(Yv.a,xc()({type:n,title:i,label:s,value:l,logId:p,groups:m},f,{onChange:this._handleClick}))},o._handleClick=function(e){this.props.useCase.changeLayout(e)},t}(K.b.Component),q()(Jv.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Jv.prototype,"_handleClick"),Jv.prototype),Jv),Qv=Xv,Zv=Qv;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/toolbar/buttons/view/horizontal-line-layout-button-view.jsx",localName:t}})}catch(e){}}e(Xv,"HorizontalLineLayoutButtonView"),e(Qv,"default")}();var $v=o(271),eC={"horizontal-line-layout":{view:Zv,useCase:$v.a,propertyName:"layout",styleName:"horizontal-line"}},tC=eC,oC=tC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(eC,"buttons"),e(tC,"default")}();var nC={propertyToolbar:{align:Object(Ot.a)("align-group"),"horizontal-line-layout":oC["horizontal-line-layout"],"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"cycle-align":Object(Ot.a)("cycle-align"),"horizontal-line-layout":oC["horizontal-line-layout"],delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")},overlayToolbar:{delete:Object(Ot.a)("delete")}},rC=nC;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/toolbar/horizontal-line-button-set-map.js",localName:t}})}catch(e){}}(nC,"default")}();var iC={propertyToolbar:function(e){var t=e.configAgent.get("productConfig.horizontalLine.layouts");return t&&1===t.length?["align"]:["align","separator-bar","horizontal-line-layout"]},contextToolbar:function(e){var t=e.configAgent.get("productConfig.horizontalLine.layouts");return t&&1===t.length?["cycle-align","separator-bar","delete"]:["cycle-align","separator-bar","horizontal-line-layout","separator-bar","delete"]},overlayToolbar:function(){return{fixedButtonSets:{top:["delete"]}}}},aC=iC;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/toolbar/horizontal-line-button-resolver.js",localName:t}})}catch(e){}}(iC,"default")}();var sC=function(e){function t(){return e.call(this,{buttonSetMap:rC,buttonResolver:aC})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/toolbar/index.js",localName:t}})}catch(e){}}(sC,"HorizontalLineComponentToolbar")}();var cC=u.q.extend({name:"HorizontalLineComponent",view:m_(function(){return o.e(53).then(o.bind(null,1249))}),useCase:Vv.a,service:qv,store:Kv.a,toolbar:sC}),lC=cC,uC=lC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/index.js",localName:t}})}catch(e){}}e(cC,"HorizontalLineComponent"),e(lC,"default")}();var pC,dC,hC,fC,mC,gC,yC,bC=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.c),_C=bC,vC=_C;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/use-case/index.js",localName:t}})}catch(e){}}e(bC,"StickerComponentUseCase"),e(_C,"default")}();var CC=(pC=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},W()(o,"format",dC,G()(o)),W()(o,"layout",hC,G()(o)),W()(o,"packCode",fC,G()(o)),W()(o,"seq",mC,G()(o)),W()(o,"align",gC,G()(o)),W()(o,"thumbnail",yC,G()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;return o.attributes=Object(gs.a)(o.attributes,s.attributes),o.format=Object(J.a)(i,"format",o.format),o.layout=Object(J.a)(i,"layout",o.layout),o.packCode=Object(J.a)(i,"packCode",o.packCode),o.seq=Object(J.a)(i,"seq",o.seq),o.align=Object(J.a)(i,"align",o.align),o.thumbnail=Object(Fg.a)(o.thumbnail,i.thumbnail),o}return h()(t,e),t.prototype.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,format:this.format,packCode:this.packCode,seq:this.seq,align:this.align,thumbnail:K.f.toJS(this.thumbnail)}},t}(u.g),dC=q()(pC.prototype,"format",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.O.NORMAL}}),hC=q()(pC.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),fC=q()(pC.prototype,"packCode",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mC=q()(pC.prototype,"seq",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gC=q()(pC.prototype,"align",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yC=q()(pC.prototype,"thumbnail",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"thumbnail",height:0,src:"",width:0}}}),pC);CC.ctype="sticker",CC.schema={id:Df.a.string.isRequired,ctype:Df.a.string.isRequired,layout:Df.a.string.isRequired,align:Df.a.string,packCode:Df.a.string.isRequired,seq:Df.a.number.isRequired,thumbnail:Df.a.shape(Om.i),format:Df.a.string};var SC,OC,kC,IC=CC,wC=IC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/store/index.js",localName:t}})}catch(e){}}e(CC,"StickerComponentStore"),e(IC,"default")}();var PC=(kC=OC=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.selection,a=t.format===u.O.ANIMATED?"pa":"p",s=t.thumbnail.src+"?type="+a+"100_100",c=t.packCode+"-"+t.seq;return K.b.createElement(Lf.a,{id:n,ctype:r,i18n:o},K.b.createElement(Ef.a,{compId:n,compStore:t},K.b.createElement(dm.a,{blockWrapperProps:t,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,draggable:"true"},K.b.createElement(Ry.a,{ctype:r},K.b.createElement(mb.b,{src:s,alt:c,className:"se-sticker-image",type:"none"!==i||this.context.readOnly?mb.a.normal:mb.a.lazyLoad,onLoad:this._handleLoadImage,onError:this._handleErrorImage})))))},o._handleLoadImage=function(){this.props.useCase.repaintCursor()},o._handleErrorImage=function(){this.props.useCase.repaintCursor()},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(K.b.Component),OC.contextType=gb.a,SC=kC,q()(SC.prototype,"_handleLoadImage",[ee.autobind],Object.getOwnPropertyDescriptor(SC.prototype,"_handleLoadImage"),SC.prototype),q()(SC.prototype,"_handleErrorImage",[ee.autobind],Object.getOwnPropertyDescriptor(SC.prototype,"_handleErrorImage"),SC.prototype),q()(SC.prototype,"_handleMoveToPrev",[ee.autobind],Object.getOwnPropertyDescriptor(SC.prototype,"_handleMoveToPrev"),SC.prototype),q()(SC.prototype,"_handleMoveToNext",[ee.autobind],Object.getOwnPropertyDescriptor(SC.prototype,"_handleMoveToNext"),SC.prototype),SC);PC.defaultProps={i18n:function(e){return e}},PC.propTypes={shouldForceRefresh:K.a.bool,useCase:K.a.instanceOf(vC).isRequired,store:K.a.instanceOf(wC).isRequired,i18n:K.a.func};var jC=Object(Z.b)(PC),TC=jC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/view/index.jsx",localName:t}})}catch(e){}}e(PC,"StickerComponentView"),e(jC,"default")}();var LC=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.a),EC=LC,NC=EC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/service/index.js",localName:t}})}catch(e){}}e(LC,"StickerComponentService"),e(EC,"default")}();var xC={propertyToolbar:{align:Object(Ot.a)("align-group"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"cycle-align":Object(Ot.a)("cycle-align"),delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")}},DC=xC;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/toolbar/sticker-button-set-map.js",localName:t}})}catch(e){}}(xC,"default")}();var RC={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(e){var t=e.selectedComponents,o=[],n=e.configAgent.get("productConfig.documentWidth");1===t.length&&(t[0].thumbnail.width<n&&o.push("cycle-align"));return o.push("separator-bar","delete"),o}},AC=RC;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/toolbar/sticker-button-resolver.js",localName:t}})}catch(e){}}(RC,"default")}();var UC=function(e){function t(){return e.call(this,{buttonSetMap:DC,buttonResolver:AC})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/toolbar/index.js",localName:t}})}catch(e){}}(UC,"StickerComponentToolbar")}();var MC=u.q.extend({name:"StickerComponent",view:TC,useCase:vC,store:wC,service:NC,toolbar:UC}),BC=MC,FC=BC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/sticker-component/src/index.js",localName:t}})}catch(e){}}e(MC,"StickerComponent"),e(BC,"default")}();var zC=o(765),WC=o(423),VC=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.a),GC=VC,HC=GC;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/service/index.js",localName:t}})}catch(e){}}e(VC,"OembedComponentService"),e(GC,"default")}();var qC=o(424),JC={propertyToolbar:{align:Object(Ot.a)("align-group"),"caption-align":Object(Ot.a)("caption-align-group"),"content-mode-without-extend-pagefull":Object(Ot.a)("content-mode-group-without-extend-pagefull"),"content-mode-without-pagefull":Object(Ot.a)("content-mode-group-without-pagefull"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"content-mode-without-extend-pagefull":Object(Ot.a)("content-mode-group-without-extend-pagefull"),"content-mode-without-pagefull":Object(Ot.a)("content-mode-group-without-pagefull"),"cycle-align":Object(Ot.a)("cycle-align"),delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")},overlayToolbar:{"content-mode-group-without-default":Object(Ot.a)("content-mode-group-without-default"),delete:Object(Ot.a)("delete")}},KC=JC;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/toolbar/oembed-button-set-map.js",localName:t}})}catch(e){}}(JC,"default")}();var YC=o(220);function XC(e){return Object(zg.a)(e,function(e){return"rich"===e.type})}function QC(e){return Object(zg.a)(e,function(e){return YC.e.includes(e.providerName.toLowerCase())})}function ZC(e){return Object(zg.a)(e,function(e){return e.isOembedNotSupported})}var $C={propertyToolbar:function(e){var t=e.selectedComponents,o=t[0].isCaptionFocused()?"caption-align":"align",n=[].concat(o),r=XC(t),i=QC(t);return ZC(t)||i&&r?(n.push("separator-bar"),n):(r?n.push("separator-bar","content-mode-without-extend-pagefull"):n.push("separator-bar","content-mode-without-pagefull"),n)},contextToolbar:function(e){var t=e.selectedComponents,o=[],n=XC(t),r=QC(t),i=ZC(t);return 1===t.length&&t[0].contentMode===YC.b.NORMAL&&o.push("cycle-align"),i||r&&n?(o.push("separator-bar","delete"),o):(n?o.push("separator-bar","content-mode-without-extend-pagefull"):o.push("separator-bar","content-mode-without-pagefull"),o.push("separator-bar","delete"),o)},overlayToolbar:function(e){var t=e.selectedComponents[0]||{},o=t.type;return t.isScriptRenderType&&o===YC.d.RICH?{fixedButtonSets:{top:["delete"]}}:{fixedButtonSets:{top:["content-mode-group-without-default"],bottom:["delete"]}}}},eS=$C;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/toolbar/oembed-button-resolver.js",localName:t}})}catch(e){}}e(XC,"_isRichType"),e(QC,"_isScriptTypeProvider"),e(ZC,"_isOembedNotSupported"),e($C,"default")}();var tS=function(e){function t(){return e.call(this,{buttonSetMap:KC,buttonResolver:eS})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/toolbar/index.js",localName:t}})}catch(e){}}(tS,"OembedComponentToolbar")}();var oS=u.q.extend({name:"OembedComponent",view:m_(function(){return o.e(55).then(o.bind(null,1251))}),useCase:WC.a,service:HC,store:qC.a,toolbar:tS}),nS=oS,rS=nS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/index.js",localName:t}})}catch(e){}}e(oS,"OembedComponent"),e(nS,"default")}();var iS=o(426),aS=o(427),sS={propertyToolbar:{align:Object(Ot.a)("align-group"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{delete:Object(Ot.a)("delete")}},cS=sS;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/toolbar/material-button-set-map.js",localName:t}})}catch(e){}}(sS,"default")}();var lS={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["delete"]}},uS=lS;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/toolbar/material-button-resolver.js",localName:t}})}catch(e){}}(lS,"default")}();var pS,dS=function(e){function t(){return e.call(this,{buttonSetMap:cS,buttonResolver:uS})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/toolbar/index.js",localName:t}})}catch(e){}}(dS,"MaterialComponentToolbar")}();var hS=(pS=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={noImage:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.i18n,t=e("materialComponent:not_registerd"),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveAuthor()||t,i=this._resolvePublisher()||t,a=this._resolveRelease()||t,s=this._resolveThumbnailClassName();return K.b.createElement(Ry.a,{ctype:"material",className:"se-material-book"},K.b.createElement("div",{className:s},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:author")),K.b.createElement("dd",{className:"se-material-detail-description"},r),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:publisher")),K.b.createElement("dd",{className:"se-material-detail-description"},i),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:book_release")),K.b.createElement("dd",{className:"se-material-detail-description"},a)))),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=Object(J.a)(this.props.item,"thumbnail.src","");if(!1===this.state.noImage)return K.b.createElement(mb.b,{className:"se-sidebar-material-thumbnail-resource",src:t,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._resolveThumbnailClassName=function(){return et()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return ao.a.restoreSpecialChar(this.props.item.title)},o._resolveAuthor=function(){var e=Object(J.a)(this.props.item,"detailInfo[0].values",[]);return this._detailInfoToString(e).replace(/\|/gi,", ").replace(/ 지음$/gi,"")},o._resolvePublisher=function(){var e=Object(J.a)(this.props.item,"detailInfo[1].values",[]);return this._detailInfoToString(e)},o._resolveRelease=function(){var e=Object(J.a)(this.props.item,"detailInfo[2].values",[]);return this._detailInfoToString(e)},o._detailInfoToString=function(e){return ao.a.restoreSpecialChar(Object(io.a)(e,function(e){return e.value}).join(", "))},t}(K.b.Component),q()(pS.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(pS.prototype,"_handleThumbnailLoad"),pS.prototype),q()(pS.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(pS.prototype,"_handleThumbnailError"),pS.prototype),pS);hS.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[{},{},{}],isBigSizeImage:!1}},hS.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var fS,mS=Object(Z.b)(hS),gS=mS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/book-material-item.jsx",localName:t}})}catch(e){}}e(hS,"BookMaterialItem"),e(mS,"default")}();var yS=(fS=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={noImage:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.i18n,t=e("materialComponent:not_registerd"),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveDirector()||t,i=this._resolveActors()||t,a=this._resolveRelease()||t,s=this._resolveThumbnailClassName();return K.b.createElement(Ry.a,{ctype:"material",className:"se-material-movie"},K.b.createElement("div",{className:s},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:director")),K.b.createElement("dd",{className:"se-material-detail-description"},r),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:actor")),K.b.createElement("dd",{className:"se-material-detail-description"},i),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:movie_release")),K.b.createElement("dd",{className:"se-material-detail-description"},a)))),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=Object(J.a)(this.props.item,"thumbnail.src","");if(!1===this.state.noImage)return K.b.createElement(mb.b,{className:"se-sidebar-material-thumbnail-resource",src:t,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._resolveThumbnailClassName=function(){return et()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return ao.a.restoreSpecialChar(this.props.item.title)},o._resolveDirector=function(){var e=Object(J.a)(this.props.item,"detailInfo[0].values",[]);return this._detailInfoToString(e)},o._resolveActors=function(){var e=Object(J.a)(this.props.item,"detailInfo[1].values",[]);return this._detailInfoToString(e)},o._resolveRelease=function(){var e=Object(J.a)(this.props.item,"detailInfo[2].values",[]);return this._detailReleaseToString(e)},o._detailReleaseToString=function(e){var t=this.props.i18n;return 0===e.length?t("materialComponent:movie_not_open"):e.map(function(e,o){return o?t("materialComponent:release_again",{date:e.value}):e.value}).join(" / ")},o._detailInfoToString=function(e){return ao.a.restoreSpecialChar(Object(io.a)(e,function(e){return e.value}).join(", "))},t}(K.b.Component),q()(fS.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(fS.prototype,"_handleThumbnailLoad"),fS.prototype),q()(fS.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(fS.prototype,"_handleThumbnailError"),fS.prototype),fS);yS.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[{},{},{}],isBigSizeImage:!1}},yS.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var bS,_S=Object(Z.b)(yS),vS=_S;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/movie-material-item.jsx",localName:t}})}catch(e){}}e(yS,"MovieMaterialItem"),e(_S,"default")}();var CS=(bS=function(e){function t(){var t;return(t=e.call(this)||this).state={noImage:!1},t}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.i18n,t=e("materialComponent:not_registerd"),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveDirector()||t,i=this._resolveActors()||t,a=this._resolveRelease()||t,s=this._resolveThumbnailClassName();return K.b.createElement(Ry.a,{ctype:"material",className:"se-material-broadcast"},K.b.createElement("div",{className:s},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:producer")),K.b.createElement("dd",{className:"se-material-detail-description"},r),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:actor")),K.b.createElement("dd",{className:"se-material-detail-description"},i),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:tv_release")),K.b.createElement("dd",{className:"se-material-detail-description"},a)))),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=Object(J.a)(this.props.item,"thumbnail.src","");if(!1===this.state.noImage)return K.b.createElement(mb.b,{className:"se-sidebar-material-thumbnail-resource",src:t,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._resolveThumbnailClassName=function(){return et()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return ao.a.restoreSpecialChar(this.props.item.title)},o._resolveDirector=function(){var e=Object(J.a)(this.props.item,"detailInfo[0].values",[]);return this._detailInfoToString(e)},o._resolveActors=function(){var e=Object(J.a)(this.props.item,"detailInfo[1].values",[]);return this._detailInfoToString(e)},o._resolveRelease=function(){var e=Object(J.a)(this.props.item,"detailInfo[2].values",[]);return this._detailInfoToString(e)},o._detailInfoToString=function(e){return ao.a.restoreSpecialChar(Object(io.a)(e,function(e){return e.value}).join(", "))},t}(K.b.Component),q()(bS.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(bS.prototype,"_handleThumbnailLoad"),bS.prototype),q()(bS.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(bS.prototype,"_handleThumbnailError"),bS.prototype),bS);CS.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[{},{},{}],isBigSizeImage:!1}},CS.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var SS,OS=Object(Z.b)(CS),kS=OS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/tv-material-item.jsx",localName:t}})}catch(e){}}e(CS,"TVMaterialItem"),e(OS,"default")}();var IS=(SS=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={noImage:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.i18n,t=e("materialComponent:not_registerd"),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveArtist()||t,i=this._resolveRelease(),a=this._resolveThumbnailClassName();return K.b.createElement(Ry.a,{ctype:"material",className:"se-material-music"},K.b.createElement("div",{className:a},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:artist")),K.b.createElement("dd",{className:"se-material-detail-description"},r),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:music_release")),K.b.createElement("dd",{className:"se-material-detail-description"},i)))),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=Object(J.a)(this.props.item,"thumbnail.src","");if(!1===this.state.noImage)return K.b.createElement(mb.b,{className:"se-sidebar-material-thumbnail-resource",src:t,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._resolveThumbnailClassName=function(){return et()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return ao.a.restoreSpecialChar(this.props.item.title)},o._resolveArtist=function(){var e=Object(J.a)(this.props.item,"detailInfo[0].values",[]);return this._detailInfoToString(e)},o._resolveRelease=function(){var e=Object(J.a)(this.props.item,"detailInfo[1].values",[]);return this._detailInfoToString(e)},o._detailInfoToString=function(e){return ao.a.restoreSpecialChar(Object(io.a)(e,function(e){return e.value}).join(", "))},t}(K.b.Component),q()(SS.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(SS.prototype,"_handleThumbnailLoad"),SS.prototype),q()(SS.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(SS.prototype,"_handleThumbnailError"),SS.prototype),SS);IS.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[{},{}],isBigSizeImage:!1}},IS.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var wS,PS=Object(Z.b)(IS),jS=PS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/music-material-item.jsx",localName:t}})}catch(e){}}e(IS,"MusicMaterialItem"),e(PS,"default")}();var TS=["1","2"],LS=(wS=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={noImage:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=this._renderThumbnailImage(),t=this._resolveTitle(),o=this._renderDetailInfo(),n=this._resolveThumbnailClassName();return K.b.createElement(Ry.a,{ctype:"material",className:"se-material-shopping"},K.b.createElement("div",{className:n},e,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},t),o)),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=Object(J.a)(this.props.item,"thumbnail.src","");if(!1===this.state.noImage)return K.b.createElement(mb.b,{className:"se-sidebar-material-thumbnail-resource",src:t,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._resolveThumbnailClassName=function(){return et()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return ao.a.restoreSpecialChar(this.props.item.title)},o._renderDetailInfo=function(){var e="",t=this.props.i18n,o=this._getDetailInfoData("price"),n=this._getDetailInfoData("mallNameOrg"),r=this._renderPrice(o),i=this._renderCheapistPrice(o);if(!0===this._isCompareProduct())e=K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},t("materialComponent:price")),K.b.createElement("dd",{className:"se-material-detail-description se-material-detail-shopping-price"},t("materialComponent:price_compare")," ",i));else if(!0===this._hasMallName()){var a=this._renderNaverPayIcon();e=K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},t("materialComponent:mall_name")),K.b.createElement("dd",{className:"se-material-detail-description se-material-detail-shopping-shop"},n,a),K.b.createElement("dt",{className:"se-material-detail-title"},t("materialComponent:price")),K.b.createElement("dd",{className:"se-material-detail-description se-material-detail-shopping-price"},r))}return e},o._renderNaverPayIcon=function(){var e=this.props.i18n,t=this._getDetailInfoData("nPayMblType"),o=this._getDetailInfoData("nPayPcType"),n=!1,r="se-material-npay",i=e("materialComponent:avaiable_npay");return u.U.get("configAgent").isMobile()?TS.includes(t)&&(n=!0,"2"===t&&(r="se-material-npay se-material-npay-plus",i=e("materialComponent:avaiable_npay_plus"))):TS.includes(o)&&(n=!0,"2"===o&&(r="se-material-npay se-material-npay-plus",i=e("materialComponent:avaiable_npay_plus"))),n?K.b.createElement("em",{className:r},K.b.createElement("span",{className:"se-blind"},i)):null},o._renderCheapistPrice=function(e){return this.props.i18n("materialComponent:cheapist_price",{price:ao.a.formatWithComma(e)})},o._renderPrice=function(e){return this.props.i18n("materialComponent:print_price",{price:ao.a.formatWithComma(e)})},o._isCompareProduct=function(){var e=parseInt(this._getDetailInfoData("type"),10);return Object(Eo.a)([1,4],e)},o._getDetailInfoData=function(e){var t=this.props.item.detailInfo;return Object(J.a)(Object(Pa.a)(t,{labelName:e}),"values[0].value","")},o._hasMallName=function(){return!!this._getDetailInfoData("mallNameOrg")},o._isAvailableNPay=function(){return"1"===this._getDetailInfoData("nPayMblType")},t}(K.b.Component),q()(wS.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(wS.prototype,"_handleThumbnailLoad"),wS.prototype),q()(wS.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(wS.prototype,"_handleThumbnailError"),wS.prototype),wS);LS.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[],isBigSizeImage:!1}},LS.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var ES=Object(Z.b)(LS),NS=ES;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/shopping-material-item.jsx",localName:t}})}catch(e){}}e("1","NAVER_PAY_TYPE"),e("2","NAVER_PAY_PLUS_TYPE"),e(TS,"AVAILABLE_NAVER_PAY"),e(LS,"ShoppingMaterialItem"),e(ES,"default")}();var xS,DS=o(425),RS={W480:"w480",FF500_300:"ff500_300"},AS={THUMBNAIL_TYPE:RS};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/consts/index.js",localName:t}})}catch(e){}}e(RS,"THUMBNAIL_TYPE"),e(AS,"default")}();var US=(xS=function(e){function t(){var t;return(t=e.call(this)||this).state={src:null,noImage:!1},t}h()(t,e),t.getDerivedStateFromProps=function(e,t){var o={src:(e.item.thumbnail||{}).src||null,noImage:t.noImage};return o.src?o.src!==t.src&&(o.noImage=!1):o.noImage=!0,o};var o=t.prototype;return o.render=function(){var e=this.props.i18n,t=e("materialComponent:not_registerd"),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveNewsSummary()||t,i=this._resolveSource()||t,a=this._resolveWrapperClassName(),s=this._resolveThumbnailClassName();return K.b.createElement(Ry.a,{ctype:"material",className:a},K.b.createElement("div",{className:s},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:news_summary")),K.b.createElement("dd",{className:"se-material-detail-description"},r),K.b.createElement("dt",{className:"se-material-detail-title"},e("materialComponent:office_name")),K.b.createElement("dd",{className:"se-material-detail-description"},i)))),K.b.createElement("div",{className:"se-material-frame"}))},o._resolveWrapperClassName=function(){var e=this.props.item.isBigSizeImage;return et()({"se-material-news":!1===e,"se-material-news-bSize":!0===e})},o._renderThumbnailImage=function(){if(!this.state.noImage){var e=this.props.item.thumbnail,t={src:Object(J.a)(e,"src",""),type:RS.FF500_300,className:"se-sidebar-material-thumbnail-resource",title:this._resolveTitle(),onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError};return K.b.createElement(DS.a,t)}},o._resolveThumbnailClassName=function(){return et()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage})},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},o._resolveTitle=function(){return ao.a.restoreSpecialChar(this.props.item.title)},o._resolveNewsSummary=function(){var e=Object(J.a)(this.props.item,"detailInfo[0].values",[]);return this._detailInfoToString(e)},o._resolveSource=function(){var e=Object(J.a)(this.props.item,"detailInfo[1].values",[]);return this._detailInfoToString(e)},o._detailInfoToString=function(e){return ao.a.restoreSpecialChar(Object(io.a)(e,function(e){return e.value}).join(", "))},t}(K.b.Component),q()(xS.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(xS.prototype,"_handleThumbnailLoad"),xS.prototype),q()(xS.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(xS.prototype,"_handleThumbnailError"),xS.prototype),xS);US.defaultProps={i18n:function(e){return e},onCompleteImage:function(){},item:{title:"",thumbnail:{},detailInfo:[{},{}],isBigSizeImage:!1}},US.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({id:K.a.string.isRequired,title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var MS,BS=Object(Z.b)(US),FS=BS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/news-material-item.jsx",localName:t}})}catch(e){}}e(US,"NewsMaterialItem"),e(BS,"default")}();var zS=(MS=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={noImage:!1},o}h()(t,e);var o=t.prototype;return o.render=function(){var e=(0,this.props.i18n)("materialComponent:not_registerd"),t=et()({"se-material-thumbnail":!0,"se-material-thumbnail-no-image":!0===this.state.noImage}),o=this._renderThumbnailImage(),n=this._resolveTitle(),r=this._resolveGenre()||e,i=this._resolveLocation()||e,a=this._resolvePeriod()||e;return K.b.createElement(Ry.a,{ctype:"material",className:"se-material-show"},K.b.createElement("div",{className:t},o,K.b.createElement("div",{className:"se-material-thumbnail-frame"})),K.b.createElement("div",{className:"se-material-info"},K.b.createElement("div",{className:"se-material-info-container"},K.b.createElement("strong",{className:"se-material-title"},n),K.b.createElement("dl",{className:"se-material-detail"},this._renderDetails("show_genre",r),this._renderDetails("show_location",i),this._renderDetails("show_period",a)))),K.b.createElement("div",{className:"se-material-frame"}))},o._renderThumbnailImage=function(){var e=this._resolveTitle(),t=this.props.item,o=Object(J.a)(t,"thumbnail.src",""),n=so.a.makeDthumbHttpsUrl(o);if(!1===this.state.noImage)return K.b.createElement(mb.b,{className:"se-sidebar-material-thumbnail-resource",src:n,alt:e,onLoad:this._handleThumbnailLoad,onError:this._handleThumbnailError})},o._renderDetails=function(e,t){var o=this.props.i18n;return K.b.createElement(K.b.Fragment,null,K.b.createElement("dt",{className:"se-material-detail-title"},o("materialComponent:"+e)),K.b.createElement("dd",{className:"se-material-detail-description"},t))},o._resolveTitle=function(){return this.props.item.title},o._resolveGenre=function(){var e=this.props.item;return Object(J.a)(e,"detailInfo[0].values[0].value","")},o._resolveLocation=function(){var e=this.props.item;return Object(J.a)(e,"detailInfo[1].values[0].value","")},o._resolvePeriod=function(){var e=this.props.item;return Object(J.a)(e,"detailInfo[2].values[0].value","")},o._handleThumbnailLoad=function(){this.props.onCompleteImage()},o._handleThumbnailError=function(){this.setState({noImage:!0}),this.props.onCompleteImage()},t}(K.b.Component),q()(MS.prototype,"_handleThumbnailLoad",[ee.autobind],Object.getOwnPropertyDescriptor(MS.prototype,"_handleThumbnailLoad"),MS.prototype),q()(MS.prototype,"_handleThumbnailError",[ee.autobind],Object.getOwnPropertyDescriptor(MS.prototype,"_handleThumbnailError"),MS.prototype),MS);zS.defaultProps={i18n:function(e){return e},onCompleteImage:function(){}},zS.propTypes={i18n:K.a.func,onCompleteImage:K.a.func,item:K.a.shape({title:K.a.string,thumbnail:K.a.object,detailInfo:K.a.oneOfType([K.a.array,K.a.object]),isBigSizeImage:K.a.bool})};var WS=Object(Z.b)(zS),VS=WS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/show-material-item.jsx",localName:t}})}catch(e){}}e(zS,"ShowMaterialItem"),e(WS,"default")}();var GS={book:gS,movie:vS,broadcast:kS,music:jS,shopping:NS,news:FS,show:VS},HS=GS;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/view/items/index.js",localName:t}})}catch(e){}}(GS,"default")}();var qS=u.q.extend({name:"MaterialComponent",view:m_(function(){return o.e(56).then(o.bind(null,1252))},{subComponents:{materialItemMap:HS}}),useCase:iS.a,store:aS.a,toolbar:dS}),JS=qS,KS=JS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/index.js",localName:t}})}catch(e){}}e(qS,"MaterialComponent"),e(JS,"default")}();var YS=o(431),XS=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.U.get("componentFactory"),t._componentListStore=u.U.get("componentListStore"),t._selectionInfoStore=u.U.get("selectionInfoStore"),t._virtualEditable=u.U.get("virtualEditable"),t}h()(t,e);var o=t.prototype;return o.getSelectedComponents=function(){var e=this._selectionInfoStore.toValidJSON();return this._componentListStore.getSelectedComponents(e)},o._replace=function(e,t,o){void 0===o&&(o=[]);var n=this._componentListStore,r=[].concat(o),i=n.getComponentById(e),a=n.getComponentById(t);n.replaceBetween(i,a,r)},o.getSelectedWrappedSection=function(){return Object(mo.a)(this.getSelectedComponents()).wrappedSection},o.composeWrappingComponent=function(e){var t,o=this._selectionInfoStore.toValidJSON(),n=this._componentListStore.getComponentById(o.start.compId),r=this._componentListStore.getNextComponent(n),i=n.toValidJSON();r&&"text"===r.ctype?t=r.id:((r=this._componentFactory.createComponentByCtype("text")).updateStyle({align:n.align},r.getCompStartRange()),this._componentListStore.inheritTextStyle(n,r),t=n.id);var a=r.getText().toValidJSON(),s=this._componentFactory.createComponentWithCompData({ctype:"wrappingParagraph",layout:e,wrappedSection:i,text:a});this._replace(n.id,t,s);var c=s.getTextStartRange();this._selectionInfoStore.setRange(c)},o.decomposeWrappingComponent=function(){var e=this;this.getSelectedComponents().forEach(function(t){if("wrappingParagraph"===t.ctype){var o=t.decomposeWrapped(),n=e._getRangeAfterDecompose(t);e._replace(t.id,t.id,o),e._selectionInfoStore.setRange(n);var r=e._selectionInfoStore.toValidJSON();e._componentListStore.refineComponentList(r)}})},o._getRangeAfterDecompose=function(e){var t=e.findSelectedSlot();if("text"===t.attributes.insertion){var o=this._selectionInfoStore.toValidJSON();return{start:Object.assign(o.start,{compId:t.id}),end:Object.assign(o.end,{compId:t.id})}}return t.getComponentActiveRange()},o.changeWrappingLayout=function(e){var t=this._selectionInfoStore.toValidJSON();this.getSelectedComponents().forEach(function(o){"wrappingParagraph"===o.ctype&&o.updateProperty({layout:e},t)}),this._virtualEditable.refresh()},o.isStartFromFirstParagraph=function(){var e=this._selectionInfoStore.toValidJSON().start;return this._componentListStore.getComponentById(e.compId).isFirstParagraph(e)},o.isSelectingWrappedSection=function(){var e=this._selectionInfoStore.toValidJSON();return this._componentListStore.getComponentById(e.start.compId).isSelectingWrappedSection()},t}(u.a),QS=XS,ZS=QS;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/service/index.js",localName:t}})}catch(e){}}e(XS,"WrappingParagraphComponentService"),e(QS,"default")}();var $S,eO,tO,oO,nO,rO,iO,aO=o(285),sO=o(725),cO=o(707),lO=o(709),uO=o(710),pO=o(708),dO=o(711),hO=o(717),fO=o(718),mO=o(716),gO=o(712),yO=o(713),bO=o(120),_O=($S=Object(ee.history)({sync:!1}),eO=Object(ee.history)({sync:!1}),tO=Object(ee.history)({sync:!1}),oO=Object(ee.history)({sync:!1}),nO=Object(ee.history)({sync:!1}),rO=function(e){function t(){var t;return(t=e.call(this)||this)._imageBehavior=u.U.get("imageBehavior"),t._imageComponentService=u.U.get("imageComponentService"),t._imageUploadService=u.U.get("imageUploadService"),t._imageEditService=u.U.get("imageEditService"),t._wrappingParagraphComponentService=u.U.get("wrappingParagraphComponentService"),t._propertyChangeService=u.U.get("propertyChangeService"),t._editingService=u.U.get("editingService"),t._canvasLayoutService=u.U.get("canvasLayoutService"),t}h()(t,e);var o=t.prototype;return o.changeImage=function(){var e=Zt()(Xt.a.mark(function e(){var t,o,n,r=this;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._wrappingParagraphComponentService.getSelectedWrappedSection(),e.next=3,this._imageUploadService.openFileDialog();case 3:return o=e.sent,n=t.toPlainJSON(),e.abrupt("return",this._imageBehavior.changeImage({targetStore:t,selectedImages:o},{onEachUpload:bO.a}).then(function(e){var o=e.succeededImages;return 0===o.length?r._imageComponentService.changeImageByState(t,n):r._imageComponentService.changeImage(t,o[0].response),e}));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._openPhotoEditor=function(){var e=Zt()(Xt.a.mark(function e(t,o){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=t||this._imageComponentService.getFirstSelectedImageComp().id,e.next=3,this._imageEditService.editImage({activeCompId:t,direct:o});case 3:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.editImage=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.adjustImage=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor(t,"adjust");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.cropImage=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor(t,"crop");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.filterImage=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor(t,"filter");case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.changeSize=function(e){this._propertyChangeService.changeSize(e),this._wrappingParagraphComponentService.decomposeWrappingComponent()},o.changeQuotationLayout=function(e){var t=e.value;this._propertyChangeService.updateProperty({wrappedSection:{layout:t}})},o.changeWrappingLayout=function(e){var t=e.value;this._wrappingParagraphComponentService.changeWrappingLayout(t)},o.changeTextFormat=function(e){var t=e.value,o="text"===t,n=this._wrappingParagraphComponentService.isSelectingWrappedSection();!o||n?((this._wrappingParagraphComponentService.isStartFromFirstParagraph()||n)&&this._wrappingParagraphComponentService.decomposeWrappingComponent(),this._propertyChangeService.changeTextFormat(t)):this._canvasLayoutService.refreshVirtualEditable()},o.erase=function(){this._editingService.erase()},t}(u.m),q()(rO.prototype,"changeImage",[ee.sentryCatch,$S,K.d],Object.getOwnPropertyDescriptor(rO.prototype,"changeImage"),rO.prototype),q()(rO.prototype,"editImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,eO,K.d],Object.getOwnPropertyDescriptor(rO.prototype,"editImage"),rO.prototype),q()(rO.prototype,"adjustImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,tO,K.d],Object.getOwnPropertyDescriptor(rO.prototype,"adjustImage"),rO.prototype),q()(rO.prototype,"cropImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,oO,K.d],Object.getOwnPropertyDescriptor(rO.prototype,"cropImage"),rO.prototype),q()(rO.prototype,"filterImage",[ee.sentryCatch,ee.preventOnDocumentProcessing,nO,K.d],Object.getOwnPropertyDescriptor(rO.prototype,"filterImage"),rO.prototype),q()(rO.prototype,"changeSize",[ee.history,K.d],Object.getOwnPropertyDescriptor(rO.prototype,"changeSize"),rO.prototype),q()(rO.prototype,"changeQuotationLayout",[ee.history,K.d],Object.getOwnPropertyDescriptor(rO.prototype,"changeQuotationLayout"),rO.prototype),q()(rO.prototype,"changeWrappingLayout",[ee.history,K.d],Object.getOwnPropertyDescriptor(rO.prototype,"changeWrappingLayout"),rO.prototype),q()(rO.prototype,"changeTextFormat",[ee.history,K.d],Object.getOwnPropertyDescriptor(rO.prototype,"changeTextFormat"),rO.prototype),q()(rO.prototype,"erase",[ee.history,K.d],Object.getOwnPropertyDescriptor(rO.prototype,"erase"),rO.prototype),rO);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/buttons/use-case/wrapping-paragraph-button-use-case.js",localName:t}})}catch(e){}}(_O,"WrappingParagraphButtonUseCase")}();var vO=(iO=function(e){function t(){var t;return(t=e.call(this)||this)._propertyChangeService=u.U.get("propertyChangeService"),t._wrappingParagraphComponentService=u.U.get("wrappingParagraphComponentService"),t}h()(t,e);var o=t.prototype;return o.changeWrappingLayout=function(){this._wrappingParagraphComponentService.decomposeWrappingComponent()},o.changeContentMode=function(e){var t=e.value;this._propertyChangeService.updateProperty({wrappedSection:{contentMode:t}}),this._wrappingParagraphComponentService.decomposeWrappingComponent()},t}(u.m),q()(iO.prototype,"changeWrappingLayout",[ee.history,K.d],Object.getOwnPropertyDescriptor(iO.prototype,"changeWrappingLayout"),iO.prototype),q()(iO.prototype,"changeContentMode",[ee.history,K.d],Object.getOwnPropertyDescriptor(iO.prototype,"changeContentMode"),iO.prototype),iO);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/buttons/use-case/decompose-wrapping-paragraph-button-use-case.js",localName:t}})}catch(e){}}(vO,"DecomposeWrappingParagraphButtonUseCase")}();var CO=o(724),SO={"image-edit-right-label":{view:cg.a,useCase:_O,styleName:"image-edit"},"image-edit":{view:fy.a,useCase:_O,styleName:"image-edit"},"image-adjust":{view:my.a,useCase:_O,styleName:"image-adjust"},"image-crop":{view:gy.a,useCase:_O,styleName:"image-crop"},"image-filter":{view:yy.a,useCase:_O,styleName:"image-filter"},"image-replacement-right-label":{view:lg.a,useCase:_O,styleName:"image-replacement"},"image-resizing":{view:sO.a,useCase:_O,propertyName:"size",styleName:"resizing"},"content-mode":{view:cO.a,useCase:vO,styleName:"object-arrangement"},"content-mode-group-fit-and-extend":{view:uO.a,useCase:vO,styleName:"object-arrangement"},"content-mode-group-without-pagefull":{view:lO.a,useCase:vO,styleName:"object-arrangement"},"content-mode-without-default":{view:pO.a,useCase:vO,styleName:"object-arrangement"},"content-mode-only-justify":{view:dO.a,useCase:vO,styleName:"object-arrangement-fit"},"wrapping-layout-drop-down":{view:hO.a,useCase:_O,propertyName:"wrappingLayout",styleName:"text-arrangement"},"wrapping-layout-group":{view:fO.a,useCase:_O,propertyName:"wrappingLayout",styleName:"text-arrangement"},"text-format":{view:mO.a,useCase:_O,propertyName:"textFormat",styleName:"text-format"},delete:{view:gO.a,useCase:_O,styleName:"delete"},"quotation-layout":{view:yO.a,useCase:_O,propertyName:"layout",styleName:"quotation"},"to-quotation":{view:CO.a,useCase:_O,styleName:"to-quotation"}},OO=SO,kO=OO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(SO,"buttons"),e(OO,"default")}();var IO={propertyToolbar:{"image-replacement-right-label":kO["image-replacement-right-label"],"image-edit-right-label":kO["image-edit-right-label"],"image-edit":kO["image-edit"],"image-resizing":kO["image-resizing"],align:Object(Ot.a)("align-group"),"align-drop-down-with-justify":Object(Ot.a)("align-drop-down-with-justify"),list:Object(Ot.a)("list"),"content-mode":kO["content-mode"],"content-mode-fit-and-extend":kO["content-mode-group-fit-and-extend"],"content-mode-without-pagefull":kO["content-mode-group-without-pagefull"],"wrapping-layout":kO["wrapping-layout-drop-down"],"image-link":Object(Ot.a)("image-link"),"text-format":kO["text-format"],"font-size":Object(Ot.a)("font-size"),bold:Object(Ot.a)("bold"),italic:Object(Ot.a)("italic"),underline:Object(Ot.a)("underline"),"font-color":Object(Ot.a)("font-color"),"quotation-layout":kO["quotation-layout"],"content-mode-only-justify":kO["content-mode-only-justify"],"line-height":Object(Ot.a)("line-height"),"special-letter":Object(Ot.a)("special-letter"),"font-family":Object(Ot.a)("font-family"),strikethrough:Object(Ot.a)("strikethrough"),"background-color":Object(Ot.a)("background-color"),"drop-cap":Object(Ot.a)("drop-cap"),superscript:Object(Ot.a)("superscript"),subscript:Object(Ot.a)("subscript"),"text-link":Object(Ot.a)("text-link"),speller:Object(Ot.a)("speller"),"separator-bar":Object(Ot.a)("separator-bar"),"translation-right-label":Object(Ot.a)("translation-right-label")},contextToolbar:{"image-edit":kO["image-edit"],"wrapping-layout-group":kO["wrapping-layout-group"],"quotation-layout":Object(Ot.a)("quotation-layout"),"caption-bold":Object(Ot.a)("caption-bold"),"special-letter":Object(Ot.a)("special-letter"),"caption-link":Object(Ot.a)("caption-link"),"caption-align":Object(Ot.a)("caption-align"),delete:kO.delete,"separator-bar":Object(Ot.a)("separator-bar"),translation:Object(Ot.a)("translation")},contentsToolbar:{"font-family":Object(Ot.a)("font-family"),"font-size":Object(Ot.a)("font-size"),bold:Object(Ot.a)("bold"),italic:Object(Ot.a)("italic"),"font-color":Object(Ot.a)("font-color"),"to-quotation":kO["to-quotation"],"cycle-align":Object(Ot.a)("cycle-align-with-justify"),list:Object(Ot.a)("list"),"separator-bar":Object(Ot.a)("separator-bar"),translation:Object(Ot.a)("translation")}},wO=IO;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/wrapping-paragraph-button-set-map.js",localName:t}})}catch(e){}}(IO,"default")}();var PO=o(416);function jO(e,t){var o=t.start.unitId;return e.id===o||e.hasUnit(o)}function TO(e){return Object(PO.a)(e.map(function(e){return(e.value||e.text.value).paragraphs.map(function(e){return{id:e.id,list:e.isListParagraph()}})}))}function LO(e,t){var o=Object(Ue.a)(e,function(e){return e.id===t.start.paraId}),n=Object(Ue.a)(e,function(e){return e.id===t.end.paraId});return o<n?{lowIndex:o,highIndex:n}:{lowIndex:n,highIndex:o}}function EO(e,t){var o=TO(e),n=LO(o,t),r=n.lowIndex,i=n.highIndex,a=r===i,s=!1;if(!(r<0||i<0)){for(var c=r;c<=i;c++)!0===o[c].list&&(s=!0);return s&&a||!s}}var NO=function(e){var t=e.selectedComponents,o=[],n=t.length,r=Object(zg.a)(t,function(e){return["normal","animated"].includes(e.wrappedSection.displayFormat)}),i=t.some(function(e){return"normal"===e.wrappedSection.displayFormat&&!0===e.wrappedSection.internalResource});return o.push("align"),1===n&&o.push("separator-bar","image-replacement-right-label"),i&&o.push("separator-bar","image-edit-right-label"),r?(o.push("separator-bar","content-mode-without-pagefull"),o.push("separator-bar","wrapping-layout"),o.push("separator-bar","image-link")):o.push("separator-bar","content-mode-fit-and-extend"),o},xO=function(e){var t=[];return"normal"===e.displayFormat&&e.internalResource&&t.push("image-edit","separator-bar"),t.push("wrapping-layout-group","separator-bar","delete"),t},DO=function(e){var t=e.payload,o=e.translationEnabled,n=t.selectionInfoStore,r=n.start.unitId===n.end.unitId,i="cursor"===n.mode||"block"===n.mode,a=["text-format","font-size","separator-bar","bold","italic","underline","font-color","separator-bar","quotation-layout","separator-bar","content-mode-only-justify","wrapping-layout","separator-bar","line-height","special-letter"];return o&&i&&r&&a.push("separator-bar","translation-right-label"),a.push("separator-bar","speller"),a},RO=function(){return["wrapping-layout-group","separator-bar","delete"]},AO=function(e){var t=e.translationEnabled,o=["text-format","font-family","font-size","separator-bar","bold","italic","underline","strikethrough","font-color","background-color","separator-bar","align-drop-down-with-justify","line-height","list","separator-bar"];return e.dropCapEnabled&&o.push("drop-cap"),o.push("superscript","subscript","special-letter","text-link","separator-bar"),t&&o.push("separator-bar","translation-right-label"),o.push("separator-bar","speller"),o},UO=function(e){var t=["caption-align","separator-bar","caption-bold","special-letter","caption-link"];return e&&t.push("separator-bar","translation"),t},MO={propertyToolbar:function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=t[0].wrappedSection,r=t.filter(function(e){return"wrappingParagraph"===e.ctype}),i=r.length===t.length,a=r.every(function(e){return e.checkNoWrappedCompSelected()}),s=r.every(function(e){return e.checkFocusedOnQuot(o)}),c=r.every(function(e){var t=e.translationEnabled,n=EO(r,o);return t&&i&&a&&n||t&&s}),l=r.every(function(e){return e.isAvailableForDropcap(o)});return jO(n,o)?"image"===n.ctype?NO(e):"quotation"===n.ctype?DO({payload:e,translationEnabled:c}):void 0:AO({translationEnabled:c,dropCapEnabled:l})},contextToolbar:function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=t[0].wrappedSection,r=1===t.length,i=t.every(function(e){return e.translationEnabled});return r&&jO(n,o)?"image"===n.ctype?n.isCaptionFocused()?UO(i):xO(n):"quotation"===n.ctype?["wrapping-layout-group","separator-bar","delete"]:void 0:[]},contentsToolbar:function(e){var t=e.selectionInfoStore,o=e.selectedComponents,n=o[0].wrappedSection,r=o.filter(function(e){return"wrappingParagraph"===e.ctype}),i=!1===jO(n,t),a=r.length===o.length,s=r.every(function(e){return e.checkNoWrappedCompSelected(t)}),c=r.every(function(e){var o=e.translationEnabled,n=EO(r,t);return o&&a&&s&&n});if(i&&a){var l=["font-family","separator-bar","font-size","separator-bar","bold","italic","separator-bar","font-color","separator-bar","to-quotation","separator-bar","cycle-align","list"];return c&&l.push("separator-bar","translation"),l}return[]}},BO=MO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/wrapping-paragraph-button-resolver.js",localName:t}})}catch(e){}}e(jO,"isSelectingWrappedSection"),e(TO,"getParaMap"),e(LO,"getIndexOfSelectionInMap"),e(EO,"checkNoMultiList"),e(NO,"imagePropertyToolbarButtonResolver"),e(xO,"imageContextToolbarButtonResolver"),e(DO,"quotationPropertyToolbarButtonResolver"),e(RO,"quotationContextToolbarButtonResolver"),e(AO,"textPropertyToolbarButtonResolver"),e(UO,"captionContextToolbarButtonResolver"),e(MO,"default")}();var FO=function(e){function t(){return e.call(this,{buttonSetMap:wO,buttonResolver:BO})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/toolbar/index.js",localName:t}})}catch(e){}}(FO,"WrappingParagraphComponentToolbar")}();var zO=u.q.extend({name:"WrappingParagraphComponent",view:m_(function(){return o.e(59).then(o.bind(null,1255))}),useCase:YS.a,service:ZS,store:aO.a,toolbar:FO}),WO=zO,VO=WO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/index.js",localName:t}})}catch(e){}}e(zO,"WrappingParagraphComponent"),e(WO,"default")}();var GO=o(434),HO=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.updateCodeContents=function(e,t){this.getComponentStore(e).updateCodeContents(t)},t}(u.a),qO=HO,JO=qO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/service/index.js",localName:t}})}catch(e){}}e(HO,"CodeComponentService"),e(qO,"default")}();var KO,YO,XO=o(462),QO=(KO=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"codeLayout:title":n,i=e.label,a=void 0===i?"codeLayout:label":i,s=e.groups,c=void 0===s?[{value:"default",title:"codeLayout:default_title",label:"codeLayout:default_label",logId:"scskin1"},{value:"code_stripe",title:"codeLayout:stripe_title",label:"codeLayout:stripe_label",logId:"scskin2"},{value:"code_black",title:"codeLayout:black_title",label:"codeLayout:black_label",logId:"scskin3"}]:s,l=e.value,u=void 0===l?"default":l,p=Ja()(e,["type","title","label","groups","value"]);return K.b.createElement(Yv.a,xc()({type:o,title:r,label:a,groups:c,value:u},p,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeLayout(e)},t}(K.b.Component),q()(KO.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(KO.prototype,"_handleChange"),KO.prototype),KO),ZO=QO,$O=ZO;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/buttons/view/code-layout-button-view.jsx",localName:t}})}catch(e){}}e(QO,"CodeLayoutButtonView"),e(ZO,"default")}();var ek=(YO=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.LABEL_SELECT:t,n=e.title,r=void 0===n?"codeFontSizeCode:title":n,i=e.label,a=void 0===i?"codeFontSizeCode:label":i,s=e.hasIcon,c=void 0!==s&&s,l=e.value,u=void 0===l?"fs15":l,p=e.logId,d=void 0===p?"size":p,h=e.options,f=void 0===h?{fs13:{label:"codeFontSizeCode:label_fs13",logId:"size13"},fs15:{label:"codeFontSizeCode:label_fs15",logId:"size15"},fs16:{label:"codeFontSizeCode:label_fs16",logId:"size16"}}:h,m=Ja()(e,["type","title","label","hasIcon","value","logId","options"]);return K.b.createElement(eg.a,xc()({type:o,title:r,label:a,hasIcon:c,value:u,logId:d,options:f},m,{onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeFontSize(e),this.props.onClickSelector(e)},t}(K.b.Component),q()(YO.prototype,"_handleClickOption",[ee.autobind],Object.getOwnPropertyDescriptor(YO.prototype,"_handleClickOption"),YO.prototype),YO),tk=ek,ok=tk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/buttons/view/code-font-size-button-view.jsx",localName:t}})}catch(e){}}e(ek,"CodeFontSizeButtonView"),e(tk,"default")}();var nk={"code-font-size":{view:ok,useCase:ou.a,propertyName:"fontSizeCode",styleName:"font-size-code",i18n:{ko:{codeFontSizeCode:{title:"글자 크기 변경",label:"글자 크기",label_fs16:"16",label_fs15:"15",label_fs13:"13"}},en:{codeFontSizeCode:{title:"Change Font Size",label:"Font Size",label_fs16:"16",label_fs15:"15",label_fs13:"13"}},fr:{codeFontSizeCode:{title:"Changer la taille de la police",label:"Taille de police",label_fs16:"16",label_fs15:"15",label_fs13:"13"}}}},"code-layout":{view:$O,useCase:$v.a,propertyName:"layout",styleName:"code",i18n:{ko:{codeLayout:{title:"코드 타입 변경하기",label:"코드 타입",default_title:"기본 타입",default_label:"기본 타입",stripe_title:"가로줄 배경 타입",stripe_label:"가로줄 배경 타입",black_title:"블랙 배경 타입",black_label:"블랙 배경 타입"}},en:{codeLayout:{title:"Change Code Type",label:"Code Type",default_title:"Default Type",default_label:"Default Type",stripe_title:"Horizontal Line Background Type",stripe_label:"Horizontal Line Background Type",black_title:"Black Background Type",black_label:"Black Background Type"}},fr:{codeLayout:{title:"Changer le type de code",label:"Type de code",default_title:"Type par défaut",default_label:"Type par défaut",stripe_title:"Type d'arrière-plan de ligne horizontale",stripe_label:"Type d'arrière-plan de ligne horizontale",black_title:"Type d'arrière-plan noir",black_label:"Type d'arrière-plan noir"}}}}},rk=nk;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(nk,"default")}();var ik={propertyToolbar:{"code-font-size":rk["code-font-size"],"code-layout":rk["code-layout"],"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"code-layout":rk["code-layout"],delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")}},ak=ik;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/code-button-set-map.js",localName:t}})}catch(e){}}(ik,"default")}();var sk={propertyToolbar:function(){return["code-font-size","separator-bar","code-layout"]},contextToolbar:function(){return["code-layout","separator-bar","delete"]}},ck=sk;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/code-button-resolver.js",localName:t}})}catch(e){}}(sk,"default")}();var lk=function(e){function t(){return e.call(this,{buttonSetMap:ak,buttonResolver:ck})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/toolbar/index.js",localName:t}})}catch(e){}}(lk,"AudioComponentToolbar")}();var uk=u.q.extend({name:"CodeComponent",view:m_(function(){return o.e(61).then(o.bind(null,1256))}),useCase:GO.a,service:JO,store:XO.a,toolbar:lk}),pk=uk,dk=pk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/index.js",localName:t}})}catch(e){}}e(uk,"CodeComponent"),e(pk,"default")}();var hk=o(420),fk=function(e){function t(){var t;return(t=e.call(this)||this)._selectionInfoStore=u.U.get("selectionInfoStore"),t._componentFactory=u.U.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.createComponent=function(e){return this._componentFactory.createComponentWithCompData(rt()({ctype:"chat"},e))},o.updateComponent=function(e){var t=e.compId,o=e.messages,n=e.writers,r=this.getComponentStore(t);r&&r.updateChat({messages:o,writers:n})},o.getSelectedCompStore=function(){var e=this._selectionInfoStore.start.compId;return this.getComponentStore(e)},t}(u.a),mk=fk,gk=mk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/service/index.js",localName:t}})}catch(e){}}e(fk,"ChatComponentService"),e(mk,"default")}();var yk,bk,_k=o(421),vk=(yk=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"chatEdit:title":n,i=e.label,a=void 0===i?"chatEdit:label":i,s=e.labelVisible,c=void 0===s||s,l=e.logId,u=void 0===l?"edit":l,p=Ja()(e,["type","title","label","labelVisible","logId"]);return K.b.createElement(Hb.a,xc()({type:o,title:r,label:a,logId:u,labelVisible:c},p,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editChat()},t}(K.b.Component),q()(yk.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(yk.prototype,"_handleClick"),yk.prototype),yk),Ck=vk,Sk=Ck;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/toolbar/buttons/view/chat-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(vk,"ChatEditRightLabelButtonView"),e(Ck,"default")}();var Ok=(bk=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"chatEdit:title":n,i=e.logId,a=void 0===i?"edit":i,s=Ja()(e,["type","title","logId"]);return K.b.createElement(Hb.a,xc()({},s,{type:o,title:r,logId:a,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editChat()},t}(K.b.Component),q()(bk.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(bk.prototype,"_handleClick"),bk.prototype),bk),kk=Ok,Ik=kk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/toolbar/buttons/view/chat-edit-button-view.jsx",localName:t}})}catch(e){}}e(Ok,"ChatEditButtonView"),e(kk,"default")}();var wk=o(402),Pk={"chat-edit-right-label":{view:Sk,useCase:wk.a,styleName:"chat-edit"},"chat-edit":{view:Ik,useCase:wk.a,styleName:"chat-edit"}},jk=Pk,Tk=jk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(Pk,"buttons"),e(jk,"default")}();var Lk={propertyToolbar:{align:Object(Ot.a)("align-group"),"chat-edit":Tk["chat-edit-right-label"],"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"chat-edit":Tk["chat-edit"],delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")},overlayToolbar:{"chat-edit":Tk["chat-edit"],delete:Object(Ot.a)("delete")}},Ek=Lk;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/toolbar/chat-button-set-map.js",localName:t}})}catch(e){}}(Lk,"default")}();var Nk={propertyToolbar:function(){return["align","separator-bar","chat-edit"]},contextToolbar:function(){return["chat-edit","separator-bar","delete"]},overlayToolbar:function(){return{fixedButtonSets:{top:["chat-edit","delete"]}}}},xk=Nk;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/toolbar/chat-button-resolver.js",localName:t}})}catch(e){}}(Nk,"default")}();var Dk=function(e){function t(){return e.call(this,{buttonSetMap:Ek,buttonResolver:xk})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Dk,"ChatComponentToolbar")}();var Rk=u.q.extend({name:"ChatComponent",view:m_(function(){return o.e(54).then(o.bind(null,1250))}),useCase:hk.a,service:gk,store:_k.a,toolbar:Dk}),Ak=Rk,Uk=Ak;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/index.js",localName:t}})}catch(e){}}e(Rk,"ChatComponent"),e(Ak,"default")}();var Mk=o(435),Bk=function(e){function t(){var t;return(t=e.call(this)||this)._api=u.U.get("configAgent").get("apiInfo"),t._componentListStore=u.U.get("componentListStore"),t}h()(t,e);var o=t.prototype;return o.updateComponent=function(e){this.getComponentStore(e.id).setState(e)},o.removeMapImage=function(e){this.getComponentStore(e).removeMapImage()},o.newSchedule=function(e){var t=e.compId,o=e.callback,n=this.getComponentStore(t);1===this._componentListStore.getComponentsByCtype("schedule").filter(function(e){return n.scheduleId===e.scheduleId}).length||null===n.scheduleId?this.addSchedule({compId:t,callback:o}):o.success()},o._toPlainPlacesMapJSON=function(e){return e&&e.toPlainJSON?e.toPlainJSON():e},o.addSchedule=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s,c,l,u,p,d,h,f,m;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.compId,n=t.callback,r=this._api.addSchedule,i=this.getComponentStore(o),a=i.title,s=i.content,c=i.startAt,l=i.endAt,u=i.linkUrl,p=i.dateOnly,d=i.placesMap,h=i.repetition,f=i.notification,m=this._toPlainPlacesMapJSON(d),e.next=7,Ao.a.post(r,{data:{title:a,content:s,startAt:c,endAt:l,linkUrl:u,dateOnly:p,placesMap:m,repetition:h,notification:f},options:{headers:{"Content-Type":"application/json"}},success:function(e){i.scheduleId=e.scheduleId,n.success()},error:function(){n.error()}});case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.updateSchedule=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s,c,l,u,p,d,h;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.getComponentStore(t),n=this._api.updateSchedule+"/"+o.scheduleId,r=o.title,i=o.content,a=o.startAt,s=o.endAt,c=o.linkUrl,l=o.dateOnly,u=o.placesMap,p=o.repetition,d=o.notification,h=this._toPlainPlacesMapJSON(u),e.next=6,Ao.a.put(n,{data:{title:r,content:i,startAt:a,endAt:s,linkUrl:c,dateOnly:l,placesMap:h,repetition:p,notification:d},options:{headers:{"Content-Type":"application/json"}},success:function(e){o.scheduleId=e.scheduleId}});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t}(u.a),Fk=Bk,zk=Fk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/service/index.js",localName:t}})}catch(e){}}e(Bk,"ScheduleComponentService"),e(Fk,"default")}();var Wk,Vk,Gk=o(436),Hk=(Wk=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"scheduleEdit:title":n,i=e.label,a=void 0===i?"scheduleEdit:label":i,s=e.logId,c=void 0===s?"edit":s,l=e.labelVisible,u=void 0===l||l,p=Ja()(e,["type","title","label","logId","labelVisible"]);return K.b.createElement(Hb.a,xc()({type:o,title:r,label:a,logId:c,labelVisible:u},p,{onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.editScheduleLayer(e)},t}(K.b.Component),q()(Wk.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Wk.prototype,"_handleClick"),Wk.prototype),Wk),qk=Hk,Jk=qk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/buttons/view/schedule-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(Hk,"ScheduleEditRightLabelButtonView"),e(qk,"default")}();var Kk=(Vk=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"scheduleEditWithoutLabel:title":n,i=e.logId,a=void 0===i?"edit":i,s=Ja()(e,["type","title","logId"]);return K.b.createElement(Hb.a,xc()({type:o,title:r,logId:a},s,{onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.editScheduleLayer(e)},t}(K.b.Component),q()(Vk.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Vk.prototype,"_handleClick"),Vk.prototype),Vk),Yk=Kk,Xk=Yk;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/buttons/view/schedule-edit-button-view.jsx",localName:t}})}catch(e){}}e(Kk,"ScheduleEditButtonView"),e(Yk,"default")}();var Qk=function(){function e(){this._finderService=u.U.get("finderService"),this._scheduleLayerService=u.U.get("scheduleLayerService")}return e.prototype.editScheduleLayer=function(){var e=this._finderService.getSelectedComponents()[0];e&&this._scheduleLayerService.open(e)},e}();!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/buttons/use-case/schedule-edit-button-use-case.js",localName:t}})}catch(e){}}(Qk,"ScheduleEditButtonUseCase")}();var Zk={"schedule-edit-right-label":{view:Jk,useCase:Qk,styleName:"schedule-edit"},"schedule-edit":{view:Xk,useCase:Qk,styleName:"schedule-edit"}},$k=Zk;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(Zk,"default")}();var eI={propertyToolbar:{align:Object(Ot.a)("align-group"),"schedule-edit-right-label":$k["schedule-edit-right-label"],"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"cycle-align":Object(Ot.a)("cycle-align"),"schedule-edit":$k["schedule-edit"],delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")}},tI=eI;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/schedule-button-set-map.js",localName:t}})}catch(e){}}(eI,"default")}();var oI={propertyToolbar:function(e){var t=["align"];return 1===e.selectedComponents.length&&t.push("separator-bar","schedule-edit-right-label"),t},contextToolbar:function(){return["cycle-align","separator-bar","schedule-edit","separator-bar","delete"]}},nI=oI;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/schedule-button-resolver.js",localName:t}})}catch(e){}}(oI,"default")}();var rI=function(e){function t(){return e.call(this,{buttonSetMap:tI,buttonResolver:nI})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/toolbar/index.js",localName:t}})}catch(e){}}(rI,"ScheduleComponentToolbar")}();var iI=u.q.extend({name:"ScheduleComponent",view:m_(function(){return o.e(62).then(o.bind(null,1282))}),useCase:Mk.a,service:zk,store:Gk.a,toolbar:rI}),aI=iI,sI=aI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/index.js",localName:t}})}catch(e){}}e(iI,"ScheduleComponent"),e(aI,"default")}();var cI=o(438),lI=o(439),uI=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.U.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.createFileComponent=function(e){var t={ctype:"file",fileName:e.name,fileSize:e.size};return this._componentFactory.createComponentWithCompData(t)},o.updateComponent=function(e,t){this.getComponentStore(e).updateFile(t)},o.updateProgress=function(e,t){var o=this.getComponentStore(e);if(o&&t.lengthComputable){var n=t.loaded,r=t.total;o.setState({count:Math.round(n/r*100),totalCount:100})}},t}(u.a),pI=uI,dI=pI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/service/index.js",localName:t}})}catch(e){}}e(uI,"FileComponentService"),e(pI,"default")}();var hI={propertyToolbar:{align:Object(Ot.a)("align-group"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"cycle-align":Object(Ot.a)("cycle-align"),delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")},overlayToolbar:{delete:Object(Ot.a)("delete")}},fI=hI;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/toolbar/file-button-set-map.js",localName:t}})}catch(e){}}(hI,"default")}();var mI={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["cycle-align","separator-bar","delete"]},overlayToolbar:function(){return{fixedButtonSets:{top:["delete"]}}}},gI=mI;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/toolbar/file-button-resolver.js",localName:t}})}catch(e){}}(mI,"default")}();var yI=function(e){function t(){return e.call(this,{buttonSetMap:fI,buttonResolver:gI})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/toolbar/index.js",localName:t}})}catch(e){}}(yI,"FileComponentToolbar")}();var bI=u.q.extend({name:"FileComponent",view:m_(function(){return o.e(63).then(o.bind(null,761))}),useCase:cI.a,service:dI,store:lI.a,toolbar:yI}),_I=bI,vI=_I;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/index.js",localName:t}})}catch(e){}}e(bI,"FileComponent"),e(_I,"default")}();var CI=o(452),SI=function(e){function t(){var t;return(t=e.call(this)||this)._componentListStore=u.U.get("componentListStore"),t._selectionInfoStore=u.U.get("selectionInfoStore"),t._componentFactory=u.U.get("componentFactory"),t._virtualEditable=u.U.get("virtualEditable"),t}h()(t,e);var o=t.prototype;return o.createComponent=function(){return this._componentFactory.createComponentByCtype("table")},o.mergeCells=function(){var e=this._selectionInfoStore.toValidJSON().focus,t=this._componentListStore.getComponentById(e.compId).mergeCells();this._selectionInfoStore.setRange(t),this._virtualEditable.refresh()},o.splitRowCells=function(){var e=this._selectionInfoStore.toValidJSON().focus;this._componentListStore.getComponentById(e.compId).splitRowCells(),this._virtualEditable.refresh()},o.splitColumnCells=function(){var e=this._selectionInfoStore.toValidJSON().focus;this._componentListStore.getComponentById(e.compId).splitColumnCells(),this._virtualEditable.refresh()},o.insertColumn=function(e){var t=this._selectionInfoStore.toValidJSON().focus,o=this._componentListStore.getComponentById(t.compId).insertColumnById(e);this._selectionInfoStore.setAnchorAndFocus(o),this._virtualEditable.refresh()},o.insertRow=function(e){var t=this._selectionInfoStore.toValidJSON().focus,o=this._componentListStore.getComponentById(t.compId).insertRowById(e);this._selectionInfoStore.setAnchorAndFocus(o),this._virtualEditable.refresh()},o.adjustToEqualWidth=function(){var e=this._selectionInfoStore.toValidJSON().focus;this._componentListStore.getComponentById(e.compId).adjustToEqualWidth(),this._virtualEditable.refresh()},o.selectRowByIds=function(e){var t=this._selectionInfoStore.toValidJSON().focus,o=this._componentListStore.getComponentById(t.compId).selectRowByIds(e);this._selectionInfoStore.setAnchorAndFocus(o)},o.selectColByIds=function(e){var t=this._selectionInfoStore.toValidJSON().focus,o=this._componentListStore.getComponentById(t.compId).selectColByIds(e);this._selectionInfoStore.setAnchorAndFocus(o)},o.selectAll=function(){var e=this._selectionInfoStore.toValidJSON().focus,t=this._componentListStore.getComponentById(e.compId).selectAll();this._selectionInfoStore.setAnchorAndFocus(t)},t}(u.a),OI=SI,kI=OI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/service/index.js",localName:t}})}catch(e){}}e(SI,"TableComponentService"),e(OI,"default")}();var II,wI,PI=o(294),jI=o(297),TI=(II=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.COLOR_PICKER:t,n=e.title,r=void 0===n?"cellBackgroundColor:label":n,i=e.label,a=void 0===i?"cellBackgroundColor:label":i,s=e.useCurrentColor,c=void 0!==s&&s,l=e.useColorDetailFlag,u=void 0===l||l,p=e.option,d=void 0===p?{recentColors:[]}:p,h=e.value,f=void 0===h?"":h,m=e.defaultValue,g=void 0===m?"#fff":m,y=e.logId,b=void 0===y?"cellcolor":y,_=Ja()(e,["type","title","label","useCurrentColor","useColorDetailFlag","option","value","defaultValue","logId"]);return K.b.createElement(jI.a,xc()({type:o,title:r,label:a,useCurrentColor:c,useColorDetailFlag:u,option:d,value:f,defaultValue:g,logId:b},_,{onChange:this._handleChange,recentColors:d.recentColors}))},o._handleChange=function(e){this.props.useCase.changeCellBackgroundColor(e),this.props.onClickSelector(e)},t}(K.b.Component),q()(II.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(II.prototype,"_handleChange"),II.prototype),II),LI=TI,EI=LI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/view/cell-background-color-button.jsx",localName:t}})}catch(e){}}e(TI,"CellBackgroundColorButton"),e(LI,"default")}();var NI=(wI=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"tableAlign:title":n,i=e.label,a=void 0===i?"tableAlign:label":i,s=e.groups,c=void 0===s?[{value:"left",title:"tableAlign:left_title",label:"tableAlign:left_label",logId:"cellleft"},{value:"center",title:"tableAlign:center_title",label:"tableAlign:center_label",logId:"cellcenter"},{value:"right",title:"tableAlign:right_title",label:"tableAlign:right_label",logId:"cellright"}]:s,l=e.value,u=void 0===l?"left":l,p=Ja()(e,["type","title","label","groups","value"]);return K.b.createElement(Yv.a,xc()({type:o,title:r,label:a,groups:c,value:u},p,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeTableAlign(e)},t}(K.b.Component),q()(wI.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(wI.prototype,"_handleChange"),wI.prototype),wI),xI=NI,DI=xI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/view/table-align-button.jsx",localName:t}})}catch(e){}}e(NI,"TableAlignButton"),e(xI,"default")}();var RI,AI=o(399),UI=o(124),MI=(RI=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this._mapStateFromProps(this.props))},o.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState(function(){return t._mapStateFromProps(e)})},o.render=function(){var e,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.label,a=t.isActivated,s=t.moreViewButton,c=t.i18n,l=t.title,u=t.focused,p=t.logAreaId,d=t.logId,h=t.type,f=c(i),m=et()("se-"+r+"-toolbar-"+h+"-container"),g=et()("se-"+n+"-toolbar-button",((e={})["se-"+r+"-toolbar-"+h+"-button"]=!s,e["se-"+r+"-toolbar-"+h+"-more-button"]=s,e),{"se-is-activated":a}),y=this._rangeSlideOption();return K.b.createElement("div",{className:m},K.b.createElement(UI.a,{focused:u,namespace:r,type:h,dataName:o,logAreaId:p,logId:d,className:g,i18n:c,handleClick:this._handleClickButton,ariaExpanded:""+a,ariaHasPopup:"true"},K.b.createElement("span",{className:"se-toolbar-icon"}),K.b.createElement("span",{className:"se-blind","aria-hidden":"true"},f),K.b.createElement("span",{className:"se-toolbar-tooltip"},c(l))),a&&y)},o._rangeSlideOption=function(){var e=this.props,t=e.name,o=e.label,n=(0,e.i18n)(o),r=this.state,i=r.min,a=r.max,s=r.value,c=et()("se-range-slider-option",["se-range-slider-option-"+t]),l=Number(s).toFixed(0);return K.b.createElement("div",{className:c},K.b.createElement("div",{className:"se-range-slider-area"},K.b.createElement("strong",{className:"se-range-slider-label"},n),K.b.createElement("div",{className:"se-range-slider"},K.b.createElement(lv.a,{value:Number(s),min:i,max:a,onChange:this._handleChangeSliderValue,onChangeComplete:this._handleChangeComplete})),K.b.createElement("div",{className:"se-range-slider-value"},K.b.createElement(AI.a,{className:"se-range-slider-value-input",min:i,max:a,value:Number(l),title:n,onChange:this._handleChangeInputValue,onConfirm:this._handleConfirmInputValue}),K.b.createElement("div",{className:"se-range-slider-value-unit"},"%"))))},o._mapStateFromProps=function(e){return{min:e.min,max:e.max,value:e.value}},o._handleChangeComplete=function(e){this._triggerChangeValue(e,!0)},o._handleClickButton=function(e){var t=this.props,o=t.type,n=t.label,r=t.id,i=t.name,a=t.title,s=t.action,c=t.isActivated;this.props.onClickSelector({event:e,type:o,label:n,id:r,name:i,action:s,title:a,isActivated:c})},o._handleChangeSliderValue=function(e){this.setState({value:e})},o._handleChangeInputValue=function(e){this.setState({value:e})},o._handleConfirmInputValue=function(e){this._triggerChangeValue(e)},o._triggerChangeValue=function(e,t){var o=this.props,n=o.type,r=o.label,a=o.id,s=o.name,c=o.action,l=o.isActivated,u=this._correctNumericalValue(this.state.value),p=Object(i.a)({event:e,type:n,label:r,id:a,name:s,action:c,isActivated:l,remainActive:t,value:u});this.props.onChange(p)},o._correctNumericalValue=function(e){var t=this.state,o=t.min,n=t.max;return e>n?(this.setState({value:n}),n):e<o?(this.setState({value:o}),o):e},t}(K.b.Component),q()(RI.prototype,"_handleChangeComplete",[ee.autobind],Object.getOwnPropertyDescriptor(RI.prototype,"_handleChangeComplete"),RI.prototype),q()(RI.prototype,"_handleClickButton",[ee.autobind],Object.getOwnPropertyDescriptor(RI.prototype,"_handleClickButton"),RI.prototype),q()(RI.prototype,"_handleChangeSliderValue",[ee.autobind],Object.getOwnPropertyDescriptor(RI.prototype,"_handleChangeSliderValue"),RI.prototype),q()(RI.prototype,"_handleChangeInputValue",[ee.autobind],Object.getOwnPropertyDescriptor(RI.prototype,"_handleChangeInputValue"),RI.prototype),q()(RI.prototype,"_handleConfirmInputValue",[ee.autobind],Object.getOwnPropertyDescriptor(RI.prototype,"_handleConfirmInputValue"),RI.prototype),RI);MI.defaultProps={label:"",id:"",name:"",namespace:"",title:"",value:1,isActivated:!1,focused:!1,moreViewButton:!1,onChange:function(){},onClickSelector:function(){},i18n:function(e){return e}},MI.propTypes={type:K.a.oneOf([tt.b.RANGE_SLIDER]).isRequired,id:K.a.string,name:K.a.string,namespace:K.a.string,label:K.a.string,action:K.a.string,title:K.a.string,value:K.a.number,min:K.a.number,max:K.a.number,isActivated:K.a.bool,moreViewButton:K.a.bool,focused:K.a.bool,onChange:K.a.func,onClickSelector:K.a.func,i18n:K.a.func,logAreaId:K.a.string,logId:K.a.string};var BI,FI=Object(Z.b)(MI),zI=FI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/range-slider-button.jsx",localName:t}})}catch(e){}}e(MI,"RangeSliderButton"),e(FI,"default")}();var WI=(BI=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.RANGE_SLIDER:t,n=e.title,r=void 0===n?"tableWidth:title":n,i=e.label,a=void 0===i?"tableWidth:label":i,s=e.min,c=void 0===s?10:s,l=e.max,u=void 0===l?100:l,p=e.value,d=void 0===p?100:p,h=e.logId,f=void 0===h?"tablesize":h,m=Ja()(e,["type","title","label","min","max","value","logId"]);return K.b.createElement(zI,xc()({type:o,title:r,label:a,min:c,max:u,value:d,logId:f},m,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeTableWidth(e)},t}(K.b.Component),q()(BI.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(BI.prototype,"_handleChange"),BI.prototype),BI),VI=WI,GI=VI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/view/table-width-button.jsx",localName:t}})}catch(e){}}e(WI,"TableWidthButton"),e(VI,"default")}();var HI=o(706),qI=o(400),JI=o(141),KI=o(270);function YI(e){switch(e){case tt.b.BASIC:return Hb.a;case tt.b.SEPARATOR_BAR:return HI.a;case tt.b.TOGGLE:return Vl.a;case tt.b.GROUP_TOGGLE:return Yv.a;case tt.b.LABEL_SELECT:return eg.a;case tt.b.ICON_SELECT:return qI.a;case tt.b.COLOR_PICKER:return jI.a;case tt.b.DROP_DOWN:return JI.a;case tt.b.CUSTOM_LAYER:return Ql.a;case tt.b.CYCLE_TOGGLE:return KI.a;case tt.b.RANGE_SLIDER:return zI}}var XI=function(){var e=YI(this.props.type);return K.b.createElement(e,this.props)};XI.defaultProps={},XI.propTypes={type:K.a.oneOf([tt.b.BASIC,tt.b.SEPARATOR_BAR,tt.b.TOGGLE,tt.b.GROUP_TOGGLE,tt.b.LABEL_SELECT,tt.b.ICON_SELECT,tt.b.COLOR_PICKER,tt.b.DROP_DOWN,tt.b.CUSTOM_LAYER,tt.b.CYCLE_TOGGLE,tt.b.RANGE_SLIDER]).isRequired,value:K.a.oneOfType([K.a.object,K.a.string,K.a.number,K.a.bool])};var QI=Object(Z.b)(XI),ZI=QI;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/index.jsx",localName:t}})}catch(e){}}e(YI,"getByType"),e(XI,"Button"),e(QI,"default")}();var $I,ew=o(705),tw=o(762),ow=o(268),nw=($I=function(e){function t(){var t;return(t=e.call(this)||this)._refLayer=K.b.createRef(),t._refColorPickerLayer=K.b.createRef(),t._domAccessor=u.U.get("domAccessor"),t}h()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this._mapStateFromProps(this.props)),this.setState({colorPickerReposition:!1})},o.UNSAFE_componentWillReceiveProps=function(e){this.setState(this._mapStateFromProps(e))},o.componentDidUpdate=function(){this._updateColorPickerLayerPositionState()},o.render=function(){var e=this.props,t=e.applyLabel,o=e.borderLabel,n=e.i18n,r=this._renderBorderStyle(),i=this._renderColorPicker();return K.b.createElement(ow.a,{forwardRef:this._refLayer,className:"se-custom-layer-option se-custom-layer-option-table-border"},K.b.createElement("strong",{className:"se-table-border-option-title"},n(o)),K.b.createElement("div",{className:"se-table-border-option"},r,i),K.b.createElement("div",{className:"se-table-border-option-button-container"},K.b.createElement("button",{type:"button","data-role":"confirm",className:"se-table-border-option-apply-button",onClick:this._handleConfirm},K.b.createElement("span",{className:"se-table-border-option-apply-label"},n(t)))))},o._updateColorPickerLayerPositionState=function(){var e=this._domAccessor.getCanvas().getBoundingClientRect().right,t=this._refColorPickerLayer.current._refLayer.current.getBoundingClientRect().right>e;if(!t)return null;this.setState({colorPickerRepositioned:t})},o._renderColorPicker=function(){var e=this.props,t=e.namespace,o=e.name,n=e.i18n,r=e.useColorDetailFlag,i=this.state,a=i.value,s=i.recentColors,c=i.openColorPicker,l=i.logAreaId,u=et()({"se-table-border-color-option":!0,"se-is-activated":c}),p=et()({"se-color-picker-option-reposition":this.state.colorPickerRepositioned}),d={backgroundColor:a.color},h=l+".cellbrcolor";return K.b.createElement("div",{className:u},K.b.createElement(Bc.a,{type:"button","data-group":t+"Toolbar","data-name":o,className:"se-table-border-color-button",onClick:this._handleClickColorPicker,"data-log":h,style:d,"aria-expanded":c,"aria-haspopup":"true"},K.b.createElement("span",{className:"se-blind"},a.color)),K.b.createElement(tw.a,{color:a.color,className:p,ref:this._refColorPickerLayer,useDetail:r,recentColors:s,onChangeColor:this._handleChangeColor,i18n:n}))},o._renderBorderStyle=function(){var e=this.props,t=e.namespace,o=e.name,n=e.options,r=e.i18n,i=this.state,a=i.value,s=i.openOptionLayer,c=a.borderStyle,l=et()(["se-"+o+"-option",{"se-is-activated":s}]),u=et()(["se-"+o+"-button","se-"+o+"-"+c+"-button"]),p=n[c],d=p?r(p.label):"",h=this._renderOptionList();return K.b.createElement("div",{className:l},K.b.createElement(Bc.a,{type:"button","data-group":t+"Toolbar","data-name":o,className:u,onClick:this._handleClickStyleOption,"aria-expanded":s,"aria-haspopup":"true"},K.b.createElement("span",{className:"se-table-border-style-option-label"},d)),K.b.createElement("ul",{className:"se-table-border-style-option-list",role:"listbox"},h))},o._renderOptionList=function(){var e=this,t=this.props,o=t.options,n=t.name,r=t.namespace,i=t.i18n,a=t.logAreaId,s=this.state.borderStyle;return Object.keys(o).map(function(t,c){var l=t+"_"+c;return K.b.createElement(ew.a,{optionId:t,options:o,optionType:tt.c.TEXT,name:n,namespace:r,value:s,key:l,logAreaId:a,i18n:i,onClickOptionList:e._handleChangeBorder})})},o._isRepositionedLayer=function(){return!!this._refLayer.current.style.length},o._handleClickStyleOption=function(){this.setState(function(e){return{openOptionLayer:!e.openOptionLayer}}),this._isRepositionedLayer()&&this.setState({openColorPicker:!1})},o._handleClickColorPicker=function(){this.setState(function(e){return{openColorPicker:!e.openColorPicker}}),this._isRepositionedLayer()&&this.setState({openOptionLayer:!1})},o._handleChangeColor=function(e){var t=this.props.recentColors,o=t.indexOf(e.value);o>-1&&t.splice(o,1),t.unshift(e.value),t.length>this._RECENT_COLOR_LENGTH&&t.pop();var n={color:e.value,borderStyle:this.state.value.borderStyle};this.setState({value:n,openColorPicker:!1}),this.props.onConfirm({event:e.event,recentColors:t,value:n,remainActive:!0})},o._handleChangeBorder=function(e){var t=e.currentTarget.getAttribute("data-value"),o={color:this.state.value.color,borderStyle:t};this.setState({value:o,openOptionLayer:!1}),this.props.onConfirm({event:e,value:o,remainActive:!0}),e.preventDefault()},o._handleConfirm=function(){this.props.onClose()},o._mapStateFromProps=function(e){return{openOptionLayer:e.openOptionLayer,openColorPicker:e.openColorPicker,value:{color:e.value.color||e.defaultValue.color,borderStyle:e.value.style||e.defaultValue.style},recentColors:e.recentColors}},t}(K.b.Component),q()($I.prototype,"_handleClickStyleOption",[ee.autobind],Object.getOwnPropertyDescriptor($I.prototype,"_handleClickStyleOption"),$I.prototype),q()($I.prototype,"_handleClickColorPicker",[ee.autobind],Object.getOwnPropertyDescriptor($I.prototype,"_handleClickColorPicker"),$I.prototype),q()($I.prototype,"_handleChangeColor",[ee.autobind],Object.getOwnPropertyDescriptor($I.prototype,"_handleChangeColor"),$I.prototype),q()($I.prototype,"_handleChangeBorder",[ee.autobind],Object.getOwnPropertyDescriptor($I.prototype,"_handleChangeBorder"),$I.prototype),q()($I.prototype,"_handleConfirm",[ee.autobind],Object.getOwnPropertyDescriptor($I.prototype,"_handleConfirm"),$I.prototype),$I);nw.defaultProps={options:{},openOptionLayer:!1,openColorPicker:!1,value:{},defaultValue:{color:"",style:""},name:"",namespace:"",recentColors:[],onConfirm:function(){},onClose:function(){},i18n:function(e){return e},borderLabel:"",applyLabel:""},nw.propTypes={options:K.a.oneOfType([K.a.array,K.a.object]),openOptionLayer:K.a.bool,openColorPicker:K.a.bool,defaultValue:K.a.object,value:K.a.object,name:K.a.string,namespace:K.a.string,recentColors:K.a.oneOfType([K.a.array,K.a.object]),onConfirm:K.a.func,onClose:K.a.func,i18n:K.a.func,borderLabel:K.a.string,applyLabel:K.a.string,logAreaId:K.a.string,useColorDetailFlag:K.a.bool};var rw,iw=nw,aw=iw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/table-border-style.jsx",localName:t}})}catch(e){}}e(nw,"TableBorderStyle"),e(iw,"default")}();var sw,cw=(rw=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.CUSTOM_LAYER:t,n=e.title,r=void 0===n?{inactive:"tableBorder:title_inactive",active:"tableBorder:title_active"}:n,i=e.label,a=void 0===i?"tableBorder:label":i,s=e.labelVisible,c=void 0!==s&&s,l=e.option,u=void 0===l?{recentColors:[]}:l,p=e.logId,d=void 0===p?"cellbr":p,h=e.custom,f=void 0===h?{CustomLayer:aw,customProps:{name:"table-border-style",options:{thinLine:{label:"tableBorder:thinLine_label",logId:"cellbrtype0"},thickLine:{label:"tableBorder:thickLine_label",logId:"cellbrtype1"},dottedLine:{label:"tableBorder:dottedLine_label",logId:"cellbrtype2"},doubleLine:{label:"tableBorder:doubleLine_label",logId:"cellbrtype3"},thickDoubleLine:{label:"tableBorder:thickDoubleLine_label",logId:"cellbrtype4"},none:{label:"tableBorder:none_label",logId:"cellbrnone"}},defaultValue:{color:"#000",style:"none"},borderLabel:"tableBorder:border_label",applyLabel:"tableBorder:apply_label",useColorDetailFlag:this.props.useColorDetailFlag}}:h,m=Ja()(e,["type","title","label","labelVisible","option","logId","custom"]);return K.b.createElement(ZI,xc()({type:o,title:r,label:a,labelVisible:c,option:u,logId:d,custom:f},m,{onClick:this._handleClick,onChange:this._handleChange,recentColors:u.recentColors}))},o._handleClick=function(e){this.props.onClickSelector(e)},o._handleChange=function(e){this.props.useCase.changeTableBorder(e)},t}(K.b.Component),q()(rw.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(rw.prototype,"_handleClick"),rw.prototype),q()(rw.prototype,"_handleChange",[ee.autobind],Object.getOwnPropertyDescriptor(rw.prototype,"_handleChange"),rw.prototype),rw),lw=cw,uw=lw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/view/table-border-button.jsx",localName:t}})}catch(e){}}e(cw,"TableBorderButton"),e(lw,"default")}();var pw,dw=(sw=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"tableStyle:title_inactive",active:"tableStyle:title_active"}:n,i=e.label,a=void 0===i?"tableStyle:label":i,s=e.value,c=void 0===s?"":s,l=e.logId,u=void 0===l?"tableskin":l,p=e.options,d=void 0===p?{default:{label:"tableStyle:default_title",logId:"tableskin0"},table_layout1:{label:"tableStyle:layout1_title",logId:"tableskin1"},table_layout2:{label:"tableStyle:layout2_title",logId:"tableskin2"},table_layout3:{label:"tableStyle:layout3_title",logId:"tableskin3"},table_layout4:{label:"tableStyle:layout4_title",logId:"tableskin4"},table_layout5:{label:"tableStyle:layout5_title",logId:"tableskin5"},table_layout6:{label:"tableStyle:layout6_title",logId:"tableskin6"},table_layout7:{label:"tableStyle:layout7_title",logId:"tableskin7"}}:p,h=Ja()(e,["type","title","label","value","logId","options"]);return K.b.createElement(JI.a,xc()({type:o,title:r,label:a,value:c,logId:u,options:d},h,{onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeLayout(e),this.props.onClickSelector(e)},t}(K.b.Component),q()(sw.prototype,"_handleClickOption",[ee.autobind],Object.getOwnPropertyDescriptor(sw.prototype,"_handleClickOption"),sw.prototype),sw),hw=dw,fw=hw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/view/table-style-button.jsx",localName:t}})}catch(e){}}e(dw,"TableStyleButton"),e(hw,"default")}();var mw=(pw=function(e){function t(){var t;return(t=e.call(this)||this)._propertyChangeService=u.U.get("propertyChangeService"),t._storageService=u.U.get("storageService"),t}h()(t,e);var o=t.prototype;return o.changeTableWidth=function(e){var t=e.value;this._propertyChangeService.updateProperty({resizing:t})},o.changeTableAlign=function(e){this._propertyChangeService.updateStyle(e)},o.changeTableBorder=function(e){var t=e.value,o=e.storageKey,n=e.recentColors;this._propertyChangeService.updateProperty({tableBorder:t}),n&&this._storageService.setStorageData(o,n)},o.changeCellBackgroundColor=function(e){var t=e.value,o=e.recentColors,n=e.storageKey;this._propertyChangeService.updateProperty({cellBackgroundColor:t}),this._storageService.setStorageData(n,o)},o.changeLayout=function(e){var t=e.value;this._propertyChangeService.changeLayout(t)},t}(u.m),q()(pw.prototype,"changeTableWidth",[ee.history,K.d],Object.getOwnPropertyDescriptor(pw.prototype,"changeTableWidth"),pw.prototype),q()(pw.prototype,"changeTableAlign",[ee.history,K.d],Object.getOwnPropertyDescriptor(pw.prototype,"changeTableAlign"),pw.prototype),q()(pw.prototype,"changeTableBorder",[ee.history,K.d],Object.getOwnPropertyDescriptor(pw.prototype,"changeTableBorder"),pw.prototype),q()(pw.prototype,"changeCellBackgroundColor",[ee.history,K.d],Object.getOwnPropertyDescriptor(pw.prototype,"changeCellBackgroundColor"),pw.prototype),q()(pw.prototype,"changeLayout",[ee.history,K.d],Object.getOwnPropertyDescriptor(pw.prototype,"changeLayout"),pw.prototype),pw);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/use-case/table-buttons-use-case.js",localName:t}})}catch(e){}}(mw,"TableButtonsUseCase")}();var gw={"table-align":{view:DI,useCase:mw,propertyName:"tableAlign",styleName:"table-align"},"table-width":{view:GI,useCase:mw,propertyName:"tableWidth",styleName:"table-width"},"table-border":{view:uw,useCase:mw,propertyName:"border",styleName:"table-border",option:{storagePolicy:{key:"tableBorder",property:"recentColors"}}},"table-style":{view:fw,useCase:mw,propertyName:"layout",styleName:"table-style"},"cell-background-color":{view:EI,useCase:mw,propertyName:"cellBackgroundColor",styleName:"cell-background-color",option:{storagePolicy:{key:"cellBackgroundColor",property:"recentColors"}}}},yw=gw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(gw,"default")}();var bw={propertyToolbar:{"font-family":Object(Ot.a)("font-family"),"font-size":Object(Ot.a)("font-size"),bold:Object(Ot.a)("bold"),italic:Object(Ot.a)("italic"),underline:Object(Ot.a)("underline"),strikethrough:Object(Ot.a)("strikethrough"),"font-color":Object(Ot.a)("font-color"),"align-drop-down":Object(Ot.a)("align-drop-down"),"line-height":Object(Ot.a)("line-height"),"special-letter":Object(Ot.a)("special-letter"),"text-link":Object(Ot.a)("text-link"),list:Object(Ot.a)("list"),"table-align":yw["table-align"],"table-width":yw["table-width"],"cell-background-color":yw["cell-background-color"],"table-border":yw["table-border"],"table-style":yw["table-style"],"translation-right-label":Object(Ot.a)("translation-right-label"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{delete:Object(Ot.a)("delete")}},_w=bw;function vw(e){var t=e[0].getAllCellStores();return Object(PO.a)(t.map(function(e){return e.value.paragraphs.map(function(e){return{id:e.id,list:e.isListParagraph()}})}))}function Cw(e,t){var o=Object(Ue.a)(e,function(e){return e.id===t.start.paraId}),n=Object(Ue.a)(e,function(e){return e.id===t.end.paraId});return o<n?{lowIndex:o,highIndex:n}:{lowIndex:n,highIndex:o}}function Sw(e,t){var o=vw(e),n=Cw(o,t),r=n.lowIndex,i=n.highIndex,a=r===i,s=!1;if(!(r<0||i<0)){for(var c=r;c<=i;c++)!0===o[c].list&&(s=!0);return s&&a||!s}}!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/table-button-set-map.js",localName:t}})}catch(e){}}(bw,"default")}();var Ow={propertyToolbar:function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=["font-family","font-size","separator-bar","bold","italic","underline","strikethrough","font-color","separator-bar","align-drop-down","line-height","list"];"cursor"!==o.mode&&"block"!==o.mode||(n.push("separator-bar","special-letter","text-link"),t.every(function(e){var n=e.translationEnabled,r=Sw(t,o);return n&&r})&&n.push("separator-bar","translation-right-label"));return n.push("separator-bar","table-align","table-width","separator-bar","cell-background-color","table-border","table-style","separator-bar"),n},contextToolbar:function(){return["delete"]}},kw=Ow;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/table-button-resolver.js",localName:t}})}catch(e){}}e(vw,"getParaMap"),e(Cw,"getIndexOfSelectionInMap"),e(Sw,"checkNoMultiList"),e(Ow,"default")}();var Iw=function(e){function t(){return e.call(this,{buttonSetMap:_w,buttonResolver:kw})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Iw,"TableComponentToolbar")}();var ww=o(432),Pw=u.q.extend({name:"TableComponent",view:m_(function(){return o.e(60).then(o.bind(null,1273))}),useCase:ww.a,service:kI,store:PI.a,toolbar:Iw}),jw=Pw,Tw=jw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/index.js",localName:t}})}catch(e){}}e(Pw,"TableComponent"),e(jw,"default")}();var Lw=o(440),Ew={LEFT:"left",CENTER:"center",RIGHT:"right"},Nw={DEFAULT:"DEFAULT",INSERT:"INSERT",DELETE:"DELETE",UPDATE:"UPDATE"},xw={FormulaAlign:Ew,FormulaEditTypes:Nw};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/consts/index.js",localName:t}})}catch(e){}}e(Ew,"FormulaAlign"),e(Nw,"FormulaEditTypes"),e(xw,"default")}();var Dw=function(e){function t(){var t;return(t=e.call(this)||this)._componentListStore=u.U.get("componentListStore"),t._selectionInfoStore=u.U.get("selectionInfoStore"),t._componentFactory=u.U.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.activeCompData=function(){var e=this._selectionInfoStore.start.compId;return this.getComponentStore(e)},o.getFormulaCompList=function(){return this._getAllFormulaComponents().map(function(e){return{mode:Nw.DEFAULT,id:e.id,fontSize:e.fontSizeCode.replace("fs",""),latex:e.latex,thumbnail:e.thumbnail}})},o._convertToFormulaEditorFormat=function(e){return e.map(function(e){return{mode:Nw.DEFAULT,id:e.id,fontSize:e.fontSizeCode.replace("fs",""),latex:e.latex,thumbnail:e.thumbnail}})},o.getFormulaListWithNewFormula=function(){var e={mode:Nw.INSERT},t=this._selectionInfoStore.start.compId,o=this._componentListStore.getNextComponentById(t),n=this._componentListStore.getComponentsByCtypeUntil(t,"formula"),r=o?this._componentListStore.getComponentsByCtypeFrom(o.id,"formula"):[];return{compList:[].concat(this._convertToFormulaEditorFormat(n),[e],this._convertToFormulaEditorFormat(r)),newFormula:e}},o._getAllFormulaComponents=function(){return this._componentListStore.getComponentsByCtype("formula")},o.createComponent=function(e){var t=e.thumbnail||{};return this._componentFactory.createComponentWithCompData({ctype:"formula",html:e.html,latex:e.latex,fontSizeCode:e.fontSizeCode,thumbnail:{ctype:"thumbnail",src:t.src,width:Number(t.width),height:Number(t.height)}})},o.updateComponent=function(e){this.getComponentStore(e.id).updateFormulaData(e)},t}(u.a),Rw=Dw,Aw=Rw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/service/index.js",localName:t}})}catch(e){}}e(Dw,"FormulaComponentService"),e(Rw,"default")}();var Uw,Mw,Bw=o(441),Fw=(Uw=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"formulaEdit:title":n,i=e.label,a=void 0===i?"formulaEdit:label":i,s=e.labelVisible,c=void 0===s||s,l=e.logId,u=void 0===l?"edit":l,p=Ja()(e,["type","title","label","labelVisible","logId"]);return K.b.createElement(Hb.a,xc()({type:o,title:r,label:a,logId:u,labelVisible:c},p,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editFormula()},t}(K.b.Component),q()(Uw.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Uw.prototype,"_handleClick"),Uw.prototype),Uw),zw=Fw,Ww=zw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/buttons/view/formula-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(Fw,"FormulaEditRightLabelButtonView"),e(zw,"default")}();var Vw=(Mw=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"formulaEdit:title":n,i=e.logId,a=void 0===i?"edit":i,s=Ja()(e,["type","title","logId"]);return K.b.createElement(Hb.a,xc()({type:o,title:r,logId:a},s,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editFormula()},t}(K.b.Component),q()(Mw.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(Mw.prototype,"_handleClick"),Mw.prototype),Mw),Gw=Vw,Hw=Gw;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/buttons/view/formula-edit-button-view.jsx",localName:t}})}catch(e){}}e(Vw,"FormulaEditButtonView"),e(Gw,"default")}();var qw=o(401),Jw={"formula-edit-right-label":{view:Ww,useCase:qw.a,propertyName:"",styleName:"formula-edit"},"formula-edit":{view:Hw,useCase:qw.a,propertyName:"",styleName:"formula-edit"}},Kw=Jw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(Jw,"default")}();var Yw={propertyToolbar:{align:Object(Ot.a)("align-group"),"formula-edit":Kw["formula-edit-right-label"],"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"cycle-align":Object(Ot.a)("cycle-align"),"formula-edit":Kw["formula-edit"],delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")}},Xw=Yw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/formula-button-set-map.js",localName:t}})}catch(e){}}(Yw,"default")}();var Qw={propertyToolbar:function(){return["align","separator-bar","formula-edit"]},contextToolbar:function(){return["cycle-align","separator-bar","formula-edit","separator-bar","delete"]}},Zw=Qw;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/formula-button-resolver.js",localName:t}})}catch(e){}}(Qw,"default")}();var $w=function(e){function t(){return e.call(this,{buttonSetMap:Xw,buttonResolver:Zw})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/toolbar/index.js",localName:t}})}catch(e){}}($w,"FormulaComponentToolbar")}();var eP=u.q.extend({name:"FormulaComponent",view:m_(function(){return o.e(64).then(o.bind(null,1257))}),useCase:Lw.a,service:Aw,store:Bw.a,toolbar:$w}),tP=eP,oP=tP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/index.js",localName:t}})}catch(e){}}e(eP,"FormulaComponent"),e(tP,"default")}();var nP=o(428),rP=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.U.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.createAudioComponent=function(e){var t={ctype:"audio",src:e.src,fileName:e.name,fileSize:e.size};return this._componentFactory.createComponentWithCompData(t)},o.updateComponent=function(e,t){var o=this.getComponentStore(e);o&&o.updateAudio(t)},o.updateProgress=function(e,t){var o=this.getComponentStore(e);if(o&&t.lengthComputable){var n=t.loaded,r=t.total;o.setState({count:Math.round(n/r*100),totalCount:100})}},t}(u.a),iP=rP,aP=iP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/service/index.js",localName:t}})}catch(e){}}e(rP,"AudioComponentService"),e(iP,"default")}();var sP=o(429),cP={propertyToolbar:{align:Object(Ot.a)("align-group"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{"cycle-align":Object(Ot.a)("cycle-align"),delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")},overlayToolbar:{delete:Object(Ot.a)("delete")}},lP=cP;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/toolbar/audio-button-set-map.js",localName:t}})}catch(e){}}(cP,"default")}();var uP={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["cycle-align","separator-bar","delete"]},overlayToolbar:function(){return{fixedButtonSets:{top:["delete"]}}}},pP=uP;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/toolbar/audio-button-resolver.js",localName:t}})}catch(e){}}(uP,"default")}();var dP=function(e){function t(){return e.call(this,{buttonSetMap:lP,buttonResolver:pP})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/toolbar/index.js",localName:t}})}catch(e){}}(dP,"AudioComponentToolbar")}();var hP=u.q.extend({name:"AudioComponent",view:m_(function(){return o.e(57).then(o.bind(null,1253))}),useCase:nP.a,service:aP,store:sP.a,toolbar:dP}),fP=hP,mP=fP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/index.js",localName:t}})}catch(e){}}e(hP,"AudioComponent"),e(fP,"default")}();var gP,yP,bP,_P,vP=o(142),CP={DEFAULT:"default"},SP={LEFT:"left",CENTER:"center",RIGHT:"right"},OP={CustomLayout:CP,CustomAlign:SP};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/consts/index.js",localName:t}})}catch(e){}}e(CP,"CustomLayout"),e(SP,"CustomAlign"),e(OP,"default")}();var kP=K.f.toJS,IP=(gP=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"layout",yP,G()(o)),W()(o,"align",bP,G()(o)),W()(o,"data",_P,G()(o)),o.attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"};var n=t.state,r=void 0===n?{}:n;o.align=Object(J.a)(r,"align",o.align),o.layout=Object(J.a)(r,"layout",o.layout),o.subtype=Object(J.a)(r,"subtype",""),o.data=Object(J.a)(r,"data",o.data),o._configAgent=u.U.get("configAgent");var a=(o._configAgent.get("plugins.customComponents")||[]).find(function(e){return e.type===o.subtype});if(a&&(o._render=a.onRender,o._onLoad=a.onLoad,o._onDelete=a.onDelete),o.attributes.erasure=o._onDelete?"confirm":"self",o._onLoad){var s=!0===r.copied;delete r.copied,o._onLoad({data:K.f.toJS(o.data),copied:s,updateDataDidLoad:function(e){o.data=Object(i.a)(e,o.data)}})}return o}h()(t,e);var o=t.prototype;return o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,align:this.align,subtype:this.subtype,layout:this.layout,data:kP(this.data)}},o.toValidJSON=function(e){void 0===e&&(e={fromCopy:!1});var t={id:this.id,ctype:this.ctype,align:this.align,subtype:this.subtype,layout:this.layout,data:kP(this.data)};return e.fromCopy&&(t.copied=!0),t},o.collectStyle=function(){return{layout:this.layout,align:this.align}},o.getSubType=function(){return this.subtype},o.getCustomData=function(){return kP(this.data)},o.updateCustomData=function(e){e&&"object"==typeof e&&(this.data=e)},o.getComponentActiveRange=function(){return{start:this.getCompStartPoint(),end:this.getCompEndPoint()}},o.getCompStartRange=function(){return this.getComponentActiveRange()},o.getCompEndRange=function(){return this.getComponentActiveRange()},o.getCompStartPoint=function(){return this.getStartPoint()},o.getCompEndPoint=function(){return this.getEndPoint()},o.getEndCollapsedRange=function(){return this.getComponentActiveRange()},o.clone=function(){var e=this.toValidJSON();return this._componentFactory.createComponentWithCompData(e)},o.updateStyle=function(e){var t=e.align;t&&this.changeAlign(t)},o.queryCursor=function(){},o.queryDragAndDrop=function(){},o.confirmErasure=function(){var e=this;return new Promise(function(t){var o=e._onDelete(e.toPlainJSON());o&&o.then?o.then(function(e){return t(!1!==e)}).catch(function(e){return t(!1!==e)}):t(!1!==o)})},o.refineSelection=function(){},o.erase=function(){},o.getDomString=function(){return this._render?this._render({data:K.f.toJS(this.data),themeName:this.themeName}):null},at()(t,[{key:"themeName",get:function(){return u.U.get("themeStore").themeName}}]),t}(u.g),yP=q()(gP.prototype,"layout",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return CP.DEFAULT}}),bP=q()(gP.prototype,"align",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_P=q()(gP.prototype,"data",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),q()(gP.prototype,"themeName",[K.e],Object.getOwnPropertyDescriptor(gP.prototype,"themeName"),gP.prototype),gP);IP.ctype="custom",IP.schema={id:Df.a.string.isRequired,align:Df.a.string,ctype:Df.a.string.isRequired,layout:Df.a.string.isRequired,subtype:Df.a.string.isRequired,data:Df.a.object.isRequired};var wP=IP,PP=wP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/store/index.js",localName:t}})}catch(e){}}e(kP,"toJS"),e(IP,"CustomComponentStore"),e(wP,"default")}();var jP,TP=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.c),LP=TP,EP=LP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/use-case/index.js",localName:t}})}catch(e){}}e(TP,"CustomComponentUseCase"),e(LP,"default")}();var NP=(jP=function(e){function t(){var t;return(t=e.call(this)||this).count=0,t}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.dragAndDrop,a=(t.data,this._getCustomElements());return t.themeName,K.b.createElement(Lf.a,{id:n,ctype:r,i18n:o},K.b.createElement(Ef.a,{compId:n,dragInfo:i},K.b.createElement(dm.a,{blockWrapperProps:t,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,draggable:"true"},K.b.createElement(Ry.a,{ctype:r},a,K.b.createElement(My.a,{compStore:t,isReady:!0,i18n:o})))))},o._getCustomElements=function(){var e=this.props.store.getDomString();return e?K.b.createElement("div",{dangerouslySetInnerHTML:{__html:e}}):K.b.createElement("div",null,this.count++)},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(K.b.Component),q()(jP.prototype,"_handleMoveToPrev",[ee.autobind],Object.getOwnPropertyDescriptor(jP.prototype,"_handleMoveToPrev"),jP.prototype),q()(jP.prototype,"_handleMoveToNext",[ee.autobind],Object.getOwnPropertyDescriptor(jP.prototype,"_handleMoveToNext"),jP.prototype),jP);NP.defaultProps={i18n:function(e){return e}},NP.propTypes={store:K.a.instanceOf(PP).isRequired,useCase:K.a.instanceOf(EP).isRequired,i18n:K.a.func};var xP=Object(Z.b)(NP),DP=xP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/view/index.jsx",localName:t}})}catch(e){}}e(NP,"CustomComponentView"),e(xP,"default")}();var RP,AP=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.a),UP=AP,MP=UP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/service/index.js",localName:t}})}catch(e){}}e(AP,"CustomComponentService"),e(UP,"default")}();var BP=(RP=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"customEditButton:title":n,i=e.label,a=void 0===i?"customEditButton:label":i,s=e.logId,c=void 0===s?"edit":s,l=Ja()(e,["type","title","label","logId"]);return K.b.createElement(Hb.a,xc()({},l,{type:o,title:r,label:a,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.onClick()},t}(K.b.Component),q()(RP.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(RP.prototype,"_handleClick"),RP.prototype),RP);BP.propTypes={useCase:K.a.object};var FP,zP=BP,WP=zP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/buttons/view/custom-edit-button.jsx",localName:t}})}catch(e){}}e(BP,"CustomEditButton"),e(zP,"default")}();var VP=(FP=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"customEditButton:title":n,i=e.label,a=void 0===i?"customEditButton:label":i,s=e.logId,c=void 0===s?"edit":s,l=e.labelVisible,u=void 0===l||l,p=Ja()(e,["type","title","label","logId","labelVisible"]);return K.b.createElement(Hb.a,xc()({},p,{type:o,title:r,label:a,labelVisible:u,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.onClick()},t}(K.b.Component),q()(FP.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(FP.prototype,"_handleClick"),FP.prototype),FP);VP.propTypes={useCase:K.a.object};var GP,HP=VP,qP=HP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/buttons/view/custom-edit-right-label-button.jsx",localName:t}})}catch(e){}}e(VP,"CustomRightLabelButton"),e(HP,"default")}();var JP=(GP=function(){function e(){this._selectionInfoStore=u.U.get("selectionInfoStore"),this._componentListStore=u.U.get("componentListStore"),this._customComponents=u.U.get("configAgent").get("plugins.customComponents"),this._editorStatusStore=u.U.get("editorStatusStore"),this._virtualEditable=u.U.get("virtualEditable"),this._dragAndDropService=u.U.get("dragAndDropService"),this._hotkeyBinder=u.U.get("hotkeyBinder"),this._eventDispatcherService=u.U.get("eventDispatcherService")}var t=e.prototype;return t._pauseDocumentEdit=function(){this._virtualEditable.disable(),this._hotkeyBinder.pause(),this._editorStatusStore.pause(),this._dragAndDropService.disable(),this._eventDispatcherService.emit(u.z.PAUSED)},t._unpauseDocumentEdit=function(){this._dragAndDropService.enable(),this._hotkeyBinder.unpause(),this._editorStatusStore.unpause(),this._virtualEditable.enable(),this._virtualEditable.refresh(),this._eventDispatcherService.emit(u.z.RESUMED)},t.onClick=function(){var e=this._selectionInfoStore.toValidJSON();if("single"===e.mode){var t=e.start.compId,o=this._componentListStore.getComponentById(t);if(o){var n=(this._customComponents||[]).find(function(e){return e.type===o.subtype});if(n){var r=n.onEdit;this._pauseDocumentEdit(),r&&r({compId:t,data:o.getCustomData()}),this._unpauseDocumentEdit()}}}},e}(),q()(GP.prototype,"onClick",[ee.preventOnComponentProcessing,ee.history,K.d],Object.getOwnPropertyDescriptor(GP.prototype,"onClick"),GP.prototype),GP),KP=JP,YP=KP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/buttons/use-case/custom-edit-button-use-case.js",localName:t}})}catch(e){}}e(JP,"CustomEditButtonUseCase"),e(KP,"default")}();var XP={"custom-edit":{view:WP,useCase:YP,styleName:"custom-edit"},"custom-edit-right-label":{view:qP,useCase:YP,styleName:"custom-edit"}},QP=XP,ZP=QP;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(XP,"buttons"),e(QP,"default")}();var $P={propertyToolbar:{align:Object(Ot.a)("align-group"),edit:ZP["custom-edit-right-label"],"separator-bar":Object(Ot.a)("separator-bar"),delete:Object(Ot.a)("delete-with-selection")},contextToolbar:{align:Object(Ot.a)("cycle-align"),edit:ZP["custom-edit"],"separator-bar":Object(Ot.a)("separator-bar"),delete:Object(Ot.a)("delete-with-selection")},overlayToolbar:{edit:ZP["custom-edit"],delete:Object(Ot.a)("delete")}},ej=$P;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/custom-button-set-map.js",localName:t}})}catch(e){}}($P,"default")}();var tj={propertyToolbar:{desktop:["align"],mobile:["delete"]},contextToolbar:{desktop:[],mobile:[]}},oj=function(e,t,o,n){void 0===t&&(t=[]),void 0===n&&(n=[]);var r=Object(Ur.a)(Object(J.a)(t,"toolbar."+e+".exclude",[]),n);return Object(Ur.a)(o,r)},nj=function(e,t,o,n,r){void 0===r&&(r={});var i=o.find(function(t){return t.type===e}),a=Object(J.a)(tj,"propertyToolbar."+t,[]),s=oj("propertyToolbar",i,n,a);return Array.isArray(r.right)&&(r.right=oj("propertyToolbar",i,r.right,a)),Array.isArray(r.left)&&(r.left=oj("propertyToolbar",i,r.left,a)),t===u.t.MOBILE?{buttonSet:s,fixedButtonSets:r}:s},rj=function(e,t,o,n){var r=o.find(function(t){return t.type===e});return oj("contextToolbar",r,n,Object(J.a)(tj,"contextToolbar."+t,[]))},ij={propertyToolbar:function(e){var t=e.configAgent,o=e.selectedComponents;if(o&&0!==o.length){var n=t.get("productEnv.deviceType"),r=t.get("plugins.customComponents"),i=o[0].subtype,a=[],s=n!==u.t.MOBILE?{right:[]}:{right:["delete"]};return o.length>1?a.push("align"):a.push("align","separator-bar","edit"),nj(i,n,r,a,s)}},contextToolbar:function(e){var t=e.configAgent,o=e.selectedComponents;if(o&&0!==o.length){var n=t.get("productEnv.deviceType"),r=t.get("plugins.customComponents"),i=o[0].subtype,a=[];return o.length>1?a.push("align","separator-bar","delete"):a.push("align","separator-bar","edit","separator-bar","delete"),rj(i,n,r,a)}},overlayToolbar:function(){return{fixedButtonSets:{bottom:["edit","delete"]}}}},aj=ij;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/custom-button-resolver.js",localName:t}})}catch(e){}}e(tj,"NOT_ALLOW_EXCLUDE_BUTTONS"),e(oj,"getMergedButtenSet"),e(nj,"makePropertyButtonSet"),e(rj,"makeContextButtonSet"),e(ij,"default")}();var sj=function(e){function t(){return e.call(this,{buttonSetMap:ej,buttonResolver:aj})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/toolbar/index.js",localName:t}})}catch(e){}}(sj,"CustomComponentToolbar")}();var cj=u.q.extend({name:"CustomComponent",view:DP,useCase:EP,service:MP,store:PP,toolbar:sj}),lj=cj,uj=lj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/custom-component/src/index.js",localName:t}})}catch(e){}}e(cj,"CustomComponent"),e(lj,"default")}();var pj,dj,hj=o(743),fj=o(745),mj=(pj=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"talktalkEdit:title":n,i=e.label,a=void 0===i?"talktalkEdit:label":i,s=e.logId,c=void 0===s?"edit":s,l=e.labelVisible,u=void 0===l||l,p=Ja()(e,["type","title","label","logId","labelVisible"]);return K.b.createElement(Hb.a,xc()({type:o,title:r,label:a,logId:c,labelVisible:u},p,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editTalktalk()},t}(K.b.Component),q()(pj.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(pj.prototype,"_handleClick"),pj.prototype),pj),gj=mj,yj=gj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/buttons/view/talktalk-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(mj,"TalktalkEditRightLabelButton"),e(gj,"default")}();var bj,_j=(dj=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?tt.b.BASIC:t,n=e.title,r=void 0===n?"talktalkEdit:title":n,i=e.logId,a=void 0===i?"edit":i,s=Ja()(e,["type","title","logId"]);return K.b.createElement(ZI,xc()({type:o,title:r,logId:a},s,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editTalktalk()},t}(K.b.Component),q()(dj.prototype,"_handleClick",[ee.autobind],Object.getOwnPropertyDescriptor(dj.prototype,"_handleClick"),dj.prototype),dj),vj=_j,Cj=vj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/buttons/view/talktalk-edit-button-view.jsx",localName:t}})}catch(e){}}e(_j,"TalktalkEditButtonView"),e(vj,"default")}();var Sj=(bj=function(){function e(){this._talktalkEditLayerService=u.U.get("talktalkEditLayerService"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._componentListStore=u.U.get("componentListStore")}return e.prototype.editTalktalk=function(){var e=this._selectionInfoStore.toValidJSON(),t=this._componentListStore.getSelectedComponents(e),o=Object(mo.a)(t).toValidJSON();this._talktalkEditLayerService.open({bannerType:o.layout,accountId:o.accountId,image:o.image})},e}(),q()(bj.prototype,"editTalktalk",[K.d],Object.getOwnPropertyDescriptor(bj.prototype,"editTalktalk"),bj.prototype),bj),Oj=Sj,kj=Oj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/buttons/use-case/talktalk-edit-button-use-case.js",localName:t}})}catch(e){}}e(Sj,"TalktalkEditButtonUseCase"),e(Oj,"default")}();var Ij={"talktalk-edit":{view:yj,useCase:kj,styleName:"talktalk-edit"},"talktalk-edit-without-label":{view:Cj,useCase:kj,styleName:"talktalk-edit"}},wj=Ij;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/buttons/index.js",localName:t}})}catch(e){}}(Ij,"default")}();var Pj={propertyToolbar:{align:Object(Ot.a)("align-group"),talktalk:wj["talktalk-edit"],"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{align:Object(Ot.a)("cycle-align"),talktalk:wj["talktalk-edit-without-label"],delete:Object(Ot.a)("delete"),"separator-bar":Object(Ot.a)("separator-bar")}},jj=Pj;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/talktalk-button-set-map.js",localName:t}})}catch(e){}}(Pj,"default")}();var Tj={propertyToolbar:function(){return["align","separator-bar","talktalk"]},contextToolbar:function(){return["align","separator-bar","talktalk","separator-bar","delete"]}},Lj=Tj;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/talktalk-button-resolver.js",localName:t}})}catch(e){}}(Tj,"default")}();var Ej=function(e){function t(){return e.call(this,{buttonSetMap:jj,buttonResolver:Lj})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/toolbar/index.js",localName:t}})}catch(e){}}(Ej,"TalktalkComponentToolbar")}();var Nj=u.q.extend({name:"TalktalkComponent",view:m_(function(){return o.e(65).then(o.bind(null,1258))}),store:hj.a,useCase:fj.a,toolbar:Ej}),xj=Nj,Dj=xj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/index.js",localName:t}})}catch(e){}}e(Nj,"TalktalkComponent"),e(xj,"default")}();var Rj=o(746),Aj={propertyToolbar:{align:Object(Ot.a)("align-group"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{delete:Object(Ot.a)("delete")}},Uj=Aj;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/toolbar/anniversary-section-button-set-map.js",localName:t}})}catch(e){}}(Aj,"default")}();var Mj={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["delete"]}},Bj=Mj;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/toolbar/anniversary-section-button-resolver.js",localName:t}})}catch(e){}}(Mj,"default")}();var Fj=function(e){function t(){return e.call(this,{buttonSetMap:Uj,buttonResolver:Bj})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/toolbar/index.js",localName:t}})}catch(e){}}(Fj,"AnniversarySectionComponentToolbar")}();var zj=o(747),Wj=u.q.extend({name:"AnniversarySectionComponent",view:m_(function(){return o.e(66).then(o.bind(null,1259))}),store:Rj.a,useCase:zj.a,toolbar:Fj}),Vj=Wj,Gj=Vj;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/index.js",localName:t}})}catch(e){}}e(Wj,"AnniversarySectionComponent"),e(Vj,"default")}();var Hj=o(748),qj={propertyToolbar:{align:Object(Ot.a)("align-group"),"separator-bar":Object(Ot.a)("separator-bar")},contextToolbar:{delete:Object(Ot.a)("delete")}},Jj=qj;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/toolbar/mr-blog-button-set-map.js",localName:t}})}catch(e){}}(qj,"default")}();var Kj={propertyToolbar:function(){return["align","separator-bar"]},contextToolbar:function(){return["delete"]}},Yj=Kj;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/toolbar/mr-blog-button-resolver.js",localName:t}})}catch(e){}}(Kj,"default")}();var Xj=function(e){function t(){return e.call(this,{buttonSetMap:Jj,buttonResolver:Yj})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/toolbar/index.js",localName:t}})}catch(e){}}(Xj,"MrBlogComponentToolbar")}();var Qj=o(749),Zj=u.q.extend({name:"MrBlogComponent",view:m_(function(){return o.e(67).then(o.bind(null,1260))}),store:Hj.a,useCase:Qj.a,toolbar:Xj}),$j=Zj,eT=$j;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/index.js",localName:t}})}catch(e){}}e(Zj,"MrBlogComponent"),e($j,"default")}();var tT=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"};var n=t.state,r=void 0===n?{}:n;if("unknown"===r.ctype)throw new Error("Occured critical issue about component data in unknown!");return o.ctype="unknown",o.unknownCompData=r,o.id!==o.unknownCompData.id&&Object.assign(o.unknownCompData,{id:o.id}),o}h()(t,e);var o=t.prototype;return o._cloneComponentData=function(){return JSON.parse(JSON.stringify(this.unknownCompData))},o.getRealCtype=function(){return this.unknownCompData.ctype},o.toPlainJSON=function(){return this._cloneComponentData()},o.toValidJSON=function(){return this._cloneComponentData()},o.collectStyle=function(){return{layout:"default"}},o.getComponentActiveRange=function(){return{start:this.getCompStartPoint(),end:this.getCompEndPoint()}},o.getCompStartRange=function(){return this.getComponentActiveRange()},o.getCompEndRange=function(){return this.getComponentActiveRange()},o.getCompStartPoint=function(){return this.getStartPoint()},o.getCompEndPoint=function(){return this.getEndPoint()},o.getEndCollapsedRange=function(){return this.getComponentActiveRange()},o.clone=function(){var e=this.toValidJSON();return this._componentFactory.createComponentWithCompData(e)},o.updateStyle=function(){},o.queryCursor=function(){},o.queryDragAndDrop=function(){},o.refineSelection=function(){},o.erase=function(){},t}(u.b);tT.ctype="unknown",tT.schema={id:Df.a.string.isRequired,layout:Df.a.string.isRequired,ctype:Df.a.string.isRequired,value:Df.a.textUnit.isRequired};var oT=tT,nT=oT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/store/index.js",localName:t}})}catch(e){}}e(tT,"UnknownComponentStore"),e(oT,"default")}();var rT,iT=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.c),aT=iT,sT=aT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/use-case/index.js",localName:t}})}catch(e){}}e(iT,"UnknownComponentUseCase"),e(aT,"default")}();var cT=(rT=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.dragAndDrop,a=t.getRealCtype(),s=this._getGuideDescription(o,a),c=this._resolveWrapperClassName();return K.b.createElement(Lf.a,{id:n,ctype:r,i18n:o},K.b.createElement(Ef.a,{compId:n,dragInfo:i},K.b.createElement(dm.a,{blockWrapperProps:t,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,draggable:"true"},K.b.createElement(Ry.a,{ctype:r,className:c},K.b.createElement("div",null,s)))))},o._getGuideDescription=function(e,t){return u.U.get("configAgent").get("productEnv.deviceType")===u.t.DESKTOP?e("unknownComponent:title")+" ("+t+")":e("unknownComponent:from_text",{ctype:e.getResource(e.language(),"unknownComponent")["ctype_"+t]||e("unknownComponent:ctype_unknown")})},o._resolveWrapperClassName=function(){return et()({"se-section":!0,"se-l-default":!0,"__se-unit":!0})},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(K.b.Component),q()(rT.prototype,"_handleMoveToPrev",[ee.autobind],Object.getOwnPropertyDescriptor(rT.prototype,"_handleMoveToPrev"),rT.prototype),q()(rT.prototype,"_handleMoveToNext",[ee.autobind],Object.getOwnPropertyDescriptor(rT.prototype,"_handleMoveToNext"),rT.prototype),rT);cT.defaultProps={i18n:function(e){return e}},cT.propTypes={store:K.a.instanceOf(nT).isRequired,useCase:K.a.instanceOf(sT).isRequired,i18n:K.a.func};var lT=Object(Z.b)(cT),uT=lT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/view/index.jsx",localName:t}})}catch(e){}}e(cT,"UnknownComponentView"),e(lT,"default")}();var pT=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t}(u.a),dT=pT,hT=dT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/service/index.js",localName:t}})}catch(e){}}e(pT,"UnknownComponentService"),e(dT,"default")}();var fT={propertyToolbar:{delete:Object(Ot.a)("delete-with-selection")}},mT=fT;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/toolbar/unknown-button-set-map.js",localName:t}})}catch(e){}}(fT,"default")}();var gT={propertyToolbar:function(){var e=[];return u.U.get("configAgent").get("productEnv.deviceType")===u.t.MOBILE?{fixedButtonSets:{right:["delete"]}}:(e.push("delete"),e)}},yT=gT;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/toolbar/unknown-button-resolver.js",localName:t}})}catch(e){}}(gT,"default")}();var bT=function(e){function t(){return e.call(this,{buttonSetMap:mT,buttonResolver:yT})||this}return h()(t,e),t}(u.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/toolbar/index.js",localName:t}})}catch(e){}}(bT,"UnknownComponentToolbar")}();var _T=u.q.extend({name:"UnknownComponent",view:uT,useCase:sT,service:hT,store:nT,toolbar:bT}),vT=_T,CT=vT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/unknown-component/src/index.js",localName:t}})}catch(e){}}e(_T,"UnknownComponent"),e(vT,"default")}();var ST={layouts:[dp,Bp,k,pe,_e,Pe,De,Jt.extend({setting:{config:{layoutType:"sidebar"}}}),Ai,Ir,Dr,Da,Gr.extend({setting:{config:{enableEscapeKey:!0}}}),ti,pi.extend({setting:{config:{usePreview:!0}}}),Yi,ia.extend({setting:{config:{enableEscapeKey:!0}}}),Ia.extend({setting:{config:{enableEscapeKey:!0}}}),Va.extend({setting:{config:{enableEscapeKey:!0}}}),Ra.a.extend({setting:{config:{enableEscapeKey:!0}}}),Ys.extend({setting:{config:{enableEscapeKey:!0}}}),nc.extend({setting:{config:{enableEscapeKey:!0}}}),Xp,rd.extend({setting:{config:{enableEscapeKey:!0}}}),Cd,Ld,He,Md.extend({setting:{config:{enableEscapeKey:!0}}}),bh.extend({setting:{config:{enableEscapeKey:!0}}}),rl.extend({setting:{state:{panels:c.getDefinitions(["image","sticker","horizontalLine","quotation"])}}}),Pl,hu,If.extend({setting:{config:{buttonSetMap:{buttonSet:[n.a.IMAGE,n.a.SOCIAL_IMAGE,n.a.STICKER,n.a.VIDEO,n.a.AUDIO,n.a.HORIZONTAL_LINE,n.a.QUOTATION,n.a.MAP,n.a.OGLINK,n.a.FILE,n.a.SCHEDULE,n.a.CODE,n.a.TABLE,n.a.FORMULA,n.a.SEPARATOR_BAR,n.a.SEARCH,n.a.LIBRARY,n.a.TEMPLATE]}}}}),Tt.extend({setting:{state:{defaultButtonSet:["align"]}}}),E.extend({setting:{config:{defaultLetterGroup:"used",letterGroupList:l.a.getDefinitions(["used","general","num","round","hangul","greece","japan"]),persistentPolicy:{used:{key:"special-letter/used-letter",property:"items"}},enableEscapeKey:!0}}}),Vs.extend({setting:{config:{maxPageSize:5,maxItemsPerPage:7,maxItemsOfAutocomplete:8,enableEscapeKey:!0}}}),id.a.extend({setting:{config:{maxGroupImageLength:10,dimColor:"transparent",enableEscapeKey:!0}}}),Xh,hd,jh,Uh.extend({setting:{config:{enableEscapeKey:!0}}})],components:[vg,Tf.a,im.extend({setting:{config:{title:{filterTextStyle:{backgroundColor:"NOT_ALLOWED",strikeThrough:"NOT_ALLOWED",subscript:"NOT_ALLOWED",superscript:"NOT_ALLOWED",dropCap:"NOT_ALLOWED"}}}}}),Cg.a.extend({setting:{config:{imageMinimumWidth:100,imageMinimumHeight:50}}}),uC,FC,Uk,zC.a.extend({setting:{config:{source:{disable:!1,filterTextStyle:{bold:"NOT_ALLOWED",italic:"NOT_ALLOWED",underline:"NOT_ALLOWED",fontColor:"NOT_ALLOWED",lineHeight:"NOT_ALLOWED"}}}}}),Dy,rS,KS.extend({setting:{config:{standardImageSizeInfo:{width:480,height:270}}}}),u_.extend({setting:{config:{videoMinimumWidth:300,videoMinimumHeight:300}}}),mP,j_,VO,Tw.extend({setting:{value:{filterTextStyle:{backgroundColor:"NOT_ALLOWED",subscript:"NOT_ALLOWED",superscript:"NOT_ALLOWED",dropCap:"NOT_ALLOWED"}}}}),dk,sI,vI,CI.a,Wv,oP,vP.a,Dj,Gj,eT,CT,uj]},OT=ST;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/plugins-definition.js",localName:t}})}catch(e){}}(ST,"default")}();var kT=function(){function e(){this._eventDispatcher=u.U.get("eventDispatcher")}var t=e.prototype;return t.dispatch=function(e,t,o){return void 0===o&&(o=!1),this._eventDispatcher.dispatch(e,t,o)},t.emit=function(e,t){this._eventDispatcher.emit(e,t)},t.on=function(e,t){this._eventDispatcher.on(e,t)},t.once=function(e,t){this._eventDispatcher.once(e,t)},t.off=function(e,t){this._eventDispatcher.removeListener(e,t)},e}(),IT=kT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/event-dispatcher-service.js",localName:t}})}catch(e){}}e(kT,"EventDispatcherService"),e(IT,"default")}();var wT,PT=o(1072),jT=["selection","dragAndDrop"],TT=[u.M.DONE,u.M.LOADED],LT=2e3,ET=200,NT={FORWARD:"forward",BACKWARD:"backward"},xT=function(e){return e.id},DT=(wT=function(){function e(){var e=this;this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._componentFactory=u.U.get("componentFactory"),this._eventDispatcherService=u.U.get("eventDispatcherService"),this._history=new u.A,this._recordingJobs=0,this._state={},this._changeFragments=[],this._incompleteCompIds=new Set,this._cachedComps={},this._inThrottling=!1,this._disposer=Object(PT.a)(this._componentListStore.compList,function(t,o){var n=t.name;jT.includes(n)||e._inTransaction&&e._changeFragments.push({change:t,path:o})}),this._throttledPushState=Object(xl.a)(function(){e._pushState(),e._inThrottling=!1},LT),this._moveHistoryByDirection=Object(xl.a)(function(t){t===NT.BACKWARD?e._undo():e._redo()},ET)}var t=e.prototype;return t.isUndoable=function(){var e=this._history,t=e.currentFrame,o=e.length;return t>0&&t<=o-1},t.isRedoable=function(){var e=this._history,t=e.currentFrame,o=e.length;return t>=0&&t<o-1},t.pushWholeState=function(){this._history.push({compList:this._componentListStore.toPlainJSON(),nextSelection:this._selectionInfoStore.toValidJSON()})},t.resetHistory=function(){this._history.reset()},t.startRecording=function(e){var t=void 0===e?{}:e,o=t.sync,n=void 0===o||o,r=t.throttle,i=void 0!==r&&r;this._inThrottling&&!i?this._throttledPushState.flush():this._inTransaction&&!n&&this._pushState(),this._inThrottling=i,this._recordingJobs++},t.endRecording=function(e){var t=void 0===e?{}:e,o=t.sync,n=void 0===o||o,r=t.skipRecording,i=void 0!==r&&r,a=t.overwriteSelection,s=void 0!==a&&a;this._recordingJobs--,i||(n?this._inThrottling?this._throttledPushState():this._pushState(s):(this._inThrottling&&(this._throttledPushState.cancel(),this._inThrottling=!1),this._pushState(s)))},t._pushState=function(e){if(this._changeFragments.length){if(e)return this._history.currentState.nextSelection=this._selectionInfoStore.toValidJSON(),void(this._changeFragments=[]);this._state.nextSelection=this._selectionInfoStore.toValidJSON(),this._state.compList=this._refineToCompList(this._changeFragments),this._history.push(this._state),this._changeFragments=[],this._state={}}},t._refineToCompList=function(e){var t=this,o=this._history.currentState.compList;return e.reduce(function(e,o){var n=o.path,r=o.change,i=r.index,a=r.addedCount,s=r.removedCount;return""===n?t._mark(e,i,a,s):t._mark(e,n.split("/")[0],0,0),e},[].concat(o)).map(function(e,o){if(null===e){var n=t._componentListStore.compList[o].toPlainJSON(),r=n.id,i=n.phase;return i&&(TT.includes(i)?t._cachedComps[r]=n:t._incompleteCompIds.add(r)),n}return e})},t._mark=function(e,t,o,n){if(void 0===o&&(o=0),void 0===n&&(n=0),0!==o||0!==n){for(var r=[],i=0;i<o;i++)r.push(null);e.splice.apply(e,[t,n].concat(r))}else e[t]=null},t.undo=function(){this._moveHistoryByDirection(NT.BACKWARD)},t.redo=function(){this._moveHistoryByDirection(NT.FORWARD)},t._undo=function(){if(this.isUndoable()){this._inThrottling&&this._throttledPushState.flush();var e=this._history.currentState,t=this._history.back(),o=e.compList,n=t.compList,r=t.nextSelection;if(this._replaceIncompleteCompsWithCachedComps(n),pt.a.compareObjectArrayShallowly(o,n))return this._history.removeSpecificState(this._history.currentFrame),void this._undo();this._applyDiffToCompList(o,n),this._updateSelection(r)}},t._redo=function(){if(this.isRedoable()){var e=this._history.currentState,t=this._history.forward(),o=e.compList,n=t.nextSelection,r=t.compList;this._replaceIncompleteCompsWithCachedComps(r),this._applyDiffToCompList(o,r),this._updateSelection(n)}},t._replaceIncompleteCompsWithCachedComps=function(e){var t=this,o=e.reduce(function(e,o){var n=o.id,r=o;return t._incompleteCompIds.has(n)&&!TT.includes(o.phase)&&(r=t._cachedComps[n]),r&&e.push(r),e},[]);e.splice.apply(e,[0,e.length].concat(o))},t._applyDiffToCompList=function(e,t){for(var o=this,n=this._componentListStore.compList,r=t.length,i=0,a=0,s=0;s<r;s++,i++){var c=e[i];if(!c||xT(c)!==xT(t[s])){var l=pt.a.findIndexPairOfSameValue(e,t,i,s,xT),u=l[0],p=l[1],d=p-s,h=u-i,f=t.slice(s,p).map(function(e){return o._createStore(e)});n.splice.apply(n,[i+a,h].concat(f)),i=u,s=p,a+=d-h}e[i]!==t[s]&&(n[i+a]=this._createStore(t[s]))}e[i]&&n.splice(i+a,e.length-i),this._componentListStore.syncUp()},t._createStore=function(e){return this._componentFactory.createComponentWithCompData(e)},t._updateSelection=function(e){var t=e.start,o=e.end,n=e.mode,r=e.compIdMap;this._selectionInfoStore.setRange({start:t,end:o}),n===u.N.MULTI_COMP&&this._selectionInfoStore.setCompIdMap(r)},t.destroy=function(){this._disposer(),this._throttledPushState.cancel(),this._moveHistoryByDirection.cancel(),this._history=null,this._incompleteCompIds=null,this._cachedComps=null},at()(e,[{key:"_inTransaction",get:function(){return this._recordingJobs>0}}]),e}(),q()(wT.prototype,"_undo",[K.d],Object.getOwnPropertyDescriptor(wT.prototype,"_undo"),wT.prototype),q()(wT.prototype,"_redo",[K.d],Object.getOwnPropertyDescriptor(wT.prototype,"_redo"),wT.prototype),wT),RT=DT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/history-service.js",localName:t}})}catch(e){}}e(jT,"IGNORE_PROPERTY_NAME"),e(TT,"COMPLETE_PHASES"),e(null,"MARKING"),e(LT,"THROTTLING_TIMEOUT"),e(ET,"UNDO_REDO_TIMEOUT"),e(NT,"HISTORY_DIRECTION"),e(xT,"idHasher"),e(DT,"HistoryService"),e(RT,"default")}();var AT=o(190),UT=o(111),MT=function(){function e(){this._store=u.U.get("toolbarStore"),this._styleStore=u.U.get("styleStore"),this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._pluginButtonRegistry=u.U.get("pluginButtonRegistry"),this._configAgent=u.U.get("configAgent"),this._componentSettings=this._configAgent.get("plugins.componentSettings")||{},this._disposerToolbarStates=[]}var t=e.prototype;return t.initialize=function(e,t){this._buttonResolvers=e,this._pluginSettings=t,this._store.setToolbarTypes(this._getToolbarTypes()),this._initializeReaction()},t.destroy=function(){this._disposerReaction&&this._disposerReaction(),Object(r.a)(this._disposerToolbarStates,function(e){return e()}),this._buttonResolvers=null,this._store=null,this._disposerToolbarStates=[],this._disposerReaction=null},t.updateToolbar=function(e){var t=e.toolbarState,o=e.selectedUnitIds,n=e.selectedCompIds,r=Object(go.a)(this._componentListStore.getSelectedComponents(this._selectionInfoStore));if(r.length>0){var i=this._resolveCtype(r),a=this._resolveButtonSets(this._selectionInfoStore,r,i);this._store.changeSelectedCtype(i),this._store.updateButtonSets(a),this._store.updateToolbarState(t,o,n)}},t.reactionOfToolbarState=function(e,t,o){var n=this,r=rt()({compareStructural:!0},o),i=K.f.reaction(function(){return{buttonSet:n._getButtonSet(t),toolbarState:n._getToolbarState()}},e,r);this._disposerToolbarStates.push(i)},t._initializeReaction=function(){var e=this,t={context:this,compareStructural:!0,delay:50};this._disposerReaction=K.f.reaction(function(){return e._genReactionData()},this.updateToolbar.bind(this),t)},t._getButtonSet=function(e){return this._store.buttonSets[e]},t._getToolbarState=function(){return rt()({componentType:this._store.selectedCtype},this._store.toolbarState)},t._validateButtonSets=function(e,t,o){var n=this,i=[];return Object(r.a)(e,function(e){n._pluginButtonRegistry.getButtonInfo({compType:t,toolbarName:o,buttonName:e})&&i.push(e)}),i},t._excludeButtonsSets=function(e,t,o,n){var r=this._configAgent.get("plugins.components")||[],i=this._configAgent.get("plugins.componentSettings")||{},a=Object(J.a)(t,n+".exclude",[]),s=Object(J.a)(i,o+".config.toolbar."+n+".exclude",[]);return Object(st.a)(a)&&Object(st.a)(s)||(a=Object(gs.a)(a,s)),!Object(st.a)(a)&&Object(UT.a)(a)&&(e=Object(Qa.a)(e,a,this._equalString)),Object(UT.a)(e)&&(e=this._excludeButtonByComponent(e,r),e=this._excludeButtonByFunction(e),e=pt.a.trimForArray(e,"separator-bar")),e},t._getDefaultButtonSetByConfig=function(e,t){return Object(J.a)(this._componentSettings,e+".config.toolbar."+t+".buttonSet")},t._resolveButtonSets=function(e,t,o){var n=this,i={},a=Object(J.a)(this._pluginSettings,o+".toolbar",{});return Object(r.a)(this._buttonResolvers[o],function(r,s){var c=n._getDefaultButtonSetByConfig(o,s),l=r({selectionInfoStore:e,selectedComponents:t,configAgent:n._configAgent,defaultButtonSet:c});l=n._excludeButtonsSets(l,a,o,s),l=n._validateButtonSets(l,o,s);var u=Object(J.a)(a,s+".hook");u&&(l=u(l)),i[s]=l}),i},t._excludeButtonByComponent=function(e,t){return void 0===e&&(e=[]),e.filter(function(e){return"separator-bar"===e||!t.some(function(t){return new RegExp(t,"i").test(e)})})},t._excludeButtonByFunction=function(e){void 0===e&&(e=[]);var t=[];return!1===this._configAgent.get("productConfig.textFormat.list")&&t.push("list"),Object(Qa.a)(e,t)},t._equalString=function(e,t){return e===t},t._resolveCtype=function(e){if(this._selectionInfoStore.shouldBlur)return"none";var t=Object(J.a)(e,"[0].ctype",""),o=!0,n=!1,i=!1;return Object(r.a)(e,function(e){var r=e.ctype;"text"===r?n=!0:"sectionTitle"===r?i=!0:r!==t&&(o=!1)}),n?"text":i?"sectionTitle":o?t:"default"},t._getToolbarTypes=function(){var e=[];return Object(r.a)(this._buttonResolvers,function(t){t&&e.push.apply(e,Object.keys(t))}),Object(AT.a)(e)},t._genReactionData=function(){var e=this._selectionInfoStore,t=e.start,o=e.end;return{toolbarState:this._styleStore.currentSelectedStyle,selectedUnitIds:[t.unitId,o.unitId],selectedCompIds:[t.compId,o.compId]}},e}(),BT=MT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/toolbar-service.js",localName:t}})}catch(e){}}e(MT,"ToolbarService"),e(BT,"default")}();var FT=function(){function e(){this._selectionInfoStore=u.U.get("selectionInfoStore"),this._documentService=u.U.get("documentService"),this._clipboard=u.U.get("clipboard"),this._configAgent=u.U.get("configAgent"),this._userId=this._configAgent.get("userInfo.userId"),this._convertedDocumentAPI=this._configAgent.get("apiInfo.fetchConvertedDocument"),this._convertedHtmlAPI=this._configAgent.get("apiInfo.fetchConvertedHtml"),this._documentWidth=this._configAgent.get("productConfig.documentWidth"),this._pasteWithoutStyle=this._configAgent.get("productConfig.pasteWithoutStyle")}var t=e.prototype;return t.copy=function(e){if(!this._selectionInfoStore.collapsed){var t=e.map(function(e){return e.toValidJSON({fromCopy:!0})}),o=this._documentService.getDocumentId();return this._clipboard.set({docId:o,copyData:t}),t}},t.parseResourceByEvent=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isCopiedEditorData&&!this._isCaptureImage){e.next=2;break}return e.abrupt("return",null);case 2:return o=this._clipboard.getClipboardData(),n=o.getHTMLClipboardData(t),e.next=6,this._getConvertedResources(n);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.parseText=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r,i;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=!1),n=this._clipboard.getClipboardData(),r=n.getPlainTextClipboardData(t),i=ao.a.replaceSpecialChar(r),e.next=6,this._getConvertedText(i,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t.parseTextByPastedData=function(){var e=Zt()(Xt.a.mark(function e(t,o){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=!1),e.next=3,this._getConvertedText(t,o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._getConvertedText=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==t.trim()){e.next=2;break}return e.abrupt("return");case 2:return n=(n=Zi.a.convertURL2Anchor(t)).replace(/\n|\r\n/g,"<br>"),e.next=6,this._getConvertedResources(n,o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t.parseResourceByPastedData=function(){var e=Zt()(Xt.a.mark(function e(t,o){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o=!1),!this._isCopiedEditorData&&!this._isCaptureImage){e.next=3;break}return e.abrupt("return",null);case 3:return e.next=5,this._getConvertedResources(t,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._getConvertedResources=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r,i,a;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o&&(o=!1),""!==t.trim()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._getConvertedHtml(t);case 5:if((n=e.sent)&&n.length&&(this._pasteWithoutStyle&&Vg.a.dropProperty(n,"style"),r=this._clipboard.convertJsonToComponent("",n,o)),r){e.next=9;break}return e.abrupt("return",null);case 9:return i=this._getUrlLinkValue(r),a=this._getDataURIImage(r),e.abrupt("return",{sourceComponents:r,url:i,dataURIImage:a});case 12:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t.checkClipboardData=function(e){var t=this._clipboard.checkClipboardData(e),o=t.isCaptureImage,n=t.isCopiedEditorData,r=t.isOldEditorData,i=t.isOnlyText;return this._isCaptureImage=o,this._isCopiedEditorData=n,{isCaptureImage:o,isCopiedEditorData:n,isOldEditorData:r,isOnlyText:i}},t.getHTMLClipboardData=function(e){return this._clipboard.getHTMLClipboardData(e)},t.isOldEditorData=function(e){return this._clipboard.isOldEditorData(e)},t.isCopiedEditorData=function(e){return this._clipboard.isCopiedEditorData(e)},t.isIECaptureImage=function(e){return/^<img src="data:image.+>$/g.test(e)},t.getOldEditorData=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._clipboard.extractOldEditorData(t),e.next=3,this._getConvertedDocument(o);case 3:if(!(n=e.sent)||!n.length){e.next=6;break}return e.abrupt("return",this._clipboard.convertJsonToComponent("",n,!0));case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getCopiedEditorData=function(){var e=Zt()(Xt.a.mark(function e(){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._clipboard.getCopiedEditorData();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.getClipboardData=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._clipboard.get(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._getConvertedDocument=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={data:{components:t},options:{simpleRequestForced:!0},success:function(e){return e.document.components},error:function(e){throw e}},e.next=3,Ao.a.post(this._convertedDocumentAPI+"?userId="+this._userId,o);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._getConvertedHtml=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r=this;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={data:t,options:{headers:{"Content-Type":"text/plain"},simpleRequestForced:!0},success:function(e){return r._documentService.convertComponents(e)},error:function(e){throw e}},n=this._convertedHtmlAPI+"?documentWidth="+this._documentWidth+"&userId="+this._userId,e.next=4,Ao.a.post(n,o);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._getUrlLinkValue=function(e){var t=e.filter(function(e){return"text"===e.ctype&&e.isOnlyUrlLink()});if(1===t.length)return t[0].getText().getFirstParagraph().getFirstNode().value},t._getDataURIImage=function(e){if(1!==e.length)return[];var t=e[0];return"image"===t.ctype&&Zi.a.isDataURIImage(t.src)?t.src:void 0},e}(),zT=FT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/copy-paste-service.js",localName:t}})}catch(e){}}e(FT,"CopyPasteService"),e(zT,"default")}();var WT=o(674),VT=o(666),GT=function(){function e(){this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._domAccessor=u.U.get("domAccessor")}var t=e.prototype;return t.execute=function(e){e.targetComp,e.targetStore,e.viewportProps},t._getObjectInsertDirection=function(e,t){var o=e.clientY,n=this._domAccessor.getComponentElement(t.id),r=n.getBoundingClientRect().top,i=n.offsetHeight/2+r,a=o<i,s=this._isOnGrayZone(n,i,o);if(a){var c=o<r;return{direction:u.x.TOP,grayZonePlaced:s,isOnEdge:c}}var l=o>r+n.offsetHeight;return{direction:u.x.BOTTOM,grayZonePlaced:s,isOnEdge:l}},t._isOnGrayZone=function(e,t,o){var n=.3*e.offsetHeight;return t-n<o&&t+n>o},t._isItemBottom=function(e,t){var o=this._componentListStore.getPrevComponent(e);return!!o&&t.some(function(t){return t===e.id||o&&t===o.id})},t._isItemTop=function(e,t){var o=this._componentListStore.getNextComponent(e);return t.some(function(t){return t===e.id||o&&t===o.id})},e}(),HT=GT,qT=HT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/abstract-drag-and-drop-command.js",localName:t}})}catch(e){}}e(GT,"AbstractDragAndDropCommand"),e(HT,"default")}();var JT=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.type,o=e.items,n=e.dropPoint,r=this._selectionInfoStore,i=r.start,a=r.end,s=["external-file","aside","template","library"].includes(t),c=this._componentListStore.isBackward(i,n),l=this._componentListStore.isBackward(n,a);return!s&&c&&l?null:{type:t,items:o,insertCommand:"text",insertPoint:n,direction:u.x.TEXT}},t}(qT),KT=JT,YT=KT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/text-drag-and-drop-command.js",localName:t}})}catch(e){}}e(JT,"TextDragAndDropCommand"),e(KT,"default")}();var XT=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.type,o=e.items,n=e.dropPoint;return o.every(function(e){return!e.attributes||"text"!==e.attributes.drop})?null:Object(ct.a)(this._selectionInfoStore.start,n)||Object(ct.a)(this._selectionInfoStore.end,n)?null:{type:t,items:o,insertCommand:"only-text",insertPoint:n,direction:u.x.TEXT}},t}(qT),QT=XT,ZT=QT;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/only-text-drag-and-drop-command.js",localName:t}})}catch(e){}}e(XT,"OnlyTextDragAndDropCommand"),e(QT,"default")}();var $T=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.viewportProps,o=e.type,n=e.items,r=e.dropPoint,i=e.targetComp,a=e.isInsideType,s=this._getObjectInsertDirection(t,i).direction,c=a?Object.keys(this._selectionInfoStore.compIdMap):[];return s===u.x.TOP?this._componentListStore.isFirstComponent(n[0])?null:this._isItemBottom(i,c)?null:{type:o,items:n,insertPoint:r,insertCommand:"prepend",direction:s}:s===u.x.BOTTOM?this._isItemTop(i,c)?null:{type:o,items:n,insertPoint:r,insertCommand:"append",direction:s}:void 0},t}(qT),eL=$T,tL=eL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/object-drag-and-drop-command.js",localName:t}})}catch(e){}}e($T,"ObjectDragAndDropCommand"),e(eL,"default")}();var oL=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.type,o=e.items,n=e.dropPoint,r=e.targetComp,i=e.viewportProps,a=e.isInsideType,s=Ja()(e,["type","items","dropPoint","targetComp","viewportProps","isInsideType"]),c=this._getObjectInsertDirection(i,r),l=c.direction,p=c.isOnEdge,d=c.grayZonePlaced,h={type:t,items:o},f=a?Object.keys(this._selectionInfoStore.compIdMap):[],m=this._isComponentIncluded(r,f),g=l===u.x.TOP&&this._isItemBottom(r,f),y=l===u.x.BOTTOM&&this._isItemTop(r,f);if((g||y)&&!m&&!1===("image"===t&&d)&&!(1===o.length&&o[0].id!==f[0]))return null;var b=r.queryDragAndDrop(rt()({type:t,items:o,viewportProps:i,dropPoint:n,insertDirection:l,itemIds:f,focus:this._selectionInfoStore.focus,isOnEdge:p},s));return b?(h.insertPoint=b.insertPoint,h.insertCommand=b.insertCommand,h.direction=b.direction,h):null},o._isComponentIncluded=function(e,t){return t.some(function(t){return t===e.id})},t}(qT),nL=oL,rL=nL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/query-drag-and-drop-command.js",localName:t}})}catch(e){}}e(oL,"QueryDragAndDropCommand"),e(nL,"default")}();var iL,aL={},sL={getCommand:function(e){if(aL[e])return aL[e];var t=this._createInstance(e);return aL[e]=t,t},destroy:function(){Object(r.a)(aL,function(e,t){aL[t]=null})},_createInstance:function(e){switch(e){case"text":return new YT;case"only-text":return new ZT;case"query":return new rL;case"object":default:return new tL}}},cL=sL,lL=cL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/drag-and-drop/index.js",localName:t}})}catch(e){}}e(aL,"instanceMap"),e(sL,"DragAndDrop"),e(cL,"default")}();var uL=(iL=function(){function e(){this._i18n=u.U.get("i18n"),this._configAgent=u.U.get("configAgent"),this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._virtualEditable=u.U.get("virtualEditable"),this._domAccessor=u.U.get("domAccessor"),this._dragAndDropStore=u.U.get("dragAndDropStore"),this._themeStore=u.U.get("themeStore"),this._componentFactory=u.U.get("componentFactory"),this._prevDragOverPosition={},this._dragGhost=u.U.get("dragGhost"),this._dragEnterCount=0}var t=e.prototype;return t.destroy=function(){lL.destroy()},t.getBackgroundImageData=function(e){var t=this._configAgent.get("editorInfo"),o=this._configAgent.get("infraInfo.photoInfra.imageHost"),n=e.animatedCnt>1?"animated":"normal";return this._componentFactory.createComponentWithCompData({ctype:"image",src:""+o+e.url+"?type="+t.thumbnailType.normal,internalResource:!0,caption:null,domain:o,path:e.path+"/"+e.fileName,displayFormat:n,format:n,width:parseInt(e.width,10),height:parseInt(e.height,10),fileSize:parseInt(e.fileSize,10),allowVR360OrPanorama:!1})},t.reset=function(){this._dragEnterCount=0,this._dragAndDropStore.reset()},t.setItem=function(e,t){this._dragAndDropStore.setItem(e,t),this._dragAndDropStore.progress="dragging"},t.dragStart=function(e){var t=e.event,o=e.items,n=e.type,r=e.useNativeGhost,i=e.dropCallback,a=n||this._getDragType(o);this._dragAndDropStore.setItems(o,a,i),this._dragAndDropStore.progress="start",this._dragGhost.start({event:t,items:o,type:a,useNativeGhost:r,themeName:this._themeStore.themeName,isInsideType:this._dragAndDropStore.isInsideType,callback:this._dragGhostStartCallback})},t._dragGhostStartCallback=function(e){e.dataTransfer.setDragImage||this.hideIENativeDragGhost(e.target)},t.dragEnter=function(e){"none"===this._dragAndDropStore.progress&&(this._setExternalContents(e),this._dragAndDropStore.progress="start",this._virtualEditable.dragStart()),this._dragEnterCount++},t.dragLeave=function(){this._dragEnterCount--,0===this._dragEnterCount&&this._dragAndDropStore.isExternalType&&(this._virtualEditable.dragEnd(),this.reset())},t.dragOver=function(e,t){if(this._dragGhost.updatePosition(e),t)if("external-complex"!==this._dragAndDropStore.type){var o=this._getCommandParams(e);if(!this._isSamePosition(e)&&null!==o){var n=lL.getCommand(Object(J.a)(o.targetStore,"attributes.drop")).execute(o);n?this._drag(n):this._hideDropIndicator()}}else this._hideDropIndicator()},t._setExternalContents=function(e){e&&(Object(WT.a)(e.types,"Files")>-1?this._dragAndDropStore.setItem({ctype:"externalFile"},"external-file"):this._dragAndDropStore.setItem({ctype:"externalContents"},"external-complex"))},t._hideDropIndicator=function(){this._dragAndDropStore.progress="undroppable",this._virtualEditable.hideDropIndicator()},t._drag=function(e){var t=e.direction,o=e.insertPoint;this._dragAndDropStore.progress="dragging",this._dragAndDropStore.dropPosition=this._modulateDropPosition({direction:t,point:o}),t===u.x.TEXT?this._virtualEditable.showDropIndicator():this._virtualEditable.hideDropIndicator()},t._modulateDropPosition=function(e){var t=e.direction,o=e.point;if(t===u.x.DOCUMENT_BACKGROUND)return{direction:t,point:{compId:o.compId,unitId:o.compId}};if(t!==u.x.BOTTOM)return e;var n=this._componentListStore.getNextComponentById(o.compId);return n?(o.compId=n.id,o.unitId=n.id,{direction:u.x.TOP,point:o}):{direction:u.x.CANVAS_BOTTOM,point:null}},t._isSamePosition=function(e){var t={screenX:e.screenX,screenY:e.screenY};return!0===Object(ct.a)(this._prevDragOverPosition,t)||(this._prevDragOverPosition=t,!1)},t.drop=function(e){this._dragGhost.end();var t=this._dragAndDropStore,o=t.type,n=t.items,r=t.dropCallback,i=this._getCommandParams(e);if(i){var a=["aside","library","template"].includes(o)?this._generateComponentStoreList(n):n;i.items=a,this.reset();var s=this._shouldSkipDrop(i,o);if(s.skipDrop)return s;var c=lL.getCommand(Object(J.a)(i.targetStore,"attributes.drop")).execute(i);if(c){var l=rt()({items:c.items||i.items,targetCtype:i.targetComp.ctype,targetCompId:i.targetComp.id},c);return r&&r(l),l}return null}},t.filterImageFiles=function(e){if("external-file"===this._dragAndDropStore.type){var t=this._filterExternalFiles(e);return this._updateImageFilesToItem(t.imageFiles),t}},t._shouldSkipDrop=function(e,t){if(null===e||0===e.items.length)return{skipDrop:!0};var o=e.dropPoint,n=e.items;return"text"===t&&this._hasInlineImageOnly(n)&&this._hasDropCap(o)?{skipDrop:!0,errorMsg:this._i18n("textComponent:can_not_insert_point_in_dropcap")}:"external-complex"===t?{skipDrop:!0}:{skipDrop:!1}},t._hasInlineImageOnly=function(e){return e.filter(function(e){return"text"===e.attributes.insertion}).some(function(e){return e.hasInlineImageOnly()})},t._hasDropCap=function(e){var t=e.compId,o=e.paraId,n=this._componentListStore.getComponentById(t);return"text"===n.attributes.insertion&&n.hasDropCapInParagraph(o)},t._getCommandParams=function(e){var t=this._virtualEditable.getCurrentCursorPosition();if(!t)return null;var o=t.start,n=this._componentListStore.getComponentById(o.compId);if(!n)return null;var r=this._dragAndDropStore,i=r.items,a=r.type,s=r.dropPosition,c=r.isInsideType,l=["library","aside"].includes(a)&&i.length&&"image"===i[0].ctype,p="external-file"===a||l;return{viewportProps:e,items:i,type:a,dropPoint:o,targetComp:n,targetStore:"documentTitle"===n.ctype&&p||s.direction===u.x.CANVAS_BOTTOM?n:n.getStoreById(o.unitId),isInsideType:c}},t._generateComponentStoreList=function(e){var t=this;return e.map(function(e){return t._componentFactory.createComponentWithCompData(e)})},t._getDragType=function(e){var t=e&&e.length||0,o=["text","sectionTitle"],n=["oembed"],r=Object(zg.a)(e,function(e){return!o.includes(e.ctype)}),i=Object(zg.a)(e,function(e){return n.includes(e.ctype)});return r?i?"iframe":1===t?"image"===e[0].ctype?"image":"object":"complex":"text"},t._updateImageFilesToItem=function(e){this._dragAndDropStore.setItems(e,"external-file")},t._filterExternalFiles=function(e){var t=[],o=[],n=e.files,i=this._configAgent.get("infraConfig.image.acceptExt")||VT.a.DEFAULT_IMAGE_ACCEPT_LIST;return Object(r.a)(n,function(e){VT.a.isAcceptable(e,i)?o.push(e):t.push(e)}),{imageFiles:o,nonImageFiles:t}},t._trickyRefreshDOM=function(e){var t=e.cloneNode(!0);Array.from(t.querySelectorAll(".se-toolbar")).forEach(function(e){e.parentElement.removeChild(e)});var o=e.style.display;e.parentNode.insertBefore(t,e),e.style.display="none",window.setTimeout(function(){e.parentNode.removeChild(t),e.style.display=o},0)},t._getRefreshTargetFromSelection=function(){var e=Object.keys(this._selectionInfoStore.compIdMap);if(e.length>0){var t=this._domAccessor.getComponentElement(e[0]);return 1===e.length?t:t.parentNode}},t.hideIENativeDragGhost=function(e){var t=this._dragAndDropStore.isOutsideType?e:this._getRefreshTargetFromSelection();t&&this._trickyRefreshDOM(t)},t.isAleadyDragStart=function(){return"start"===this._dragAndDropStore.progress},t.isDragging=function(){return this._dragAndDropStore.isDragging},t.isUpdateReadySelection=function(){return this._dragAndDropStore.updateReadySelection},t.setUpdateReadySelection=function(e){this._dragAndDropStore.updateReadySelection=e},t.disable=function(){this._dragAndDropStore.disable()},t.enable=function(){this._dragAndDropStore.enable()},e}(),q()(iL.prototype,"_dragGhostStartCallback",[ee.autobind],Object.getOwnPropertyDescriptor(iL.prototype,"_dragGhostStartCallback"),iL.prototype),iL),pL=uL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/drag-and-drop-service.js",localName:t}})}catch(e){}}e(uL,"DragAndDropService"),e(pL,"default")}();var dL=function(){function e(){this._configAgent=u.U.get("configAgent"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._componentListStore=u.U.get("componentListStore"),this._componentFactory=u.U.get("componentFactory"),this._virtualEditable=u.U.get("virtualEditable"),this._isMobile="mobile"===this._configAgent.get("productEnv.deviceType");var e=this._configAgent.get("productConfig.scroll.targetElement");this._autoScroll=this._isMobile||e&&e===document.body?u.U.get("scrollBody"):u.U.get("scrollCanvas"),this._documentOverflows=[]}var t=e.prototype;return t.focusTitle=function(){var e=this._componentListStore.getComponentByCtype("documentTitle");if(e){var t=e.getFirstTextSelection();this._selectionInfoStore.setRange(t)}},t.focusFirstText=function(){var e=this._componentListStore.getComponentByCtype("text")||this._componentListStore.getComponentByCtype("sectionTitle");if(e){var t=e.getFirstTextSelection();this._selectionInfoStore.setRange(t)}},t.focusToInitialCursorIndex=function(){var e=this,t=Number(this._configAgent.get("productConfig.scroll.initialFocusIndex"));Number.isInteger(t)&&this._componentListStore.getComponentByIndex(t)?this.focusToCompByIndex(t):this.focusToFirstComp(),this._isMobile&&setTimeout(function(){e._virtualEditable.blur()},150)},t.focusToFirstComp=function(){var e=this._componentListStore.filter(function(e){return"documentTitle"!==e.ctype}),t=e[0];if(0===e.length){var o=this._componentFactory.createComponentByCtype("text");this._componentListStore.insertComponent(o),t=o}var n=t.getCompStartRange();this._selectionInfoStore.setRange(n)},t.focusToCompByIndex=function(e){var t=this._componentListStore.getComponentByIndex(e).getCompStartRange();this._selectionInfoStore.setRange(t)},t.moveToComponentById=function(e){var t=this._componentListStore.getComponentById(e);this._selectionInfoStore.setRange(t.getCompStartRange()),this.scrollToFocus(!0)},t.moveCursorTo=function(e,t){this._virtualEditable.moveCursor(e,t),this.scrollToFocus()},t.extendCursorTo=function(e,t){this._virtualEditable.extendCursor(e,t),this.scrollToFocus()},t.refreshCursorWithScroll=function(){this._virtualEditable.refresh(),this.scrollToFocus()},t.scrollToFocus=function(e){this._virtualEditable.scrollToFocus(e)},t.scrollToClientRect=function(e,t){this._virtualEditable.scrollToClientRect(e,t)},t.forceStopAutoScroll=function(){this._autoScroll&&this._autoScroll.forceStopAutoScroll()},t.scrollPage=function(e){this._autoScroll&&this._autoScroll.scrollPage(e)},t.shouldPositionFixedPhotoEditor=function(){return this._shouldHideWindowScroll()},t._shouldHideWindowScroll=function(){var e=this._configAgent.get("productConfig.layoutType").toLowerCase()===u.H.EMBED,t=u.U.get("domAccessor").getScrollTarget(document.body)===document.body;return e||t},t.hideWindowScroll=function(){this._shouldHideWindowScroll()&&(this._documentOverflows.push(document.documentElement.style.overflow),document.documentElement.style.overflow="hidden")},t.restoreWindowScroll=function(){this._documentOverflows.length<1||(document.documentElement.style.overflow=this._documentOverflows.pop())},e}(),hL=dL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/canvas-scrolling-service.js",localName:t}})}catch(e){}}e(dL,"CanvasScrollingService"),e(hL,"default")}();var fL=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this._domAccessor=u.U.get("domAccessor"),this._documentToolbarLayoutService=u.U.get("documentToolbarLayoutService")}var t=e.prototype;return t._getEditorWrapper=function(){return this._domAccessor.getBodyContainer()},t.isInsideEditorWrapper=function(e){return this._getEditorWrapper().contains(e)},t._getOutsideTabbable=function(){return this._outsideTabbable||(this._outsideTabbable=sc.a.getTabbableNearby(this._getEditorWrapper())),this._outsideTabbable},t.focusToOutsidePrevTabbable=function(){this._virtualEditable.blur(),this._getOutsideTabbable().prev.focus()},t.focusToOutsideNextTabbable=function(){this._virtualEditable.blur(),this._getOutsideTabbable().next.focus()},t.focusToEditable=function(){this._virtualEditable.focus()},t.focusToToolbar=function(){this._virtualEditable.blur(),this._documentToolbarLayoutService.focusFirstButton()},e}(),mL=fL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/a11y-service.js",localName:t}})}catch(e){}}e(fL,"A11yService"),e(mL,"default")}();var gL,yL,bL,_L,vL,CL,SL,OL,kL=o(254),IL=o.n(kL),wL=o(770),PL=o(104),jL=o(982),TL=(gL=K.g.ref,yL=K.g.ref,bL=function(e){function t(t){var o;return void 0===t&&(t={}),o=e.call(this,t)||this,W()(o,"start",_L,G()(o)),W()(o,"end",vL,G()(o)),W()(o,"shouldBlur",CL,G()(o)),W()(o,"compIdMap",SL,G()(o)),W()(o,"handle",OL,G()(o)),o.imeOffset=0,o._anchorRef="start",o._componentListStore=u.U.get("componentListStore"),o.start=Object(Fg.a)(o.start,t.start),o.end=Object(Fg.a)(o.end,t.end),o.compIdMap=Object(Fg.a)(o.compIdMap,t.compIdMap),o.handle="boolean"==typeof t.handle?t.handle:o.handle,o.imeOffset=Object(Fg.a)(o.imeOffset,t.imeOffset),o}h()(t,e);var o=t.prototype;return o.setRange=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=!1),"object"==typeof e&&(e.start||e.end)){this._setRange(e,t);var o=this._findSelectCompIdsFromRange(this.start,this.end);this._updateSelectedCompMap(o)}},o.setFocus=function(e){this._setFocus(e);var t=this._findSelectCompIdsFromRange(this.start,this.end);this._updateSelectedCompMap(t)},o.setAnchor=function(e){this._setAnchor(e);var t=this._findSelectCompIdsFromRange(this.start,this.end);this._updateSelectedCompMap(t)},o.setAnchorAndFocus=function(t){var o=void 0===t?{}:t,n=o.anchor,r=o.focus;e.prototype.setAnchorAndFocus.call(this,{anchor:n,focus:r});var i=this._findSelectCompIdsFromRange(this.start,this.end);this._updateSelectedCompMap(i)},o.select=function(e){this._select(e)},o.selectUnit=function(e){var t=e.compId,o=e.unitId;this.setRange({start:{compId:t,unitId:o,paraId:null,nodeId:null,offset:0},end:{compId:t,unitId:o,paraId:null,nodeId:null,offset:1}})},o.toggleSelect=function(e){if(!1===this.isComponentMode()){var t=[e];this._select(t)}else if(this.isSelected(e))this._deselect(e);else{var o=this._getSelectedIds().concat(e);this._select(o)}},o.isSelected=function(e){return this.compIdMap[e]},o.setShouldBlur=function(e){void 0===e&&(e=!1),this.shouldBlur=e},o._findSelectCompIdsFromRange=function(e,t){void 0===e&&(e={}),void 0===t&&(t={});var o=this._componentListStore.getComponentIds()||[],n=o.indexOf(e.compId),r=o.indexOf(t.compId);return o.slice(n,r+1)},o._updateSelectedCompMap=function(e){var t=this,o={};e.forEach(function(e){var n=t._componentListStore.getComponentById(e),r=n.ctype;o[e]={ctype:r,isComponentSelectable:n.isSelectable}}),this.compIdMap=o},o._select=function(e){this._updateSelectedCompMap(e);var t=this._findStartAndEnd(e),o=t.start,n=t.end;this.setStart(o),this.setEnd(n)},o._deselect=function(e){if(1!==Object.keys(this.compIdMap).length||!this.isSelected(e)){this._removeIdInCompIdMap(e);var t=this._findStartAndEnd(this._getSelectedIds()),o=t.start,n=t.end;this.setStart(o),this.setEnd(n)}},o._getSelectedIds=function(){return Object.keys(this.compIdMap)},o._removeIdInCompIdMap=function(e){this.compIdMap[e]=void 0,delete this.compIdMap[e]},o._findStartAndEnd=function(e){var t=this,o=this._componentListStore.getCompListLength(),n=0;e.forEach(function(e){t._componentListStore.forEach(function(t,r){e===t.id&&(o>r&&(o=r),n<r&&(n=r))})});var r=this._componentListStore.getComponentByIndex(o),i=this._componentListStore.getComponentByIndex(n);return{start:r?r.getStartPoint():i.getStartPoint(),end:i?i.getEndPoint():r.getEndPoint()}},o.toValidJSON=function(){return{start:K.f.toJS(this.start),end:K.f.toJS(this.end),compIdMap:this.compIdMap,imeOffset:this.imeOffset,collapsed:this.collapsed,mode:this.mode,anchor:K.f.toJS(this.anchor),focus:K.f.toJS(this.focus),isUnitSelected:this.isUnitSelected}},o.toPlainJSON=function(){return{start:K.f.toJS(this.start),end:K.f.toJS(this.end),compIdMap:this.compIdMap,imeOffset:this.imeOffset,collapsed:this.collapsed,mode:this.mode,anchor:K.f.toJS(this.anchor),focus:K.f.toJS(this.focus),isUnitSelected:this.isUnitSelected}},o.reaction=function(e,t){var o=this;K.f.reaction(function(){return{start:o.start,end:o.end}},e,t)},t}(jL.a),_L=q()(bL.prototype,"start",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{compId:null,unitId:null,paraId:null,nodeId:null,offset:0}}}),vL=q()(bL.prototype,"end",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{compId:null,unitId:null,paraId:null,nodeId:null,offset:0}}}),CL=q()(bL.prototype,"shouldBlur",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),SL=q()(bL.prototype,"compIdMap",[gL],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),OL=q()(bL.prototype,"handle",[yL],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q()(bL.prototype,"setRange",[K.d],Object.getOwnPropertyDescriptor(bL.prototype,"setRange"),bL.prototype),q()(bL.prototype,"setFocus",[K.d],Object.getOwnPropertyDescriptor(bL.prototype,"setFocus"),bL.prototype),q()(bL.prototype,"setAnchor",[K.d],Object.getOwnPropertyDescriptor(bL.prototype,"setAnchor"),bL.prototype),q()(bL.prototype,"setAnchorAndFocus",[K.d],Object.getOwnPropertyDescriptor(bL.prototype,"setAnchorAndFocus"),bL.prototype),q()(bL.prototype,"select",[K.d],Object.getOwnPropertyDescriptor(bL.prototype,"select"),bL.prototype),q()(bL.prototype,"selectUnit",[K.d],Object.getOwnPropertyDescriptor(bL.prototype,"selectUnit"),bL.prototype),q()(bL.prototype,"toggleSelect",[K.d],Object.getOwnPropertyDescriptor(bL.prototype,"toggleSelect"),bL.prototype),bL),LL=TL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/selection-info-store.js",localName:t}})}catch(e){}}e(TL,"SelectionInfoStore"),e(LL,"default")}();var EL={},NL=function(){function e(){this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore")}e.getInstance=function(){var e=EL[this.name];return e||(e=new(Function.prototype.bind.apply(this)),EL[this.name]=e,e)};var t=e.prototype;return t.execute=function(e,t){},t._getSourceComponentsRange=function(e){return{start:this._getSourceComponentsStartPoint(e),end:this._getSourceComponentsEndPoint(e)}},t._getSourceComponentsStartPoint=function(e){return Object(mo.a)(e).getCompStartPoint()},t._getSourceComponentsEndPoint=function(e){return Object(kc.a)(e).getCompEndPoint()},e}(),xL=NL,DL=xL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/abstract-insertion-command.js",localName:t}})}catch(e){}}e(EL,"instanceMap"),e(NL,"AbstractInsertionCommand"),e(xL,"default")}();var RL={REPLACE_EMPTY_TEXT:"replace_empty_text",REPLACE_EMPTY_PARA:"replace_empty_para",PREPEND_TO_TEXT:"prepend_to_text",PREPEND_TO_PARA:"prepend_to_para",SPLIT:"split",APPEND_TO_PARA:"append_to_para",APPEND_TO_TEXT:"append_to_text"},AL=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.sourceComponents,o=e.selectionInfo,n=e.disableMerge,r=void 0!==n&&n,i=o.start;this._hasDropCap(i)&&this._filterTextNodeInComp(t);var a=this._getSourceComponentsRange(t),s=this._splitTextComponent(i),c=s.frontTextComp,l=s.backTextComp,u=this._determineInsertionType(c,l),p=this._componentListStore.getComponentIndex(c.id),d=!1;switch(u){case RL.REPLACE_EMPTY_TEXT:this._componentListStore.replaceBetween(c,l,t);break;case RL.REPLACE_EMPTY_PARA:this._componentListStore.insertComponentAfter(c,t),c.isEmpty()?this._componentListStore.deleteComponentById(c.id):c.removeLastParagraph(),l.isEmpty()?this._componentListStore.deleteComponentById(l.id):l.removeFirstParagraph();break;case RL.PREPEND_TO_TEXT:this._componentListStore.deleteComponentById(c.id);var h=this._prependSourcesToBackTextComp(l,t);Object.assign(a,h);break;case RL.PREPEND_TO_PARA:c.removeLastParagraph();var f=this._prependSourcesToBackTextComp(l,t);Object.assign(a,f);break;case RL.SPLIT:d=this._isFirstListComp(t),a=this._splitInsertion(c,l,t);break;case RL.APPEND_TO_PARA:l.removeFirstParagraph(),d=this._isFirstListComp(t);var m=this._appendSourcesToFrontTextComp(c,t,r);Object.assign(a,m);break;case RL.APPEND_TO_TEXT:this._componentListStore.deleteComponentById(l.id),d=this._isFirstListComp(t);var g=this._appendSourcesToFrontTextComp(c,t,r);Object.assign(a,g)}return d&&(a.start=this._refineApppendPoint(p,a.start)),a},o._filterTextNodeInComp=function(e){e.forEach(function(e){"text"===e.attributes.insertion&&e.hasInlineImageInParagraph()&&e.stripOffNonTexts()})},o._hasDropCap=function(e){var t=e.compId,o=e.paraId,n=this._componentListStore.getComponentById(t);return"text"===n.attributes.insertion&&n.hasDropCapInParagraph(o)},o._splitTextComponent=function(e){var t=this._componentListStore.splitComponentByPoint(e);return{frontTextComp:t.front,backTextComp:t.back}},o._determineInsertionType=function(e,t){var o=t.isEmpty(),n="wrappingParagraph"===e.ctype;if(n&&o)return RL.APPEND_TO_TEXT;if(n)return RL.SPLIT;var r=e.isEmpty(),i=e.isLastParagraphEmpty(),a=t.isFirstParagraphEmpty(),s=e.getLastParagraph().isListParagraph(),c=i&&!s;return r&&o?RL.REPLACE_EMPTY_TEXT:c&&a?RL.REPLACE_EMPTY_PARA:r?RL.PREPEND_TO_TEXT:o?RL.APPEND_TO_TEXT:c?RL.PREPEND_TO_PARA:a?RL.APPEND_TO_PARA:RL.SPLIT},o._prependSourcesToBackTextComp=function(e,t){var o=e.prepend(t),n=o.components,r=o.point;return this._componentListStore.replace(e,n),1===n.length?{start:e.getCompStartPoint(),end:r}:{end:r}},o._splitInsertion=function(e,t,o){var n,r=e.getParagraphsLength(),i=t.getParagraphsLength(),a=e.append(o),s=a.components,c=a.point;1===s.length&&(n=e.getOffsetInParagraph(c));var l=t.prepend(s),u=l.components,p=l.point;if(this._componentListStore.replaceBetween(e,t,u),1===u.length){c.compId=p.compId,c.unitId=p.unitId;var d=u[0];if(r+i>d.getParagraphsLength()){c.paraId=p.paraId;var h=d.getNodeInfoAfterOffset(c,n),f=h.node,m=h.offset;c.nodeId=f.id,c.offset=m}}return{start:c,end:p}},o._isFirstListComp=function(e){var t=e&&e.length>0?e[0]:null,o=t&&"text"===t.ctype?t.getFirstParagraph():null;return!!o&&o.isListParagraph()},o._refineApppendPoint=function(e,t){var o=this._componentListStore.getComponentByIndex(e);if("text"!==o.ctype&&"wrappingParagraph"!==o.ctype)return t;var n=o.getText(),r=n.getParagraphById(t.paraId),i=n.getNextParagraph(t.paraId);return!1===r.isEmpty()?t:(n.removeParagraph(t.paraId),Object(xf.a)(t,i.getStartPoint()))},o._appendSourcesToFrontTextComp=function(e,t,o){var n=e.append(t,o),r=n.components,i=n.point;return this._componentListStore.replace(e,r),1===r.length?{start:i,end:e.getCompEndPoint()}:{start:i}},t}(DL),UL=AL,ML=UL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/text-insertion-command.js",localName:t}})}catch(e){}}e(RL,"TextInsertionType"),e(AL,"TextInsertionCommand"),e(UL,"default")}();var BL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.sourceComponents,o=e.selectionInfo.end,n=this._componentListStore.getComponentById(o.compId);return this._componentListStore.insertComponentAfter(n,t),this._getSourceComponentsRange(t)},t}(DL),FL=BL,zL=FL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/append-insertion-command.js",localName:t}})}catch(e){}}e(BL,"AppendInsertionCommand"),e(FL,"default")}();var WL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.sourceComponents,o=e.selectionInfo.start,n=this._componentListStore.getComponentById(o.compId);return this._componentListStore.insertComponentBefore(n,t),this._getSourceComponentsRange(t)},t}(DL),VL=WL,GL=VL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/prepend-insertion-command.js",localName:t}})}catch(e){}}e(WL,"PrependInsertionCommand"),e(VL,"default")}();var HL=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.sourceComponents,o=e.selectionInfo,n=o.start,r=o.end,i=n.compId,a=this._componentListStore.getComponentById(i).getStoreById(n.unitId),s=this._getOnlyTextFrom(t);if(!s||s.isEmpty())return{start:n,end:r};var c=a.mergeWith(s,{mergePoint:n,isAttach:!0});return c.start.compId=i,c.end.compId=i,c},o._getOnlyTextFrom=function(e){var t=null;return e.forEach(function(e){if("text"===e.attributes.insertion){var o=e.filterOnlyTexts();t?t.append(o):t=o}}),t},t}(DL),qL=HL,JL=qL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/only-text-insertion-command.js",localName:t}})}catch(e){}}e(HL,"OnlyTextInsertionCommand"),e(qL,"default")}();var KL=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.sourceComponents,o=e.selectionInfo,n=e.additionalInfo,r=o.start,i=this._componentListStore.getComponentById(r.compId),a=i.merge(t,r,n),s=a.components,c=a.range;if(this._componentListStore.replace(i,s),c)return c;if(1!==s.length)return this._getSourceComponentsRange(t);var l=s[0];return{start:l.getCompStartPoint(),end:l.getCompEndPoint()}},t}(DL),YL=KL,XL=YL;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/query-insertion-command.js",localName:t}})}catch(e){}}e(KL,"QueryInsertionCommand"),e(YL,"default")}();var QL={},ZL={getCommand:function(e){if(QL[e])return QL[e];var t=this._createInstance(e);return QL[e]=t,t},destroy:function(){Object(r.a)(QL,function(e,t){QL[t]=null})},_createInstance:function(e){switch(e){case"text":return new ML;case"only-text":return new JL;case"query":return new XL;case"prepend":return new GL;case"append":case"inline-image-allowed-append":default:return new zL}}},$L=ZL,eE=$L;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/insert/index.js",localName:t}})}catch(e){}}e(QL,"instanceMap"),e(ZL,"Insertion"),e($L,"default")}();var tE=function(){function e(){this._componentListStore=u.U.get("componentListStore"),this._componentFactory=u.U.get("componentFactory"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._styleStore=u.U.get("styleStore"),this._configAgent=u.U.get("configAgent"),this._themeStore=u.U.get("themeStore")}var t=e.prototype;return t.execute=function(e,t){},t._insertEmptyTextComp=function(e){var t=this._componentFactory.createComponentByCtype("text");return this._inheritStyle(e,t),this._componentListStore.insertComponentAfter(e,t),t.getCompStartRange()},t._inheritStyle=function(e,t){this._inheritAlign(e,t),this._componentListStore.inheritTextStyle(e,t)},t._inheritAlign=function(e,t){var o=t.getCompStartRange();if("documentTitle"===e.ctype){var n=this._themeStore.getUserDefinedStyle(t.ctype);if(n&&n.align)return void t.changeAlign(n.align,o)}if(this._configAgent.get("productConfig.edit.followCurrentAlign")){var r=this._selectionInfoStore.toValidJSON(),i=this._componentListStore.getSelectedAlign(r).align;t.changeAlign(i,o)}},e}(),oE=tE,nE=oE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/abstract-line-break-command.js",localName:t}})}catch(e){}}e(tE,"AbstractLineBreakCommand"),e(oE,"default")}();var rE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t,o){var n=t.start,r=e.getComponentById(n.compId);if(r){var i=r.breakLine(t.start,{blockModeBefore:o}),a=rt()({},n,i);return{start:a,end:a}}},t}(nE),iE=rE,aE=iE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/line-break-in-paragraph-command.js",localName:t}})}catch(e){}}e(rE,"LineBreakInParagraphCommand"),e(iE,"default")}();var sE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.breakLine(t.start,{shiftEnter:!0}),i=rt()({},o,r);return{start:i,end:i}}},t}(nE),cE=sE,lE=cE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/soft-line-break-in-paragraph-command.js",localName:t}})}catch(e){}}e(sE,"SoftLineBreakInParagraphCommand"),e(cE,"default")}();var uE=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.U.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.getPositionByPoint(o),i=n.isEmpty();return r===Rf.d.TEXT_END||i?this._selectToNextComp(e,n):this._softLineBreak(n,o)}},o._selectToNextComp=function(e,t){var o=e.getNextComponent(t);return o?o.getComponentActiveRange():this._insertEmptyTextComp(t)},o._softLineBreak=function(e,t){var o=e.breakLine(t),n=rt()({},t,o);return{start:n,end:n}},t}(nE),pE=uE,dE=pE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/soft-and-select-to-next-at-end-command.js",localName:t}})}catch(e){}}e(uE,"SoftAndSelectToNextAtEndCommand"),e(pE,"default")}();var hE=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.U.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.getPositionByPoint(o),i=n.isEmpty();return r===Rf.d.TEXT_END||i?this._moveToNextText(e,n):this._softLineBreak(n,o)}},o._moveToNextText=function(e,t){var o=e.getNextComponent(t);return o&&["text","sectionTitle"].includes(o.ctype)?o.getCompStartRange():this._insertEmptyTextComp(t)},o._softLineBreak=function(e,t){var o=e.breakLine(t),n=rt()({},t,o);return{start:n,end:n}},t}(nE),fE=hE,mE=fE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/soft-and-move-to-next-text-at-end-command.js",localName:t}})}catch(e){}}e(hE,"SoftAndMoveToNextTextAtEndCommand"),e(fE,"default")}();var gE=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.U.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.getPositionByPoint(o),i=n.isEmpty();return r===Rf.d.TEXT_END||i?this._insertEmptyLine(e,n):this._hardLineBreak(e,o)}},o._insertEmptyLine=function(e,t){var o=e.getNextComponent(t);if(o&&"text"===o.ctype){var n=o.getFirstParagraph(),r=n.isListParagraph(),i=o.getStartPoint();if(o.breakLine(i),r){var a={start:{paraId:n.id},end:{paraId:n.id}};o.getText().updateStyle({list:"reset"},a)}return o.getCompStartRange()}return this._insertEmptyTextComp(t)},o._hardLineBreak=function(e,t){var o=e.splitComponentByPoint(t).back.getStartPoint(),n=rt()({},t,o);return{start:n,end:n}},t}(nE),yE=gE,bE=yE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/hard-and-insert-empty-line-at-end-command.js",localName:t}})}catch(e){}}e(gE,"HardAndInsertEmptyLineAtEndCommand"),e(yE,"default")}();var _E=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.U.get("componentFactory"),t}return h()(t,e),t.prototype.execute=function(e,t){var o=t.end,n=e.getComponentById(o.compId),r=e.getNextComponent(n);return r&&["text","sectionTitle"].includes(r.ctype)?r.getCompStartRange():this._insertEmptyTextComp(n)},t}(nE),vE=_E,CE=vE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/move-to-next-text-command.js",localName:t}})}catch(e){}}e(_E,"MoveToNextTextCommand"),e(vE,"default")}();var SE=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=u.U.get("componentFactory"),t}h()(t,e);var o=t.prototype;return o.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.getPositionByPoint(o),i=n.isEmpty();return r===Rf.d.TEXT_END||i?this._insertEmptyLine(e,n):r===Rf.d.TEXT_START?this._insertTextOnFront(e,n):this._splitToTextComp(e,o)}},o._insertEmptyLine=function(e,t){var o=e.getNextComponent(t);if(o&&"text"===o.ctype){var n=o.getStartPoint();return o.breakLine(n),o.getCompStartRange()}return this._insertEmptyTextComp(t)},o._insertTextOnFront=function(e,t){var o=this._componentFactory.createComponentByCtype("text");return e.insertComponentBefore(t,o),t.getCompStartRange()},o._splitToTextComp=function(e,t){var o=e.splitComponentByPoint(t).back,n=this._componentFactory.createComponentByCtype("text");return n.insert(o),n.removeFirstParagraph(),e.replace(o,n),n.getCompStartRange()},t}(nE),OE=SE,kE=OE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/disabled-command.js",localName:t}})}catch(e){}}e(SE,"DisabledCommand"),e(OE,"default")}();var IE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t){var o=t.start,n=e.getComponentById(o.compId);if(n){var r=n.getNextUnit().getStartPoint();return r.compId=n.id,{start:r,end:r}}},t}(nE),wE=IE,PE=wE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/next-unit-command.js",localName:t}})}catch(e){}}e(IE,"NextUnitCommand"),e(wE,"default")}();var jE={},TE={getCommand:function(e){if(jE[e])return jE[e];var t=this._createInstance(e);return jE[e]=t,t},destroy:function(){Object(r.a)(jE,function(e,t){jE[t]=null})},_createInstance:function(e){switch(e){case"line-break-in-paragraph":return new aE;case"soft-line-break-in-paragraph":return new lE;case"soft-and-select-to-next-at-end":return new dE;case"soft-and-move-to-next-text-at-end":return new mE;case"hard-and-insert-empty-line-at-end":return new bE;case"disabled":return new kE;case"next-unit":return new PE;case"move-to-next-text":default:return new CE}}},LE=TE,EE=LE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/line-break/index.js",localName:t}})}catch(e){}}e(jE,"instanceMap"),e(TE,"LineBreak"),e(LE,"default")}();var NE={},xE=function(){function e(){this._componentListStore=u.U.get("componentListStore")}e.getInstance=function(){var e=NE[this.name];return e||(e=new(Function.prototype.bind.apply(this)),NE[this.name]=e,e)};var t=e.prototype;return t.execute=function(e,t,o){throw new Error("You should override 'execute' method")},t._getCurrentRange=function(e){return{start:e.start,end:e.end}},t._findNextRange=function(e,t){if(t===u.u.LEFT){var o=this._componentListStore.getPrevComponent(e);if(!o||"unerasable"===o.attributes.erasure)return;return o.getCompEndRange()}var n=this._componentListStore.getNextComponent(e);if(n)return n.getCompStartRange()},e}(),DE=xE,RE=DE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/abstract-erasure-command.js",localName:t}})}catch(e){}}e(NE,"instanceMap"),e(xE,"AbstractErasureCommand"),e(DE,"default")}();var AE={SELECT_PREV_COMP:"select_prev_comp",PREPEND_PREV_COMP:"prepend_prev_comp",ERASE_PART_TEXT:"erase_part_text",SELECT_NEXT_COMP:"select_next_comp",APPEND_NEXT_COMP:"append_next_comp",DELETE_PREV_COMP:"delete_prev_comp",NONE:"none"},UE=function(e){function t(){var t;return(t=e.call(this)||this)._virtualEditable=u.U.get("virtualEditable"),t}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.targetComp,o=e.selectionInfo,n=e.direction;switch(this._determineErasureType(t,o,n)){case AE.SELECT_PREV_COMP:return this._selectPrevComp(t);case AE.PREPEND_PREV_COMP:return this._prependPrevComp(t);case AE.DELETE_PREV_COMP:return this._deletePrevComp(t);case AE.ERASE_PART_TEXT:return this._erasePartText(t,o,n);case AE.SELECT_NEXT_COMP:return this._selectNextComp(t);case AE.APPEND_NEXT_COMP:return this._appendNextComp(t);case AE.NONE:return this._getCurrentRange(o)}},o._determineErasureType=function(e,t,o){var n=t.start;if(!t.collapsed)return AE.ERASE_PART_TEXT;var r=e.getPositionByPoint(n),i="LEFT"===o&&(e.isEmpty()||r===Rf.d.TEXT_START),a="RIGHT"===o&&(e.isEmpty()||r===Rf.d.TEXT_END),s=e.getText().isListParagraphByPoint(n);if(i){var c=this._componentListStore.getPrevComponent(e);if(!c||"documentTitle"===c.ctype||s)return AE.ERASE_PART_TEXT;if("unerasable"===c.attributes.erasure)return AE.NONE;var l="text"===c.attributes.erasure;return l&&!c.isEmpty()?AE.PREPEND_PREV_COMP:l&&c.isEmpty()?AE.DELETE_PREV_COMP:AE.SELECT_PREV_COMP}if(a){var u=this._componentListStore.getNextComponent(e);return u?"text"===u.attributes.erasure?AE.APPEND_NEXT_COMP:AE.SELECT_NEXT_COMP:AE.NONE}return AE.ERASE_PART_TEXT},o._selectPrevComp=function(e){var t=this._componentListStore.getPrevComponent(e);return e.isEmpty()?this._componentListStore.deleteComponentById(e.id):e.isFirstParagraphEmpty()&&e.removeFirstParagraph(),t.getComponentActiveRange()},o._prependPrevComp=function(e){var t=this._componentListStore.getPrevComponent(e),o=t.append([e]),n=o.components,r=o.point;return this._componentListStore.replaceBetween(t,e,n),{start:r,end:r}},o._deletePrevComp=function(e){var t=this._componentListStore.getPrevComponent(e);return this._componentListStore.deleteComponentById(t.id),{start:e.getStartPoint(),end:e.getStartPoint()}},o._erasePartText=function(e,t,o){return this._virtualEditable.appendAriaBufferOnErase(o),e.erase(t,o)},o._selectNextComp=function(e){var t=this._componentListStore.getNextComponent(e);return e.isEmpty()?this._componentListStore.deleteComponentById(e.id):e.isLastParagraphEmpty()&&e.removeLastParagraph(),t.getComponentActiveRange()},o._appendNextComp=function(e){var t=this._componentListStore.getNextComponent(e),o=e.append([t]),n=o.components,r=o.point;return this._componentListStore.replaceBetween(e,t,n),{start:r,end:r}},t}(RE),ME=UE,BE=ME;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/text-erasure-command.js",localName:t}})}catch(e){}}e(AE,"TextErasureType"),e(UE,"TextErasureCommand"),e(ME,"default")}();var FE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.targetComp,o=e.targetStore,n=e.selectionInfo,r=e.direction,i=n.start,a=n.collapsed,s="textUnit"===o.ctype?o:o.getText(),c=s.getFirstParagraph();if(o.isEmpty()&&!c.isListParagraph())return this._getCurrentRange(n);if(a){var l=o.getPositionByPoint(i),u=s.getFirstParagraph(),p=l===Rf.d.TEXT_END&&"RIGHT"===r;if((l===Rf.d.TEXT_START&&"LEFT"===r||p)&&!u.isListParagraph())return this._getCurrentRange(n)}var d=t.id,h=o.erase(n,r),f={start:{compId:d},end:{compId:d}};return Object(gs.a)(h,f)},t}(RE),zE=FE,WE=zE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/trapped-text-erasure-command.js",localName:t}})}catch(e){}}e(FE,"TrappedTextErasureCommand"),e(zE,"default")}();var VE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.targetComp,o=e.targetStore,n=e.selectionInfo,r=e.direction,i=n.start;if(n.collapsed){var a=o.getPositionByPoint(i),s=a===Rf.d.TEXT_END&&"RIGHT"===r;if(a===Rf.d.TEXT_START&&"LEFT"===r){var c=t.getPrevUnit().getEndPoint();return c.compId=t.id,{start:c,end:c}}if(s||o.isEmpty())return this._getCurrentRange(n)}var l=t.id,u=o.erase(n,r),p={start:{compId:l},end:{compId:l}};return Object(gs.a)(u,p)},t}(RE),GE=VE,HE=GE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/backward-escapable-text-erasure-command.js",localName:t}})}catch(e){}}e(VE,"BackwardEscapableTextErasureCommand"),e(GE,"default")}();var qE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.targetComp,o=e.direction,n=this._findNextRange(t,o);if(!n)if(o===u.u.LEFT){var r=this._componentListStore.getNextComponent(t);r&&(n=r.getCompStartRange())}else{var i=this._componentListStore.getPrevComponent(t);i&&"unerasable"!==i.attributes.erasure&&(n=i.getCompEndRange())}return this._componentListStore.deleteComponentById(t.id),n},t}(RE),JE=qE,KE=JE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/self-erasure-command.js",localName:t}})}catch(e){}}e(qE,"SelfErasureCommand"),e(JE,"default")}();var YE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.targetComp,o=e.selectionInfo,n=e.direction,r=this._findNextRange(t,n),i=t.queryErasure(o,n,r),a=i.result,s=i.component,c=i.range,l=this._componentListStore.getNextComponent(t);if("merge-if-text"===a){if(!l)return{start:o.start,end:o.end};if(l&&"text"===l.ctype){var p=t.append([l]),d=p.components,h=p.point;return this._componentListStore.replaceBetween(t,l,d),{start:h,end:h}}}if("self"===a){if(n===u.u.RIGHT){var f=this._componentListStore.getNextComponent(t);f&&(r=f.getCompStartRange())}else{var m=this._componentListStore.getPrevComponent(t);m&&"unerasable"!==m.attributes.erasure&&(r=m.getCompEndRange())}return this._componentListStore.deleteComponentById(t.id),r}return"replace"===a?(this._componentListStore.replace(t,s),c):c},t}(RE),XE=YE,QE=XE;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/query-erasure-command.js",localName:t}})}catch(e){}}e(YE,"QueryErasureCommand"),e(XE,"default")}();var ZE=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){return e.targetComp.getComponentActiveRange()},t}(RE),$E=ZE,eN=$E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/unerasable-erasure-command.js",localName:t}})}catch(e){}}e(ZE,"UnerasableErasureCommand"),e($E,"default")}();var tN,oN={},nN={getCommand:function(e){if(oN[e])return oN[e];var t=this._createInstance(e);return oN[e]=t,t},destroy:function(){Object(r.a)(oN,function(e,t){oN[t]=null})},_createInstance:function(e){switch(e){case"text":return new BE;case"trapped-text":return new WE;case"backward-escapable-text":return new HE;case"query":return new QE;case"confirm":case"unerasable":return new eN;case"self":default:return new KE}}},rN=nN,iN=rN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/erase/index.js",localName:t}})}catch(e){}}e(oN,"instanceMap"),e(nN,"Erasure"),e(rN,"default")}();var aN=["confirm","unerasurable"],sN=(tN=function(){function e(){var e=this;this._i18n=u.U.get("i18n"),this._configAgent=u.U.get("configAgent"),this._editorStatusStore=u.U.get("editorStatusStore"),this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._componentFactory=u.U.get("componentFactory"),this._virtualEditable=u.U.get("virtualEditable"),this._themeStore=u.U.get("themeStore"),this._notRefineWhenComponentsModified=this._configAgent.get("productConfig.edit.notRefineWhenComponentsModified"),this._deviceType=this._configAgent.get("productEnv.deviceType"),this._maxCountsByCategoryType=this._getCategoryTypesHasMaxCount().reduce(function(t,o){return t[o]=e._getMaxCountByType(o),t},{})}var t=e.prototype;return t.destroy=function(){iN.destroy(),eE.destroy(),EE.destroy()},t._setRangeWithScroll=function(e){this._selectionInfoStore.setRange(e),this._virtualEditable.scrollToFocus()},t.write=function(e){var t=this._checkTextByFilter(e);if(t)return this._selectionInfoStore.resetIMEOffset(),this._virtualEditable.clearInput(),t;if(this._eraseBlock(),!this.isCursorMode())return null;if(this._getCompAtStartPoint()){var o=[];if(ao.a.separateCallbacksWithEmoji(e,function(e){return o.push(e)}),o.length>0){var n=o[0];this._virtualEditable.clearInput(),this._writeEmoji(n)}else this._writeText(e);return null}},t.writeText=function(e){var t=this._checkTextByFilter(e);return t?(this._selectionInfoStore.resetIMEOffset(),this._virtualEditable.clearInput(),t):(this._eraseBlock(),this.isCursorMode()?this._getCompAtStartPoint()?(this._writeText(e),null):void 0:null)},t.writeSpecialCharacter=function(e){var t=this._selectionInfoStore;t.resetIMEOffset(),this.writeText(e),t.resetIMEOffset()},t._writeEmoji=function(e){var t=this._getCompAtStartPoint(),o=this._getUnitAtStartPoint(t),n=this._selectionInfoStore.start,r=JSON.parse(JSON.stringify(n)),i=o.writeEmoji(e,r);o.isOverTextLimit&&this._virtualEditable.clearInput();var a=r.compId,s=rt()({compId:a},i),c={start:s,end:s};this._setRangeWithScroll(c)},t._writeText=function(e){var t=this._getCompAtStartPoint(),o=this._getUnitAtStartPoint(t);this._setWritePointToPlainTextNode(o);var n=this._selectionInfoStore,r=n.start,i=n.imeOffset,a=JSON.parse(JSON.stringify(r)),s=o.write(e,a,i),c=a.compId,l=rt()({compId:c},s),u={start:l,end:l};o.isOverTextLimit?(this._virtualEditable.clearInput(),this._setRangeWithScroll(u)):(this._selectionInfoStore.updateRange(u),this._virtualEditable.scrollToFocus()),this._virtualEditable.pauseAriaBufferOnWrite()},t.writeTextWithSoftLineBreak=function(e){var t=this,o=e.split(/\r?\n/),n=o.length;o.forEach(function(e,o){""!==e&&t.writeText(e),o<n-1&&t.softLineBreak()})},t.isCursorMode=function(){return this._selectionInfoStore.mode===u.N.CURSOR},t.isBlockMode=function(){return this._selectionInfoStore.isBlockMode()||this._selectionInfoStore.isComponentBlock()},t._setWritePointToPlainTextNode=function(e){var t=this._selectionInfoStore,o=t.start,n=JSON.parse(JSON.stringify(o)),r=n.compId;if(e.shouldAdjustWritePoint(n)){var i=e.adjustWritePointOnEdge(n),a=rt()({compId:r},i),s={start:a,end:a};t.setRange(s)}},t._eraseBlock=function(){this.isBlockMode()&&this.erase()},t._getCompAtStartPoint=function(){var e=this._selectionInfoStore.start;return this._componentListStore.getComponentById(e.compId)},t._getUnitAtStartPoint=function(e){var t=this._selectionInfoStore.start;return e.getStoreById(t.unitId)},t.lineBreak=function(){var e=this._selectionInfoStore,t=this.isBlockMode();this._eraseBlock();var o=e.start,n=this._componentListStore.getComponentById(o.compId).getStoreById(o.unitId),r=EE.getCommand(n.attributes.lineBreak.enter);this._breakLine(r,t),this._virtualEditable.clearAriaBufferOnLineBreak()},t.softLineBreak=function(){var e=this._selectionInfoStore;this._eraseBlock();var t=e.start,o=this._componentListStore.getComponentById(t.compId).getStoreById(t.unitId),n=EE.getCommand(o.attributes.lineBreak.shiftEnter);this._breakLine(n)},t._breakLine=function(e,t){var o=this._selectionInfoStore,n=e.execute(this._componentListStore,o.toValidJSON(),t);this._setRangeWithScroll(n)},t.getComponentInfoList=function(){return this._componentListStore.getComponentList().map(function(e){return{compType:e.ctype,compId:e.id}})},t.insert=function(e){var t=e.followCurrentAlign,o=void 0===t||t,n=e.forceRefine,r=void 0!==n&&n,i=this._filterComponentsByMaxCount(e.sourceComponents),a=i.sourceComponents,s=i.errorInfos,c=this._makeErrorMsgComponentsByMaxCount(s);if(0===a.length)return{errorMsg:c};e.insertionType="insertion",o&&this._followCurrentAlign(a);var l=Object(kc.a)(a),u=l.getRangeAfterInsert(),p=this._insert(e);return this._refineAfterInsert({customRange:u,range:p,sourceComponent:l}),this._refineComponentList(r),{errorMsg:c,range:p}},t.insertByInternalPaste=function(e){var t=this._filterComponentsByMaxCount(e.sourceComponents),o=t.sourceComponents,n=t.errorInfos,r=this._makeErrorMsgComponentsByMaxCount(n);if(0===o.length)return{errorMsg:r};var i=this._checkTextByFilter(o);if(i)return this._selectionInfoStore.resetIMEOffset(),this._virtualEditable.clearInput(),{errorMsg:i};if(e.sourceComponents=o,e.insertionType="paste",this._cantPaste({sourceComponents:o}))return{errorMsg:this._i18n("textComponent:can_not_insert_point_in_dropcap")};var a=Object(kc.a)(o),s=this._insert(e);return this._refineAfterInsert({range:s,sourceComponent:a}),this._refineComponentList(),{errorMsg:r}},t._cantPaste=function(e){var t=e.sourceComponents,o=void 0===t?[]:t,n=e.selectionInfo,r=(void 0===n?this._selectionInfoStore.toValidJSON():n).start;return!(!this._hasInlineImageOnly(o)||!this._hasDropCap(r))},t._hasInlineImageOnly=function(e){return e.filter(function(e){return"text"===e.attributes.insertion}).some(function(e){return e.hasInlineImageOnly()})},t._hasDropCap=function(e){var t=e.compId,o=e.paraId,n=this._componentListStore.getComponentById(t);return"text"===n.attributes.insertion&&n.hasDropCapInParagraph(o)},t._getCategoryType=function(e){var t=e.ctype;if(0===t.indexOf("image"))return"image";if("wrappingParagraph"===t){if(-1!==Object(J.a)(e,"wrappedSection.ctype","").indexOf("image"))return"image"}else if("documentTitle"===t){if(Object(J.a)(e,"background.image",null))return"image"}return t},t._getMaxCountByType=function(e){return this._configAgent.get("infraConfig."+e+".maxUploadCount")||1/0},t._getCategoryTypesHasMaxCount=function(){var e=this._configAgent.get("infraConfig");return Object(qr.a)(e,function(e,t,o){return Object(Ic.a)(t,"maxUploadCount")&&e.push(o),e},[])},t._filterComponentsByMaxCount=function(e){var t=this;return Object(qr.a)(e,function(e,o){var n=t._getCategoryType(o),r=t._maxCountsByCategoryType[n]||1/0;if(r!==1/0){e.counts[n]||(e.counts[n]=t._componentListStore.countByLikeType(n));var i=o.ctype,a=0;a="imageGroup"===i||"imageStrip"===i?Object(J.a)(o,"images",[]).reduce(function(e,t){return Object(J.a)(t,"internalResource",!1)&&e++,e},0):"image"===i?Object(J.a)(o,"internalResource",!1)?1:0:"wrappingParagraph"===i?Object(J.a)(o,"wrappedSection.internalResource",!1)?1:0:"documentTitle"===i?Object(J.a)(o,"background.image.internalResource",!1)?1:0:1,e.counts[n]+a<=r?(e.counts[n]+=a,e.sourceComponents.push(o)):!1===Object(Ic.a)(e.errorInfos,n)&&(e.errorInfos[n]=r)}else e.sourceComponents.push(o);return e},{sourceComponents:[],errorInfos:{},counts:{}})},t._makeErrorMsgComponentsByMaxCount=function(e){var t=this,o=Object(wL.a)(e);if(1===o){var n=Object(PL.a)(e)[0],r=e[n];return this._i18n("documentToolbarLayout:"+n+"_upload_max_count_msg",{maxcount:r})}if(o>1&&Object(wL.a)(this._maxCountsByCategoryType)>0){var i=["image","video","file","audio"].reduce(function(o,n){if(Object(Eo.a)(Object(PL.a)(t._maxCountsByCategoryType),n)&&e[n]){var r=t._maxCountsByCategoryType[n];o+=o&&o.length>0?", ":"",o+=t._i18n("documentToolbarLayout:"+n+"_upload_max_count",{maxcount:r})}return o},"");return this._i18n("documentToolbarLayout:multi_upload_max_count_msg",{maxCountMsgs:i})}return null},t._getExceptComponentsBy=function(e){var t=e.sourceComponents,o=e.maxCount,n=e.ctype,r=this._componentListStore.countBy(n);return t.filter(function(e){return e.ctype===n}).slice(o-r)},t.insertByExternalPaste=function(e){var t=e.followCurrentAlign,o=void 0===t||t,n=this._filterComponentsByMaxCount(e.sourceComponents),r=n.sourceComponents,i=n.errorInfos,a=this._makeErrorMsgComponentsByMaxCount(i);if(0===r.length)return{errorMsg:a};var s=this._checkTextByFilter(r);if(s)return this._selectionInfoStore.resetIMEOffset(),this._virtualEditable.clearInput(),{errorMsg:s};e.insertionType="paste",o&&this._followCurrentAlign(r);var c=this._insert(e),l=Object(kc.a)(r);return this._refineAfterInsert({range:c,sourceComponent:l}),this._refineComponentList(),{errorMsg:a}},t._refineAfterInsert=function(e){var t=e.customRange,o=e.range,n=e.sourceComponent,r=this._componentListStore.getNextComponent(n),i=this._configAgent.get("productConfig.edit.notInsertTextAtLast");if(t)this._setRangeWithScroll(t);else if("text"===n.attributes.insertion){var a=this._focusToEndComp(o);this._setRangeWithScroll(a)}else if(r&&"text"===r.attributes.insertion)this._setRangeWithScroll(r.getCompStartRange()),this._setShouldBlurAfterInsertComp();else if(r||i){var s=this._focusToEndComp(o);this._setRangeWithScroll(s),this._setShouldBlurAfterInsertComp()}else this.insertTextCompAtLast()},t._setShouldBlurAfterInsertComp=function(){this._deviceType===u.t.MOBILE&&this._selectionInfoStore.setShouldBlur(!0)},t._followCurrentAlign=function(e){var t=this._selectionInfoStore.toValidJSON(),o=this._componentListStore.getSelectedAlign(t).align,n=this._configAgent.get("productConfig.edit.followCurrentAlign");o&&n&&e.forEach(function(e){e.changeAlign(o,t)})},t._followInsertTargetAlign=function(e,t){var o={start:e,end:e},n=this._componentListStore.getComponentById(e.compId).getSelectedAlign(o).align;t.forEach(function(e){var t={start:e.getStartPoint(),end:e.getEndPoint()};e.changeAlign(n,t)})},t._insert=function(e){var t=e.sourceComponents,o=void 0===t?[]:t,n=e.selectionInfo,r=void 0===n?this._selectionInfoStore.toValidJSON():n,i=e.insertionType,a=e.commandType,s=e.disableMerge,c=void 0!==s&&s;if(this._virtualEditable.deactivateSelectionHandle(),0!==o.length){if(!r.collapsed&&r.mode===u.N.BLOCK){var l=this._erase(r);Object.assign(r,l)}var p=r.start,d=this._componentListStore.getComponentById(p.compId),h=this._componentListStore.getDerivedTextStyle(p);h&&o.forEach(function(e){"text"===e.ctype&&e.applyDerivedStyles(h)});var f=d.getStoreById(p.unitId);return eE.getCommand(a||f.attributes[i]).execute({sourceComponents:o,selectionInfo:r,disableMerge:c})}},t.append=function(e){var t=e.sourceComponents,o=e.followCurrentAlign,n=void 0===o||o,r=this._selectionInfoStore.toValidJSON(),i=Object(kc.a)(t);if(this._selectionInfoStore.isBlockMode()){var a=this._erase(r);Object.assign(r,a)}n&&this._followCurrentAlign(t),this._componentListStore.append({sourceComponents:t,point:r.end});var s=this._findLNextLandingRange(i);this._setRangeWithScroll(s),this._refineComponentList()},t._findLNextLandingRange=function(e){var t=this._componentListStore.getNextComponent(e);return this._isText(t)?t.getCompStartRange():this._focusToEndComp(e.getCompEndRange())},t._isText=function(e){return e&&"text"===e.attributes.insertion},t._focusToEndComp=function(e){return this._componentListStore.getComponentById(e.end.compId).getEndCollapsedRange(e)},t.insertByDrop=function(e){var t=e.insertCommand,o=e.insertPoint,n=e.items,r=e.followCurrentAlign,i=void 0===r||r;if(n.length){i&&this._followInsertTargetAlign(o,n);var a={start:o,end:o},s=eE.getCommand(t).execute({sourceComponents:n,selectionInfo:a}),c=this._componentListStore.getComponentById(s.end.compId);return this._refineAfterInsert({range:s,sourceComponent:c}),this._refineComponentList(),s}},t.moveToPrev=function(e){this._componentListStore.moveComponentToPrev(e)},t.moveToNext=function(e){this._componentListStore.moveComponentToNext(e)},t.move=function(e){var t,o=e.insertCommand,n=e.insertPoint,r=e.items.map(function(e){return e}),i=this._selectionInfoStore.toValidJSON(),a=i.start,s=i.end,c=this._componentListStore.getComponentById(a.compId),l=this._componentListStore.getComponentById(s.compId),p=this._componentListStore.getComponentById(n.compId),d=c.getStoreById(a.unitId),h=l.getStoreById(s.unitId),f=p.getStoreById(n.unitId),m=["text","only-text"],g=m.includes(d.attributes.drop)&&m.includes(h.attributes.drop)&&m.includes(f.attributes.drop),y=this._componentListStore.isBackward(s,n),b=a.nodeId===s.nodeId&&s.nodeId===n.nodeId;g&&y&&(b?n.offset-=s.offset-a.offset:((t={}).startOffset=c.getOffsetInParagraph(a),t.endOffset=l.getOffsetInParagraph(s),t.insertOffset=p.getOffsetInParagraph(n)));var _=y?u.u.UP:u.u.DOWN,v=this._erase(i,_,!0).start;if(g&&y&&!b){var C,S;s.paraId===n.paraId?(C=this._componentListStore.getComponentById(v.compId),n.compId=v.compId,n.unitId=v.unitId,n.paraId=v.paraId,S=t.insertOffset-t.endOffset+t.startOffset):((C=this._componentListStore.getComponentById(n.compId))||(C=this._componentListStore.getComponentById(v.compId),n.compId=v.compId,n.unitId=v.unitId),S=t.insertOffset);var O=C.getNodeInfoAfterOffset(n,S);n.nodeId=O.node.id,n.offset=O.offset}else n.unitId===v.unitId&&(n.compId=v.compId);var k={start:n,end:n},I=eE.getCommand(o),w={sourceComponents:r,selectionInfo:k};"query"===o&&(w.additionalInfo={targetCompOfInsertPoint:p});var P=I.execute(w);if(i.mode===u.N.BLOCK)this._setRangeWithScroll(P);else{var j=this._componentListStore.getComponentById(P.end.compId);this._refineAfterInsert({range:P,sourceComponent:j})}this._refineComponentList()},t.erase=function(e,t){void 0===e&&(e=this._selectionInfoStore.toValidJSON()),void 0===t&&(t=u.u.LEFT);var o=this._erase(e,t);this._setRangeWithScroll(o),this._refineComponentList()},t.eraseComponent=function(e){e||(e=this._selectionInfoStore.start.compId);var t=this._componentListStore.getComponentById(e).getComponentActiveRange();this._selectionInfoStore.setRange(t);var o=this._erase(void 0,u.u.RIGHT);this._setRangeWithScroll(o),this._refineComponentList()},t.eraseUnit=function(e){var t=this,o={};Object(r.a)(e,function(e){var n,r=new TL({compIdMap:(n={},n[e.compId]={},n),start:rt()({paraId:null,nodeId:null,offset:0},e),end:rt()({paraId:null,nodeId:null,offset:1},e)}).toValidJSON();o=t._erase(r,u.u.RIGHT)}),this._setRangeWithScroll(o),this._refineComponentList()},t._confirmErasureComponents=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r,i;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=IL()(t);case 1:if((r=n()).done){e.next=7;break}return i=r.value,e.next=5,this._confirmErasureComponent(i,o);case 5:e.next=1;break;case 7:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._confirmErasureComponent=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._selectionInfoStore.setRange(t.getComponentActiveRange()),e.t0=t.confirmErasure,!e.t0){e.next=6;break}return e.next=5,t.confirmErasure();case 5:e.t0=e.sent;case 6:!0===e.t0&&(n=iN.getCommand("self"),r=n.execute({targetComp:t,direction:o})||this._insertEmptyTextComponent(),this._setRangeWithScroll(r),this._refineComponentList());case 8:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._getErasureType=function(e,t){var o=e.attributes,n=(void 0===o?{}:o).erasure;return t&&aN.includes(n)?"self":n},t._erase=function(e,t,o){var n=this;void 0===e&&(e=this._selectionInfoStore.toValidJSON()),void 0===t&&(t=u.u.LEFT),void 0===o&&(o=!1),this._virtualEditable.deactivateSelectionHandle();var i=[],a=this._componentListStore,s=e,c=s.compIdMap,l=s.mode,p=Object.keys(c),d=a.getComponentsByIds(p),h=d.shift(),f=d.pop(),m=h&&a.getPrevComponent(h),g=f&&a.getNextComponent(f),y=e,b=y.start,_=y.end,v=h.getStoreById(b.unitId)||h,C=this._getErasureType(v,o);"confirm"===C&&i.push(h);var S=iN.getCommand(C).execute({targetComp:h,targetStore:v,selectionInfo:e,direction:t});if(e.collapsed||!f)return this._confirmErasureComponents(i,t),S||this._insertEmptyTextComponent();if(Object(r.a)(d,function(e){var t=n._getErasureType(e,o);"confirm"===t?i.push(e):"unerasable"!==t&&a.deleteComponentById(e.id)}),f){var O=f.getStoreById(_.unitId),k=this._getErasureType(O,o);"wrappingParagraph"===f.ctype&&(k="query"),"none"===O.selection&&(O=f),"confirm"===k&&i.push(f),S=iN.getCommand(k).execute({targetComp:f,targetStore:O,selectionInfo:e,direction:t});var I=l===u.N.MULTI_COMP&&t===u.u.LEFT,w=l===u.N.MULTI_COMP&&t===u.u.RIGHT,P=("textUnit"===v.ctype||"text"===C)&&"text"===k&&a.has(b.compId)&&a.has(_.compId);if(I)if(m&&"unerasable"!==m.attributes.erasure)S=m.getCompEndRange();else{var j=a.getFirstComponent();if(j&&"unerasable"!==j.attributes.erasure)S=j.getCompEndRange();else if(j&&"unerasable"===j.attributes.erasure){var T=a.getNextComponent(j);S=T?T.getCompStartRange():null}else S=null}else if(w)if(g)S=g.getCompStartRange();else{var L=a.getLastComponent();S=L&&"unerasable"!==L.attributes.erasure?L.getCompEndRange():null}else if(P&&h.isEmpty())this._componentListStore.deleteComponentById(h.id),S=f.getCompStartRange();else if(P&&i.length<1){var E=h.append([f]),N=E.components,x=E.point;a.replaceBetween(h,f,N),S={start:x,end:x}}}return this._confirmErasureComponents(i,t),S||this._insertEmptyTextComponent()},t._insertEmptyTextComponent=function(){var e=this._componentFactory.createComponentByCtype("text");return this._componentListStore.insertComponent(e),e.getCompStartRange()},t.insertTextCompAtLast=function(){var e=this._componentFactory.createComponentByCtype("text"),t=this._componentListStore.getLastComponent();this._inheritStyle(t,e),this._componentListStore.insertComponent(e),this._setRangeWithScroll(e.getCompStartRange())},t.insertTextCompPositionById=function(e,t){this._virtualEditable.deactivateSelectionHandle();var o=this._componentListStore.getComponentById(t),n=this._componentFactory.createComponentByCtype("text"),r=this._findStyleAncestor(o);this._inheritStyle(r,n),o?e===u.x.TOP?this._componentListStore.insertComponentBefore(o,n):e===u.x.BOTTOM&&this._componentListStore.insertComponentAfter(o,n):this._componentListStore.insertComponent(n),this._setRangeWithScroll(n.getCompStartRange())},t.insertTextComponentBySelectionInfo=function(e){var t=this._componentFactory.createComponentByCtype("text");return this.insert({sourceComponents:[t],followCurrentAlign:!0,selectionInfo:e}),t},t.insertComponentsWithData=function(e,t){var o=this;void 0===e&&(e=[]),void 0===t&&(t={});var n=this._componentFactory.getAvailableCompType(),r=Object(Jr.a)(e,function(e){return n.includes(e.ctype)}).map(function(e){return o._componentFactory.createComponentWithCompData(e)}),i=t,a=i.followCurrentAlign,s=void 0===a||a,c=i.commandType,l=i.disableMerge,u=i.forceRefine;r.length>0&&this.insert({sourceComponents:r,followCurrentAlign:s,commandType:c,disableMerge:l,forceRefine:u})},t._inheritStyle=function(e,t){this._inheritAlign(e,t),this._componentListStore.inheritTextStyle(e,t)},t._inheritAlign=function(e,t){var o=t.getCompStartRange();if(!e||e&&"documentTitle"===e.ctype){var n=this._themeStore.getUserDefinedStyle(t.ctype);n&&n.align&&t.changeAlign(n.align,o)}else{if(this._configAgent.get("productConfig.edit.followCurrentAlign"))if("wrappingParagraph"===e.ctype){var r=e.text,i=r.getSelectedAlign(r.getCompEndRange()).align;t.changeAlign(i,o)}else t.changeAlign(e.align,o)}},t._findStyleAncestor=function(e){return e?this._componentListStore.getPrevComponent(e):this._componentListStore.getLastComponent()},t._refineComponentList=function(e){if(void 0===e&&(e=!1),e||!this._notRefineWhenComponentsModified){var t=this._selectionInfoStore,o=this._componentListStore.refineComponentList(t.toValidJSON());o&&t.setRange(o)}},t._hasAdjacentEmptyTextNode=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId,i=this._componentListStore.getComponentById(t).getStoreById(o);if(i.isEmptyTextNode(e))return!0;var a=i.getParagraphById(n),s=a.getPrevNode(r);if(s&&s.isEmpty())return!0;var c=a.getNextNode(r);return!(!c||!c.isEmpty())},t.refineEmptyNodeInParagraph=function(e){var t=this._selectionInfoStore,o=t.start,n=t.mode,r=JSON.parse(JSON.stringify(o));if(n===u.N.CURSOR&&this._hasAdjacentEmptyTextNode(r)){var i=r.compId,a=r.unitId,s=r.paraId,c=this._componentListStore.getComponentById(i).getStoreById(a);if(s!==e.paraId)return c.refineParagraphWithPoint(r),!1;var l=c.refineParagraphWithPoint(e);return this._selectionInfoStore.setRange({start:l,end:l}),!0}return!1},t.isSelectedComponentsProcessing=function(){var e=this._selectionInfoStore,t=e.collapsed,o=e.mode;if(t)return!1;var n=this._componentListStore.getSelectedComponents(e);return(1!==n.length||o===u.N.SINGLE_COMP)&&this._hasProcessingComp(n)},t.isDocumentProcessing=function(){var e=this._componentListStore.getComponentList(),t=!0===this._editorStatusStore.isProcessing,o=this._hasProcessingComp(e);return t||o},t._hasProcessingComp=function(e){return Object(zg.a)(e,function(e){return e.phase===u.M.PROCESSING})},t.cut=function(){this._virtualEditable.cut()},t.copy=function(){this._virtualEditable.copy()},t.paste=function(e){this._virtualEditable.paste(e)},t.insertCustomData=function(e,t){var o=this._componentFactory.createComponentWithCompData({ctype:"custom",align:t.align,subtype:e,data:t});this.insert({sourceComponents:[o]})},t.insertWithNewText=function(e){if(this.isCursorAtEndOfText()){var t=this._componentFactory.createComponentByCtype("text");e.sourceComponents.push(t)}return this.insert(e)},t.isCursorAtEndOfText=function(e){void 0===e&&(e=this._selectionInfoStore.toValidJSON());var t=e,o=t.end,n=t.collapsed,r=t.mode,i=o.compId;if(n&&r===u.N.CURSOR){var a=this._componentListStore.getComponentById(i),s=a.getEndPoint();if(a.getText())return s.compId===o.compId&&s.unitId===o.unitId&&s.paraId===o.paraId&&s.nodeId===o.nodeId&&s.offset===o.offset}return!1},t._checkTextByFilter=function(e){var t=this._getCompAtStartPoint(),o=t.getText?t.getText():null,n=!1;return o&&(n="string"==typeof e?o.checkTextByFilter(e):Object(zg.a)(e,function(e){var t=e.getText?e.getText():null,n=t&&t.getPlainTextWithEmoji&&t.getPlainTextWithEmoji();return!!n&&o.checkTextByFilter(n)})),n?this._i18n("documentTitleComponent:warning_emoji_filter"):null},e}(),q()(tN.prototype,"insert",[K.d],Object.getOwnPropertyDescriptor(tN.prototype,"insert"),tN.prototype),q()(tN.prototype,"insertByInternalPaste",[K.d],Object.getOwnPropertyDescriptor(tN.prototype,"insertByInternalPaste"),tN.prototype),q()(tN.prototype,"insertByExternalPaste",[K.d],Object.getOwnPropertyDescriptor(tN.prototype,"insertByExternalPaste"),tN.prototype),q()(tN.prototype,"_confirmErasureComponents",[ee.history],Object.getOwnPropertyDescriptor(tN.prototype,"_confirmErasureComponents"),tN.prototype),q()(tN.prototype,"insertCustomData",[ee.history,K.d],Object.getOwnPropertyDescriptor(tN.prototype,"insertCustomData"),tN.prototype),tN),cN=sN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/editing-service.js",localName:t}})}catch(e){}}e(aN,"UNERASURABLE_TYPES"),e(sN,"EditingService"),e(cN,"default")}();var lN,uN=o(226),pN=["facebook","twitter","instagram","slideshare","soundcloud","audioclip","nmv.naver","tv.naver"],dN=["twitter"],hN=function(){function e(e){this.config=e,this._isIE=yr.a.isIE(),this._isIE10=yr.a.isIE10()}var t=e.prototype;return t._fetch=function(e,t){return Ao.b.get(this.config.url,{params:{url:e},options:{withCredentials:!0,useCache:!0},success:t,error:function(){return null}})},t.fetchByCtype=function(e,t){return this._fetch(e,this._convertByCtype.bind(this,t))},t._convertByCtype=function(e,t){var o=t.oembed,n=t.oglink,r=t.oembedSign,i=t.oglinkSign;return"oembed"===e?Object(gs.a)({ctype:"oembed",oembedSign:r},this._convertOembed(o,n)):"oglink"===e?Object(gs.a)({ctype:"oglink",oglinkSign:i,thumbnail:this._convertImage(n.summary.image)},this._convertOglink(n)):null},t.fetch=function(e){return this._fetch(e,this._convert.bind(this))},t._convert=function(e){var t=e.oembed,o=e.image,n=e.oglink,r=e.oembedSign,i=e.oglinkSign,a=t&&!1===this._isOembedNotSupported(n.summary.domain);return t&&a?Object(gs.a)({ctype:"oembed",oembedSign:r},this._convertOembed(t,n)):o?Object(gs.a)({ctype:"image",internalResource:!1,origin:{ctype:"imageOrigin",srcFrom:"copyUrl"}},o):n?Object(gs.a)({ctype:"oglink",oglinkSign:i,thumbnail:this._convertImage(n.summary.image)},this._convertOglink(n)):null},t._isOembedNotSupported=function(e){if(void 0===e&&(e=""),!1===this._isIE)return!1;var t=this._isIE10?pN:dN;return new RegExp(t.join("|"),"gi").test(e)},t._convertOembed=function(e,t){var o=this._getOgAlternateInfo(e,t.summary),n=o.providerUrl,r=o.title,i=o.description;return rt()({},e,{providerUrl:n,title:r,description:i,originalWidth:e.width,originalHeight:e.height,inputUrl:t.url})},t._getOgAlternateInfo=function(e,t){var o=e.providerUrl,n=e.title,r=t.description?t.description.replace(/\u21b5|\n/gi,"\n"):"";return{providerUrl:o||t.domain,title:n||t.title,description:r}},t._convertOglink=function(e){var t=e.summary;("video"===t.type&&(t.video=!0),t.site&&""!==t.site)&&("moment"===t.site.toLowerCase()&&(t.layout="moment"));return t.isAffiliate=this._isAffiliate(e),t.link=e.url,Object(Du.a)(t,["allImages","type"])},t._isAffiliate=function(e){return e.predefinedUrlPattern&&"shoppingAffiliate"===e.predefinedUrlPattern},t._convertImage=function(e){return e&&e.url?{ctype:"thumbnail",src:e.url,width:e.width,height:e.height}:null},e}();!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/crawler-repository/index.js",localName:t}})}catch(e){}}e(pN,"IE10_NOT_SUPPORTED_LIST"),e(dN,"IE_NOT_SUPPORTED_LIST"),e("moment","MOMENT_SITE"),e(hN,"CrawlerRepository")}();var fN={SET_DATA:{image:function(e){if(!0===e.internalResource&&""===e.path)return"에디터 초기화 시점에 주입된 문서 모델 > 이미지 > 내부이미지 path 없음."}},GET_DATA:{image:function(e){if(!0===e.internalResource&&""===e.path)return"임시저장/발행에 필요한 문서 모델 > 이미지 > 내부이미지 path 없음."},oglink:function(e){if(!e.oglinkSign)return"임시저장/발행에 필요한 문서 모델 > oglink > 사인값누락"},oembed:function(e){if(!e.oembedSign)return"임시저장/발행에 필요한 문서 모델 > oglink > 사인값누락"}}},mN=(lN=function(){function e(){this._themeStore=u.U.get("themeStore"),this._componentListStore=u.U.get("componentListStore"),this._documentConverter=u.U.get("documentConverter"),this._documentDataStore=u.U.get("documentDataStore"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._sentryManager=u.U.get("sentryManager"),this._availableCompTypes=u.U.get("componentFactory").getAvailableCompType(),this._componentFactory=u.U.get("componentFactory"),this._i18n=u.U.get("i18n"),this._configAgent=u.U.get("configAgent"),this._notRefineWhenComponentsModified=this._configAgent.get("productConfig.edit.notRefineWhenComponentsModified"),this._RX={titleNumberRx:/ \(\d+\)+$/g,digitRx:/\d+/g},this._multiCrawlerRepository=new hN({url:this._configAgent.get("apiInfo.fetchMultiCrawler")})}var t=e.prototype;return t.setDocumentData=function(e){var t=this;u.Z.flush();var o=Object(J.a)(e,"document.components",[]),n=Object(st.a)(o)?u.v.NORMAL:u.v.EDITING,r=Vg.a.getObjectWithCircularRemoved(e.document);o.forEach(function(o){var r=fN.SET_DATA[o["@ctype"]],i=r&&r(o);i&&setTimeout(function(){var r=u.X.createInfo("주입된 문서 모델 오류 발생!",i,{docId:e.documentId,documentStatus:n,data:o});t._sentryManager=u.U.get("sentryManager"),t._sentryManager.info(r)},1e4)});var i=Object(J.a)(e,"document.theme");i&&this._themeStore.changeThemeName(i);var a=this._documentConverter.convertDocument(r,this._availableCompTypes),s=a.components,c=Object(J.a)(e,"document.version","1.0.0");delete a.components,e.document=a,this.setComponentList(s),this._documentDataStore.setDocumentData(e),this._documentDataStore.setDocumentStatus(n),this._componentListStore.isEmpty()?this._insertDefaultComponents():this._updateOglinkOembedSign(c)},t.resetDocumentData=function(){u.Z.flush(),this._setDocumentTheme(),this._insertDefaultComponents(),this._documentDataStore.setDocumentStatus()},t.getDocumentId=function(){return this._documentDataStore.getDocumentId()},t.getDocumentData=function(){var e=this;if(this._notRefineWhenComponentsModified){var t=this._selectionInfoStore,o=this._componentListStore.refineComponentList(t.toValidJSON());o&&t.setRange(o)}this._setDocumentTheme();var n=this._documentDataStore.toValidJSON(),r=this._documentDataStore.getDocumentStatus(),i=this._componentListStore.toValidJSON().filter(function(e){return!!e.ctype});return n.documentId=n.documentId.includes("TEMP-")?"":n.documentId,n.document=this._documentConverter.revertDocument(n.document,i),i.forEach(function(t){var o=fN.GET_DATA[t.ctype],i=o&&o(t);if(i){var a=u.X.createInfo("생성된 문서 모델 오류 발생!",i,{docId:n.documentId,documentStatus:r,data:t});e._sentryManager.info(a)}}),n},t.getDocumentTitle=function(){var e=this._componentListStore.getComponentByCtype("documentTitle");return e?e.getDocumentTitle():""},t.setDocumentTitle=function(e){var t=this._componentListStore.getComponentByCtype("documentTitle");if(t){var o=t.isFocused;t.title.setPlainTextWithEmoji(e),o&&this._selectionInfoStore.setRange(t.getCompEndRange())}},t.getContentText=function(){return this._componentListStore.getContentText()},t.getDocumentStatus=function(){return this._documentDataStore.getDocumentStatus()},t.isEmptyDocumentContent=function(){var e=this._componentListStore.getComponentList();if(this._documentDataStore.getDefaultComponentData().length!==e.length)return!1;var t=this._componentListStore.getComponentByCtype("text");return!(!t||!t.isEmpty())},t.setComponentList=function(e){this._componentListStore.resetCompList(e)},t.convertComponent=function(e){return this._documentConverter.convert(e)},t.convertComponents=function(e){return this._documentConverter.convertComponents(e,this._availableCompTypes)},t.revertComponent=function(e){return this._documentConverter.revert(e)},t.revertComponents=function(e){return this._documentConverter.revertComponents(e)},t._insertDefaultComponents=function(){var e=this._documentDataStore.getDefaultComponentData();this.setComponentList(e)},t._setDocumentTheme=function(){var e=this._themeStore.themeName;e&&this._documentDataStore.setTheme(e)},t.normalizeDocumentData=function(e){this._nomalizeVideoComponets(e)},t._getBaseVideoTitle=function(e){var t=this._configAgent.get("infraConfig.video.videoDefaultTitle");return this._validateTitle(t)?t:(t=this.getDocumentTitle(),this._validateTitle(t)?t:(t=this.getContentText().substring(0,e),this._validateTitle(t)?t:this._i18n("video:untitled")))},t._validateTitle=function(e){var t=Object(uN.a)(e);return!Object(st.a)(t)},t._analysisVideoCompList=function(e,t){var o=this;return Object(qr.a)(e,function(e,n){var r=n.getMediaMeta().title,i=void 0===r?"":r;if((i?i.substring(0,t.length):"")===t){var a=i.match(o._RX.titleNumberRx);if(Array.isArray(a)&&a.length>0){var s=parseInt(a[0].match(o._RX.digitRx)[0]);e.numOfIndexedComp+=1,e.maxIndex=Math.max(s,e.maxIndex)}}return i&&0!==i.length||e.untitledList.push(n),e},{numOfIndexedComp:0,maxIndex:0,untitledList:[]})},t._nomalizeVideoComponets=function(e){if(e){var t=this._componentListStore.getComponentsByCtype("video");if(0!==t.length){var o=this._getBaseVideoTitle(t[0].getMaxVideoTitleLength()),n=this._analysisVideoCompList(t,o),i=n.numOfIndexedComp,a=n.maxIndex,s=n.untitledList;if(0!==s.length){var c=a+1;if(!this._validateTitle(o))throw new Error("The default string for untitled video was empty.");0===i&&1===s.length?s[0].normalizeData(o):s.length>0&&Object(r.a)(s,function(e,t){e=s[t];var n=" ("+(c+t)+")",r=e.getMaxVideoTitleLength(),i=o.substring(0,r-n.length)+n;e.normalizeData(i)})}}}},t._getVersionWeight=function(e){var t=(e||"1.0.0").split(".");return 1e6*t[0]+1e3*t[1]+1*t[2]},t._updateOglinkOembedSign=function(e){var t=this,o=this._getVersionWeight(e)>this._getVersionWeight("2.5.1"),n=this._componentListStore.getComponentsByCtypes(["oglink","oembed"]),r=o?n.filter(function(e){return e.emptySign}):n;r.length<1||r.forEach(function(e){var o=e.ctype,n=e.link,r=e.inputUrl,i=n||r;t._multiCrawlerRepository.fetchByCtype(i,o).then(function(o){o?e.updateSign(o):t._replaceToTextComponent(e,i)}).catch(function(){t._replaceToTextComponent(e,i)})})},t._replaceToTextComponent=function(e,t){var o=this._componentFactory.createComponentWithCompData({ctype:"text",value:[{ctype:"paragraph",nodes:[{ctype:"textNode",value:t}]}]});this._componentListStore.replace(e,o);var n=this._componentListStore.getPrevComponent(o)||o,r=this._componentListStore.getNextComponent(o)||o;this._componentListStore.refineComponentList({start:n.getStartPoint(),end:r.getEndPoint()})},t.getComponentsByCtype=function(e){return void 0===e&&(e=[]),this._componentListStore.getComponentList().filter(function(t){return e.includes(t.ctype)}).map(function(e){var t=e.toPlainJSON();return e.getPlainText&&(t.plainText=e.getPlainText()),t})},e}(),q()(lN.prototype,"setDocumentData",[K.d],Object.getOwnPropertyDescriptor(lN.prototype,"setDocumentData"),lN.prototype),q()(lN.prototype,"setDocumentTitle",[K.d],Object.getOwnPropertyDescriptor(lN.prototype,"setDocumentTitle"),lN.prototype),lN),gN=mN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/document-service.js",localName:t}})}catch(e){}}e(fN,"INSPECTOR_RULES"),e(mN,"DocumentService"),e(gN,"default")}();var yN=function(){function e(){this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._virtualEditable=u.U.get("virtualEditable")}var t=e.prototype;return t.getSelectedComponents=function(){var e=this._selectionInfoStore.toValidJSON(),t=e.compIdMap,o=e.start,n=e.end;return e.mode===u.N.MULTI_COMP?this._componentListStore.getComponentsByIds(Object.keys(t)):this._componentListStore.getComponentsBetween(o.compId,n.compId)},t.getInternalResourceImagesOnDocument=function(){var e=[];return function t(o){Object(r.a)(o,function(o){var n=o.ctype;"image"===n&&o.internalResource?e.push(o):"imageStrip"===n?t(o.components):"wrappingParagraph"===n?t([o.wrappedSection]):"imageGroup"===n&&t(o.images)})}(this._componentListStore.getComponentList()),e},t.getDraggableCompStoresWithinSelection=function(){return this._adjustTableCompSelection(),this.getCompStoresWithinSelection()},t._adjustTableCompSelection=function(e){void 0===e&&(e=this._selectionInfoStore.toValidJSON());var t=e,o=t.start,n=t.end;if(o.compId===n.compId){var r=this._componentListStore.getComponentById(o.compId);if("table"===r.ctype&&!r.isSelectedComponent){var i=r.selectAll();this._selectionInfoStore.setAnchorAndFocus(i)}}},t.getCompStoresWithinSelection=function(e){return void 0===e&&(e=this._selectionInfoStore.toValidJSON()),e.collapsed?[]:this._componentListStore.getCompStoresWithinSelection(e)},t.getPlainTextWithinSelection=function(e){void 0===e&&(e=this._selectionInfoStore.toValidJSON());var t="";return this.getCompStoresWithinSelection(e).forEach(function(e){t+=e.getPlainText()}),t},e}(),bN=yN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/finder-service.js",localName:t}})}catch(e){}}e(yN,"FinderService"),e(bN,"default")}();var _N=function(){function e(e,t){this._componentListStore=e,this._componentFactory=t,this._themeStore=u.U.get("themeStore")}var t=e.prototype;return t.execute=function(){throw new Error("You should override 'execute' method")},t._findTargetParaIdSplittingTextComp=function(e,t){var o=e.refineSelection(t),n=o.start,r=o.end,i=e.extendPointToParagraphEnd(r),a=this._componentListStore.splitComponentByPoint(i).back;return a.getText().isEmpty()?this._componentListStore.deleteComponentById(a.id):a.removeFirstParagraph(),{startParaId:n.paraId,endParaId:r.paraId}},t._setStyleToDefault=function(e,t){var o=this._themeStore.getUserDefinedStyle(e.ctype);if(o){var n=t.reduce(function(e,t){return e[t]=o[t]||null,e},{});Object(st.a)(n)||(e.updateWholeCharacterStyle(n),e.updateWholeParagraphStyle(n))}},e}(),vN=_N,CN=vN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/change-text-format/abstract-format-changer.js",localName:t}})}catch(e){}}e(_N,"AbstractFormatChanger"),e(vN,"default")}();var SN=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t,o){var n=this,r=[],i=rt()({ctype:"text"},o);return e.forEach(function(e){var t=n._componentFactory.createComponentWithCompData(i);e.forEach(function(e){if("quotation"===e.ctype){e.resetStyle();var o=t.getText();o.mergeWith(e.value),e.source.isEmpty()||o.mergeWith(e.source),n._setStyleToDefault(t,["fontFamily","fontSizeCode","align","fontColor","lineHeight"])}else t.insert(e),"sectionTitle"===e.ctype&&n._setStyleToDefault(t,["fontSizeCode"])}),t.removeFirstParagraph(),t.updateTheme();var o=Object(mo.a)(e),a=Object(kc.a)(e);n._componentListStore.replaceBetween(o,a,t),r.push(t)}),r},t}(CN),ON=SN,kN=ON;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/change-text-format/to-text.js",localName:t}})}catch(e){}}e(SN,"ToText"),e(ON,"default")}();var IN=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t,o){var n=this,r=[];return e.forEach(function(e){e.forEach(function(e){var i=e.ctype,a=[],s=[];if("text"===i||"wrappingParagraph"===i){var c=n._findTargetParaIdSplittingTextComp(e,t),l=c.startParaId,u=c.endParaId;a=e.detachParagraphs(l,u),s=["fontSizeCode"]}else"quotation"===i&&(e.resetStyle(),a=e.detachAllParagraphs(),s=["fontFamily","fontSizeCode","align","fontColor","lineHeight"]);var p=rt()({ctype:"sectionTitle"},o),d=a.map(function(e){var t=n._componentFactory.createComponentWithCompData(p);return e.isListParagraph()&&e.updateParagraphStyle({listType:"reset"}),t.removeFirstParagraph(),t.getText().addParagraph(e),n._setStyleToDefault(t,s),t.updateTheme(),r.push(t),t});n._componentListStore.insertComponentAfter(e,d),e.getText().isEmpty()&&n._componentListStore.deleteComponentById(e.id)})}),r},t}(CN),wN=IN,PN=wN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/change-text-format/to-section-title.js",localName:t}})}catch(e){}}e(IN,"ToSectionTitle"),e(wN,"default")}();var jN=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e,t,o){var n=this,r=[],i=rt()({ctype:"quotation"},o);return e.forEach(function(e){var o=n._componentFactory.createComponentWithCompData(i);e.forEach(function(e){var r,i,a=e.ctype;if("text"===a||"wrappingParagraph"===a){var s=n._findTargetParaIdSplittingTextComp(e,t);r=s.startParaId,i=s.endParaId}else"sectionTitle"===a&&(r=e.getStartPoint().paraId,i=e.getEndPoint().paraId);var c=e.detachParagraphs(r,i);c.forEach(function(e){return e.replaceImageToText()}),o.getText().addParagraph(c)}),o.removeFirstParagraph(),o.resetStyle(),o.updateTheme();var a=Object(mo.a)(e);n._componentListStore.insertComponentAfter(a,o),e.forEach(function(e){e.getText().isEmpty()&&n._componentListStore.deleteComponentById(e.id)}),r.push(o)}),r},t}(CN),TN=jN,LN=TN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/change-text-format/to-quotation.js",localName:t}})}catch(e){}}e(jN,"ToQuotation"),e(TN,"default")}();var EN=["text","sectionTitle","quotation"],NN=function(){function e(){this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore");var e=u.U.get("componentFactory");this._toTextCommand=new kN(this._componentListStore,e),this._toSectionTitleCommand=new PN(this._componentListStore,e),this._toQuotationCommand=new LN(this._componentListStore,e)}var t=e.prototype;return t.change=function(e,t,o){if(EN.includes(e)){var n=this._selectionInfoStore.toValidJSON(),r=this._getExecutionInfo(e,n,o),i=r.compGroups,a=r.command.execute(i,n,t);return this._findResultRange(a,n)}},t._getExecutionInfo=function(e,t,o){var n,r;switch(void 0===o&&(o=[]),e){case"text":n=this._getCompGroupsByTypes(Object(Ur.a)(["text","sectionTitle","quotation"],o),t),r=this._toTextCommand;break;case"sectionTitle":n=this._getCompGroupsByTypes(Object(Ur.a)(["text","quotation","wrappingParagraph"],o),t),r=this._toSectionTitleCommand;break;case"quotation":n=this._getCompGroupsByTypes(Object(Ur.a)(["text","sectionTitle","wrappingParagraph"],o),t),r=this._toQuotationCommand}return{compGroups:n,command:r}},t._getCompGroupsByTypes=function(e,t){var o=[],n=[];return this._componentListStore.getSelectedComponents(t).forEach(function(t){e.includes(t.ctype)?n.push(t):n.length&&(o.push(n),n=[])}),n.length&&o.push(n),o},t._findResultRange=function(e,t){var o=t.start,n=t.end;if(!e.length)return{start:o,end:n};var r=e.reduce(function(e,t){return t.hasParagraph(o.paraId)&&(e.start=Object.assign(o,{compId:t.id,unitId:t.getText().id}),t.isEmptyTextNode(o)&&(e.start.offset=0)),t.hasParagraph(n.paraId)&&(e.end=Object.assign(n,{compId:t.id,unitId:t.getText().id}),t.isEmptyTextNode(n)&&(e.end.offset=0)),e},{});if(!r.start){var i=Object(mo.a)(e);r.start=i.getStartPoint()}if(!r.end){var a=Object(kc.a)(e);r.end=a.getEndPoint()}return r},e}(),xN=NN,DN=xN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/change-text-format/index.js",localName:t}})}catch(e){}}e(EN,"CHANGEABLE_TYPES"),e(NN,"ChangeTextFormatCommand"),e(xN,"default")}();var RN=function(){function e(){this._styleStore=u.U.get("styleStore"),this._themeStore=u.U.get("themeStore"),this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._virtualEditable=u.U.get("virtualEditable"),this._toolbarStore=u.U.get("toolbarStore"),this._eventDispatcherService=u.U.get("eventDispatcherService"),this._changeTextFormatCommand=u.U.get("changeTextFormatCommand")||new DN,this._representativeImageService=u.U.get("representativeImageService")}var t=e.prototype;return t.changeTextFormat=function(e,t,o){void 0===o&&(o=[]);var n=this._changeTextFormatCommand.change(e,t,o);n&&this._selectionInfoStore.setRange(n),this._refineComponentList()},t.toggleStyle=function(e,t){var o=this._styleStore.currentSelectedStyle,n=o[e];if(!n&&o.caption&&(n=o.caption[e]),"boolean"==typeof n){var r={name:e,value:!n};this.updateStyle(r,t),this._virtualEditable.updateAriaTextStyle(r)}},t.updateStyle=function(e,t){var o=this._runMethodOfSelectedComponents({method:"updateStyle",value:this._adjustStyleInfo(e),selectionInfo:t});this._setRangeWithPointList(o),this._updateToolbarState(),this._virtualEditable.refresh()},t.changeAllComponentsAlign=function(e){var t=this._componentListStore.getComponentList(),o=Object(mo.a)(t).getStartPoint(),n=Object(kc.a)(t).getEndPoint();this._runMethodOfSelectedComponents({method:"updateStyle",value:this._adjustStyleInfo(e),selectionInfo:{start:o,end:n}}),this._updateToolbarState(),this._virtualEditable.refresh()},t.changeLayout=function(e,t){void 0===t&&(t=[]);var o=this._selectionInfoStore.toValidJSON();this.updateProperty({layout:e},o,t),this._updateTheme(o)},t.changeContentMode=function(e,t){this.updateProperty({contentMode:e},t)},t.changeLink=function(e,t){e.value=Zi.a.getEncodeUrl(e.value),this.updateProperty({link:e},t)},t.isValidLink=function(e){var t=ao.a.getUrlDomain(e);return ao.a.validateMalformedUrlOnly(t)},t.changeSize=function(e,t){var o=this._componentListStore,n=this._selectionInfoStore;(e.isApplyAllChecked?o.getComponentsByCtype(t):o.getComponentsBetween(n.start.compId,n.end.compId)).forEach(function(t){t.updateProperty({resizing:e})}),this._updateToolbarState(),this._virtualEditable.refresh()},t.updateCustomData=function(e,t){var o=this._componentListStore.getComponentById(e);o&&o.updateCustomData&&o.updateCustomData(t)},t.updateServiceData=function(e,t){var o=this._componentListStore.getComponentById(e);o&&o.updateServiceData&&o.updateServiceData(t)},t.updateProperty=function(e,t,o){void 0===t&&(t=this._selectionInfoStore.toValidJSON()),void 0===o&&(o=[]);var n=this._runMethodOfSelectedComponents({method:"updateProperty",value:e,selectionInfo:t,exclusion:o});this._setRangeWithPointList(n),this._updateToolbarState(),this._virtualEditable.refresh()},t.updateConfigAllCompomnent=function(){var e=this._componentListStore.getComponentList();Object(r.a)(e,function(e){e.updateConfig&&e.updateConfig()}),this._libraryPanelLayoutService||(this._libraryPanelLayoutService=u.U.get("libraryPanelLayoutService")),this._eventDispatcherService.emit(u.z.DOCUMENT_CHANGED,e),this._representativeImageService.updateAllList(e)},t._updateTheme=function(e){var t=this;this._componentListStore.getSelectedComponents(e).forEach(function(e){var o=e.ctype,n=t._themeStore.getComponentThemeStyle(o);n&&e.updateTheme(n)})},t._refineComponentList=function(){var e=this._selectionInfoStore,t=this._componentListStore.refineComponentList(e.toValidJSON());t&&e.setRange(t)},t._runMethodOfSelectedComponents=function(e){var t=e.method,o=e.value,n=e.selectionInfo,r=e.exclusion,i=void 0===r?[]:r;!0===Object(st.a)(n)&&(n=this._selectionInfoStore.toValidJSON());var a=n,s=a.start,c=a.end,l=[];return this._componentListStore.getSelectedComponents(n).filter(function(e){var t=e.ctype;return!i.includes(t)}).forEach(function(e){var r=e[t](o,n);r?l.push.apply(l,r):(e.id===s.compId&&l.push(s),e.id===c.compId&&l.push(c))}),l},t._adjustStyleInfo=function(e){var t,o=this._toCamelCase(e.name);return"line-height"===e.name&&(e.value=this._toLineHeightUnit(e.value)),(t={})[o]=e.value,t},t._setRangeWithPointList=function(e){if(e.length>0){var t=Object(mo.a)(e),o=Object(kc.a)(e);this._selectionInfoStore.setRange({start:t,end:o})}},t._toCamelCase=function(e){return"strikethrough"===e?"strikeThrough":Object(lt.a)(e)},t._toLineHeightUnit=function(e){return(e/100).toFixed(2)},t.toLineHeight=function(e){return(100*e).toFixed(0)},t._updateToolbarState=function(){var e=this._styleStore.currentSelectedStyle;this._toolbarStore.updateToolbarState(e)},t.canBeListBySpace=function(e){var t=this;void 0===e&&(e=this._selectionInfoStore.toValidJSON());var o=e.start.compId,n=this._componentListStore.getComponentById(o);return null==n&&Object.keys(e.compIdMap).some(function(e){if(n=t._componentListStore.getComponentById(e))return!0}),!!["text","table","wrappingParagraph"].includes(n.ctype)&&n.canBeListBySpace(e)},t.convertToList=function(e){return void 0===e&&(e=this._selectionInfoStore.toValidJSON()),this._componentListStore.getComponentById(e.start.compId).convertToList(e)},t.getStyleValues=function(e){var t=this._selectionInfoStore.toValidJSON(),o=this._componentListStore.getSelectedComponents(t),n=t.start,r=t.end;return o.reduce(function(t,o){var i=o.getText();if(i){var a=o.id===n.compId?n:i.getStartPoint(),s=o.id===r.compId?r:i.getEndPoint();i.getNodesByBetween(a,s).forEach(function(o){var n=o.computedStyleForToolbar[e];t.push(n)})}return t},[])},e}(),AN=RN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/property-change-service.js",localName:t}})}catch(e){}}e(RN,"PropertyChangeService"),e(AN,"default")}();var UN=o(4),MN=o(153),BN={IMAGE_GROUP:"imageGroup",IMAGE_STRIP:"imageStrip",TABLE:"table",WRAPPING_PARAGRAPH:"wrappingParagraph"},FN=function(){function e(){this._cache={}}var t=e.prototype;return t.destory=function(){this._cache=null},t.hasByKey=function(e){return!!this._cache[e]},t.pushByKey=function(e,t){this._cache[e]=t},t.getByKey=function(e){return this._cache[e]},t.deleteByKey=function(e){delete this._cache[e]},t.updateCache=function(e){this._cache=e},e}(),zN=function(){function e(e){this._documentConverter=e,this._shadowCache=new FN}var t=e.prototype;return t.destroy=function(){this._shadowCache.destory(),this._shadowCache=null},t._needRepresetativeShadow=function(e){var t=e.ctype,o=e.unknownCompData,n=void 0===o?{}:o;return"unknown"===t&&Object(Eo.a)(BN,n.ctype)},t._hasShadowStore=function(e){return this._shadowCache.hasByKey(e)},t._pushShadowStore=function(e){var t=e.id;this._shadowCache.pushByKey(t,e)},t._getShadowStoreById=function(e){return this._shadowCache.getByKey(e)},t._getShadowStore=function(e){var t=e.id;return this._hasShadowStore(t)||this._pushShadowStore(this._makeShadowStore(e)),this._shadowCache.getByKey(t)},t._deleteShadowStore=function(e){var t=e.id;this._hasShadowStore(t)&&this._shadowCache.deleteByKey(t)},t._makeShadowStore=function(e){var t=e.ctype,o=e.id,n={state:this._documentConverter.convertCtype(e)},r=null;switch(t){case BN.IMAGE_GROUP:r=new MN.a(n);break;case BN.IMAGE_STRIP:r=new Qg(n);break;case BN.WRAPPING_PARAGRAPH:r=new aO.a(n);break;case BN.TABLE:r=new PI.a(n);break;default:throw new Error("This unknown component does not support a representative image settings.")}return e.id=o,r.id=o,r},t._updateOriginCompData=function(e,t){e.unknownCompData=Object(i.a)(t,e.unknownCompData)},t.updateCache=function(e){var t=this;void 0===e&&(e=[]),this._shadowCache.updateCache(e.reduce(function(e,o){var n=o.id;return t._hasShadowStore(n)&&(e[n]=t._getShadowStoreById(n)||o),e},{}))},t.releaseRepresentativeImage=function(e,t){if(!this._needRepresetativeShadow(e))return e.releaseRepresentativeImage(t);var o=e.unknownCompData,n=this._getShadowStore(o);n.releaseRepresentativeImage(t),this._updateOriginCompData(e,n.toValidJSON())},t.setRepresentativeImage=function(e,t){if(!this._needRepresetativeShadow(e))return e.setRepresentativeImage(t);var o=e.unknownCompData,n=this._getShadowStore(o);n.setRepresentativeImage(t),this._updateOriginCompData(e,n.toValidJSON())},t.getRepresentativeId=function(e){if(!this._needRepresetativeShadow(e))return e.getRepresentativeId();var t=e.unknownCompData;return this._getShadowStore(t).getRepresentativeId()},t.isRepresentativeImage=function(e){if(!this._needRepresetativeShadow(e))return e.isRepresentativeImage();var t=e.unknownCompData;return this._getShadowStore(t).isRepresentativeImage()},t.getRepresentativeCompStore=function(e){return this._needRepresetativeShadow(e)?this._getShadowStore(e.unknownCompData):e},e}(),WN=function(){function e(){this._configAgent=u.U.get("configAgent"),this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._identifier=null,this._identifiersCount=0,this._representativeComponentHelper=new zN(u.U.get("documentConverter"))}var t=e.prototype;return t.__ON_LAZY__=function(){this.syncRepresentativeImage()},t.destroy=function(){this._disposer&&this._disposer(),this._disposer=null,this._identifier=null,this._identifiersCount=0,this._representativeComponentHelper.destroy(),this._representativeComponentHelper=null},t._getData=function(){var e=this._parseIdentifier(this._identifier);if(e&&e.compId){var t=this._componentListStore.getComponentById(e.compId);return this._representativeComponentHelper.getRepresentativeCompStore(t).getRepresentativeInnerData()}return null},t._getComponentData=function(){var e=this._parseIdentifier(this._identifier);return e&&e.compId?this._componentListStore.getComponentById(e.compId).toValidJSON():null},t.getRepresentative=function(){var e=this;return{getData:function(t){return e._getData(t)},getComponentData:function(t){return e._getComponentData(t)}}},t.releaseRepresentativeImage=function(e){var t;if(e?t=e:(t=this._parseIdentifier(this._identifier),this._identifier=null),t){var o=this._componentListStore.getComponentById(t.compId);o&&this._releaseRepresentativeImage(o,t)}},t.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;if(this.releaseRepresentativeImage(),!1!==this._representativeEnabled){var i=this._componentListStore.getComponentById(t);this._setRepresentativeImage(i,{compId:t,unitId:o,paraId:n,nodeId:r}),this._updateCurrentIdentifier(i)}},t.syncRepresentativeImage=function(){var e=this,t=this._componentListStore.getComponentList();this.updateAllList(t),this._disposer=K.f.reaction(function(){return e._makeIdentifiers(t)},function(o){e.updateAllList(t,o)})},t.updateAllList=function(e,t){t||(t=this._makeIdentifiers(e)),this.updateRepresentativeImage(t),this._representativeComponentHelper.updateCache(e)},t.updateRepresentativeImage=function(e){var t=this;if(!1!==this._representativeEnabled){var o=this._componentListStore.getComponentList(),n=this._getRepresentative(e),i=this._parseIdentifier(this._identifier);if(this._identifiersCount>e.length){var a=e.find(function(e){var o=t._parseIdentifier(e);return i&&i.src===o.src});if(a)return void this._setSameRepresetiveImage(a,e)}if(0===n.length){var s=Object(Pa.a)(o,function(e){return t._isRepresentativeImage(e)});s?(this._setRepresentativeImage(s,{}),this._updateCurrentIdentifier(s)):this._identifier=null}else n.length>1?Object(r.a)(n,function(e){var o=t._parseIdentifier(e);!o||i&&i.comparableKey===o.comparableKey||t.releaseRepresentativeImage(o)}):this._identifier=n[0];this._identifiersCount=e.length}else this.releaseRepresentativeImage()},t._setSameRepresetiveImage=function(e,t){var o=this._parseIdentifier(e),n=o.compId,r=o.paraId,i=o.unitId,a=o.nodeId,s=this._componentListStore.getComponentById(n);this._setRepresentativeImage(s,{compId:n,paraId:r,unitId:i,nodeId:a}),this._updateCurrentIdentifier(s),this._identifiersCount=t.length},t._updateCurrentIdentifier=function(e){var t=this._getRepresentativeId(e);this._identifier=Object(UN.a)(t)?this._getRepresentative(t)[0]:t},t._makeIdentifiers=function(e){var t=this,o=[];return Object(r.a)(e,function(e){var n=t._getRepresentativeId(e);Object(UN.a)(n)?o=[].concat(o,n):o.push(n)}),o},t._getRepresentative=function(e){return Object(Jr.a)(e,function(e){return/:true:https?/.test(e)})},t._parseIdentifier=function(e){if(!e)return null;var t=e.split("|"),o=t[0],n=t[1],r=t[2],i=t[3];if(i){var a=i.split(":"),s=a[0];return{compId:o,unitId:n,paraId:r,nodeId:s,src:Object(kc.a)(a),comparableKey:s}}if(n){if(r){var c=r.split(":"),l=c[0];return{compId:o,paraId:n,nodeId:l,src:Object(kc.a)(c),comparableKey:l}}var u=n.split(":"),p=u[0];return{compId:o,unitId:p,src:Object(kc.a)(u),comparableKey:p}}var d=o.split(":"),h=d[0];return{compId:h,src:Object(kc.a)(d),comparableKey:h}},t._releaseRepresentativeImage=function(e,t){e&&this._representativeComponentHelper.releaseRepresentativeImage(e,t)},t._setRepresentativeImage=function(e,t){e&&this._representativeComponentHelper.setRepresentativeImage(e,t)},t._getRepresentativeId=function(e){if(e)return this._representativeComponentHelper.getRepresentativeId(e)},t._isRepresentativeImage=function(e){if(e)return this._representativeComponentHelper.isRepresentativeImage(e)},at()(e,[{key:"_representativeEnabled",get:function(){return this._configAgent.get("productConfig.representativeEnabled")}}]),e}(),VN=WN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/representative-image-service.js",localName:t}})}catch(e){}}e(BN,"SHADOW_TYPES"),e(FN,"Cache"),e(zN,"RepresentativeComponentHelper"),e(WN,"RepresentativeImageService"),e(VN,"default")}();var GN=function(){function e(){this._componentListStore=u.U.get("componentListStore")}return e.prototype.togglePanoramaDisplay=function(e){this._componentListStore.getComponentById(e).togglePanoramaDisplay()},e}(),HN=GN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/panorama-image-service.js",localName:t}})}catch(e){}}e(GN,"PanoramaImageService"),e(HN,"default")}();var qN=function(){function e(){this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore")}return e.prototype.execute=function(){},e}(),JN=qN,KN=JN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/abstract-command.js",localName:t}})}catch(e){}}e(qN,"AbstractCommand"),e(JN,"default")}();var YN=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){e.fromPoint,e.toPoint,e.direction,e.isShrink,e.eventType},t}(KN),XN=YN,QN=XN;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/abstract-selection-command.js",localName:t}})}catch(e){}}e(YN,"AbstractSelectionCommand"),e(XN,"default")}();var ZN=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.currentPoint,o=e.toPoint,n=e.direction,r=e.isShrink,i=n===u.u.UP||n===u.u.LEFT,a=this._componentListStore.getComponentById(o.compId);switch(a.attributes.selection){case"query":var s=a.querySelection(e);if(s)return this._selectionInfoStore.setAnchorAndFocus(s),!0;break;case"isolated":if(t.compId===o.compId)break;if(i){var c=this._componentListStore.getNextComponentById(o.compId);this._selectionInfoStore.setFocus(c.getStartPoint())}else{var l=this._componentListStore.getPrevComponentById(o.compId);this._selectionInfoStore.setFocus(l.getEndPoint())}return!0}switch(a.getStoreById(o.unitId).attributes.selection){case"object":case"trapped":case"selectable-unit":return r?this._selectionInfoStore.setFocus(i?a.getEndPoint():a.getStartPoint()):this._selectionInfoStore.setFocus(i?a.getStartPoint():a.getEndPoint()),!0}return!1},t}(QN),$N=ZN,ex=$N;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/text-selection-command.js",localName:t}})}catch(e){}}e(ZN,"TextSelectionCommand"),e($N,"default")}();var tx=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.currentPoint,o=e.direction,n=this._componentListStore.getComponentById(t.compId),r=o===u.u.UP||o===u.u.LEFT;if(t.compId!==t.unitId){var i=n.getStoreById(t.unitId);return this._selectionInfoStore.setFocus(r?i.getStartPoint():i.getEndPoint()),!0}return!1},t}(QN),ox=tx,nx=ox;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/trapped-selection-command.js",localName:t}})}catch(e){}}e(tx,"TrappedSelectionCommand"),e(ox,"default")}();var rx=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.currentPoint,o=e.direction,n=this._componentListStore.getComponentById(t.compId);return o===u.u.UP||o===u.u.LEFT?this._selectionInfoStore.setFocus(n.getStartPoint()):this._selectionInfoStore.setFocus(n.getEndPoint()),!0},t}(QN),ix=rx,ax=ix;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/isolated-selection-command.js",localName:t}})}catch(e){}}e(rx,"IsolatedSelectionCommand"),e(ix,"default")}();var sx=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.currentPoint,o=e.toPoint,n=e.direction,r=e.isShrink,i=n===u.u.UP||n===u.u.LEFT,a=this._componentListStore.getComponentById(o.compId),s=a.attributes.selection;if("query"===s){var c=a.querySelection(e);if(c)return this._selectionInfoStore.setAnchorAndFocus(c),!0}if("isolated"===s){if(t.compId===o.compId)return!1;if(i){var l=this._componentListStore.getNextComponentById(o.compId);this._selectionInfoStore.setFocus(l.getStartPoint())}else{var p=this._componentListStore.getPrevComponentById(o.compId);this._selectionInfoStore.setFocus(p.getEndPoint())}return!0}return"object"===s&&(r?this._selectionInfoStore.setFocus(i?a.getEndPoint():a.getStartPoint()):this._selectionInfoStore.setFocus(i?a.getStartPoint():a.getEndPoint()),!0)},t}(QN),cx=sx,lx=cx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/default-selection-command.js",localName:t}})}catch(e){}}e(sx,"DefaultSelectionCommand"),e(cx,"default")}();var ux=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=this._componentListStore.getComponentById(e.currentPoint.compId).querySelection(e);return t?(this._selectionInfoStore.setAnchorAndFocus(t),!0):this._executeDefaultSelectionCommand(e)},o._executeDefaultSelectionCommand=function(e){var t=e.currentPoint,o=e.toPoint,n=e.direction,r=e.isShrink,i=n===u.u.UP||n===u.u.LEFT,a=this._componentListStore.getComponentById(o.compId);switch(a.attributes.selection){case"query":var s=a.querySelection(e);if(s)return this._selectionInfoStore.setAnchorAndFocus(s),!0;break;case"isolated":if(t.compId===o.compId)break;if(i){var c=this._componentListStore.getNextComponentById(o.compId);this._selectionInfoStore.setFocus(c.getStartPoint())}else{var l=this._componentListStore.getPrevComponentById(o.compId);this._selectionInfoStore.setFocus(l.getEndPoint())}return!0;default:return r?this._selectionInfoStore.setFocus(i?a.getEndPoint():a.getStartPoint()):this._selectionInfoStore.setFocus(i?a.getStartPoint():a.getEndPoint()),!0}},t}(QN),px=ux,dx=px;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/query-selection-command.js",localName:t}})}catch(e){}}e(ux,"QuerySelectionCommand"),e(px,"default")}();var hx=o(53),fx=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.currentPoint,o=e.toPoint,n=e.direction,r=e.eventType,i=this._componentListStore.getComponentById(t.compId);if(hx.a.event.isKeyboardEvent(r))return this._selectComponent(i);var a=n===u.u.UP||n===u.u.LEFT;if(this._extendAnchorToComponent(i,a),t.compId===o.compId)return this._extendBlock(i,a);var s=this._componentListStore.getComponentById(o.compId);switch(s.attributes.selection){case"isolated":return this._extendBlockToIsolatedAdjacent(s,a);case"object":case"select":case"trapped":case"query":return this._extendBlock(s,a);default:return!1}},o._selectComponent=function(e){return this._selectionInfoStore.select([e.id]),!0},o._extendAnchorToComponent=function(e,t){this._selectionInfoStore.setAnchor(t?e.getEndPoint():e.getStartPoint())},o._extendFocusToStart=function(e){this._selectionInfoStore.setFocus(e.getStartPoint())},o._extendFocusToEnd=function(e){this._selectionInfoStore.setFocus(e.getEndPoint())},o._extendBlock=function(e,t){return t?this._extendFocusToStart(e):this._extendFocusToEnd(e),!0},o._extendBlockToIsolatedAdjacent=function(e,t){if(t){var o=this._componentListStore.getNextComponent(e);this._extendFocusToStart(o)}else{var n=this._componentListStore.getPrevComponent(e);this._extendFocusToEnd(n)}return!0},t}(QN),mx=fx,gx=mx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/selectable-unit-selection-command.js",localName:t}})}catch(e){}}e(fx,"SelectableUnitSelectionCommand"),e(mx,"default")}();var yx={},bx={getCommand:function(e){if(yx[e])return yx[e];var t=this._createInstance(e);return yx[e]=t,t},destroy:function(){Object(r.a)(yx,function(e,t){yx[t]=null})},_createInstance:function(e){switch(e){case"text":return new ex;case"trapped":return new nx;case"isolated":return new ax;case"query":case"query-with-trapped":return new dx;case"selectable-unit":return new gx;default:return new lx}}},_x=bx,vx=_x;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/block-selection/index.js",localName:t}})}catch(e){}}e(yx,"instanceMap"),e(bx,"BlockSelection"),e(_x,"default")}();var Cx=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){e.toPoint,e.fromPoint,e.direction,e.eventType},t}(KN),Sx=Cx,Ox=Sx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/abstract-cursor-command.js",localName:t}})}catch(e){}}e(Cx,"AbstractCursorCommand"),e(Sx,"default")}();var kx=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.fromPoint,o=e.toPoint,n=this._componentListStore.getComponentById(o.compId);if(!n)return!1;if("query"===n.attributes.cursor){var r=n.queryCursor(e).range;if(r)return this._selectionInfoStore.setRange(r),!0}var i=n.getStoreById(o.unitId);if(!i)return!1;switch(i.attributes.cursor){case"selectable-unit":return t.compId===o.compId&&this._selectionInfoStore.isSingleCompMode()?this._selectionInfoStore.selectUnit(o):this._selectionInfoStore.select([o.compId]),!0;case"select":return this._selectionInfoStore.selectUnit(o),!0}return!1},t}(Ox),Ix=kx,wx=Ix;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/mouse/default-mouse-cursor-command.js",localName:t}})}catch(e){}}e(kx,"DefaultMouseCursorCommand"),e(Ix,"default")}();var Px={},jx={getCommand:function(e){if(Px[e])return Px[e];var t=this._createInstance(e);return Px[e]=t,t},destroy:function(){Object(r.a)(Px,function(e,t){Px[t]=null})},_createInstance:function(){return new wx}},Tx=jx,Lx=Tx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/mouse/index.js",localName:t}})}catch(e){}}e(Px,"instanceMap"),e(jx,"MouseCursor"),e(Tx,"default")}();var Ex={trap:function(e,t,o){if(e===u.u.UP){var n=Object.assign(t.getStartPoint(),{compId:o});return{start:n,end:n}}if(e===u.u.DOWN){var r=Object.assign(t.getEndPoint(),{compId:o});return{start:r,end:r}}},toPrev:function(e,t,o,n){var r=e.getPrevComponent(t);if(!r&&n)return this.trap(o,n,t.id);switch(r.attributes.cursor){case"select":case"selectable-unit":return r.getComponentActiveRange();case"left-and-right":return this.toUnit(e,o,{compId:r.id});default:return null}},toPrevComponent:function(e,t,o){var n=e.getPrevComponent(t);if(!n)return t.getCompStartRange();switch(n.attributes.cursor){case"left-and-right":return this.toUnit(e,o,{compId:n.id});default:return this._getNextRangeByDirection(!0,n)}},toNext:function(e,t,o,n){var r=e.getNextComponent(t);if(!r&&n)return this.trap(o,n,t.id);switch(r.attributes.cursor){case"select":case"selectable-unit":return r.getComponentActiveRange();case"left-and-right":return this.toUnit(e,o,{compId:r.id});default:return null}},toNextComponent:function(e,t,o){var n=e.getNextComponent(t);if(!n)return t.getCompEndRange();switch(n.attributes.cursor){case"left-and-right":return this.toUnit(e,o,{compId:n.id});default:return n.getComponentActiveRange()}},toUnit:function(e,t,o){var n=e.getComponentById(o.compId).getStoreById(o.unitId),r=t===u.u.UP||t===u.u.LEFT;return this._shouldTrapCursor(n)?this.trap(t,n,o.compId):r?this._findLeftRange(e,t,o):this._findRightRange(e,t,o)},_getPrevUnitRange:function(e){var t=e.getPrevUnit().getComponentActiveRange();return t.start.compId=e.id,t.end.compId=e.id,t},_getNextRangeByDirection:function(e,t){if(e){var o=t.getEndPoint();return{start:o,end:o}}var n=t.getStartPoint();return{start:n,end:n}},_getNextUnitRange:function(e,t){var o=e.getNextUnit(),n=t===u.u.UP||t===u.u.LEFT,r=this._getNextRangeByDirection(n,o);return r.start.compId=e.id,r.end.compId=e.id,r},_findLeftRange:function(e,t,o){var n=e.getComponentById(o.compId),r=n.getPrevUnit(),i=n.getNextUnit();return r.isFocused?this.toPrev(e,n,t,r):i.isFocused?this._getPrevUnitRange(n):this._getNextUnitRange(n,t)},_findRightRange:function(e,t,o){var n=e.getComponentById(o.compId),r=n.getPrevUnit(),i=n.getNextUnit();return r.isFocused?this._getNextUnitRange(n,t):i.isFocused?this.toNext(e,n,t,i):this._getPrevUnitRange(n)},_shouldTrapCursor:function(e){return e&&"trapped"===e.attributes.cursor}},Nx=Ex,xx=Nx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/cursor-navigation.js",localName:t}})}catch(e){}}e(Ex,"cursorNavigation"),e(Nx,"default")}();var Dx=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.fromPoint,o=e.toPoint,n=e.direction,r=this._componentListStore,i=r.getComponentById(o.compId);switch(i.attributes.cursor){case"selectable-unit":return this._selectionInfoStore.select([i.id]),!0;case"select":if(t.compId!==o.compId)return this._selectionInfoStore.select([i.id]),!0;break;case"left-and-right":var a=xx.toUnit(r,n,o);return this._selectionInfoStore.setRange(a),!0;case"query":var s=i.queryCursor(e),c=s.type,l=s.range;if("next-component"===c&&(l=xx.toNextComponent(r,i,n)),l)return this._selectionInfoStore.setRange(l),!0}return!1},t}(Ox),Rx=Dx,Ax=Rx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/default-keyboard-cursor-command.js",localName:t}})}catch(e){}}e(Dx,"DefaultKeyboardCursorCommand"),e(Rx,"default")}();var Ux=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.direction,o=e.fromPoint,n=this._componentListStore.getComponentById(o.compId).getStoreById(o.unitId);if(t===u.u.UP){var r=n.getStartPoint();this._selectionInfoStore.setRange({start:r,end:r})}if(t===u.u.DOWN){var i=n.getEndPoint();this._selectionInfoStore.setRange({start:i,end:i})}return!0},t}(Ox),Mx=Ux,Bx=Mx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/trapped-keyboard-cursor-command.js",localName:t}})}catch(e){}}e(Ux,"TrappedKeyboardCursorCommand"),e(Mx,"default")}();var Fx=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.execute=function(e){var t=e.fromPoint,o=e.direction,n=this._componentListStore.getComponentById(t.compId),r=n.queryCursor(e),i=r.type,a=r.range;switch(i){case"next-component":return this._moveToLowerComponent(n,o),!0;case"prev-component":return this._moveToUpperComponent(n,o),!0;case"range":return a?(this._setRange(a),!0):(this._moveToNextComponentByDirection(n,o),!0)}},o._moveToUpperComponent=function(e,t){var o=this._componentListStore,n=xx.toPrevComponent(o,e,t);this._selectionInfoStore.setRange(n)},o._moveToLowerComponent=function(e,t){var o=this._componentListStore,n=xx.toNextComponent(o,e,t);this._selectionInfoStore.setRange(n)},o._setRange=function(e){this._selectionInfoStore.setRange(e)},o._moveToNextComponentByDirection=function(e,t){t===u.u.UP||t===u.u.LEFT?this._moveToUpperComponent(e,t):this._moveToLowerComponent(e,t)},t}(Ox),zx=Fx,Wx=zx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/query-keyboard-cursor-command.js",localName:t}})}catch(e){}}e(Fx,"QueryKeyboardCursorCommand"),e(zx,"default")}();var Vx=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(e){var t=e.direction,o=e.fromPoint,n=this._componentListStore,r=xx.toUnit(n,t,o);return!!r&&(this._selectionInfoStore.setRange(r),!0)},t}(Ox),Gx=Vx,Hx=Gx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/left-and-right-keyboard-cursor-command.js",localName:t}})}catch(e){}}e(Vx,"LeftAndRightKeyboardCursorCommand"),e(Gx,"default")}();var qx=function(e){function t(){return e.apply(this,arguments)||this}return h()(t,e),t.prototype.execute=function(){return!0},t}(Ox),Jx=qx,Kx=Jx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/selectable-unit-keyboard-cursor-command.js",localName:t}})}catch(e){}}e(qx,"SelectableUnitKeyboardCursorCommand"),e(Jx,"default")}();var Yx={},Xx={getCommand:function(e){if(Yx[e])return Yx[e];var t=this._createInstance(e);return Yx[e]=t,t},destroy:function(){Object(r.a)(Yx,function(e,t){Yx[t]=null})},_createInstance:function(e){switch(e){case"trapped":return new Bx;case"left-and-right":return new Hx;case"query":return new Wx;case"selectable-unit":return new Kx;default:return new Ax}}},Qx=Xx,Zx=Qx;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/keyboard/index.js",localName:t}})}catch(e){}}e(Yx,"instanceMap"),e(Xx,"KeyboardCursor"),e(Qx,"default")}();var $x={getCommand:function(e,t){return hx.a.event.isKeyboardEvent(e)?Zx.getCommand(t):Lx.getCommand(t)},destroy:function(){Lx.destroy(),Zx.destroy()}},eD=$x,tD=eD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/commands/cursor/index.js",localName:t}})}catch(e){}}e($x,"Cursor"),e(eD,"default")}();var oD=function(){function e(){this._selectionInfoStore=u.U.get("selectionInfoStore"),this._componentListStore=u.U.get("componentListStore"),this._virtualEditable=u.U.get("virtualEditable"),this._contentsToolbarLayoutService=u.U.get("contentsToolbarLayoutService")}var t=e.prototype;return t.destroy=function(){tD.destroy(),vx.destroy()},t.moveCursor=function(e){var t=e.direction,o=e.toPoint,n=e.eventType,r=this._selectionInfoStore.focus;return this._getCursorCommand(n,r).execute({direction:t,toPoint:o,fromPoint:r,eventType:n})},t._getCursorCommand=function(e,t){var o=this._componentListStore.getComponentById(t.compId),n=o.getStoreById(t.unitId),r=o.attributes.cursor;return"left-and-right"===r?tD.getCommand(e,r):tD.getCommand(e,n.attributes.cursor)},t.selectAsBlock=function(e){var t=e.direction,o=e.toPoint,n=e.isShrink,r=e.eventType;if(null===o.compId)return!1;var i=this._selectionInfoStore,a=i.focus,s=i.anchor,c=this._componentListStore.getComponentById(a.compId).getStoreById(a.unitId);return vx.getCommand(c.attributes.selection).execute({currentPoint:a,toPoint:o,focus:a,anchor:s,direction:t,isShrink:n,eventType:r})},t.isSelectAllable=function(){var e=this._selectionInfoStore.focus,t=this._componentListStore.getComponentById(e.compId).getStoreById(e.unitId),o=t.attributes.selection;if("trapped"===o||"query-with-trapped"===o)return!1===Object(ct.a)(t.getStartPoint(),t.getEndPoint());var n=this.getComponentsRangeWithoutDocumentTitle();return!1===Object(ct.a)(n.start,n.end)},t.selectAroundWord=function(){return this._virtualEditable.extendToAroundWordBySelectionInfo(),!this._selectionInfoStore.collapsed},t.selectAll=function(){var e=this,t=this._selectionInfoStore.focus,o=this._componentListStore.getComponentById(t.compId),n=o.getStoreById(t.unitId),r=n.attributes.selection;if("trapped"!==r&&"query-with-trapped"!==r){var i=this.getComponentsRangeWithoutDocumentTitle();this._selectionInfoStore.setRange(i),setTimeout(function(){if(e._contentsToolbarLayoutService){var t=e._virtualEditable.getClientRects();e._contentsToolbarLayoutService.updateContentsToolbarPosition({clientRects:t,range:{collapsed:!1}})}},100)}else{var a=rt()({compId:o.id},n.getStartPoint()),s=rt()({compId:o.id},n.getEndPoint());this._selectionInfoStore.setRange({start:a,end:s})}},t.getComponentsRangeWithoutDocumentTitle=function(){var e=this._componentListStore.filter(function(e){return"documentTitle"!==e.ctype});return{start:Object(mo.a)(e).getStartPoint(),end:Object(kc.a)(e).getEndPoint()}},t.isCurrentAnchorUnitId=function(e){return this._selectionInfoStore.anchor.unitId===e},e}(),nD=oD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/selection-service.js",localName:t}})}catch(e){}}e(oD,"SelectionService"),e(nD,"default")}();var rD,iD=function(){function e(){this._themeStore=u.U.get("themeStore"),this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore")}var t=e.prototype;return t.changeTheme=function(e){this._themeStore.changeThemeName(e)&&this._updateAllComponents()},t.refreshTheme=function(){this._updateAllComponents()},t.getComponentThemeStyle=function(e){return this._themeStore.getComponentThemeStyle(e)},t._updateAllComponents=function(){var e=this;this._componentListStore.forEach(function(t){var o=e.getComponentThemeStyle(t.ctype);o&&t.updateTheme(o)})},e}(),aD=iD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/theme-service.js",localName:t}})}catch(e){}}e(iD,"ThemeService"),e(aD,"default")}();var sD=(rD=function(){function e(){this._configAgent=u.U.get("configAgent"),this._tokenStore=u.U.get("tokenStore")}var t=e.prototype;return t.readyForAuthorization=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._setTokenAuthorizationInGlobalHeader(),this._setRefreshAuthTokenInterceptor(),this._setAppIdInGlobalHeader(t),e.t0=this._tokenStore,e.next=6,this._fetchInfraToken();case 6:e.t1=e.sent,e.t0.setInfraToken.call(e.t0,e.t1);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._fetchInfraToken=function(){var e=Zt()(Xt.a.mark(function e(){var t;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._configAgent.get("apiInfo.fetchInfraPopupToken"),e.next=3,Ao.a.get(t,{options:{withCredentials:!0},success:function(e){return e.token}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._setTokenAuthorizationInGlobalHeader=function(){var e=this._configAgent.get("userInfo.token");void 0!==e&&null!==e&&(this._tokenStore.setAuthToken(e),Ao.a.setGlobalHeader("SE-Authorization",e))},t.invalidateAuthToken=function(){this._tokenStore.setAuthToken(null),this._tokenStore.setInfraToken(null),Ao.a.setGlobalHeader("SE-Authorization",null)},t._setAppIdInGlobalHeader=function(e){Ao.a.setGlobalHeader("SE-App-Id",e)},t._setRefreshAuthTokenInterceptor=function(){var e=this;Ao.a.addResponseErrorInterceptor(function(t){var o=t.response;return e._isAuthTokenExpired(o)?e._refreshAuthToken(t.config).then(e._retryFailedRequest):Promise.reject(t)},Number.MAX_SAFE_INTEGER)},t._isAuthTokenExpired=function(e){var t=Object(J.a)(e,"data.errorDetailMessage");return e&&403===e.status&&"Token Expired"===t},t._retryFailedRequest=function(e){var t=e.token,o=e.config;return this._tokenStore.setAuthToken(t),Ao.a.setGlobalHeader("SE-Authorization",t),o.headers["SE-Authorization"]=t,Ao.a.retry(o)},t._refreshAuthToken=function(e){var t,o=this._configAgent.get("apiInfo.fetchAuthToken"),n="target_appcode="+this._configAgent.get("serviceInfo.appCode")+"&"+("user_id="+this._configAgent.get("userInfo.userId"))+"&"+("t="+Date.now());return Ao.a.get(o+"?"+n,{options:{headers:(t={},t["SE-Authorization"]=this._tokenStore.getAuthToken(),t),withCredentials:!0,simpleRequestForced:!0},success:function(t){return{token:t.token,config:e}}})},e}(),q()(rD.prototype,"_retryFailedRequest",[ee.autobind],Object.getOwnPropertyDescriptor(rD.prototype,"_retryFailedRequest"),rD.prototype),rD),cD=sD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/auth-service.js",localName:t}})}catch(e){}}e("SE-App-Id","APP_ID_HEADER"),e("SE-Authorization","AUTH_TOKEN_HEADER"),e(sD,"AuthService"),e(cD,"default")}();var lD=function(){function e(){this._configAgent=u.U.get("configAgent"),this._componentFactory=u.U.get("componentFactory"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._componentListStore=u.U.get("componentListStore"),this._multiCrawlerRepository=new hN({url:this._configAgent.get("apiInfo.fetchMultiCrawler")})}var t=e.prototype;return t.crawlFrom=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._multiCrawlerRepository.fetch(t);case 2:if(o=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return this._exceptionHandler(o),e.abrupt("return",this._componentFactory.createComponentWithCompData(o));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.crawlFromReturnRaw=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._multiCrawlerRepository.fetch(t);case 2:if(o=e.sent){e.next=5;break}return e.abrupt("return",null);case 5:return this._exceptionHandler(o),e.abrupt("return",o);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getCrawlerInfo=function(){var e=this._selectionInfoStore.toValidJSON(),t=e.mode,o=e.start,n=this._componentListStore.getComponentById(o.compId).getStoreById(o.unitId),r="text"===n.attributes.insertion&&n.isLinkAllowed();if(t===u.N.CURSOR&&r){var i=n.getUrlInNode(o);if(!i)return null;var a=n.changeLink({type:"url",value:Zi.a.prependProtocol(Zi.a.getEncodeUrl(i.url))},i.range);return this._selectionInfoStore.setRange({start:Object(kc.a)(a),end:Object(kc.a)(a)}),i.url}return null},t._exceptionHandler=function(){},e}(),uD=lD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/crawler-service.js",localName:t}})}catch(e){}}e(lD,"CrawlerService"),e(uD,"default")}();var pD=function(){function e(){var e=u.U.get("componentFactory").getAvailableCompType().includes("documentTitle");this._validateRules=e?[u.ab.titleContentsRequired,u.ab.contentsRequired,u.ab.titleRequired]:[u.ab.contentsRequired]}var t=e.prototype;return t.validateAsync=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.bb.validate(this._validateRules,t);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(t){return e.apply(this,arguments)}}(),t.validate=function(e){try{return u.bb.validate(this._validateRules,e)}catch(e){return e}},e}(),dD=pD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/document-validate-service.js",localName:t}})}catch(e){}}e(pD,"DocumentValidateService"),e(dD,"default")}();var hD=function(){function e(){this._configAgent=u.U.get("configAgent"),this._componentFactory=u.U.get("componentFactory"),this._componentListStore=u.U.get("componentListStore")}var t=e.prototype;return t.openFileDialog=function(){return VT.a.openFileDialog({multiple:!1,accept:""}).then(function(e){return e[0]})},t.openMyboxPopup=function(){return this._myboxPopup=ha.getInstance("mybox-file"),this._myboxPopup.open({mode:"all",maxCount:1})},t.closeMyboxPopup=function(){this._myboxPopup&&this._myboxPopup.close(),this._myboxPopup=null},t.uploadLocalFile=function(e,t,o){var n=this,r=this._configAgent.get("userInfo.userId"),i=this._configAgent.get("apiInfo.addFile");return this._updatePhase(t,u.M.PROCESSING),Ao.a.post(i,{data:this._createFormData(r,e),options:{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"},withCredentials:!0,timeout:1/0,onUploadProgress:function(e){o.progress(e,t)}},success:function(e){var r=n._refineFileUploadResponse(e);o.success(r,t)},errorParser:function(e){return e},error:function(e){return o.error(e,t)}}).finally(function(){n._updatePhase(t,u.M.DONE)})},t.uploadCloudFile=function(e,t,o){var n=this,r=this._configAgent.configMap.apiInfo,i=(void 0===r?{}:r).addNCloudFile;return this._updatePhase(t,u.M.PROCESSING),Ao.a.post(i,{data:{fileUrl:e.downloadUrl,fileName:e.name,fileFileName:e.name},options:{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},onUploadProgress:function(e){o.progress(e,t)}},success:function(e){var r=n._refineFileUploadResponse(e.result||e);o.success(r,t)},errorParser:function(e){return e},error:function(n){return o.error(n,t,e)}}).finally(function(){n._updatePhase(t,u.M.DONE)})},t._createFormData=function(e,t){var o=new FormData;return o.append("userId",e),o.append("file",t,t.name),o},t._refineFileUploadResponse=function(e){return{fileId:e.fileId||e.id,fileName:e.fileName,fileSize:e.fileSize}},t._updatePhase=function(e,t){var o=this._componentListStore.getComponentById(e);o&&o.updatePhase(t)},e}(),fD=hD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/file-upload-service.js",localName:t}})}catch(e){}}e(hD,"FileUploadService"),e(fD,"default")}();var mD=o(287),gD=function(){function e(){var e=this;this._configAgent=u.U.get("configAgent"),this._componentListStore=u.U.get("componentListStore"),this._audioUploader=u.U.get("audioUploader"),this._audioUploader||o.e(68).then(o.bind(null,1288)).then(function(t){var o=t.default,n=e._configAgent.get("infraInfo.audioInfra")||{},r={audioSessionKeyAPI:e._configAgent.get("apiInfo.fetchAudioUploadSessionKey"),audioUploadAPI:n.uploadAPI};e._audioUploader=new o(r)})}var t=e.prototype;return t.openFileDialog=function(){var e=[".mp3",".m4a",".wav",".wma"].join(",");return VT.a.openFileDialog({multiple:!1,accept:e}).then(function(t){return Object(mD.a)(t,function(t){return VT.a.isAcceptable(t,e)})}).then(function(e){return{validFiles:e[0],invalidFiles:e[1]}})},t.uploadLocalFile=function(){var e=Zt()(Xt.a.mark(function e(t,o,n){var r=this;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e,i){return r._audioUploader.warmUp().then(function(){return r._updatePhase(o,u.M.PROCESSING),r._audioUploader.upload(t,{progress:function(e){n.progress(e,o)}}).then(function(t){if("SUCCESS"===t.code){var o=r._refineResponse(t);return e(o)}return i(t)}).catch(function(e){return i(e)}).finally(function(){r._updatePhase(o,u.M.DONE)})}).catch(function(e){return i(e)})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,o,n){return e.apply(this,arguments)}}(),t._refineResponse=function(e){var t=e;return{audioId:t.audioId,fileName:t.fileName,fileSize:t.fileSize}},t._updatePhase=function(e,t){var o=this._componentListStore.getComponentById(e);o&&o.updatePhase(t)},e}(),yD=gD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/audio-upload-service.js",localName:t}})}catch(e){}}e(gD,"AudioUploadService"),e(yD,"default")}();var bD=o(660),_D=o(170),vD=o(669),CD=function(){function e(e){var t=e.id,o=e.code,n=e.file,r=e.errorCodeMap,i=void 0===r?{}:r,a=e.errorDescriptionMap,s=void 0===a?{}:a;this.id=t,this.code=o||n.code,this.file=n,this.errorCodeMap=i,this.errorDescriptionMap=s}return at()(e,[{key:"fileName",get:function(){return this.file.name}},{key:"fileSize",get:function(){return this.file.size}},{key:"cause",get:function(){return this.errorCodeMap[this.code]}},{key:"description",get:function(){var e=this.errorDescriptionMap[this.code];return"UNSUPPORTED_IMAGE"===this.code&&(e=this.file.name+e),e}},{key:"descriptionWithoutFileName",get:function(){return this.errorDescriptionMap[this.code]}}]),e}(),SD=CD,OD=SD;function kD(e,t){var o=Object(mD.a)(e,function(e){return VT.a.isAcceptable(e,t)});return{validFiles:o[0],invalidFiles:o[1].map(function(e){return e.code=0===e.size?"NO_ORIGINAL_IMAGE":"UNSUPPORTED_EXTENSION",e})}}!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/image-upload-error/index.js",localName:t}})}catch(e){}}e(CD,"ImageUploadError"),e(SD,"default")}();var ID=function(){function e(){var e=this;this._generateImageUploadError=function(t,o){var n=t.file;"string"==typeof n&&(n={name:t.fileName||e._i18n("imageUploader:unknown_filename",{extraInfo:o>=2?" ("+o+")":""}),size:t.fileSize||0});var r=n.id||t.id,i=n.code||t.code||"UNSUPPORTED_IMAGE";return new OD({id:r,code:i,file:n,errorCodeMap:e._errorCodeMap,errorDescriptionMap:e._errorDescriptionMap})},this._configAgent=u.U.get("configAgent"),this._sentryManager=u.U.get("sentryManager"),this.maxImageUploadSize=this._configAgent.get("infraConfig.image.maxImageUploadSize"),this.imageMaxUploadCount=this._configAgent.get("infraConfig.image.maxUploadCount")||1/0,this.componentFactory=u.U.get("componentFactory"),this.componentListStore=u.U.get("componentListStore"),this._imageUploader=u.U.get("imageUploader"),this._imageUploader||o.e(69).then(o.bind(null,1289)).then(function(t){var o=t.default,n=e._makePhotoInfraUploaderConfig();e._imageUploader=new o(n)}),this._i18n=u.U.get("i18n"),this._errorCodeMap={NO_ORIGINAL_IMAGE:this._i18n("errorCauseMap:check_original_image"),UNSUPPORTED_IMAGE:this._i18n("errorCauseMap:unsupported_image"),UNSUPPORTED_EXTENSION:this._i18n("errorCauseMap:unsupported_extension"),LIMITATION_BY_SESSION_COUNT:this._i18n("errorCauseMap:limitation_by_session_count"),LIMITATION_BY_SESSION_SIZE:this._i18n("errorCauseMap:limitation_by_session_size"),LIMITATION_BY_IMAGE:this._i18n("errorCauseMap:limitation_by_image"),INVALID_PARAMETER:this._i18n("errorCauseMap:invalid_parameter")};var t=this._configAgent.get("infraConfig.image.acceptExt")||VT.a.DEFAULT_IMAGE_ACCEPT_LIST,n=VT.a.toPrintUpperText(t),r=this._configAgent.isMobile()?"":" ";this._errorDescriptionMap={NO_ORIGINAL_IMAGE:this._i18n("errorDescriptionMap:check_original_image"),UNSUPPORTED_IMAGE:this._i18n("errorDescriptionMap:unsupported_image"),UNSUPPORTED_EXTENSION:this._i18n("errorDescriptionMap:unsupported_extension",{allowExtList:n}),LIMITATION_BY_SESSION_COUNT:this._i18n("errorDescriptionMap:limitation_by_session_count"),LIMITATION_BY_SESSION_SIZE:this._i18n("errorDescriptionMap:limitation_by_session_size",{maxImageUploadSize:VT.a.convertToFileSizeUnit(this.maxImageUploadSize,r)}),LIMITATION_BY_IMAGE:this._i18n("errorDescriptionMap:limitation_by_image",{maxImageUploadSize:VT.a.convertToFileSizeUnit(this.maxImageUploadSize,r)}),INVALID_PARAMETER:this._i18n("errorDescriptionMap:invalid_parameter")}}var t=e.prototype;return t._makePhotoInfraUploaderConfig=function(){var e=this._configAgent.get("infraInfo.photoInfra.domain"),t=this._configAgent.get("infraInfo.photoInfra.imageHost"),o=this._configAgent.get("userInfo.userId"),n=this._configAgent.get("apiInfo.fetchPhotoUploadSessionKey"),r=this._configAgent.get("editorInfo.resourcePath"),i=this._configAgent.get("editorInfo.sslEnabled"),a=this._configAgent.get("modules.photoUploader.config.useCustomQuery"),s=this._configAgent.get("modules.photoUploader.config.customQuery");return{domain:e,imageHost:t,userId:o,sessionUrl:n,resourcePath:r,sslEnabled:i,customQuery:Object(_D.a)(s)?s:void 0,useCustomQuery:!!Object(bD.a)(a)&&a}},t.validateImages=function(e,t){return void 0===t&&(t=VT.a.DEFAULT_IMAGE_ACCEPT_LIST),kD(e,t)},t.openFileDialog=function(e){void 0===e&&(e={});var t=e.accept||this._configAgent.get("infraConfig.image.acceptExt")||VT.a.DEFAULT_IMAGE_ACCEPT_LIST;return VT.a.openFileDialog({accept:t,multiple:e.multiple||!1}).then(function(e){return kD(e,t)})},t.uploadImagesFromFiles=function(e){return this.uploadImages(e)},t.uploadImageFromUrls=function(e){return this.uploadImages(e)},t.uploadImages=function(e){var t=this;if("NAVER_PHOTO_INFRA"===this._imageUploader.PROVIDER){var o=this._makePhotoInfraUploaderConfig();this._imageUploader.setConfig(o)}return this._imageUploader.warmUp().then(function(){return e.map(function(e){var o=e.id,n=e.source,r=new vD.a;return t._imageUploader.upload(n).then(function(e){var i=rt()({},e);switch(i.id=o,i.file=n,i.code){case"SUCCESS":return r.resolve({code:"SUCCESS",response:i});default:return"CLIENT"!==i.code&&"SERVER_ERROR"!==i.code||t._sentryManager.withScope(function(e){e.setLevel("SERVER_ERROR"===i.code?"error":"warning"),e.setExtra("logger","ImageFileUploader"),e.setExtra("cause","phup 에러"),e.setExtra("data",i),t._sentryManager.captureMessage("phup 이미지 업로드 오류 발생!")}),r.reject({code:"FAIL",response:i})}}).catch(function(e){var t=rt()({},e);return t.id=o,t.file=n,r.reject({code:"FAIL",response:t})}),r.promise})})},t.createSourceList=function(e,t){return e.map(function(e,o){return{id:e,source:t[o]}})},t.invalidImageErrors=function(e){return e.map(this._generateImageUploadError)},t.isExceededMaxCount=function(e){void 0===e&&(e=[]);var t=e.length,o=this.getExceededCountByMax(t);if(o>0){var n=t-o,r=o;return e.splice(n,r),!0}return!1},t.getExceededCountByMax=function(e){var t=this.componentListStore.countByIncludedImage("image")+e-this.imageMaxUploadCount;return t>0?t:0},t.isCustomUploader=function(){return"NAVER_PHOTO_INFRA"!==this._imageUploader.PROVIDER},e}(),wD=ID;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/image-upload-service.js",localName:t}})}catch(e){}}e(kD,"partitionWithExtension"),e("NAVER_PHOTO_INFRA","DEFAULT_UPLOADER_PROVIDER"),e(ID,"ImageUploadService"),e(wD,"default")}();var PD,jD,TD=o(442),LD=(PD=function(){function e(){this._configAgent=u.U.get("configAgent"),this._videoUploader=u.U.get("videoUploader"),this._tokenStore=u.U.get("tokenStore")}var t=e.prototype;return t.openUploader=function(e,t,o){var n=this;void 0===o&&(o={}),setTimeout(function(){var r=n._configAgent.get("productConfig.redirectWhenInfraAuthFailed"),i={header:{"SE-Authorization":n._tokenStore.getAuthToken()},withCredentials:!0,authTokenAPI:n._authTokenAPI(),redirectLoginPage:r?n._onRedirectLoginPage:null,remainCount:o.remainCount};n._videoUploader.open({initOptions:i,callbacks:t,files:e})},10)},t.openMetaEditor=function(e,t,o){var n=this;setTimeout(function(){var r=n._configAgent.get("productConfig.redirectWhenInfraAuthFailed"),i={header:{"SE-Authorization":n._tokenStore.getAuthToken()},withCredentials:!0,authTokenAPI:n._authTokenAPI(),redirectLoginPage:r?n._onRedirectLoginPage:null};n._videoUploader.edit({videoMeta:e,serviceData:t,initOptions:i,callbacks:o})},10)},t._authTokenAPI=function(){var e=this._configAgent.get("apiInfo.fetchAuthToken");return e?e+"?"+("target_appcode="+this._configAgent.get("serviceInfo.appCode"))+"&"+("user_id="+this._configAgent.get("userInfo.userId")):""},t._onRedirectLoginPage=function(){try{var e=this._configAgent.get("serviceInfo.loginUrl");if(e){var t=window.parent.location.href;window.top.location.replace(""+e+t)}}catch(e){return!1}},e}(),q()(PD.prototype,"_onRedirectLoginPage",[ee.autobind],Object.getOwnPropertyDescriptor(PD.prototype,"_onRedirectLoginPage"),PD.prototype),PD),ED=function(){function e(){this._configAgent=u.U.get("configAgent"),this._serviceId=this._configAgent.get("serviceInfo.serviceId"),this._userId=this._configAgent.get("userInfo.userId"),this._appCode=this._configAgent.get("serviceInfo.appCode"),this._maxUploadSize=this._configAgent.get("infraConfig.video.maxVideoUploadSize"),this._maxPlayTime=this._configAgent.get("infraConfig.video.maxVideoPlayTime"),this._maxDesclen=this._configAgent.get("infraConfig.video.maxVideoDescLength"),this._authTokenApi=this._getAuthTokenAPI(this._appCode,this._userId),this._updateTokenApi=this._getUpdateTokenAPI(),this._videoUploader=this._getVideoUploader()}var t=e.prototype;return t.openUploader=function(e,t){var o=this;void 0===e&&(e=[]),this._videoUploader.warmUp({serviceId:this._serviceId,userId:this._userId,authTokenAPI:this._authTokenApi,tokenAPI:this._updateTokenApi,maxUploadSize:this._maxUploadSize,maxPlayTime:this._maxPlayTime},Zt()(Xt.a.mark(function n(){var r;return Xt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.onStart&&t.onStart({count:e.length}),r=0,n.prev=2,r=0;case 4:if(!(r<e.length)){n.next=10;break}return n.next=7,o._videoUploader.upload(e[r],{start:o._handleEachStart(t),progress:o._handleEachProgress(t),complete:o._handleEachComplete(t),error:o._handleEachError(t)});case 7:r++,n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),t.onError&&t.onError({unprocessedFiles:e.slice(r)});case 15:t.onEnd&&t.onEnd();case 16:case"end":return n.stop()}},n,null,[[2,12]])})))},t._handleEachStart=function(e){return void 0===e&&(e={}),function(t){e.onEachStart&&e.onEachStart(t)}},t._handleEachProgress=function(e){return void 0===e&&(e={}),function(t){e.onEachProgress&&e.onEachProgress(t)}},t._handleEachComplete=function(e){var t=this;return void 0===e&&(e={}),function(o){var n=t._refineVideoData(o);e.onEachComplete&&e.onEachComplete(n)}},t._handleEachError=function(e){return void 0===e&&(e={}),function(t){e.onEachError&&e.onEachError(t)}},t.openMetaEditor=function(e,t){var o=u.U.get("videoUploader");if(o.isLegacyUploader){var n=this._configAgent.get("apiInfo.fetchAuthToken"),r="target_appcode="+this._configAgent.get("serviceInfo.appCode"),i="user_id="+this._configAgent.get("userInfo.userId"),a=u.U.get("tokenStore"),s=this._configAgent.get("productConfig.redirectWhenInfraAuthFailed"),c={header:{"SE-Authorization":a.getAuthToken()},withCredentials:!0,authTokenAPI:function(e,t,o){return e?e+"?"+t+"&"+o:""}(n,r,i),redirectLoginPage:s?this._onRedirectLoginPage:null};o.edit({videoMeta:e,initOptions:c,callbacks:t})}},t._getVideoUploader=function(){var e=this,t=u.U.get("videoUploader"),n=this._configAgent.get("productEnv.buildEnv");t&&!t.isLegacyUploader||o.e(70).then(o.bind(null,1290)).then(function(t){var o=t.default;e._videoUploader=new o({buildEnv:n})})},t._getAuthTokenAPI=function(e,t){var o=this._configAgent.get("apiInfo.fetchAuthToken");return o?o+"?"+("target_appcode="+e)+"&"+("user_id="+t):""},t._getUpdateTokenAPI=function(){return this._configAgent.get("apiInfo.fetchVideoUploaderToken")},t._refineVideoData=function(e){var t=e.videoId,o=e.thumbnails,n=e.header,r=e.file,i=n.rotation,a=n.width,s=n.height,c=n.fileSize,l=n.duration,u=90===i||270===i,p=u?s:a,d=u?a:s,h=this._getSelectedThumbnail(o);return{vid:t,fileName:r.name,internalResource:!0,thumbnail:h,fileSize:parseInt(c,10),playTime:l,width:p,height:d,originalWidth:p,originalHeight:d,format:"normal",mediaMeta:{}}},t._getSelectedThumbnail=function(e){return{src:Object(Pa.a)(e,{type:"COVER"}).path}},e}(),ND=function(){function e(){this._componentListStore=u.U.get("componentListStore"),this._videoUploadServiceImple=this._getVideoUploadService();var e=u.U.get("configAgent").get("infraConfig.video.maxUploadCount");this.videoMaxUploadCount=Object(TD.a)(e)?e:1/0}var t=e.prototype;return t._getVideoUploadService=function(){return"simple"===u.U.get("configAgent").get("modules.videoUploader.config.uploadMode")?new ED:new LD},t.openUploader=function(e,t){var o={remainCount:this._getRemainCount()};this._videoUploadServiceImple.openUploader(e,t,o)},t.openMetaEditor=function(e,t,o){this._videoUploadServiceImple.openMetaEditor(e,t,o)},t.openFileDialog=function(e){void 0===e&&(e={});var t=e.accept||VT.a.DEFAULT_VIDEO_ACCEPT_LIST;return VT.a.openFileDialog({accept:t,multiple:e.multiple||!1}).then(function(e){return Object(mD.a)(e,function(e){return VT.a.isAcceptable(e,t)})}).then(function(e){return{validFiles:e[0],invalidFiles:e[1]}})},t.isExceededMaxCount=function(e){void 0===e&&(e=[]);var t=e.length,o=this._getExceededCountByMax(t);if(o>0){var n=t-o,r=o;return e.splice(n,r),!0}return!1},t._getExceededCountByMax=function(e){var t=this._componentListStore.countBy("video")+e-this.videoMaxUploadCount;return t>0?t:0},t._getRemainCount=function(){var e=this._componentListStore.countBy("video");return this.videoMaxUploadCount-e},e}(),xD=ND;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/video-upload-service.js",localName:t}})}catch(e){}}e(LD,"LegacyVideoUploadService"),e(ED,"SimpleVideoUploadService"),e(ND,"VideoUploadService"),e(xD,"default")}();var DD=(jD=function(){function e(){}var t=e.prototype;return t.__ON_LAZY__=function(){this._configAgent=u.U.get("configAgent"),this._photoEditor=u.U.get("photoEditor"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._componentListStore=u.U.get("componentListStore"),this._tokenStore=u.U.get("tokenStore"),this._hotkeyBinder=u.U.get("hotkeyBinder"),this._virtualEditable=u.U.get("virtualEditable"),this._canvasScrollingService=u.U.get("canvasScrollingService"),this._cbRegistry={},this._edited=!1},t.editImage=function(e){var t=this;return new Promise(function(o,n){var r=t._createPhotoEditorOption(rt()({},e,{resolve:o,reject:n}));t._photoEditor.open(r)})},t.editImageGroupAtOrderLayer=function(e){var t=e.activeCompId,o=e.editableImages,n=e.callbacks,r=void 0===n?{}:n,i=this._configAgent.get("productConfig.redirectWhenInfraAuthFailed"),a=this._filterUploadedPhotoInfos(o),s=this._getActiveCompId(t,a),c={header:this._getHeader(),withCredentials:!0,initKey:s,editablePhotoInfos:a,authTokenAPI:this._authTokenAPI(),done:function(e){(r.onCompleteEdit||function(){})(e)},redirectLoginPage:i?this._onRedirectLoginPage:null};this._photoEditor.open(c)},t._createPhotoEditorOption=function(e){var t=e.activeCompId,o=e.editableImages,n=e.direct,r=e.callbacks,i=e.resolve,a=e.reject,s=this._configAgent.get("productConfig.redirectWhenInfraAuthFailed");this._filteredPhotoInfos=this._filterUploadedPhotoInfos(o,r);var c=this._getActiveCompId(t,this._filteredPhotoInfos);return{header:this._getHeader(),withCredentials:!0,initKey:c,editablePhotoInfos:this._filteredPhotoInfos,authTokenAPI:this._authTokenAPI(),beforeOpen:this._onBeforeOpenPhotoEditor.bind(this),afterClose:this._onAfterClosePhotoEditor.bind(this,a),done:this._onCompleteEdit.bind(this,i),redirectLoginPage:s?this._onRedirectLoginPage:null,direct:n}},t._getHeader=function(){return{"SE-Authorization":this._tokenStore.getAuthToken()}},t._assignCallbacks=function(e,t){e&&(this._cbRegistry[t]={onCompleteEdit:e.onCompleteEdit||function(){}})},t._onBeforeOpenPhotoEditor=function(){this._canvasScrollingService.hideWindowScroll(),this._virtualEditable.disable(),this._hotkeyBinder.pause()},t._onAfterClosePhotoEditor=function(e){this._edited||e(),this._hotkeyBinder.unpause(),this._virtualEditable.enable(),this._virtualEditable.refresh(),this._canvasScrollingService.restoreWindowScroll(),this._edited=!1},t._onCompleteEdit=function(e,t){var o=this;this._reorderImageList(this._filteredPhotoInfos,t),t.forEach(function(e){var t=o._componentListStore.getComponentById(e.key);t&&t.applyEditedImage&&t.applyEditedImage(e);var n=o._cbRegistry[e.key];n&&n.onCompleteEdit(e)}),this._cbRegistry={},this._edited=!0,e()},t._authTokenAPI=function(){var e=this._configAgent.get("apiInfo.fetchAuthToken");return e?e+"?"+("target_appcode="+this._configAgent.get("serviceInfo.appCode"))+"&"+("user_id="+this._configAgent.get("userInfo.userId")):""},t._onRedirectLoginPage=function(){try{var e=this._configAgent.get("serviceInfo.loginUrl");if(e){var t=window.parent.location.href;window.top.location.replace(""+e+t)}}catch(e){return!1}},t._getActiveCompId=function(e,t){var o=t.some(function(t){return t.photos.some(function(t){return t.id===e})});return e&&o?e:t[0]&&t[0].id},t._filterUploadedPhotoInfos=function(e,t){var o=this,n=!!e;return(n?e:this._componentListStore.toValidJSON()).filter(function(e){return o._assignCallbacks(t,e.id),e.photos=o._refinePhotoInfos(e,n),e.photos})},t._refinePhotoInfos=function(e,t){var o=this;void 0===t&&(t=!1);var n=e.id,r=e.ctype,i=e.images,a=e.wrappedSection,s=e.internalResource,c=e.background;if("image"===r&&s&&e.path)return[rt()({key:n},e)];if(["imageGroup","imageStrip"].includes(r)&&i){var l=i.reduce(function(e,t){return t.path?e.concat(o._refinePhotoInfos(t)).filter(function(e){return e}):e},[]);if(l.length)return l}else{if(a&&"image"===a.ctype&&a.path)return this._refinePhotoInfos(a);if(c&&c.image&&t&&c.image.path)return this._refinePhotoInfos(c.image)}},t._reorderImageList=function(e,t){var o=this;if(1!==t.length){var n=t.map(function(e){return o._componentListStore.getComponentById(e.key)});e.every(function(e,t){return e.id===n[t].id})||this._reorderBetweenList(e,n)}},t._reorderBetweenList=function(e,t){var o={};t.forEach(function(t,n){var r=e[n].id;t.id!==r&&(o[r]=t)});var n=e[0],r=e[e.length-1],i=this._componentListStore.getComponentsBetween(n.id,r.id).map(function(e){var t=o[e.id];return t||e});this._componentListStore.replaceBetween(n,r,i)},e}(),q()(jD.prototype,"_onRedirectLoginPage",[ee.autobind],Object.getOwnPropertyDescriptor(jD.prototype,"_onRedirectLoginPage"),jD.prototype),jD),RD=DD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/image-edit-service.js",localName:t}})}catch(e){}}e(DD,"ImageEditService"),e(RD,"default")}();var AD="se_";function UD(e,t,o){return window.open(e,AD+t,o)}var MD={NAME_PREFIX:AD,open:UD},BD=MD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/common/wrapped-window.js",localName:t}})}catch(e){}}e(AD,"NAME_PREFIX"),e(UD,"open"),e(MD,"wrappedWindow"),e(BD,"default")}();var FD,zD=function(){function e(){}var t=e.prototype;return t.open=function(e,t,o){void 0===o&&(o={});var n=o,r=n.updateFormula,i=n.redirectLoginPage;this._initData=t,this._callbacks={updateFormula:function(e){var t=JSON.parse(e),o=t.mathList;!1===t.cancelClose&&(r&&r(o),this._removeMessageListener(),this.popupWindow&&this.popupWindow.close(),this.popupWindow=null)},redirectLoginPage:function(){i&&i()}},this._openWindowPopup(e,"formula-editor-popup")},t._getFormulaData=function(){return this._initData},t._openWindowPopup=function(e,t){if(this.popupWindow&&!this.popupWindow.closed)this.popupWindow.focus();else{var o=this._getOption();this._addMessageListener(e),yr.a.IS_IE?(this.popupWindow=MD.open(location.href,t,o),this.popupWindow.location.href=e):this.popupWindow=MD.open(e,t,o)}},t._getOption=function(){var e=(screen.availWidth-800)/2;return"top="+(screen.availHeight-680)/2+",left="+e+",width=800,height=680"+",scrollbars=yes,resizable=yes,status=yes"},t._removeMessageListener=function(){this._receiveMessage&&window.removeEventListener("message",this._receiveMessage,!1),this._receiveMessage=null},t._addMessageListener=function(e){var t=this;this._removeMessageListener();var o=(0===e.indexOf("//")?location.protocol+e:e).match(/https?:\/\/[^/]*/i),n=o&&o[0]||location.origin;this._receiveMessage=function(e){if(e.origin===n){var o=e.data.name;if("getFormulaData"===o)e.source.postMessage({name:o,result:t._getFormulaData()},e.origin);else{var r=t._callbacks[o];r&&r.apply(t,e.data.params)}}},window.addEventListener("message",this._receiveMessage,!1)},e}(),WD=zD,VD=WD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/formula-editor-popup/index.js",localName:t}})}catch(e){}}e(zD,"FormulaEditorPopup"),e(WD,"default")}();var GD=(FD=function(){function e(){this._configAgent=u.U.get("configAgent"),this._tokenStore=u.U.get("tokenStore"),this._i18n=u.U.get("i18n"),this._popup=new VD}var t=e.prototype;return t.openFormulaEditor=function(e){var t=this._configAgent.get("infraInfo.formulaEditor.popupUrl"),o=this._getFormulaEditorInitData(e),n={redirectLoginPage:this._makeRedirectHandler(),updateFormula:e.callback};this._popup.open(t,o,n)},t._getFormulaEditorInitData=function(e){var t=0,o=[];if(e.compList&&e.activeCompData){var n=e.activeCompData;o=e.compList,t=Object(Ue.a)(o,function(e){return e.id===n.id})}return{mathList:o,limitMathWidth:this._configAgent.get("productConfig.documentWidth"),defaultFontSize:this._getDefaultFontSize(e.fontSizeCode),activeTabIndex:t,userId:this._configAgent.get("userInfo.userId"),header:{"SE-Authorization":this._tokenStore.getAuthToken()},withCredentials:!0,photoInfra:{sslEnabled:this._configAgent.get("editorInfo.sslEnabled"),domain:this._configAgent.get("infraInfo.photoInfra.domain"),imageDomain:this._configAgent.get("infraInfo.photoInfra.imageHost"),sessionKey:this._configAgent.get("apiInfo.fetchPhotoUploadSessionKey")},calculationAPI:this._configAgent.get("apiInfo.fetchCalculatedResult"),logInUrl:this._logInUrl(),authTokenAPI:this._authTokenAPI(),redirectPopupOpts:this._makeRedirectOpts()}},t._makeRedirectOpts=function(){var e=this._i18n.getResource(this._i18n.language(),"formulaEditor");return e?{title:e.login_error_msg,body:e.login_error_description}:null},t._makeRedirectHandler=function(){var e=this._logInUrl();return this._configAgent.get("productConfig.redirectWhenInfraAuthFailed")?function(){try{if(e){var t=window.parent.location.href;window.top.location.replace(""+e+t)}}catch(e){return!1}}:null},t._getDefaultFontSize=function(e){return e.replace("fs","")},t._authTokenAPI=function(){var e=this._configAgent.get("apiInfo.fetchAuthToken");return e?e+"?"+("target_appcode="+this._configAgent.get("serviceInfo.appCode"))+"&"+("user_id="+this._configAgent.get("userInfo.userId")):""},t._logInUrl=function(){return this._configAgent.get("serviceInfo.loginUrl")},e}(),q()(FD.prototype,"_makeRedirectHandler",[ee.autobind],Object.getOwnPropertyDescriptor(FD.prototype,"_makeRedirectHandler"),FD.prototype),FD),HD=GD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/formula-edit-service.js",localName:t}})}catch(e){}}e(GD,"FormulaEditService"),e(HD,"default")}();var qD=function(){function e(){this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore")}var t=e.prototype;return t.updateShellImageNodeStore=function(e,t){var o=this._makeIdInfo(t.id);e.updateInlineImage(o,t)},t.deleteShellImageNodeById=function(e,t){if(e&&t){var o=this._makeIdInfo(t),n=e.deleteInlineImage(o);this._selectionInfoStore.setRange({start:n,end:n})}},t._makeIdInfo=function(e){var t={};return e.split(",").forEach(function(e){var o=e.split(":"),n=o[0],r=o[1];t[n]=r}),t},t.createFileUploadData=function(e){var t=this._selectionInfoStore.toValidJSON().focus,o=this._componentListStore.getComponentById(t.compId),n=o.createShellInlineImages(t,e),r=n.uploadTarget,i=n.invalidImages,a=r.ids;if(a.length){var s=Object(kc.a)(a),c=this._makeIdInfo(s),l=Object.assign(c,{offset:1});this._selectionInfoStore.setRange({start:l,end:l})}return{compStore:o,uploadTarget:r,invalidImages:i}},e}(),JD=qD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/inline-image-service.js",localName:t}})}catch(e){}}e(qD,"InlineImageService"),e(JD,"default")}();var KD=o(1073),YD=ao.a.RX.EMOJI,XD=/(\s|^[.]?)#((_*)[_\d\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]+)/g,QD=function(){function e(){this._configAgent=u.U.get("configAgent"),this._componentListStore=u.U.get("componentListStore")}var t=e.prototype;return t.getTags=function(){var e=this._configAgent.get("productConfig.taggableComponents")||[];if(0===e.length)return[];var t=this._filterOnlyTextUnits(e),o=this._extractHashedKeywords(t);return this._normalizeHashedKeywords(o)},t._normalizeHashedKeywords=function(e){var t=Array.from(e).map(function(e){return e.replace("#","").trim()}),o=new Set(t);return Array.from(o)},t._extractHashedKeywords=function(e){return Object(KD.a)(e,function(e){var t=e.getPlainTextWithEmoji().replace(YD,"$");return XD.test(t)?t.match(XD):[]})},t._filterOnlyTextUnits=function(e){return this._componentListStore.filter(function(t){return e.includes(t.ctype)}).filter(function(e){return!!e.filterOnlyTexts}).reduce(function(e,t){return e.concat(t.filterOnlyTexts())},[])},e}(),ZD=QD;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/tag-service.js",localName:t}})}catch(e){}}e(YD,"rxEmojis"),e(XD,"rxTagKeywords"),e(QD,"TagService"),e(ZD,"default")}();var $D=function(){function e(){this._storage=u.U.get("storagePolicy")}var t=e.prototype;return t.setStorageData=function(e,t){this._storage.set(e,t)},t.getStorageData=function(e){return this._storage.get(e)},e}(),eR=$D;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/storage-service.js",localName:t}})}catch(e){}}e($D,"StorageService"),e(eR,"default")}();var tR=function(){function e(){var e=u.U.get("configAgent");this._wordCountUrl=e.get("apiInfo.fetchWordCount")}return e.prototype.fetchWordCountFrom=function(e){return Ao.a.post(this._wordCountUrl,{data:e,success:function(e){return e}})},e}(),oR=tR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/word-count-service.js",localName:t}})}catch(e){}}e(tR,"WordCountService"),e(oR,"default")}();var nR,rR,iR=function(){function e(){var e=u.U.get("configAgent");this._configAgent=e,this._eventDispatcher=u.U.get("eventDispatcher"),this._useUserLocation=!!e.get("productConfig.userLocation"),this._getAgreement=e.get("productConfig.userLocation.getAgreement")||null}var t=e.prototype;return t._getAgreementStatus=function(){return!0===this._configAgent.get("productConfig.userLocation.agreementStatus")},t._requestAgreement=function(){var e=Zt()(Xt.a.mark(function e(){var t;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._getAgreement)||"function"!=typeof t){e.next=11;break}return e.prev=2,e.next=5,t();case 5:return e.abrupt("return",e.sent);case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",!1);case 11:return e.abrupt("return",!1);case 12:case"end":return e.stop()}},e,this,[[2,8]])}));return function(){return e.apply(this,arguments)}}(),t._shouldRequestAgreement=function(){return this._useUserLocation&&!this._getAgreementStatus()},t.checkAllowedAccess=function(){var e=Zt()(Xt.a.mark(function e(){var t;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._shouldRequestAgreement()){e.next=6;break}return e.next=3,this._requestAgreement();case 3:return t=e.sent,this._configAgent.set("productConfig.userLocation.agreementStatus",t),e.abrupt("return",this._getAgreementStatus());case 6:return e.abrupt("return",this.isAllowedAccess());case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.isAllowedAccess=function(){return!!this._useUserLocation&&this._getAgreementStatus()},t.writeUserLocation=function(){this._eventDispatcher.dispatch(u.z.USER_LOCATION)},e}(),aR=iR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/services/location-privacy-service.js",localName:t}})}catch(e){}}e(iR,"LocationPrivacyService"),e(aR,"default")}();var sR,cR=(nR=function(){function e(e){void 0===e&&(e={}),this.userDefinedStyle={},this.themes={},W()(this,"themeName",rR,this);var t=u.U.get("configAgent"),o=t.get("productConfig.defaultDocument")||{},n=t.get("productConfig.themes")||{},r=t.get("productConfig.userDefinedStyle")||{};this._configAgent=t,this.themeName=o.theme||e.defaultTheme||this.themeName,this.themes=Object(gs.a)(e.themes,n),this.userDefinedStyle=Object.assign(e.userDefinedStyle||{},r)}var t=e.prototype;return t._getComponentThemeStyle=function(e){var t=this.themeName+"."+e;return Object(J.a)(this.themes,t,null)},t.getComponentThemeStyle=function(e){var t=this;if("wrappingParagraph"!==e){var o=this._configAgent.get("plugins.componentSettings."+e+".config.themeStyle"),n=this._getComponentThemeStyle(e);return this._normalizeThemeStyle(n,o)}var r=["text","image","quotation"].map(function(e){return t.getComponentThemeStyle(e)}),i=r[0],a=r[1],s=r[2];return i||a||s?{textThemeStyle:i,imageThemeStyle:a,quotationThemeStyle:s}:null},t._normalizeThemeStyle=function(e,t){if(!t)return e;if(e){var o=Object(J.a)(t,"@all",{});Object.keys(e).forEach(function(n){var r=e[n],i=Object(J.a)(t,""+n,{}),a=Object(gs.a)(r,o,i);e[n]=a})}return e},t.changeThemeName=function(e){return this.themeName!==e&&(this.themeName=e,!0)},t.getUserDefinedStyle=function(e){return Object(J.a)(this.userDefinedStyle,e,null)},e}(),rR=q()(nR.prototype,"themeName",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),nR),lR=cR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/theme-store.js",localName:t}})}catch(e){}}e(cR,"ThemeStore"),e(lR,"default")}();var uR,pR,dR,hR,fR=(sR=function(){function e(){this._componentListStore=u.U.get("componentListStore"),this._selectionInfoStore=u.U.get("selectionInfoStore")}return at()(e,[{key:"currentSelectedStyle",get:function(){return this._componentListStore.collectStyle(this._selectionInfoStore)}}]),e}(),q()(sR.prototype,"currentSelectedStyle",[K.e],Object.getOwnPropertyDescriptor(sR.prototype,"currentSelectedStyle"),sR.prototype),sR),mR=fR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/style-store.js",localName:t}})}catch(e){}}e(fR,"StyleStore"),e(mR,"default")}();var gR,yR,bR,_R=(uR=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this)._toolbarTypes=[],W()(o,"toolbarState",pR,G()(o)),W()(o,"selectedCtype",dR,G()(o)),W()(o,"buttonSets",hR,G()(o));var n=t.state,r=void 0===n?{}:n;return o.toolbarState=Object(J.a)(r,"toolbarState",o.toolbarState),o.buttonSets=Object(J.a)(r,"buttonSets",o.buttonSets),o._reset(),o}h()(t,e);var o=t.prototype;return o.updateButtonSets=function(e){Object(st.a)(e)&&this._reset(),this.buttonSets=e},o.updateToolbarState=function(e,t,o){var n=this.toolbarState;e.selectedUnitIds=t||n.selectedUnitIds,e.selectedCompIds=o||n.selectedCompIds,this.toolbarState=e},o.changeSelectedCtype=function(e){this.selectedCtype=e},o.setToolbarTypes=function(e){this._toolbarTypes=e,this._reset()},o._reset=function(){var e=this;this._toolbarTypes.forEach(function(t){e.buttonSets[t]=[]})},t}(u.w),pR=q()(uR.prototype,"toolbarState",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dR=q()(uR.prototype,"selectedCtype",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hR=q()(uR.prototype,"buttonSets",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),uR),vR=_R;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/toolbar-store.js",localName:t}})}catch(e){}}e(_R,"ToolbarStore"),e(vR,"default")}();var CR=(gR=function(){function e(e){void 0===e&&(e={}),W()(this,"documentId",yR,this),W()(this,"document",bR,this);var t=u.U.get("configAgent").get("productConfig.defaultDocument"),o=e.state,n=void 0===o?{}:o;this.documentId=Object(J.a)(n,"documentId","TEMP-"+u.Z.generate()),this.document=this._extractDocumentMeta(t),this.documentStatus=u.v.NORMAL}var t=e.prototype;return t._extractDocumentMeta=function(e){var t=rt()({},this.document,e);return delete t.components,t},t.setDocumentData=function(e){var t=e.documentId,o=e.document;Object(st.a)(t)||(this.documentId=t),delete o.version,Object.assign(this.document,o),delete this.document.components},t.setTheme=function(e){this.document.theme=e},t.getDocumentId=function(){return this.documentId},t.getDocumentData=function(){return this.toValidJSON()},t.setDocumentStatus=function(e){this.documentStatus=e||u.v.NORMAL},t.getDocumentStatus=function(){return this.documentStatus},t.toValidJSON=function(){return{document:K.f.toJS(this.document),documentId:K.f.toJS(this.documentId)}},t.getDefaultComponentData=function(){var e=u.U.get("configAgent").get("productConfig.defaultDocument");if(e.components)return e.components.map(function(e){return{ctype:e}})},e}(),yR=q()(gR.prototype,"documentId",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),bR=q()(gR.prototype,"document",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),gR),SR=CR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/document-data-store.js",localName:t}})}catch(e){}}e(CR,"DocumentDataStore"),e(SR,"default")}();var OR=o(1232),kR=function(){function e(){this._authToken=null,this._infraToken=null}var t=e.prototype;return t.setAuthToken=function(e){this._authToken=e},t.setInfraToken=function(e){this._infraToken=e},t.getInfraToken=function(){return this._infraToken},t.getAuthToken=function(){return this._authToken},t.hasAuthToken=function(){return!!this._authToken},e}(),IR=kR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/token-store.js",localName:t}})}catch(e){}}e(kR,"TokenStore"),e(IR,"default")}();var wR,PR=o(1046),jR=function(){function e(e){this._config=e.configMap}var t=e.prototype;return t.request=function(e){Ao.b.abort();var t={url:this._config.apiInfo.fetchErratas,query:{query:e}};return this._request(t)},t._request=function(e){return Ao.b.post(e.url,{data:e.query,options:{headers:{"Content-Type":"application/json"},useAbort:!0},success:function(e){return e},error:function(e){return e}})},e}(),TR=jR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/spell-checker/index.js",localName:t}})}catch(e){}}e(jR,"SpellChecker"),e(TR,"default")}();var LR={image:"PHOTO_IMAGE",wrappingParagraph:"PHOTO_IMAGE",imageStrip:"PHOTO_APPOSE",imageGroup:"PHOTO_GROUP"},ER={functions:{useFilter:!0,useCrop:!0,useResize:!0,useAdjust:!0,useMosaic:!0,useSignature:!0,useSticker:!0,useText:!0,usePhotoFrame:!0,useClip:!0},photoSave:{useSave:!0,use:{local:!0,cloud:!0}},sticker:{useGrafolio:!0,use:{auto:!0,svgSticker:!0,svgTypo:!0,pack:!0}},lang:{useSelect:!0},signature:{use:{image:!0,text:!0,template:!0}},resize:{minSize:100},text:{use:{text:!0,artypo:!0,bubble:!0}},font:{useWebFont:!0,fonts:[]},backgroundColor:"000000",nclicks:{use:!0},theme:"green",photoInfra:{autorotate:!0,extractAnimatedCnt:!0,extractExif:!0},filter:{useFavorite:!0}},NR=(wR=function(){function e(e){void 0===e&&(e={}),this._moduleConfig=e,this._configAgent=u.U.get("configAgent"),this._i18n=u.U.get("i18n"),this._domAccessor=u.U.get("domAccessor"),this._infraConfig=this._configAgent.get("infraConfig"),this._toastLayerService=u.U.get("toastLayerService"),this._canvasScrollingService=u.U.get("canvasScrollingService"),this._imageUploadService=u.U.get("imageUploadService");var t=this._configAgent.get("modules.photoEditor.config");this._moduleOption=Object(i.a)({},t,e.option,ER),this._config={userId:this._configAgent.get("userInfo.userId"),serviceDomain:this._configAgent.get("serviceInfo.domain"),buildProperty:this._configAgent.get("editorInfo.buildProperty"),userNickName:this._configAgent.get("userInfo.nickName")},this._classLoaded=!1,this._photoEditorInitialized=!1}var t=e.prototype;return t.__ON_LAZY__=function(){var e=this;setTimeout(function(){var t=e._domAccessor.getCanvas(),o=function(){var n=Zt()(Xt.a.mark(function n(){return Xt.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t.removeEventListener("mouseover",o),n.next=3,e.lazyLoad();case 3:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();t.addEventListener("mouseover",o)},2e3)},t.lazyLoad=function(){var e=Zt()(Xt.a.mark(function e(){var t;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._classLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this._getPhotoEditorAppClass();case 4:t=e.sent,this._photoEditor=new t,this._mapPhotoEditorConsts(t),this._classLoaded=!0;case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._mapPhotoEditorConsts=function(e){this._config.editorType=e.RABBIT;var t={};Object.keys(LR).forEach(function(o){t[o]=e[LR[o]]}),this._config.imageType=t},t._getPhotoEditorAppClass=function(){var e=Zt()(Xt.a.mark(function e(){var t;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._moduleConfig.PhotoEditorApp)){e.next=3;break}return e.abrupt("return",t);case 3:return e.next=5,o.e(78).then(o.t.bind(null,1261,7));case 5:return e.abrupt("return",e.sent.default);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.open=function(){var e=Zt()(Xt.a.mark(function e(t){var o;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||0!==t.editablePhotoInfos.length){e.next=3;break}return this._toastLayerService.warningMessage(this._i18n("imageEdit:alert_unavailable_edit")),e.abrupt("return");case 3:if(this._classLoaded){e.next=6;break}return e.next=6,this.lazyLoad();case 6:this._initPhotoEditor(t),(o=this._refineToPhotoEditorOption(t))&&this._photoEditor.open(o);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._initPhotoEditor=function(e){var t=this._config,o=t.userId,n=t.serviceDomain,r=t.buildProperty,a=t.editorType,s=this._i18n.language(),c=Object(J.a)(this._moduleOption,"lang.useSelect",!0),l={lang:{default:s,useSelect:c,languages:c?this._languages():[]},setting:{env:["stage","real"].includes(r)?"real":"dev",lang:{language:s},userId:o,editorType:a,minSize:{width:this._editorRootContainerMinWidth()},positionFixed:this._canvasScrollingService.shouldPositionFixedPhotoEditor()},container:document.body,cors:!0,webglFilterEnable:!0,header:e.header,withCredentials:e.withCredentials,photoInfra:{sslEnabled:this._configAgent.get("editorInfo.sslEnabled"),domain:this._configAgent.get("infraInfo.photoInfra.domain"),imageDomain:this._configAgent.get("infraInfo.photoInfra.imageHost"),sessionKey:this._configAgent.get("apiInfo.fetchPhotoUploadSessionKey")},logInUrl:e.logInUrl,authTokenAPI:e.authTokenAPI,sticker:{grafolioAPI:{packList:this._configAgent.get("apiInfo.fetchStickers"),list:this._configAgent.get("apiInfo.fetchStickers"),multipleValidation:this._configAgent.get("apiInfo.queryAvailableSticker")}},filter:{favoriteAPI:{list:this._configAgent.get("apiInfo.fetchFavoriteFilters"),add:this._configAgent.get("apiInfo.updateFavoriteFilter"),remove:this._configAgent.get("apiInfo.deleteFavoriteFilter"),modify:this._configAgent.get("apiInfo.updateFavoriteFilter")}},useHistoryState:!1,beforeOpen:e.beforeOpen,afterClose:e.afterClose,done:e.done,loginPopupOpts:{isClose:!0},redirectLoginPage:e.redirectLoginPage},u=Object(i.a)(l,this._moduleOption,{signature:{defaultText:"https://"+n+"/"+o,nickName:this._config.userNickName},resize:{preset:Object(J.a)(this._moduleOption,"resizePreset",[400,600,700,900,1e3,1200]),custom:Object(J.a)(this._moduleOption,"resizeCustom",!0)},crop:{default:Object(J.a)(this._moduleOption,"cropDefault","free"),preset:Object(J.a)(this._moduleOption,"cropPreset",["original","free","16:9","3:2","4:3","1:1","3:4","2:3","9:16"])}});this._imageUploadService.isCustomUploader()&&(u.photoInfra=!1,u.upload=this._onUpload.bind(this)),!1===this._photoEditorInitialized?(this._photoEditor.init(u),this._photoEditorInitialized=!0):this._photoEditor.setup(u)},t._onUpload=function(e,t){var o=this,n=[{id:e.key,source:t}];this._imageUploadService.uploadImages(n).then(function(e){return e[0]}).then(function(t){var n=t.code,r=t.response;"FAIL"===n?o._photoEditor.uploadFailed():o._photoEditor.updatePhotos([{key:e.key,width:r.width,height:r.height,domain:r.domain,path:r.url,fileSize:r.fileSize,animationGIF:r.animationGIF}])})},t._findItem=function(e,t){for(var o=0;o<e.length;o++){var n=e[o];if(n.photos){var r=this._findItem(n.photos,t);if(r)return r}else if(n.key===t)return n}return null},t._firstItem=function(e){return e[0].photos?this._firstItem(e[0].photos):e[0]},t._refineToPhotoEditorOption=function(e){var t=this,o=e.initKey,n=e.editablePhotoInfos,r=e.direct,i=n.reduce(function(e,o){var n=t._convertCompDataToPhotoData(o);return n&&e.push(n),e},[]);if(0!==i.length){var a=this._findItem(i,o);return{initKey:o=a?a.key:this._firstItem(i).key,direct:r,photos:i}}},t._editorRootContainerMinWidth=function(){var e=this._domAccessor.getRootContainer(),t=parseInt(getComputedStyle(e).minWidth);return 1080>=t?null:t},t._convertCompDataToPhotoData=function(e){var t=this._config.imageType,o=e.id,n=e.ctype,r=e.photos,i=r&&r.map(this._generatePhotoInfo);if(!Object(st.a)(r))return{type:t[n]||t.image,key:o,photos:i}},t._generatePhotoInfo=function(e){var t=this._configAgent.get("editorInfo.thumbnailType"),o=e.domain,n=t.normal,r=t.small,i=r?""+o+e.path+"?type="+r:""+o+e.path+"?type="+n,a=e.path,s=e.originalWidth,c=e.originalHeight;if(!1===Object(J.a)(this._infraConfig,"image.useOriginalImage")){var l=Object(J.a)(this._infraConfig,"image.thumbnailMaxWidth"),u=this._convertSizeByPath(l,e.originalWidth,e.originalHeight);a=e.path+"?type="+n,s=u.width,c=u.height}return{key:e.id,originalFileName:e.fileName,width:s,height:c,domain:e.domain,path:a,fileSize:e.fileSize,thumbnail:i,generationFormat:e.displayFormat,dominantColor:e.dominantColor||""}},t._convertSizeByPath=function(e,t,o){if(t<e)return{width:t,height:o};var n=e*o/t;return{width:e,height:Math.round(n)}},t._languages=function(){return[{language:"ko-KR"},{language:"en-US"},{language:"ja-JP"},{language:"zh-CN"},{language:"zh-TW"},{language:"es-ES"},{language:"fr-FR"},{language:"vi-VN"},{language:"id-ID"}]},e}(),q()(wR.prototype,"_convertCompDataToPhotoData",[ee.autobind],Object.getOwnPropertyDescriptor(wR.prototype,"_convertCompDataToPhotoData"),wR.prototype),q()(wR.prototype,"_generatePhotoInfo",[ee.autobind],Object.getOwnPropertyDescriptor(wR.prototype,"_generatePhotoInfo"),wR.prototype),wR),xR=NR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/naver-photo-editor/index.js",localName:t}})}catch(e){}}e(LR,"IMAGE_TYPE"),e(ER,"DEFAULT_PHOTO_EDITOR_MODULE_OPTION"),e(NR,"NaverPhotoEditor"),e(xR,"default")}();var DR,RR=function(){function e(e){this._sentryManager=u.U.get("sentryManager"),this._configAgent=u.U.get("configAgent"),this._moduleOption=Object(J.a)(e,"option",{});var t=this._configAgent.get("modules.videoUploader.config");this.uploadMode=Object(J.a)(t,"uploadMode"),t&&(this._moduleOption=Object(i.a)({},t,this._moduleOption)),yr.a.UNDER_IE11&&(this._moduleOption.featureCloudVid=!1),this._i18n=u.U.get("i18n")}var t=e.prototype;return t.open=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s,c,l;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.initOptions,n=t.callbacks,r=void 0===n?{}:n,e.prev=1,e.next=4,this._fetchVideoUploaderInstance();case 4:if(i=e.sent,a=this._configAgent.get("infraConfig.video.maxUploadCount"),s=this._configAgent.get("infraConfig.video.videoUploadLimitCount"),c=Math.min(Object(TD.a)(s)?s:1,o.remainCount),l=0===o.remainCount?a:c,!(c<=0)){e.next=12;break}return this._handleErrorUploadCount(r,{maxUploadCount:l}),e.abrupt("return");case 12:this._initializeUploader(i,rt()({numFileLimit:c},o)),this._bindUploadEvents(i,r),i.open(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),this._handleErrorLazy(r);case 20:case"end":return e.stop()}},e,this,[[1,17]])}));return function(t){return e.apply(this,arguments)}}(),t.edit=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s,c,l;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.videoMeta,n=void 0===o?{}:o,r=t.serviceData,i=void 0===r?{}:r,a=t.initOptions,s=t.callbacks,c=void 0===s?{}:s,e.prev=1,e.next=4,this._fetchVideoUploaderInstance();case 4:l=e.sent,this._initializeUploader(l,a),this._bindEditEvents(l,c),l.edit({title:n.title,desc:n.description,tag:n.tags,serviceData:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),this._handleErrorLazy(c);case 13:case"end":return e.stop()}},e,this,[[1,10]])}));return function(t){return e.apply(this,arguments)}}(),t._bindUploadEvents=function(e,t){var o=this,n=t.success,r=t.error,i=t.close;e.removeAllListeners(),e.on("complete",function(e){var t=e.map(function(e){return o._refineVideoData(e)});n&&n(t)}),e.on("error",function(e){o._sentryManager.withScope(function(t){t.setExtra("logger","VideoUploader"),t.setExtra("cause","동영상 업로드 에러"),t.setExtra("data",e),o._sentryManager.captureMessage("동영상 업로드 오류 발생!")}),r&&r(e)}),e.on("close",function(){i&&i()}),e.on("onClickServiceDataButton",function(e){var t=Object(J.a)(o._moduleOption,"onClickServiceDataButton",function(){});t&&t(e)})},t._bindEditEvents=function(e,t){var o=this,n=t.confirm,r=t.error,i=t.close;e.removeAllListeners(),e.on("editCompleted",function(e){var t=o._convertVideoMetaToMediaMeta(e),r=e.serviceData;n&&n({mediaMeta:t,serviceData:void 0===r?{}:r})}),e.on("editError",function(){o._sentryManager.withScope(function(e){e.setExtra("logger","VideoUploader"),e.setExtra("cause","동영상 메타정보 편집 에러"),o._sentryManager.captureMessage("동영상 메타정보 편집 오류 발생!")}),r&&r()}),e.on("editCanceled",function(){i&&i()}),e.on("onClickServiceDataButton",function(e){var t=Object(J.a)(o._moduleOption,"onClickServiceDataButton",function(){});t&&t(e)})},t._initializeUploader=function(e,t){var o=this._getUploaderBaseConfig(t),n=this._configAgent.get("apiInfo.fetchVideoUploadSessionKey"),r=this._configAgent.get("apiInfo.fetchVideoUploaderToken"),a=this._configAgent.get("apiInfo.fetchVideoTagAutoComplete"),s=this._configAgent.get("apiInfo.fetchTopicKeyword"),c=this._configAgent.get("editorInfo.buildProperty"),l=Object(J.a)(this._moduleOption,"i18n"),u=this._i18n.language(),p=this._i18n.getResource(u,"naverVideoUploader"),d=p,h=this._configAgent.get("infraInfo.videoInfra.region");Object(J.a)(this._moduleOption,"i18n")&&(d=Object(i.a)({},l,p)),e.initialize({el:"#video-uploader-wrap",serviceId:o.serviceId,userId:o.userId,locale:u,maxUploadSize:this._configAgent.get("infraConfig.video.maxVideoUploadSize"),maxPlayTime:this._configAgent.get("infraConfig.video.maxVideoPlayTime"),maxDesclen:this._configAgent.get("infraConfig.video.maxVideoDescLength"),numFileLimit:o.numFileLimit,buildPhase:this._getBuildPhase(),featureLocalVid:Object(J.a)(this._moduleOption,"featureLocalVid",!0),featureCloudVid:Object(J.a)(this._moduleOption,"featureCloudVid",!0),featureLinkVid:Object(J.a)(this._moduleOption,"featureLinkVid",!0),featureMetaEdit:Object(J.a)(this._moduleOption,"featureMetaEdit",!0),feature360Vid:Object(J.a)(this._moduleOption,"feature360Vid",!0),requireTitle:Object(J.a)(this._moduleOption,"requireTitle",!0),serviceDataConfig:Object(J.a)(this._moduleOption,"serviceData",[]),tagSuggestAPI:a,fetchTopicKeyword:s,i18n:d,cloudBuildPhase:ua(c),header:t.header,withCredentials:t.withCredentials,vodServiceController:{requestVideoId:this._requestVideoTokenAndId.bind(this),requestToken:this._requestVideoTokenAndId.bind(this)},region:h,generateTokenAPI:n,uploaderTokenAPI:r,logInUrl:t.logInUrl,authTokenAPI:t.authTokenAPI,redirectLoginPage:t.redirectLoginPage,useOnlyUi:"simple"===this.uploadMode})},t._requestVideoTokenAndId=function(){var e=this._configAgent.get("apiInfo.fetchVideoUploaderToken");return Ao.a.get(e.replace("v1","v2"),{success:function(e){return e},error:function(e){throw e}})},t._fetchVideoUploaderInstance=function(){var e=Zt()(Xt.a.mark(function e(){var t,n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._cache){e.next=6;break}return e.next=3,o.e(79).then(o.t.bind(null,1262,7));case 3:t=e.sent,n=t.VideoUploader,this._cache=n.getInstance();case 6:return e.abrupt("return",this._cache);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._handleErrorLazy=function(e){var t=e.close,o=void 0===t?function(){}:t,n=u.U.get("alertLayerService");o(),n.open({type:"alert",title:this._i18n("errorLazy:title"),description:this._i18n("errorLazy:description")})},t._handleErrorUploadCount=function(e,t){var o=e.close,n=void 0===o?function(){}:o,r=t.maxUploadCount,i=u.U.get("alertLayerService"),a=this._i18n("naverVideoUploader:UP_TO_N_CAN_BE_ADDED").replace("%s",r);n(),i.open({type:"alert",title:this._i18n("naverVideoUploader:EXCEED_POSSIBLE_NUMBER"),description:a})},t._getUploaderBaseConfig=function(e){var t=e.numFileLimit;return{userId:this._configAgent.get("userInfo.userId"),serviceId:this._configAgent.get("infraInfo.videoInfra.serviceId"),numFileLimit:t,enableVideoType:this._configAgent.get("editorInfo.use360Video")||!1}},t._getBuildPhase=function(){return"production"===this._configAgent.get("productEnv.buildEnv")?"real":"test"},t._refineVideoData=function(e){var t=e.vid,o=e.encodeType,n=e.header,r=e.thumbnails,i=e.meta,a=n.rotation,s=n.width,c=n.height,l=n.fileSize,u=n.duration,p=i.serviceData,d=void 0===p?null:p,h=90===a||270===a,f=h?c:s,m=h?s:c,g="360"===o?"vr360":o;return{vid:t,internalResource:!0,thumbnail:this._getSelectedThumbnail(r),fileSize:parseInt(l,10),playTime:u,width:f,height:m,originalWidth:f,originalHeight:m,format:g,mediaMeta:this._convertVideoMetaToMediaMeta(i),serviceData:d}},t._convertVideoMetaToMediaMeta=function(e){return{title:e.title,description:e.desc,tags:e.tag}},t._getSelectedThumbnail=function(e){return{src:Object(Pa.a)(e,{type:"COVER"}).path}},at()(e,[{key:"isLegacyUploader",get:function(){return!0}}]),e}(),AR=RR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/video-uploader/index.js",localName:t}})}catch(e){}}e(RR,"VideoUploader"),e(AR,"default")}();var UR={posX:4,posY:4},MR=(DR=function(){function e(){this._isNotSupportNativeDragEvent="undefined"==typeof DragEvent,this._domAccessor=u.U.get("domAccessor")}var t=e.prototype;return t.start=function(e){var t=e.event,o=e.items,n=e.type,r=e.useNativeGhost,i=e.themeName,a=e.isInsideType,s=e.callback;this._shouldUseNativeGhost=t.dataTransfer.setDragImage&&(!0===r||this._isNotSupportNativeDragEvent),this._themeName=i||"default",this._dragStartCallback=s||function(){},this._dragGhostWrapper=this._getDragGhost(),this._dragTarget=this._getDragTarget(t,n,o),this._initDragGhost(t,n,o),this._setDragTargetClassName(a)},t.end=function(){this._resetDragTarget(),this._resetDragGhost()},t._getDragGhost=function(){var e=this._domAccessor.getContentContainer();return this._cachedDragGhost||(this._cachedDragGhost=document.createElement("div")),this._cachedDragGhost.parentNode!==e&&e.insertBefore(this._cachedDragGhost,e.firstChild),this._cachedDragGhost},t._getDragTarget=function(e,t,o){switch(t){case"object":case"image":case"iframe":var n=Object(mo.a)(o);return this._domAccessor.querySelector("#"+n.id);case"aside":case"library":case"template":return e.target;case"groupLayer":var r='.se-imageGroup-item[data-image-id="'+e.target.dataset.id+'"]';return this._domAccessor.querySelector(".se-popup-image-group-order").querySelector(r);default:return null}},t._resolveDragGhost=function(e,t,o){switch(t){case"text":return this._textGhost(e,o);case"iframe":return"";case"object":case"image":case"aside":case"template":case"library":return this._dragTarget.cloneNode(!0);case"groupLayer":var n=this._dragTarget.cloneNode(!0);return n.removeAttribute("style"),n;default:return""}},t._textGhost=function(e,t){var o=this._isSingleInlineImage(t)?e.target.parentNode.cloneNode(!0):hx.a.selection.getRange().cloneContents(),n=this._refineTextGhost(o);return this._resolveTextGhostWrapper(n)},t._isSingleInlineImage=function(e){if(!e||1!==e.length)return!1;var t=e[0].value;if(!t||!t.paragraphs||1!==t.paragraphs.length)return!1;var o=t.paragraphs[0].nodes;return!(!o||1!==o.length)&&"imageNode"===o[0].ctype},t._refineTextGhost=function(e){var t=e.querySelectorAll(".se-blind");Object(r.a)(t,function(e){e.parentElement.removeChild(e)});var o=e.querySelectorAll(".se-set-rep-image-button");return Object(r.a)(o,function(e){e.parentElement.removeChild(e)}),e},t._resolveTextGhostWrapper=function(e){var t=document.createElement("div"),o=e.querySelectorAll(".se-inline-image-resource"),n=e.childNodes.length>0&&0===o.length,r=1===e.childNodes.length&&1===o.length;if(0===e.childNodes.length)t.classList.add("se-text-ghost-complex");else if(n){var i=document.createElement("div");i.classList.add("se-text-ghost-contents"),i.textContent=e.textContent,t.classList.add("se-text-ghost"),t.appendChild(i)}else r?(t.classList.add("se-inline-image-ghost"),t.appendChild(e)):t.classList.add("se-text-ghost-complex");return t},t._initDragGhost=function(e,t,o){var n=this._resolveDragGhost(e,t,o),r=n?n.outerHTML:"",i=this._resolveDragGhostWrapperClassName(e,t),a=this._tempGhostElement(r);this._dragGhostWrapper.innerHTML=a.innerHTML,this._dragGhostWrapper.className=i,this._shouldUseNativeGhost&&e.dataTransfer.setDragImage(this._dragGhostWrapper,UR.posX,UR.posY),this.updatePosition(e),this._dragStartCallback(e),this._addDocumentDragEndEvent()},t._tempGhostElement=function(e){var t=document.createElement("div");t.innerHTML=e;var o=t.querySelector(".se-toolbar");o&&o.parentElement.removeChild(o);var n=t.querySelectorAll("*");return t.removeAttribute("id"),Object(r.a)(n,function(e){e.removeAttribute("id")}),t},t._handleDocumentDragEnd=function(){this._resetDragTarget(),this._resetDragGhost()},t._addDocumentDragEndEvent=function(){document.addEventListener("dragend",this._handleDocumentDragEnd)},t._removeDocumentDragEndEvent=function(){document.removeEventListener("dragend",this._handleDocumentDragEnd)},t._setDragTargetClassName=function(e){e&&this._dragTarget&&this._dragTarget.classList.add("se-component-drag-source")},t._resetDragTarget=function(){this._dragTarget&&(this._dragTarget.classList.remove("se-component-drag-source"),this._dragTarget=null)},t.updatePosition=function(e){this._shouldUseNativeGhost||this._dragGhostWrapper&&(this._dragGhostWrapper.style.top=e.clientY+UR.posY+"px",this._dragGhostWrapper.style.left=e.clientX+UR.posX+"px")},t._resetDragGhost=function(){this._dragGhostWrapper&&(this._dragGhostWrapper.className="",this._dragGhostWrapper.innerHTML="",this._dragGhostWrapper.removeAttribute("style"),this._dragGhostWrapper=null),this._removeDocumentDragEndEvent()},t._resolveDragGhostWrapperClassName=function(e,t){var o="se-dragging-ghost-single";return["aside","library","template"].includes(t)?o="se-dragging-ghost-custom":"text"===t?o="se-dragging-ghost-text":"complex"===t?o="se-dragging-ghost-multiple":"iframe"===t&&(o="se-dragging-ghost-iframe"),et()(["se-dragging-ghost","se-theme-"+this._themeName,o,{"se-dragging-ghost-native":this._shouldUseNativeGhost}])},e}(),q()(DR.prototype,"_handleDocumentDragEnd",[ee.autobind],Object.getOwnPropertyDescriptor(DR.prototype,"_handleDocumentDragEnd"),DR.prototype),DR),BR=MR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/drag-ghost/index.js",localName:t}})}catch(e){}}e(UR,"DRAG_GHOST_MOUSE_POSITION"),e(MR,"DragGhost"),e(BR,"default")}();var FR=150,zR=50,WR=function(){function e(){this._configAgent=u.U.get("configAgent");var e=this._configAgent.get("productConfig.scroll.thresholdPixel"),t=this._configAgent.get("productConfig.scroll.maxAutoScrollOffset");this._isMobile="mobile"===this._configAgent.get("productEnv.deviceType"),this._domAccessor=u.U.get("domAccessor"),this._thresholdPixel=e||FR,this._maxAutoScrollOffset=t||zR,this._readied=!1,this._timer=null}var t=e.prototype;return t.forceStopAutoScroll=function(){this._stopScroll()},t.scrollPage=function(e){this._readied||this._beforeScrollPage(),this._triggerInfo=this._validateTriggerArea(e)},t._beforeScrollPage=function(){var e=this._getContentAndScrollTarget(),t=e.contentTarget,o=e.scrollTarget,n=t.getBoundingClientRect().top;this._readied=!0,this._contentOffsetTop=n+sc.a.getScrollTop(o),this._contentOffsetHeight=t.offsetHeight,this._scrollHeight=o===window?document.body.scrollHeight:o.scrollHeight,this._screenHeight=o===window?window.innerHeight:o.offsetHeight,this._scrollTarget=o,this._threshold=Math.min(this._thresholdPixel,this._screenHeight/3|0),this._triggerInfo={isTop:!1,isBottom:!1,clientY:0},this._startAutoScrolling()},t._stopScroll=function(){cancelAnimationFrame(this._timer),this._readied=!1,this._timer=null},t._startAutoScrolling=function(){var e=this;this._timer=requestAnimationFrame(function t(){e._readied&&(e._scroll(),e._timer=requestAnimationFrame(t))})},t._validateTriggerArea=function(e){var t=e.clientY;return{isTop:this._isTopArea(t),isBottom:this._isBottomArea(t),clientY:t}},t._getContentAndScrollTarget=function(){throw new Error("Implement the '_getContentAndScrollTarget()' method.")},t._isTopArea=function(e){throw new Error("Implement the '_isTopArea()' method.")},t._isBottomArea=function(e){throw new Error("Implement the '_isBottomArea()' method.")},t._scroll=function(){throw new Error("Implement the '_scroll()' method.")},e}(),VR=WR,GR=VR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/auto-scroll/abstract-auto-scroll.js",localName:t}})}catch(e){}}e(FR,"THRESHOLD_PIXEL"),e(zR,"MAX_AUTO_SCROLL_OFFSET"),e(WR,"AbstractAutoScroll"),e(VR,"default")}();var HR=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o._getContentAndScrollTarget=function(){var e=this._domAccessor.getScrollTarget();return{contentTarget:this._domAccessor.getBodyContainer(),scrollTarget:this._isMobile||e===document.body?window:e}},o._isTopArea=function(e){return e<this._headerTop()+this._threshold},o._isBottomArea=function(e){return e>this._screenHeight-this._threshold},o._headerTop=function(){var e=this._domAccessor.getHeader();return e.getBoundingClientRect().top+e.offsetHeight},o._scroll=function(){var e=this._triggerInfo,t=e.isTop,o=e.isBottom,n=e.clientY,r=this._scrollTarget,i=this._contentOffsetTop,a=this._contentOffsetHeight,s=this._screenHeight,c=sc.a.getScrollTop(r),l=i-this._headerTop();if(t&&c-l>0){var u=n-l;sc.a.setScrollTop(r,c+this._resolveSpeedY(u,!0))}o&&i+a>c+s&&sc.a.setScrollTop(r,c+this._resolveSpeedY(n,!1))},o._resolveSpeedY=function(e,t){var o=this._threshold,n=this._screenHeight,r=Math.max(-1,Math.min(1,((t?-o:o-n)+e)/o));return this._maxAutoScrollOffset*r|0},t}(GR),qR=HR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/auto-scroll/scrollBody.js",localName:t}})}catch(e){}}e(HR,"ScrollBody"),e(qR,"default")}();var JR=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o._getContentAndScrollTarget=function(){return{contentTarget:this._domAccessor.getCanvas(),scrollTarget:this._domAccessor.getScrollTarget()}},o._isTopArea=function(e){var t=this._contentOffsetTop;return t<e&&t+this._threshold>e},o._isBottomArea=function(e){return e>this._contentOffsetTop+this._screenHeight-this._threshold},o._scroll=function(){var e=this._triggerInfo,t=e.isTop,o=e.isBottom,n=e.clientY,r=this._scrollTarget,i=this._scrollHeight,a=this._screenHeight,s=sc.a.getScrollTop(r);if(t&&s&&sc.a.setScrollTop(r,s+this._resolveSpeedY(n,t)),o)if(i>s+a)sc.a.setScrollTop(r,s+this._resolveSpeedY(n,t));else{var c=this._scrollTarget.scrollHeight;this._scrollHeight!==c&&(this._scrollHeight=c)}},o._resolveSpeedY=function(e,t){var o=this._threshold,n=this._contentOffsetTop,r=this._screenHeight,i=0;return i=t?(-(n+o)+e)/o:(o-r-n+e)/o,this._maxAutoScrollOffset*Math.max(-1,Math.min(1,i))},t}(GR),KR=JR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/auto-scroll/scrollCanvas.js",localName:t}})}catch(e){}}e(JR,"ScrollCanvas"),e(KR,"default")}();var YR=function(){function e(){this._subscribers=[],this._componentListStore=null,this._componentListStore=u.U.get("componentListStore")}var t=e.prototype;return t._initializeAutorun=function(){var e=this;this._depostAutorunAsync=K.f.reaction(function(){return e._componentListStore.toValidJSON()},function(t){e._subscribers.forEach(function(o){o.call(e,t)})},{delay:500})},t.subscribeAsync=function(e){0===this._subscribers.length&&this._initializeAutorun(),this._subscribers.push(e)},t.destroy=function(){this._depostAutorunAsync&&this._depostAutorunAsync(),this._componentListStore=null,this._subscribers=[],this._depostAutorunAsync=null},e}(),XR=YR;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/state-update-broadcaster/index.js",localName:t}})}catch(e){}}e(YR,"StateUpdateBroadcaster"),e(XR,"default")}();var QR=function(e){return"number"==typeof e&&!Number.isInteger(e)},ZR=function(e){return"number"==typeof e&&e>=0},$R={FONT_FAMILY:"fontFamily",FONT_SIZE_CODE:"fontSizeCode",LINE_HEIGHT:"lineHeight"},eA=Object.values($R),tA=function(){function e(){this._fontManager=u.U.get("fontManager"),this._allowedFontNames=Object(io.a)(this._fontManager.getCurrentFontSpec(),function(e){return e.value}),this._allowedFontSizes=["fs11","fs13","fs15","fs16","fs19","fs24","fs28","fs30","fs34","fs38","fs45"]}var t=e.prototype;return t._getValidStyle=function(e,t){switch(e){case $R.FONT_FAMILY:return this._allowedFontNames.includes(t)?t:"system";case $R.FONT_SIZE_CODE:return this._allowedFontSizes.includes(t)?t:"fs16";case $R.LINE_HEIGHT:return QR(t)&&ZR(t)?t:Number.isInteger(t)?t.toFixed(1):1.6;default:return t}},t._validStyles=function(e){var t=this;Object(r.a)(e,function(o,n){eA.includes(n)?e[n]=t._getValidStyle(n,o):"object"==typeof o&&t._validStyles(o)})},t.validateThemeStyle=function(e){void 0===e&&(e={}),this._validStyles(e)},e}(),oA=tA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/validators/theme-style-validator.js",localName:t}})}catch(e){}}e(QR,"isFloat"),e(ZR,"isPositive"),e("system","DEFAULT_FONT_FAMILY"),e("fs16","DEFAULT_FONT_SIZE"),e(1.6,"DEFAULT_LINE_HEIGHT"),e($R,"STYLES"),e(eA,"SUPPORT_STYLES"),e(tA,"ThemeStyleValidator"),e(oA,"default")}();var nA=o(737),rA=o(738),iA=function(e){function t(){var t;return(t=e.call(this)||this)._toolbarStore=u.U.get("toolbarStore"),t._toolbarService=u.U.get("toolbarService"),t._pluginButtonRegistry=u.U.get("pluginButtonRegistry"),t._componentListStore=u.U.get("componentListStore"),t._selectionInfoStore=u.U.get("selectionInfoStore"),t._editorStatusStore=u.U.get("editorStatusStore"),t}h()(t,e);var o=t.prototype;return o.buttonSets=function(e){void 0===e&&(e={});var t=e.ctype,o=this._toolbarService._buttonResolvers[t].overlayToolbar;if(!o)return null;var n=(o({selectedComponents:[e]})||{}).fixedButtonSets;return n?{fixedButtonSets:{top:Object(Ic.a)(n,"top")?this._buttons(t,n.top):null,bottom:Object(Ic.a)(n,"bottom")?this._buttons(t,n.bottom):null}}:null},o._filterContentMode=function(e){var t=this._editorStatusStore.viewMode===u.S.VIEW_MODE_PC;return e.filter(function(e){return"content-mode"!==e||t})},o._buttons=function(e,t){var o=this;return t?this._filterContentMode(t).map(function(t){var n=o._pluginButtonRegistry.getButtonInfo({compType:e,toolbarName:"overlayToolbar",buttonName:t}),r=Object(J.a)(o._toolbarStore.toolbarState,n.propertyName);return rt()({value:r},n)}):null},t}(u.m),aA=iA,sA=aA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/overlay-toolbar-use-case.js",localName:t}})}catch(e){}}e(iA,"OverlayToolbarLayerUseCase"),e(aA,"default")}();var cA={defaultTheme:"default",themes:{default:{documentTitle:{default:{title:{fontFamily:"nanumgothic",fontSizeCode:"fs32",align:"left"}}},sectionTitle:{default:{title:{fontFamily:"nanumgothic",fontSizeCode:"fs30",lineHeight:1.5,align:"left",fontColor:"#000"}}},text:{default:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.8,align:"left",fontColor:"#000"}}},image:{default:{caption:{fontFamily:"nanumgothic",fontSizeCode:"fs13",lineHeight:1.5,align:"center",fontColor:"#555"}}},imageGroup:{slide:{caption:{fontFamily:"nanumgothic",fontSizeCode:"fs13",lineHeight:1.5,align:"center",fontColor:"#555"}},collage:{caption:{fontFamily:"nanumgothic",fontSizeCode:"fs13",lineHeight:1.5,align:"center",fontColor:"#555"}}},imageStrip:{default:{caption:{fontFamily:"nanumgothic",fontSizeCode:"fs13",lineHeight:1.5,align:"center",fontColor:"#555"}}},video:{default:{caption:{fontFamily:"nanumgothic",fontSizeCode:"fs13",lineHeight:1.5,align:"center",fontColor:"#555"}}},formula:{default:{fontSizeCode:"fs15"}},quotation:{default:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanummyeongjo",align:"center",fontColor:"#000",italic:!0,bold:!1},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"center"}},quotation_line:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanumbarungothic",align:"left",fontColor:"#000",italic:!1,bold:!1},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"left"}},quotation_bubble:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanummyeongjo",align:"center",fontColor:"#000",italic:!1,bold:!0},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"center"}},quotation_underline:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanummyeongjo",align:"left",fontColor:"#000",italic:!1,bold:!1},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"left"}},quotation_postit:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanumbarungothic",align:"center",fontColor:"#000",italic:!1,bold:!1},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"center"}},quotation_corner:{value:{fontSizeCode:"fs19",lineHeight:1.8,fontFamily:"nanumbarungothic",align:"center",fontColor:"#000",italic:!1,bold:!1},source:{fontSizeCode:"fs13",lineHeight:1.5,fontFamily:"nanumgothic",fontColor:"#777",align:"center"}}},table:{default:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout1:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout2:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout3:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout4:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout5:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout6:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}},table_layout7:{value:{fontFamily:"nanumgothic",fontSizeCode:"fs15",lineHeight:1.6,fontColor:"#000",align:"left"}}}}},userDefinedStyle:{text:{},sectionTitle:{}}},lA=cA;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/themes-definition.js",localName:t}})}catch(e){}}(cA,"default")}();var uA=function(){function e(e){this._uploadProgressLayerService=u.U.get("uploadProgressLayerService"),this._i18n=e,this._totalCount=0}var t=e.prototype;return t.start=function(e){this._totalCount+=e;var t={title:this._i18n("imageBehavior:ready"),description:this._i18n("imageBehavior:file_count",{fileCount:this._totalCount}),totalCount:this._totalCount};this._uploadProgressLayerService.start(t)},t.end=function(e){this._totalCount-=e,this._totalCount<=0&&(this._uploadProgressLayerService.end(),this._totalCount=0)},t.update=function(e,t){var o=this;this._uploadProgressLayerService.update({title:e,description:""+VT.a.fileSizeSI(t),doneStateResolver:function(){return{title:o._i18n("imageBehavior:completed"),description:o._i18n("imageBehavior:image_inserted")}}})},e}();!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/behavior/image-behavior/progress-layer.js",localName:t}})}catch(e){}}(uA,"ProgressLayer")}();var pA,dA=function(){function e(e){this._alertLayerService=u.U.get("alertLayerService"),this._i18n=e}var t=e.prototype;return t.open=function(e){var t=this,o=this._resolveErrorInfo(e);return new Promise(function(n){t._alertLayerService.open(rt()({onClickConfirm:function(){return n(e)}},o))})},t._resolveErrorInfo=function(e){var t=e.length,o=e.filter(function(e){return"SERVER_ERROR"===e.code}).length,n={title:this._i18n("imageBehavior:upload_failed")};return o?(n.type="alert",n.description=this._i18n("imageBehavior:server_fall_over_error")):(n.type="file",n.description=this._i18n("imageBehavior:upload_failed_desc",{failUploadCount:t}),n.errorList=e),n},e}();!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/behavior/image-behavior/error-alert.js",localName:t}})}catch(e){}}(dA,"ErrorAlert")}();var hA,fA=/\n|\r/g,mA=(pA=function(){function e(){var e=this;this._repaintCursor=Object(xl.a)(function(){e._virtualEditable.repaintCursor()},500),this._imageTypeLayerService=u.U.get("imageTypeLayerService"),this._configAgent=u.U.get("configAgent"),this._i18n=u.U.get("i18n"),this._editingService=u.U.get("editingService"),this._imageUploadService=u.U.get("imageUploadService"),this._imageComponentService=u.U.get("imageComponentService"),this._imageGroupComponentService=u.U.get("imageGroupComponentService"),this._inlineImageService=u.U.get("inlineImageService"),this._canvasScrollingService=u.U.get("canvasScrollingService"),this._documentTitleComponentService=u.U.get("documentTitleComponentService"),this._complexImageLayoutsEnabled=this._configAgent.get("productConfig.complexImageLayoutsEnabled"),this._componentFactory=u.U.get("componentFactory"),this._virtualEditable=u.U.get("virtualEditable"),this._alertLayerService=u.U.get("alertLayerService"),this._locationPrivacyService=u.U.get("locationPrivacyService"),this._componentListStore=u.U.get("componentListStore"),this._imageUploader=CA.getInstance({progressLayer:new uA(this._i18n),errorAlert:new dA(this._i18n),editingService:this._editingService,eventDispatcherService:u.U.get("eventDispatcherService"),imageUploadService:this._imageUploadService,componentListStore:u.U.get("componentListStore"),sentryManager:u.U.get("sentryManager")})}var t=e.prototype;return t.destroy=function(){CA.destroy()},t.openFileDialog=function(e){return void 0===e&&(e={}),this._imageUploadService.openFileDialog(e)},t.insertImageFromUrls=function(e,t){var o=this,n=function(e){var t=e.invalidImageErrors;return o.cleanUpImage(t),o._scrollToFocus(),{res:e}};return this._preprocForMaxCountCheck(e).then(function(){return o._imageUploader.insert({validFiles:e,invalidFiles:[]},{makeComponent:function(e){return o._makeImageComponentByUrl(e,t)},onEachUpload:o._onEachUploadedImage}).then(n).then(o._checkUserLocation)})},t.insertExternalImage=function(e,t){var o=this;return this._canUseComplexLayouts(e)?this._preprocForMaxCountCheck(e).then(function(){return o._imageTypeLayerService.open({type:"file",payload:{validFiles:e,invalidFiles:[],length:e.length},insertInterceptor:t})}):this.insertImage({validFiles:e,invalidFiles:[]},t)},t.insertBackground=function(e,t,o){var n=this,r=t.validFiles,i=t.invalidFiles,a=void 0===i?[]:i,s=function(e){var t=e.succeededImages;return n._cleanUpBackground(t,o),e};return this._preprocForMaxCountCheck(r).then(function(){return n._imageUploader.insert({validFiles:r,invalidFiles:a},{makeComponent:n._validate}).then(s)})},t.insertBackgroundFromUrls=function(e,t){var o=this,n=function(e){var t=e.succeededImages;return o._cleanUpBackground(t),e};return this._preprocForMaxCountCheck(t).then(function(){return o._imageUploader.insert({validFiles:t,invalidFiles:[]},{makeComponent:o._validateUrl}).then(n)})},t.insertExternalBackground=function(e,t,o){return this.insertBackground(e,{validFiles:t,invalidFiles:[]},o)},t.insertGroupImage=function(e,t,o){var n=this,r=null,i=function(e){return n._cleanUpImageGroup(r),{res:e,target:r}};return this._preprocForMaxCountCheck(t.validFiles).then(function(){return n._imageUploader.insert(t,{makeComponent:function(){var t=Zt()(Xt.a.mark(function t(i){var a;return Xt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._makeGroupComponent(i,e,o);case 2:return a=t.sent,r=a.groupImageCompStore,t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),onEachUpload:function(e){n._onEachUploadedImageGroup(e,r)}}).then(i).then(n._checkUserLocation)})},t.insertImageGroupFromUrls=function(e,t,o){var n=this,r=null,i=function(e){return n._cleanUpImageGroup(r),{res:e,target:r}};return this._preprocForMaxCountCheck(t).then(function(){return n._imageUploader.insert({validFiles:t,invalidFiles:[]},{makeComponent:function(){var t=Zt()(Xt.a.mark(function t(i){var a;return Xt.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._makeUrlGroupComponentByUrl(i,e,o);case 2:return a=t.sent,r=a.groupImageCompStore,t.abrupt("return",a);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),onEachUpload:function(e){n._onEachUploadedImageGroup(e,r)}}).then(i).then(n._checkUserLocation)})},t.insertInlineImage=function(e){var t=this,o=e.validFiles,n=e.invalidFiles,r=null,i=function(e){var o=e.invalidImageErrors;return t._cleanUpInline(r,o),e};return this._preprocForMaxCountCheck(o).then(function(){return t._imageUploader.insert({validFiles:o,invalidFiles:n},{makeComponent:function(){var e=Zt()(Xt.a.mark(function e(o){var n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._makeInlineComponent(o);case 2:return n=e.sent,r=n.compStore,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),onEachUpload:function(e){var o=e.code,n=e.response;"SUCCESS"===o&&t._inlineImageService.updateShellImageNodeStore(r,n)}}).then(i)})},t.dropImageFromAside=function(e,t){var o=this;return this._preprocForMaxCountCheck(e).then(function(){return o._imageUploader.insert({validFiles:e,invalidFiles:[]},{makeComponent:function(e){return o._makeDropImageFromAside(e,t)},onEachUpload:o._onEachUploadedImage})})},t._canUseComplexLayouts=function(e){return this._complexImageLayoutsEnabled&&e.length>1},t._validateUrl=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r,i;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageComponentService.createShellsFromUrl(t,o);case 2:return n=e.sent,r=n.imageCompStores,i=n.ids,e.abrupt("return",{shellImageCompIds:i,validImages:t,invalidImages:[],shellImageComps:r});case 6:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._makeGroupComponent=function(){var e=Zt()(Xt.a.mark(function e(t,o,n){var r,i,a,s,c,l;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validate(t);case 2:return r=e.sent,i=r.shellImageComps,a=r.shellImageCompIds,s=r.validImages,c=r.invalidImages,l=this._imageGroupComponentService.convertToGroupImage(o,i),this._insertComponents([l],n),e.abrupt("return",{validImages:s,invalidImages:c,shellImageComps:i,shellImageCompIds:a,groupImageCompStore:l});case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),t._makeInlineComponent=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s,c;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageComponentService.validateImageFiles(t);case 2:return o=e.sent,e.next=5,this._inlineImageService.createFileUploadData(o);case 5:return n=e.sent,r=n.compStore,i=n.uploadTarget,a=i.ids,s=i.files,c=n.invalidImages,e.abrupt("return",{compStore:r,shellImageCompIds:a,validImages:s,invalidImages:c});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._makeBackgroundImage=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validate(t);case 2:return o=e.sent,n=o.shellImageComps,r=o.shellImageCompIds,i=o.validImages,a=o.invalidImages,e.abrupt("return",{validImages:i,invalidImages:a,shellImageComps:n,shellImageCompIds:r});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._makeImageComponentByUrl=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r,i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validateUrl(t,o);case 2:return n=e.sent,r=n.shellImageComps,i=n.shellImageCompIds,a=n.validImages,s=n.invalidImages,this._insertComponents(r),e.abrupt("return",{shellImageCompIds:i,validImages:a,invalidImages:s,shellImageComps:r});case 9:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._makeUrlGroupComponentByUrl=function(){var e=Zt()(Xt.a.mark(function e(t,o,n){var r,i,a,s,c,l;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validateUrl(t,n);case 2:return r=e.sent,i=r.shellImageComps,a=r.shellImageCompIds,s=r.validImages,c=r.invalidImages,l=this._imageGroupComponentService.convertToGroupImage(o,i),this._insertComponents([l]),e.abrupt("return",{validImages:s,invalidImages:c,shellImageComps:i,shellImageCompIds:a,groupImageCompStore:l});case 10:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),t._makeDropImageFromAside=function(e,t){var o=e.map(function(e){return e.id});return this._insertComponents(e,t),{validImages:e.map(function(e){return encodeURIComponent(e.src)}),invalidImages:[],shellImageComps:e,shellImageCompIds:o}},t._onEachUploadedImageGroup=function(e,t){var o=e.code,n=e.response;if("SUCCESS"===o){var r=n.id,i=this._imageGroupComponentService.getImageComponent(t,r);n.displayFormat=u.C.NORMAL,this._imageComponentService.changeImage(i,n)}},t._cleanUpImageGroup=function(e){var t=this._imageGroupComponentService.getPhaseInfoOfImages(e),o=t.completedCount;if(0!==o&&t)if(1===o){var n=t.completedImages[0].toValidJSON(),r=this._componentFactory.createComponentWithCompData(n);this._editingService.insert({sourceComponents:[r]}),this._editingService.eraseComponent(e.id)}else this._imageGroupComponentService.completeAll(e);else this._editingService.eraseComponent(e.id)},t._cleanUpInline=function(e,t){var o=this;t.forEach(function(t){var n=t.id;n&&o._inlineImageService.deleteShellImageNodeById(e,n)})},t._cleanUpBackground=function(e,t){if(e.length>0){var o=e[0].response;t?t(o):this._documentTitleComponentService.updateBackgroundImage(o)}else this._documentTitleComponentService.reset()},t._preprocForMaxCountCheck=function(e){var t=this;return new Promise(function(o,n){if(t._imageUploadService.isExceededMaxCount(e)){var r=t._imageUploadService.imageMaxUploadCount;t._alertLayerService.open({type:"alert",title:t._i18n("limits:title_exceeded_count_by_max"),description:t._i18n("limits:image_description_exceeded_count_by_max",{maxCount:r}),isDimUse:!1,onClickConfirm:function(){return o(!0)},onClickCancel:function(){return n()}})}else o(!0)})},t._checkUserLocation=function(e){var t=this,o=e.res,n=e.target,r=(o.succeededImages||[]).filter(function(e){return!!Object(J.a)(e,"response.exif",null)});return r.length>0&&this._locationPrivacyService.isAllowedAccess()&&(this._locationPrivacyService.writeUserLocation(),r.forEach(function(e){var o=Object(J.a)(e,"response.id",null),r=Object(J.a)(e,"response.exif",null),i=ao.a.restoreSpecialChar(r);try{var a=JSON.parse(i),s=t._extractLocationFromExif(a);(n?n.getStoreById(o):t._componentListStore.getComponentById(o)).setState({location:s})}catch(e){}})),o},t._extractLocationFromExif=function(e){var t=e.GPSLatitude,o=e.GPSLongitude;return t&&o?{ctype:"position",latitude:this._calcGPSToDegree(t),longitude:this._calcGPSToDegree(o)}:null},t._calcGPSToDegree=function(e){var t=this,o=e.split(",").map(function(e){return t._calcStringFraction(e)});return o[0]+o[1]/60+o[2]/3600},t._calcStringFraction=function(e){var t=e.split("/").map(function(e){return Number(e)}),o=t[0],n=t[1],r=o/(void 0===n?1:n);return isFinite(r)?r:0},e}(),q()(pA.prototype,"_validateUrl",[ee.autobind],Object.getOwnPropertyDescriptor(pA.prototype,"_validateUrl"),pA.prototype),q()(pA.prototype,"_makeGroupComponent",[ee.autobind],Object.getOwnPropertyDescriptor(pA.prototype,"_makeGroupComponent"),pA.prototype),q()(pA.prototype,"_makeInlineComponent",[ee.autobind],Object.getOwnPropertyDescriptor(pA.prototype,"_makeInlineComponent"),pA.prototype),q()(pA.prototype,"_makeBackgroundImage",[ee.autobind],Object.getOwnPropertyDescriptor(pA.prototype,"_makeBackgroundImage"),pA.prototype),q()(pA.prototype,"_makeImageComponentByUrl",[ee.autobind],Object.getOwnPropertyDescriptor(pA.prototype,"_makeImageComponentByUrl"),pA.prototype),q()(pA.prototype,"_makeUrlGroupComponentByUrl",[ee.autobind],Object.getOwnPropertyDescriptor(pA.prototype,"_makeUrlGroupComponentByUrl"),pA.prototype),q()(pA.prototype,"_makeDropImageFromAside",[ee.autobind],Object.getOwnPropertyDescriptor(pA.prototype,"_makeDropImageFromAside"),pA.prototype),q()(pA.prototype,"_onEachUploadedImageGroup",[ee.autobind],Object.getOwnPropertyDescriptor(pA.prototype,"_onEachUploadedImageGroup"),pA.prototype),q()(pA.prototype,"_checkUserLocation",[ee.autobind],Object.getOwnPropertyDescriptor(pA.prototype,"_checkUserLocation"),pA.prototype),pA),gA={onEachUpload:bO.a},yA=[Promise.resolve({succeededImages:[],failedImages:[],invalidImageErrors:[]})],bA=function(){function e(){this._uploadPromises=yA}var t=e.prototype;return t.uploading=function(e){return this._uploadPromises===e},t.add=function(e){return this._uploadPromises=[].concat(this._uploadPromises,[e])},t.reset=function(){this._uploadPromises=yA},e}(),_A=new bA,vA=null,CA=function(){function e(e){var t=e.progressLayer,o=e.errorAlert,n=e.editingService,r=e.eventDispatcherService,i=e.imageUploadService,a=e.componentListStore,s=e.sentryManager;this._errorAlert=o,this._progressLayer=t,this._editingService=n,this._eventDispatcherService=r,this._imageUploadService=i,this._componentListStore=a,this._sentryManager=s}e.getInstance=function(t){return vA||(vA=new e(t))},e.destroy=function(){vA=null};var t=e.prototype;return t.insert=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r,i,a,s,c,l;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.validFiles,r=t.invalidFiles,_A.uploading(yA)||this._eventDispatcherService.emit(u.z.IN_PROGRESS),i=null,a=this._insert({validFiles:n,invalidFiles:r},o).then(function(e){return i=e}),s=_A.add(a),e.next=7,Promise.all(s);case 7:if(c=e.sent,!_A.uploading(s)){e.next=15;break}if(!(l=c.reduce(function(e,t){var o=t.invalidImageErrors;return e.push.apply(e,o),e},[])).length){e.next=13;break}return e.next=13,this._errorAlert.open(l);case 13:_A.reset(),this._eventDispatcherService.emit(u.z.PROGRESS_COMPLETED);case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._insert=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r,i,a,s,c,l,p,d,h,f,m;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.validFiles,r=t.invalidFiles,i=this._imageUploadService.invalidImageErrors(r.map(function(e){return{file:e,code:e.code}})),a={succeededImages:[],failedImages:[]},0===n.length){e.next=29;break}return s=rt()({},gA,o),c=s.makeComponent,l=s.onEachUpload,e.next=7,c(n);case 7:if(p=e.sent,d=p.validImages,h=p.invalidImages,f=p.shellImageCompIds,m=d.length,i.push.apply(i,this._imageUploadService.invalidImageErrors(h)),0===m){e.next=29;break}return this._updateImageCompPhases(f,u.M.PROCESSING),this._progressLayer.start(m),e.prev=16,e.next=19,this._uploadImages(f,d,l);case 19:a=e.sent,e.next=26;break;case 22:return e.prev=22,e.t0=e.catch(16),a.invalidImageErrors=[].concat(i,this._imageUploadService.invalidImageErrors(n.map(function(e,t){return{id:f[t],code:"SERVER_ERROR",file:e}}))),e.abrupt("return",a);case 26:return e.prev=26,this._progressLayer.end(m),e.finish(26);case 29:return i.push.apply(i,this._imageUploadService.invalidImageErrors(a.failedImages.map(function(e){return e.response}))),a.invalidImageErrors=i,e.abrupt("return",a);case 32:case"end":return e.stop()}},e,this,[[16,22,26,29]])}));return function(t,o){return e.apply(this,arguments)}}(),t._uploadImages=function(e,t,o){var n=this;return(VT.a.isFile(t[0])?this._imageUploadService.uploadImagesFromFiles(this._imageUploadService.createSourceList(e,t)):this._imageUploadService.uploadImageFromUrls(this._imageUploadService.createSourceList(e,t))).then(function(e){return Promise.all(e.map(function(e){return e.then(bO.a,bO.a).then(function(e){var t=e.response;n._progressLayer.update(t.fileName,t.fileSize),o(e);var r="SUCCESS"===e.code,i=e.response,a=i.path;return r&&""===a&&n._sentryManager.withScope(function(e){e.setLevel("info"),e.setExtra("logger","ImageUploadService._onCompleteEach.SUCCESS"),e.setExtra("cause","업로드 결과에 path 값 필수!"),e.setExtra("data",i),n._sentryManager.captureMessage("이미지 업로드 결과 오류!")}),r&&a&&a.match(fA)&&(i.path=a.replace(fA,""),n._sentryManager.withScope(function(e){e.setLevel("info"),e.setExtra("logger","ImageUploadService._onCompleteEach.SUCCESS"),e.setExtra("cause","업로드 결과 중 path에 CR/LF 문자키 값이 포함되어 예외처리함!"),e.setExtra("data",i),n._sentryManager.captureMessage("이미지 업로드 결과 오류!")})),e})}))}).then(function(e){var t=Object(mD.a)(e,function(e){return"FAIL"===e.code}),o=t[0];return{succeededImages:t[1],failedImages:o}})},t._updateImageCompPhases=function(e,t){var o=this;e.map(function(e){var n=o._componentListStore.getComponentById(e);n&&n.updatePhase(t)})},e}();!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/behavior/image-behavior/index.js",localName:t}})}catch(e){}}e(fA,"REGEX_CRLF"),e(mA,"AbstractImageBehavior"),e(gA,"DEFAULT_CALLBACK"),e(yA,"DEFAULT_UPLOAD_PROMISE"),e(bA,"Uploading"),e(_A,"uploading"),e(vA,"imageUploaderInstance"),e(CA,"ImageUploader")}();var SA=(hA=function(e){function t(){return e.apply(this,arguments)||this}h()(t,e);var o=t.prototype;return o.insertImage=function(e,t){var o=this,n=e.validFiles,r=e.invalidFiles,i=void 0===r?[]:r,a=function(e){var t=e.invalidImageErrors;return o.cleanUpImage(t),o._scrollToFocus(),{res:e}};return this._preprocForMaxCountCheck(n).then(function(){return o._imageUploader.insert({validFiles:n,invalidFiles:i},{makeComponent:function(e){return o._makeImageComponent(e,t)},onEachUpload:o._onEachUploadedImage}).then(a).then(o._checkUserLocation)})},o.insertImageFromCompData=function(e,t){var o=this,n=function(e){var t=e.invalidImageErrors;return o.cleanUpImage(t),o._scrollToFocus(),e};return this._preprocForMaxCountCheck(e).then(function(){return o._imageUploader.insert({validFiles:e,invalidFiles:[]},{makeComponent:function(e){return o._makeImageFromCompData(e,t)},onEachUpload:o._onEachUploadedImage}).then(n)})},o.changeImage=function(e,t){var o=this,n=e.targetStore,r=e.selectedImages,i=r.validFiles,a=r.invalidFiles;void 0===t&&(t={});var s=n.id,c=n.contentMode,l=rt()({makeComponent:function(){var e=Zt()(Xt.a.mark(function e(t){var n;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o._validate(t);case 2:return(n=e.sent).shellImageComps[0].changeContentMode&&n.shellImageComps[0].changeContentMode(c),e.abrupt("return",rt()({},n,{shellImageCompIds:[s]}));case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),onEachUpload:this._onEachUploadedImage},t);return this._imageUploader.insert({validFiles:i,invalidFiles:a},l)},o.insert=function(e,t){var o=this,n=e.validFiles,r=e.invalidFiles;return this._preprocForMaxCountCheck(n).then(function(){return o._imageUploader.insert({validFiles:n,invalidFiles:r},t)})},o._makeImageComponent=function(){var e=Zt()(Xt.a.mark(function e(t,o){var n,r,i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._validate(t);case 2:return n=e.sent,r=n.shellImageComps,i=n.shellImageCompIds,a=n.validImages,s=n.invalidImages,this._insertComponents(r,o),e.abrupt("return",{validImages:a,invalidImages:s,shellImageComps:r,shellImageCompIds:i});case 9:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._makeImageFromCompData=function(e,t){var o=this._imageComponentService.createShellsFromCompData(e),n=o.imageCompStores,r=o.ids;return this._insertComponents(n,t),{validImages:e.map(function(e){return encodeURIComponent(e.src)}),invalidImages:[],shellImageComps:n,shellImageCompIds:r}},o._onEachUploadedImage=function(e){var t=e.code,o=e.response;"SUCCESS"===t&&(this._imageComponentService.updateShellImageCompStore(o.id,o),this._repaintCursor())},o.cleanUpImage=function(e){this._deleteUploadFailedImageComp(e)},o._deleteUploadFailedImageComp=function(e){var t=this;e.forEach(function(e){var o=e.id;if(o){var n=t._imageComponentService.getComponentStore(o);n&&t._editingService.eraseComponent(n.id)}})},o._validate=function(){var e=Zt()(Xt.a.mark(function e(t){var o,n,r,i,a,s;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageComponentService.createFileUploadData(t);case 2:return o=e.sent,n=o.imageCompStores,r=o.uploadTarget,i=r.ids,a=r.files,s=o.invalidImages,e.abrupt("return",{shellImageComps:n,shellImageCompIds:i,validImages:a,invalidImages:s});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertComponents=function(e,t){t?t([].concat(e)):this._editingService.insert({sourceComponents:[].concat(e)})},o._scrollToFocus=function(){this._canvasScrollingService.scrollToFocus()},t}(mA),q()(hA.prototype,"_makeImageComponent",[ee.autobind],Object.getOwnPropertyDescriptor(hA.prototype,"_makeImageComponent"),hA.prototype),q()(hA.prototype,"_makeImageFromCompData",[ee.autobind],Object.getOwnPropertyDescriptor(hA.prototype,"_makeImageFromCompData"),hA.prototype),q()(hA.prototype,"_onEachUploadedImage",[ee.autobind],Object.getOwnPropertyDescriptor(hA.prototype,"_onEachUploadedImage"),hA.prototype),q()(hA.prototype,"_validate",[ee.autobind],Object.getOwnPropertyDescriptor(hA.prototype,"_validate"),hA.prototype),hA);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/shared-parts/behavior/image-behavior/index.js",localName:t}})}catch(e){}}(SA,"ImageBehavior")}();var OA={storagePolicy:{value:PR.a},spellChecker:{klass:jR,args:[{ref:"configAgent"}]},photoEditor:{klass:NR},videoUploader:{klass:RR,args:[{value:{option:{featureLocalVid:!0,featureCloudVid:!0,featureLinkVid:!1,feature360Vid:!0,featureMetaEdit:!0}}}]},eventDispatcherService:{klass:kT},historyService:{klass:DT},toolbarService:{klass:MT},copyPasteService:{klass:FT},dragAndDropService:{klass:uL},dragGhost:{klass:MR},scrollBody:{klass:HR},scrollCanvas:{klass:JR},canvasScrollingService:{klass:dL},a11yService:{klass:fL},editingService:{klass:sN},documentService:{klass:mN},finderService:{klass:yN},propertyChangeService:{klass:RN},representativeImageService:{klass:WN},panoramaImageService:{klass:GN},selectionService:{klass:oD},themeService:{klass:iD},authService:{klass:sD},crawlerService:{klass:lD},documentValidateService:{klass:pD},fileUploadService:{klass:hD},audioUploadService:{klass:gD},imageUploadService:{klass:ID},videoUploadService:{klass:ND},imageEditService:{klass:DD},formulaEditService:{klass:GD},inlineImageService:{klass:qD},tagService:{klass:QD},themeStore:{klass:cR,args:[{value:lA}]},themeStyleValidator:{klass:tA},storageService:{klass:$D},styleStore:{klass:fR},toolbarStore:{klass:_R},documentDataStore:{klass:CR},editorStatusStore:{klass:OR.a},componentListStore:{klass:Ju},dragAndDropStore:{klass:Bu.a},selectionInfoStore:{klass:TL},tokenStore:{klass:kR},stateUpdateBroadcaster:{klass:YR},dragAndDropUseCase:{klass:Nu.a},errorRecoveryUseCase:{klass:nA.a},a11yFocusUseCase:{klass:rA.a},imageBehavior:{klass:SA},wordCountService:{klass:tR},overlayToolbarUseCase:{klass:sA},locationPrivacyService:{klass:iR}},kA=OA;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/module-specs.js",localName:t}})}catch(e){}}(OA,"default")}();var IA={h1:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs38"}},h2:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs30"}},h3:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs19"}},h4:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs16"}},h5:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs13"}},h6:{componentType:"sectionTitle",defaultValue:{layout:"default",fontSizeCode:"fs11"}},img:{componentType:"image",defaultValue:{internalResource:!1,origin:{ctype:"imageOrigin",srcFrom:"copyUrl"}}},hr:{componentType:"horizontalLine"},table:{componentType:"table"},text:{componentType:"text"}},wA=IA,PA=wA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/config/paste-definition/index.js",localName:t}})}catch(e){}}e(IA,"defaultDefinition"),e(wA,"default")}();var jA,TA=PA,LA=TA;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/paste-definition.js",localName:t}})}catch(e){}}(TA,"default")}();var EA,NA=(jA=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="extend-block-word-left"}return e.prototype.execute=function(e){return this._virtualEditable.extendToEdgeOfWord(u.u.LEFT,e),!1},e}(),q()(jA.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(jA.prototype,"execute"),jA.prototype),jA),xA=NA,DA=xA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/block-to-edge-of-word-by-left-use-case.js",localName:t}})}catch(e){}}e(NA,"BlockToEdgeOfWordByLeftUseCase"),e(xA,"default")}();var RA,AA=(EA=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="extend-block-word-right"}return e.prototype.execute=function(e){return this._virtualEditable.extendToEdgeOfWord(u.u.RIGHT,e),!1},e}(),q()(EA.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(EA.prototype,"execute"),EA.prototype),EA),UA=AA,MA=UA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/block-to-edge-of-word-by-right-use-case.js",localName:t}})}catch(e){}}e(AA,"BlockToEdgeOfWordByRightUseCase"),e(UA,"default")}();var BA,FA,zA=(RA=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="bold"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("bold"),!1},e}(),q()(RA.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(RA.prototype,"execute"),RA.prototype),RA),WA=zA,VA=WA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/bold-use-case.js",localName:t}})}catch(e){}}e(zA,"BoldUseCase"),e(WA,"default")}();var GA,HA,qA=(BA=Object(ee.history)({throttle:!0}),FA=function(){function e(){this._editingService=u.U.get("editingService"),this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="backspace"}return e.prototype.execute=function(){return this._editingService.erase(void 0,u.u.LEFT),this._canvasScrollingService.refreshCursorWithScroll(),!1},e}(),q()(FA.prototype,"execute",[ee.preventOnComponentProcessing,BA,K.d],Object.getOwnPropertyDescriptor(FA.prototype,"execute"),FA.prototype),FA),JA=qA,KA=JA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/erase-text-to-left-use-case.js",localName:t}})}catch(e){}}e(qA,"EraseTextToLeftUseCase"),e(JA,"default")}();var YA,XA,QA=(GA=Object(ee.history)({throttle:!0}),HA=function(){function e(){this._editingService=u.U.get("editingService"),this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="del"}return e.prototype.execute=function(){return this._editingService.erase(void 0,u.u.RIGHT),this._canvasScrollingService.refreshCursorWithScroll(),!1},e}(),q()(HA.prototype,"execute",[ee.preventOnComponentProcessing,GA,K.d],Object.getOwnPropertyDescriptor(HA.prototype,"execute"),HA.prototype),HA),ZA=QA,$A=ZA;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/erase-text-to-right-use-case.js",localName:t}})}catch(e){}}e(QA,"EraseTextToRightUseCase"),e(ZA,"default")}();var eU,tU,oU=(YA=Object(ee.history)({throttle:!0}),XA=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this._editingService=u.U.get("editingService"),this._canvasScrollingService=u.U.get("canvasScrollingService")}var t=e.prototype;return t.execute=function(e){var t=this;return this._virtualEditable.extendToEdgeOfWord(u.u.LEFT,e).then(function(){t._erase()}),!1},t._erase=function(){this._editingService.erase(void 0,u.u.LEFT),this._canvasScrollingService.refreshCursorWithScroll()},e}(),q()(XA.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(XA.prototype,"execute"),XA.prototype),q()(XA.prototype,"_erase",[YA,K.d],Object.getOwnPropertyDescriptor(XA.prototype,"_erase"),XA.prototype),XA),nU=oU,rU=nU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/erase-word-to-left-use-case.js",localName:t}})}catch(e){}}e(oU,"EraseWordToLeftUseCase"),e(nU,"default")}();var iU,aU=(eU=Object(ee.history)({throttle:!0}),tU=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this._editingService=u.U.get("editingService"),this._canvasScrollingService=u.U.get("canvasScrollingService")}var t=e.prototype;return t.execute=function(e){var t=this;return this._virtualEditable.extendToEdgeOfWord(u.u.RIGHT,e).then(function(){t._erase()}),!1},t._erase=function(){this._editingService.erase(void 0,u.u.RIGHT),this._canvasScrollingService.refreshCursorWithScroll()},e}(),q()(tU.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(tU.prototype,"execute"),tU.prototype),q()(tU.prototype,"_erase",[eU,K.d],Object.getOwnPropertyDescriptor(tU.prototype,"_erase"),tU.prototype),tU),sU=aU,cU=sU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/erase-word-to-right-use-case.js",localName:t}})}catch(e){}}e(aU,"EraseWordToRightUseCase"),e(sU,"default")}();var lU,uU=(iU=function(){function e(){this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="extend-block-down"}return e.prototype.execute=function(e){return this._canvasScrollingService.extendCursorTo(u.u.DOWN,e),!1},e}(),q()(iU.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(iU.prototype,"execute"),iU.prototype),iU),pU=uU,dU=pU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-down-use-case.js",localName:t}})}catch(e){}}e(uU,"ExtendBlockToDownUseCase"),e(pU,"default")}();var hU,fU=(lU=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="extend-block-line-end"}return e.prototype.execute=function(e){return this._virtualEditable.extendToEdgeOfLine(u.u.RIGHT,e),!1},e}(),q()(lU.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(lU.prototype,"execute"),lU.prototype),lU),mU=fU,gU=mU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-end-of-line-use-case.js",localName:t}})}catch(e){}}e(fU,"ExtendBlockToEndOfLineUseCase"),e(mU,"default")}();var yU,bU=(hU=function(){function e(){this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="extend-block-left"}return e.prototype.execute=function(e){return this._canvasScrollingService.extendCursorTo(u.u.LEFT,e),!1},e}(),q()(hU.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(hU.prototype,"execute"),hU.prototype),hU),_U=bU,vU=_U;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-left-use-case.js",localName:t}})}catch(e){}}e(bU,"ExtendBlockToLeftUseCase"),e(_U,"default")}();var CU,SU=(yU=function(){function e(){this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="extend-block-right"}return e.prototype.execute=function(e){return this._canvasScrollingService.extendCursorTo(u.u.RIGHT,e),!1},e}(),q()(yU.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(yU.prototype,"execute"),yU.prototype),yU),OU=SU,kU=OU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-right-use-case.js",localName:t}})}catch(e){}}e(SU,"ExtendBlockToRightUseCase"),e(OU,"default")}();var IU,wU=(CU=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="extend-block-line-start"}return e.prototype.execute=function(e){return this._virtualEditable.extendToEdgeOfLine(u.u.LEFT,e),!1},e}(),q()(CU.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(CU.prototype,"execute"),CU.prototype),CU),PU=wU,jU=PU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-start-of-line-use-case.js",localName:t}})}catch(e){}}e(wU,"ExtendBlockToStartOfLineUseCase"),e(PU,"default")}();var TU,LU=(IU=function(){function e(){this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="extend-block-up"}return e.prototype.execute=function(e){return this._canvasScrollingService.extendCursorTo(u.u.UP,e),!1},e}(),q()(IU.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(IU.prototype,"execute"),IU.prototype),IU),EU=LU,NU=EU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/extend-block-to-up-use-case.js",localName:t}})}catch(e){}}e(LU,"ExtendBlockToUpUseCase"),e(EU,"default")}();var xU,DU,RU=(TU=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="italic"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("italic"),!1},e}(),q()(TU.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(TU.prototype,"execute"),TU.prototype),TU),AU=RU,UU=AU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/italic-use-case.js",localName:t}})}catch(e){}}e(RU,"ItalicUseCase"),e(AU,"default")}();var MU,BU=(xU=Object(ee.history)({sync:!1}),DU=function(){function e(){this._editingService=u.U.get("editingService"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._crawlerBehavior=new Cu,this._crawlerService=u.U.get("crawlerService"),this._canvasLayoutService=u.U.get("canvasLayoutService"),this.actLabel="linebreak"}var t=e.prototype;return t.execute=function(){var e=Zt()(Xt.a.mark(function e(){var t;return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._crawlerService.getCrawlerInfo())){e.next=6;break}return e.next=4,this._insertContentsFromUrl(t);case 4:e.next=7;break;case 6:this._lineBreak();case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._insertContentsFromUrl=function(){var e=Zt()(Xt.a.mark(function e(t){return Xt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._crawlerBehavior.insertContentsFromUrl(t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._lineBreak=function(){if(this._canvasLayoutService.shouldUpdateContentLength()){var e=this._selectionInfoStore.focus.compId;this._canvasLayoutService.setAvailableContentLength(e)}this._editingService.lineBreak()},e}(),q()(DU.prototype,"execute",[ee.sentryCatch,ee.preventOnComponentProcessing,K.d],Object.getOwnPropertyDescriptor(DU.prototype,"execute"),DU.prototype),q()(DU.prototype,"_insertContentsFromUrl",[ee.sentryCatch,xU],Object.getOwnPropertyDescriptor(DU.prototype,"_insertContentsFromUrl"),DU.prototype),q()(DU.prototype,"_lineBreak",[ee.history],Object.getOwnPropertyDescriptor(DU.prototype,"_lineBreak"),DU.prototype),DU),FU=BU,zU=FU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/line-break-use-case.js",localName:t}})}catch(e){}}e(BU,"LineBreakUseCase"),e(FU,"default")}();var WU,VU=(MU=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="indent"}return e.prototype.execute=function(){return this._propertyChangeService.updateStyle({name:"indent",value:u.B.INCREASE}),!1},e}(),q()(MU.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(MU.prototype,"execute"),MU.prototype),MU),GU=VU,HU=GU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/indent-use-case.js",localName:t}})}catch(e){}}e(VU,"IndentUseCase"),e(GU,"default")}();var qU,JU=(WU=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="outdent"}return e.prototype.execute=function(){return this._propertyChangeService.updateStyle({name:"indent",value:u.B.DECREASE}),!1},e}(),q()(WU.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(WU.prototype,"execute"),WU.prototype),WU),KU=JU,YU=KU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/outdent-use-case.js",localName:t}})}catch(e){}}e(JU,"OutdentUseCase"),e(KU,"default")}();var XU,QU=(qU=function(){function e(){this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="move-cursor-down"}return e.prototype.execute=function(e){return this._canvasScrollingService.moveCursorTo(u.u.DOWN,e),!1},e}(),q()(qU.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(qU.prototype,"execute"),qU.prototype),qU),ZU=QU,$U=ZU;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-by-down-use-case.js",localName:t}})}catch(e){}}e(QU,"MoveCursorByDownUseCase"),e(ZU,"default")}();var eM,tM=(XU=function(){function e(){this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="move-cursor-left"}return e.prototype.execute=function(e){return this._canvasScrollingService.moveCursorTo(u.u.LEFT,e),!1},e}(),q()(XU.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(XU.prototype,"execute"),XU.prototype),XU),oM=tM,nM=oM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-by-left-use-case.js",localName:t}})}catch(e){}}e(tM,"MoveCursorByLeftUseCase"),e(oM,"default")}();var rM,iM=(eM=function(){function e(){this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="move-cursor-right"}return e.prototype.execute=function(e){return this._canvasScrollingService.moveCursorTo(u.u.RIGHT,e),!1},e}(),q()(eM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(eM.prototype,"execute"),eM.prototype),eM),aM=iM,sM=aM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-by-right-use-case.js",localName:t}})}catch(e){}}e(iM,"MoveCursorByRightUseCase"),e(aM,"default")}();var cM,lM=(rM=function(){function e(){this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="move-cursor-up"}return e.prototype.execute=function(e){return this._canvasScrollingService.moveCursorTo(u.u.UP,e),!1},e}(),q()(rM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(rM.prototype,"execute"),rM.prototype),rM),uM=lM,pM=uM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-by-up-use-case.js",localName:t}})}catch(e){}}e(lM,"MoveCursorByUpUseCase"),e(uM,"default")}();var dM,hM=(cM=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="move-cursor-line-end"}return e.prototype.execute=function(e){return this._virtualEditable.moveToEdgeOfLine(u.u.RIGHT,e),!1},e}(),q()(cM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(cM.prototype,"execute"),cM.prototype),cM),fM=hM,mM=fM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-to-end-of-line-use-case.js",localName:t}})}catch(e){}}e(hM,"MoveCursorToEndOfLineUseCase"),e(fM,"default")}();var gM,yM=(dM=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="move-cursor-word-left"}return e.prototype.execute=function(e){var t=this;return this._virtualEditable.moveToEdgeOfWord(u.u.LEFT,e).then(function(){t._virtualEditable.appendAriaWithWord()}),!1},e}(),q()(dM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(dM.prototype,"execute"),dM.prototype),dM),bM=yM,_M=bM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-to-left-by-word-use-case.js",localName:t}})}catch(e){}}e(yM,"MoveCursorToLeftByWordUseCase"),e(bM,"default")}();var vM,CM=(gM=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="move-cursor-word-right"}return e.prototype.execute=function(e){var t=this;return this._virtualEditable.moveToEdgeOfWord(u.u.RIGHT,e).then(function(){t._virtualEditable.appendAriaWithWord()}),!1},e}(),q()(gM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(gM.prototype,"execute"),gM.prototype),gM),SM=CM,OM=SM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-to-right-by-word-use-case.js",localName:t}})}catch(e){}}e(CM,"MoveCursorToRightByWordUseCase"),e(SM,"default")}();var kM,IM=(vM=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="move-cursor-line-start"}return e.prototype.execute=function(e){return this._virtualEditable.moveToEdgeOfLine(u.u.LEFT,e),!1},e}(),q()(vM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(vM.prototype,"execute"),vM.prototype),vM),wM=IM,PM=wM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-cursor-to-start-of-line-use-case.js",localName:t}})}catch(e){}}e(IM,"MoveCursorToStartOfLineUseCase"),e(wM,"default")}();var jM,TM=(kM=function(){function e(){this._eventDispatcherService=u.U.get("eventDispatcherService"),this._a11yService=u.U.get("a11yService"),this.actLabel="move-forward-to-service"}return e.prototype.execute=function(e){if(this._a11yService){if(!this._a11yService.isInsideEditorWrapper(e.target))return;this._eventDispatcherService.dispatch(u.z.EXIT_EDITOR_FORWARD,e),e.defaultPrevented||this._a11yService.focusToOutsideNextTabbable()}},e}(),q()(kM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(kM.prototype,"execute"),kM.prototype),kM),LM=TM,EM=LM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-forward-to-service-use-case.js",localName:t}})}catch(e){}}e(TM,"MoveForwardToServiceUseCase"),e(LM,"default")}();var NM,xM=(jM=function(){function e(){this._eventDispatcherService=u.U.get("eventDispatcherService"),this._a11yService=u.U.get("a11yService"),this.actLabel="move-forward-to-reserve"}return e.prototype.execute=function(e){if(this._a11yService){if(!this._a11yService.isInsideEditorWrapper(e.target))return;this._eventDispatcherService.dispatch(u.z.EXIT_EDITOR_REVERSE,e),e.defaultPrevented||this._a11yService.focusToOutsidePrevTabbable()}},e}(),q()(jM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(jM.prototype,"execute"),jM.prototype),jM),DM=xM,RM=DM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/move-reverse-to-service-use-case.js",localName:t}})}catch(e){}}e(xM,"MoveReverseToServiceUseCase"),e(DM,"default")}();var AM,UM=(NM=function(){function e(){this._a11yService=u.U.get("a11yService"),this.actLabel="focus-toolbar"}return e.prototype.execute=function(){this._a11yService.focusToToolbar()},e}(),q()(NM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(NM.prototype,"execute"),NM.prototype),NM),MM=UM,BM=MM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/focus-toolbar-use-case.js",localName:t}})}catch(e){}}e(UM,"FocusToolbarUseCase"),e(MM,"default")}();var FM,zM=(AM=function(){function e(){this._historyService=u.U.get("historyService"),this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="redo"}return e.prototype.execute=function(){return this._historyService.redo(),this._canvasScrollingService.scrollToFocus(),!1},e}(),q()(AM.prototype,"execute",[ee.preventOnDocumentProcessing,K.d],Object.getOwnPropertyDescriptor(AM.prototype,"execute"),AM.prototype),AM),WM=zM,VM=WM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/redo-use-case.js",localName:t}})}catch(e){}}e(zM,"RedoUseCase"),e(WM,"default")}();var GM,HM,qM=(FM=function(){function e(){this._selectionService=u.U.get("selectionService"),this.actLabel="select-all"}return e.prototype.execute=function(){this._selectionService.selectAll()},e}(),q()(FM.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(FM.prototype,"execute"),FM.prototype),FM),JM=qM,KM=JM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/select-all-use-case.js",localName:t}})}catch(e){}}e(qM,"SelectAllUseCase"),e(JM,"default")}();var YM,XM=(GM=Object(ee.history)({throttle:!0}),HM=function(){function e(){this._editingService=u.U.get("editingService"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this._canvasLayoutService=u.U.get("canvasLayoutService"),this.actLabel="soft-linebreak"}return e.prototype.execute=function(){if(this._canvasLayoutService.shouldUpdateContentLength()){var e=this._selectionInfoStore.focus.compId;this._canvasLayoutService.setAvailableContentLength(e)}return this._editingService.softLineBreak(),!1},e}(),q()(HM.prototype,"execute",[GM,K.d],Object.getOwnPropertyDescriptor(HM.prototype,"execute"),HM.prototype),HM),QM=XM,ZM=QM;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/soft-line-break-use-case.js",localName:t}})}catch(e){}}e(XM,"SoftLineBreakUseCase"),e(QM,"default")}();var $M,eB=(YM=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="strike"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("strikeThrough"),!1},e}(),q()(YM.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(YM.prototype,"execute"),YM.prototype),YM),tB=eB,oB=tB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/strikethrough-use-case.js",localName:t}})}catch(e){}}e(eB,"StrikethroughUseCase"),e(tB,"default")}();var nB,rB=($M=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="underline"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("underline"),!1},e}(),q()($M.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor($M.prototype,"execute"),$M.prototype),$M),iB=rB,aB=iB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/underline-use-case.js",localName:t}})}catch(e){}}e(rB,"UnderlineUseCase"),e(iB,"default")}();var sB,cB=(nB=function(){function e(){this._historyService=u.U.get("historyService"),this._canvasScrollingService=u.U.get("canvasScrollingService"),this.actLabel="undo"}return e.prototype.execute=function(){return this._historyService.undo(),this._canvasScrollingService.scrollToFocus(),!1},e}(),q()(nB.prototype,"execute",[ee.preventOnDocumentProcessing,K.d],Object.getOwnPropertyDescriptor(nB.prototype,"execute"),nB.prototype),nB),lB=cB,uB=lB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/undo-use-case.js",localName:t}})}catch(e){}}e(cB,"UndoUseCase"),e(lB,"default")}();var pB,dB=(sB=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="superscript"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("superscript"),!1},e}(),q()(sB.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(sB.prototype,"execute"),sB.prototype),sB),hB=dB,fB=hB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/superscript-use-case.js",localName:t}})}catch(e){}}e(dB,"SuperscriptUseCase"),e(hB,"default")}();var mB=(pB=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="subscript"}return e.prototype.execute=function(){return this._propertyChangeService.toggleStyle("subscript"),!1},e}(),q()(pB.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(pB.prototype,"execute"),pB.prototype),pB),gB=mB,yB=gB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/subscript-use-case.js",localName:t}})}catch(e){}}e(mB,"SubscriptUseCase"),e(gB,"default")}();var bB,_B=(bB=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).actLabel="template",t}return h()(t,e),t.prototype.execute=function(){return this.toggle(),!1},t}(o(715).a),q()(bB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(bB.prototype,"execute"),bB.prototype),bB),vB=_B,CB=vB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/toggle-template-panel-use-case.js",localName:t}})}catch(e){}}e(_B,"ToggleTemplatePanelUseCase"),e(vB,"default")}();var SB,OB=(SB=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).actLabel="search",t}return h()(t,e),t.prototype.execute=function(){return this.toggle(),!1},t}(o(723).a),q()(SB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(SB.prototype,"execute"),SB.prototype),SB),kB=OB,IB=kB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/toggle-search-panel-use-case.js",localName:t}})}catch(e){}}e(OB,"ToggleSearchPanelUseCase"),e(kB,"default")}();var wB,PB,jB=(wB=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).actLabel="sticker",t}return h()(t,e),t.prototype.execute=function(){return this.toggle(),!1},t}(o(714).a),q()(wB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(wB.prototype,"execute"),wB.prototype),wB),TB=jB,LB=TB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/toggle-sticker-panel-use-case.js",localName:t}})}catch(e){}}e(jB,"ToggleStickerPanelUseCase"),e(TB,"default")}();var EB=(PB=function(){function e(){this._a11yhelpLayerService=u.U.get("a11yHelpLayerService"),this.actLabel="a11y-hlep-layer"}return e.prototype.execute=function(){return this._a11yhelpLayerService.toggleLayer(),!1},e}(),q()(PB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(PB.prototype,"execute"),PB.prototype),PB),NB=EB,xB=NB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/toggle-a11y-help-layer-use-case.js",localName:t}})}catch(e){}}e(EB,"ToggleA11yHelpLayerUseCase"),e(NB,"default")}();var DB,RB=(DB=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).actLabel="insert-image",t}return h()(t,e),t.prototype.execute=function(){return this.insertImage(),!1},t}(o(721).a),q()(DB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(DB.prototype,"execute"),DB.prototype),DB),AB=RB,UB=AB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/insert-image-use-case.js",localName:t}})}catch(e){}}e(RB,"InsertImageUseCase"),e(AB,"default")}();var MB,BB=(MB=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).actLabel="insert-video",t}return h()(t,e),t.prototype.execute=function(){return this.insertVideo(),!1},t}(o(774).a),q()(MB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(MB.prototype,"execute"),MB.prototype),MB),FB=BB,zB=FB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/insert-video-use-case.js",localName:t}})}catch(e){}}e(BB,"InsertVideoUseCase"),e(FB,"default")}();var WB,VB=(WB=function(e){function t(){var t;return(t=e.call(this)||this)._finderService=u.U.get("finderService"),t.actLabel="insert-quotation",t}return h()(t,e),t.prototype.execute=function(){var e=this._finderService.getSelectedComponents()[0];return"quotation"===e.ctype?e.rotationLayout():this.insertQuotation("default"),!1},t}(o(722).a),q()(WB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(WB.prototype,"execute"),WB.prototype),WB),GB=VB,HB=GB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/insert-quotation-use-case.js",localName:t}})}catch(e){}}e(VB,"InsertQuotationUseCase"),e(GB,"default")}();var qB,JB,KB=(qB=function(e){function t(){var t;return(t=e.call(this)||this)._finderService=u.U.get("finderService"),t.actLabel="insert-horizontal-line",t}return h()(t,e),t.prototype.execute=function(){var e=this._finderService.getSelectedComponents()[0];return"horizontalLine"===e.ctype?e.rotationLayout():this.insertHorizontalLine("default"),!1},t}(o(719).a),q()(qB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(qB.prototype,"execute"),qB.prototype),qB),YB=KB,XB=YB;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/insert-horizontal-line-use-case.js",localName:t}})}catch(e){}}e(KB,"InsertHorizontalLineUseCase"),e(YB,"default")}();var QB,ZB=(JB=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="pageup"}return e.prototype.execute=function(){return this._virtualEditable.pageUp(),!1},e}(),q()(JB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(JB.prototype,"execute"),JB.prototype),JB),$B=ZB,eF=$B;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/page-up-use-case.js",localName:t}})}catch(e){}}e(ZB,"PageUpUseCase"),e($B,"default")}();var tF,oF=(QB=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="pagedown"}return e.prototype.execute=function(){return this._virtualEditable.pageDown(),!1},e}(),q()(QB.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(QB.prototype,"execute"),QB.prototype),QB),nF=oF,rF=nF;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/page-down-use-case.js",localName:t}})}catch(e){}}e(oF,"PageDownUseCase"),e(nF,"default")}();var iF,aF=(tF=function(){function e(){this._eventDispatcherService=u.U.get("eventDispatcherService"),this.actLabel="temporary-save"}return e.prototype.execute=function(){return this._eventDispatcherService.emit("temporarySaveTriggered"),!1},e}(),q()(tF.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(tF.prototype,"execute"),tF.prototype),tF),sF=aF,cF=sF;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/temporary-save-use-case.js",localName:t}})}catch(e){}}e(aF,"TemporarySaveUseCase"),e(sF,"default")}();var lF,uF=(iF=function(){function e(){this._a11yService=u.U.get("a11yService"),this.actLabel="close-layer"}return e.prototype.execute=function(){return u.U.filterWithName(function(e){return e.endsWith("LayerService")}).forEach(function(e){e.enableEscapeKey&&e.enableEscapeKey()&&e.close()}),u.U.filterWithName(function(e){return e.endsWith("ToolbarLayoutService")}).forEach(function(e){e.hideAllLayers()}),this._a11yService&&this._a11yService.focusToEditable(),!1},e}(),q()(iF.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(iF.prototype,"execute"),iF.prototype),iF),pF=uF,dF=pF;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/close-layer-use-case.js",localName:t}})}catch(e){}}e(uF,"CloseLayerUseCase"),e(pF,"default")}();var hF,fF=(lF=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="align-left"}return e.prototype.execute=function(){return this._propertyChangeService.updateStyle({name:"align",value:"left"}),!1},e}(),q()(lF.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(lF.prototype,"execute"),lF.prototype),lF),mF=fF,gF=mF;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/align-by-left-use-case.js",localName:t}})}catch(e){}}e(fF,"AlignByLeftUseCase"),e(mF,"default")}();var yF,bF=(hF=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="align-center"}return e.prototype.execute=function(){return this._propertyChangeService.updateStyle({name:"align",value:"center"}),!1},e}(),q()(hF.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(hF.prototype,"execute"),hF.prototype),hF),_F=bF,vF=_F;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/align-by-center-use-case.js",localName:t}})}catch(e){}}e(bF,"AlignByCenterUseCase"),e(_F,"default")}();var CF,SF=(yF=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this.actLabel="align-right"}return e.prototype.execute=function(){return this._propertyChangeService.updateStyle({name:"align",value:"right"}),!1},e}(),q()(yF.prototype,"execute",[ee.history,K.d],Object.getOwnPropertyDescriptor(yF.prototype,"execute"),yF.prototype),yF),OF=SF,kF=OF;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/align-by-right-use-case.js",localName:t}})}catch(e){}}e(SF,"AlignByRightUseCase"),e(OF,"default")}();var IF,wF=(CF=function(){function e(){this._virtualEditable=u.U.get("virtualEditable"),this.actLabel="arive-live"}return e.prototype.execute=function(){this._virtualEditable.toggleAriaLive()},e}(),q()(CF.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(CF.prototype,"execute"),CF.prototype),CF),PF=wF,jF=PF;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/toggle-aria-live-use-case.js",localName:t}})}catch(e){}}e(wF,"ToggleAriaLiveUseCase"),e(PF,"default")}();var TF=(IF=function(){function e(){this._propertyChangeService=u.U.get("propertyChangeService"),this._configAgent=u.U.get("configAgent"),this._editingService=u.U.get("editingService"),this._selectionInfoStore=u.U.get("selectionInfoStore"),this.actLable="space"}var t=e.prototype;return t.execute=function(e){if(!(!1===this._configAgent.get("productConfig.textFormat.list"))&&this._propertyChangeService.canBeListBySpace()){var t=this._convertToList();return zt.a.log(e,"hotk."+(t===u.E.BULLET?"listbullet":"listdecimal")),!1}return!0},t._convertToList=function(){var e=this._propertyChangeService.convertToList();return this._removePrefix(),e},t._removePrefix=function(){var e=this._selectionInfoStore.toValidJSON();e.start.offset=0,this._selectionInfoStore.setRange({start:e.start,end:e.end}),this._editingService.erase(this._selectionInfoStore.toValidJSON())},e}(),q()(IF.prototype,"execute",[K.d],Object.getOwnPropertyDescriptor(IF.prototype,"execute"),IF.prototype),q()(IF.prototype,"_convertToList",[ee.history],Object.getOwnPropertyDescriptor(IF.prototype,"_convertToList"),IF.prototype),IF),LF=TF,EF=LF;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/hotkey/space-use-case.js",localName:t}})}catch(e){}}e(TF,"SpaceUseCase"),e(LF,"default")}();var NF=[{keySet:["mod+b"],useCase:VA,nClickCode:"hotk.bold"},{keySet:["mod+i"],useCase:UU,nClickCode:"hotk.italic"},{keySet:["mod+u"],useCase:aB,nClickCode:"hotk.underline"},{keySet:["command+option+s"],useCase:oB,targetOs:"Mac OS X",nClickCode:"hotk.strike"},{keySet:["ctrl+shift+s"],useCase:oB,targetOs:"!Mac OS X",nClickCode:"hotk.strike"},{keySet:["mod+a"],useCase:KM,nClickCode:"hotk.selectall"},{keySet:["mod+z"],useCase:uB,nClickCode:"hotk.undo"},{keySet:["command+shift+z"],useCase:VM,targetOs:"Mac OS X",nClickCode:"hotk.redo"},{keySet:["ctrl+y"],useCase:VM,targetOs:"!Mac OS X",nClickCode:"hotk.redo"},{keySet:["del"],useCase:$A,scopes:["canvas"]},{keySet:["backspace"],useCase:KA,scopes:["canvas"]},{keySet:["shift+enter"],useCase:ZM},{keySet:["enter"],useCase:zU,scopes:["canvas"]},{keySet:["space"],useCase:EF},{keySet:["shift+tab"],useCase:YU,scopes:["canvas"],nClickCode:"hotk.outdent"},{keySet:["tab"],useCase:HU,scopes:["canvas"],nClickCode:"hotk.indent"},{keySet:["left"],useCase:nM,scopes:["canvas"]},{keySet:["right"],useCase:sM,scopes:["canvas"]},{keySet:["up"],useCase:pM,scopes:["canvas"]},{keySet:["down"],useCase:$U,scopes:["canvas"]},{keySet:["shift+left"],useCase:vU,scopes:["canvas"]},{keySet:["shift+right"],useCase:kU,scopes:["canvas"]},{keySet:["shift+up"],useCase:NU,scopes:["canvas"]},{keySet:["shift+down"],useCase:dU,scopes:["canvas"]},{keySet:["home","meta+left"],useCase:PM,scopes:["canvas"]},{keySet:["end","meta+right"],useCase:mM,scopes:["canvas"]},{keySet:["shift+home","shift+meta+left"],useCase:jU,scopes:["canvas"]},{keySet:["shift+end","shift+meta+right"],useCase:gU,scopes:["canvas"]},{keySet:["option+backspace"],useCase:rU,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["option+del"],useCase:cU,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["option+left"],useCase:_M,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["option+right"],useCase:OM,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["shift+option+left"],useCase:DA,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["shift+option+right"],useCase:MA,targetOs:"Mac OS X",scopes:["canvas"]},{keySet:["ctrl+left"],useCase:_M,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["ctrl+right"],useCase:OM,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["ctrl+backspace"],useCase:rU,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["ctrl+del"],useCase:cU,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["shift+ctrl+left"],useCase:DA,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["shift+ctrl+right"],useCase:MA,targetOs:"!Mac OS X",scopes:["canvas"]},{keySet:["mod+shift+u"],useCase:fB,nClickCode:"hotk.supsct"},{keySet:["mod+shift+y"],useCase:yB,nClickCode:"hotk.subct"},{keySet:["pageup"],useCase:eF},{keySet:["pagedown"],useCase:rF},{keySet:["ctrl+alt+i"],useCase:UB,nClickCode:"hotk.img"},{keySet:["ctrl+alt+k"],useCase:LB,nClickCode:"hotk.sticker"},{keySet:["ctrl+alt+h"],useCase:XB,nClickCode:"hotk.horizt"},{keySet:["ctrl+alt+q"],useCase:HB,nClickCode:"hotk.quota"},{keySet:["ctrl+alt+m"],useCase:zB,nClickCode:"hotk.video"},{keySet:["ctrl+alt+s"],useCase:IB,nClickCode:"hotk.search"},{keySet:["ctrl+alt+t"],useCase:CB,nClickCode:"hotk.template"},{keySet:["mod+shift+s"],useCase:cF,nClickCode:"hotk.save"},{keySet:["escape"],useCase:dF},{keySet:["ctrl+alt+l"],useCase:gF,nClickCode:"hotk.left"},{keySet:["ctrl+alt+c"],useCase:vF,nClickCode:"hotk.center"},{keySet:["ctrl+alt+r"],useCase:kF,nClickCode:"hotk.right"},{keySet:["mod+alt+z"],useCase:jF,nClickCode:"hotk.toggleAriaLive"},{keySet:["alt+."],useCase:EM,nClickCode:"hotk.moveForwardService"},{keySet:["alt+,"],useCase:RM,nClickCode:"hotk.moveReverseService"},{keySet:["alt+f10"],useCase:BM,nClickCode:"hotk.focusToolbar"},{keySet:["alt+0"],useCase:xB,nClickCode:"hotk.toggleA11yHelpLayer"}],xF=NF;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/hotkey-definition.js",localName:t}})}catch(e){}}(NF,"default")}();var DF={plugins:OT,moduleSpecs:kA,themesDefinition:lA,pasteDefinition:LA,hotkey:xF};t.default=DF;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/editor-type/basic-desktop/src/application-context/index.js",localName:t}})}catch(e){}}(DF,"default")}()},1284:function(e,t,o){"use strict";var n,r,i=o(17),a=o.n(i),s=o(59),c=o.n(s),l=o(61),u=o.n(l),p=o(1),d=o.n(p),h=o(57),f=o.n(h),m=o(0),g=o.n(m),y=o(50),b=o.n(y),_=(o(62),o(105)),v=o(16),C=o(4),S=o(70),O=o(66),k=o(107),I=o(157),w=o(67),P=o(121),j=o(74),T=o(171),L=o(1214),E=o(731),N=o(95),x=o(134),D=o(129),R=o(177),A=o(49),U=o(51),M=o(658),B=o(659),F=o(531),z=o(524),W=o(295),V=o(776),G=o(120),H={BOTH:Symbol("both"),TOP:Symbol("top"),BOTTOM:Symbol("bottom"),NONE:Symbol("none")},q=function(e){var t=[],o=[];if(e.forEach(function(e){if(e.isListParagraph())o.push(e);else{if(o.length){var n=new V.a({paragraphs:o});t.push(n),o=[]}t.push(e)}}),o.length){var n=new V.a({paragraphs:o});t.push(n)}return t},J=(n=function(e){function t(t){var o;return o=e.call(this)||this,u()(o,"paragraphs",r,f()(o)),o.paragraphs=q(t),o}g()(t,e);var o=t.prototype;return o.changeTreeToNormal=function(e){var t=this._trimParagraphs(e);if(t.length){var o=this._indexOf(t[0]),n=o[0],r=o[1],i=this._indexOf(t[t.length-1]),a=i[0],s=i[1];if(n===a){var c,l=this._getParaAt(n).split(s+1),u=l[0],p=l[1],d=[u.split(r)[0]].concat(t,[p]).filter(G.a);(c=this.paragraphs).splice.apply(c,[n,1].concat(d))}else{var h,f=this._getParaAt(n),m=this._getParaAt(a),g=f.split(r)[0],y=m.split(s+1)[1],b=[g].concat(t,[y]).filter(G.a);(h=this.paragraphs).splice.apply(h,[n,a-n+1].concat(b))}}},o._indexOf=function(e){if(!e)return[-1];var t=this.paragraphs.findIndex(function(t){return t.id===e.id});if(t>-1)return[t];var o=this._findTreeOf(e);return o?[this.paragraphs.indexOf(o),o.indexOf(e)]:[-1]},o._trimParagraphs=function(e){var t,o=e.length,n=1/0,r=1/0;for(t=0;t<o;t++)if(this._isInTree(e[t])){n=t;break}for(var i=o-1;i>=t;i--)if(this._isInTree(e[i])){r=i;break}return e.slice(n,r+1)},o._isInTree=function(e){return this._indexOf(e).length>1},o._findTreeOf=function(e){return this.paragraphs.find(function(t){return t instanceof V.a&&t.hasParagraph(e)})},o.indexOfParaInItsListItem=function(e){return e.isListParagraph()?this.getParagraphsInSameListItem(e).indexOf(e):-1},o.getParagraphsWithSiblings=function(e){var t=this;return e.reduce(function(e,o){if(e.some(function(e){return e.id===o.id}))return e;if(t.paragraphs.some(function(e){return e.id===o.id}))return e.push(o),e;var n=t._findTreeOf(o);return e.push.apply(e,n.getSiblings(o)),e},[])},o.getTreeNodesInSameListItem=function(e){var t=this._findTreeOf(e);return t?t.getNodesInSameListItem(e):[]},o.getParagraphsInSameListItem=function(e){return this.getTreeNodesInSameListItem(e).map(function(e){return e.paragraph})},o.getListTypeOfParagraph=function(e){return this._findTreeOf(e).getSiblingType(e)},o.updateListType=function(e){var t=this._findTreeOf(e);if(t)t.updateListType(e);else{var o=this.paragraphs.findIndex(function(t){return t.id===e.id}),n=new V.a({paragraphs:[e]});this.paragraphs.splice(o,1,n),this._mergeWithAdjacentTree(o)}},o.updateIndent=function(e){var t=this._findTreeOf(e);t&&t.updateListLevel(e)},o._getAdjacentSideToTree=function(e){var t=this._getParaAt(e),o=this._getParaAt(e-1),n=this._getParaAt(e+1);return t instanceof V.a?o instanceof V.a&&n instanceof V.a?H.BOTH:o instanceof V.a?H.TOP:n instanceof V.a?H.BOTTOM:H.NONE:H.NONE},o._getParaAt=function(e){return 0<=e&&e<this.paragraphs.length?this.paragraphs[e]:null},o._mergeWithAdjacentTree=function(e){var t=this._getAdjacentSideToTree(e),o=this._getParaAt(e),n=this._getParaAt(e-1),r=this._getParaAt(e+1);if(t===H.BOTH){var i=n.mergeWith(o);i=i.mergeWith(r),this.paragraphs.splice(e-1,3,i)}else if(t===H.TOP){var a=n.mergeWith(o);this.paragraphs.splice(e-1,2,a)}else if(t===H.BOTTOM){var s=o.mergeWith(r);this.paragraphs.splice(e,2,s)}},o.addParagraph=function(e,t){var o;void 0===t&&(t=Object(j.a)(this.paragraphs));var n=this._indexOf(t),r=n[0],i=n[1];if(i>=0){var a=this._getParaAt(r).split(i+1)[1];a&&this.paragraphs.splice(r+1,0,a)}var s=q(e);(o=this.paragraphs).splice.apply(o,[r+1,0].concat(s)),this._mergeWithAdjacentTree(r+1),this._mergeWithAdjacentTree(r+s.length)},o.removeParagraph=function(e){if(e.isListParagraph()){var t=this._findTreeOf(e),o=this._indexOf(e)[0];t.removeParagraph(e),0===t.root.size&&this._removeParagraphList(o)}else{var n=this.paragraphs.findIndex(function(t){return t.id===e.id});this._removeParagraphList(n)}},o._removeParagraphList=function(e){e>=0&&(this.paragraphs.splice(e,1),this._mergeWithAdjacentTree(e-1))},o.removeParagraphBetween=function(e,t){var o=this._indexOf(e),n=o[0],r=o[1],i=n;if(r>-1){var a=this._getParaAt(n),s=r>0&&r<a.paragraphs.length;a.split(r),s&&i++}var c=this._indexOf(t),l=c[0],u=c[1],p=l;if(u>-1){var d=this._getParaAt(l).split(u+1)[1];d&&this.paragraphs.splice(l+1,0,d)}this.paragraphs.splice(i,p+1-i),this._mergeWithAdjacentTree(n)},o.moveParagraphsAfter=function(e,t){this._findTreeOf(e).moveParagraphsAfter(e,t)},o.clear=function(){this.paragraphs=[]},t}(U.w),r=b()(n.prototype,"paragraphs",[A.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),n),K=J,Y=K;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/structured-paragraph-store.js",localName:t}})}catch(e){}}e(H,"ADJACENT_SIDE"),e(q,"structureParagraphs"),e(J,"StructuredParagraphStore"),e(K,"default")}();var X,Q,Z,$,ee=o(196);o.d(t,"a",function(){return re});var te=U.E.NONE,oe=9,ne=Math.max.apply(null,Object(I.a)(U.P).map(function(e){return e.length})),re=(X=Object(A.e)({keepAlive:!0}),Q=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="textUnit",o.maxLength=null,o.minLevel=0,o.maxLevel=oe,o.disable=!1,o.attributes={cursor:null,selection:"text",lineBreak:{enter:"line-break-in-paragraph",shiftEnter:"line-break-in-paragraph"},insertion:"text",paste:"text",drop:"text",erasure:"text"},o._styleFilter={},o._inputFilter=null,u()(o,"isOverTextLimit",Z,f()(o)),u()(o,"paragraphs",$,f()(o));var n=t,r=n.state,i=void 0===r?[]:r,a=n.config,s=void 0===a?{}:a;o.attributes=Object(_.a)(o.attributes,s.attributes),o.maxLength=Object(v.a)(s,"maxLength",o.maxLength),o.maxLevel=Object(v.a)(s,"indent.maxLevel",o.maxLevel),o.minLevel=Object(v.a)(s,"indent.minLevel",o.minLevel),o.insertion=Object(v.a)(s,"insertion",o.insertion),o.erasure=Object(v.a)(s,"erasure",o.erasure),o.disable=Object(v.a)(s,"disable",o.disable);var c=o._extractParagraphs(i),l=o._refineOriginalParaByMaxLength(c);return o.paragraphs=o._createParagraphStores(l),o._inputFilter=Object(v.a)(s,"inputFilter",o._inputFilter),o._hashArray=new M.a(o.paragraphs),o._styleFilter=o._applyFilterByConfig(s.filterTextStyle),o._styleFilterPayload=Object(v.a)(s,"styleFilterPayload"),o._filterTextStyle(o.paragraphs),o.structuredParagraphStore=new Y(o.paragraphs),!1===o.isLineBreakable()&&o._filterLineBreak(),o}g()(t,e);var o=t.prototype;return o._applyFilterByConfig=function(e){var t=U.U.get("configAgent"),o=Object(_.a)(this._styleFilter,e);return!1===t.get("productConfig.textFormat.list")&&(o.list=ee.b.NOT_ALLOWED),o},o._extractParagraphs=function(e){return e&&e.length?e:e instanceof Array==!1&&e&&e.paragraphs?e.paragraphs:[new W.a]},o.isLineBreakable=function(){var e=["line-break-in-paragraph","soft-and-move-to-next-text-at-end","hard-and-insert-empty-line-at-end"],t=e.includes(this.attributes.lineBreak.enter),o=e.includes(this.attributes.lineBreak.shiftEnter);return t||o},o._filterLineBreak=function(){var e=this.paragraphs;if(!(e.length<=1))for(var t=this.getFirstParagraph(),o=e.length,n=1;n<o;n++)t.mergeWithSpace(e[1]),this.removeParagraph(e[1].id)},o._filterTextStyle=function(e){var t=this;Object(S.a)(e,function(e){Object(O.a)(t._styleFilter)||e.filterTextStyle(t._styleFilter,t._styleFilterPayload),t.themeStyle&&e.updateTheme(t.themeStyle)})},o.addParagraph=function(e,t){var o=Object(C.a)(e)||A.f.isObservableArray(e)?e:[e];this._filterTextStyle(o),this._hashArray.add(o,t);var n=this.getParagraphByIndex(t-1);this.structuredParagraphStore.addParagraph(o,n)},o.addParagraphAfter=function(e,t){var o=this.getParagraphIndex(e.id)+1;this.addParagraph(t,o)},o.removeParagraph=function(e){var t=this.getParagraphById(e),o=this.getPrevParagraph(e),n=this.structuredParagraphStore.getParagraphsInSameListItem(t);this._hashArray.remove(e),this.structuredParagraphStore.removeParagraph(t),n.shift(),t.isListParagraph()&&t.listType!==te&&n.length&&(o&&o.isListParagraph()?(this._updateListLevel(n,o.listLevel),this.structuredParagraphStore.moveParagraphsAfter(o,n)):this._updateListType(n,"reset"))},o.removeParagraphsBetween=function(e,t){var o=this.getParagraphById(e)||this.getFirstParagraph(),n=this.getParagraphById(t)||this.getLastParagraph();this._hashArray.removeBetween(e,t),this.structuredParagraphStore.removeParagraphBetween(o,n)},o.shouldAdjustWritePoint=function(e){var t=this.getNodeByPoint(e);return this.isLinkNodeEdge(e)||!t.isTextNode()},o.adjustWritePointOnEdge=function(e){var t=this.getParagraphById(e.paraId).adjustWritePointOnEdge(e);return c()({},e,t)},o.write=function(e,t,o){var n=this._writeText(e,t,o),r=this.maxLength;if(null!==r&&this.textLength>r){this.turnOnOverTextLimit();var i=this.textLength-this.maxLength,a=e.substr(0,e.length-i);return t.offset=o+e.length,this._writeText(a,t,o)}return n},o.breakLine=function(e,t){var o=void 0===t?{}:t,n=o.shiftEnter,r=o.blockModeBefore;if(this.isFullText)return this.turnOnOverTextLimit(),e;if(!r&&!n){var i=this.getParagraphById(e.paraId);if(i.isListParagraph()&&i.isEmpty()&&1===this.structuredParagraphStore.getTreeNodesInSameListItem(i).length)return 0===i.listLevel?this._changeTreeToNormal([i]):this._updateListLevelByDiff([i],-1),e}return this.splitParagraph(e,n).back.getStartPoint()},o.turnOnOverTextLimit=function(){this.isOverTextLimit=!0},o.turnOffOverTextLimit=function(){this.isOverTextLimit=!1},o.setAvailableContentLength=function(e){this.maxLength=e},o.resetAvailableContentLength=function(){this.maxLength=null},o.split=function(e){var o=new t({config:{disable:this.disable,filterTextStyle:this._styleFilter,styleFilterPayload:this._styleFilterPayload,maxLength:this.maxLength,attributes:this.attributes,themeStyle:this.themeStyle}});o.clear();var n=this.splitParagraph(e).back,r=this.getLastParagraph(),i=this.detachParagraphs(n.id,r.id),a=o.getParagraphsLength();return o.addParagraph(i,a),{front:this,back:o}},o.splitParagraph=function(e,t){var o=this.getParagraphById(e.paraId),n=o.split(e),r=n.front,i=n.back;if(o.isListParagraph()&&i.listType===te&&!t){var a=this.structuredParagraphStore.getListTypeOfParagraph(o);i.updateParagraphStyle({listType:a})}else o.isListParagraph()&&t&&i.updateParagraphStyle({listType:te});var s=this.getParagraphIndex(r.id)+1;return this.addParagraph(i,s),{front:r,back:i}},o.slice=function(e,t){var o=this._getPointByOffset(e,t);o&&this.split(o)},o.detachParagraphs=function(e,t){var o=this.getParagraphById(e)||this.getFirstParagraph(),n=this.getParagraphById(t)||this.getLastParagraph();return this.structuredParagraphStore.removeParagraphBetween(o,n),this._hashArray.detachData(e,t)},o.isEmptyTextNode=function(e){var t=this.getTextNodeByPoint(e);return t&&t.isEmpty()},o.refineParagraphWithPoint=function(e){var t=e.paraId,o=this.getParagraphById(t),n=this.getOffsetInParagraph(e);o.refine();var r=o.getNodeInfoAfterOffset(n);return Object.assign(e,{nodeId:r.node.id,offset:r.offset})},o.refineParagraphs=function(){this.paragraphs.forEach(function(e){e.refine()})},o.collectStyle=function(e){var t=this,o=e.start,n=e.end,r=this.getParagraphsBetween(o.paraId,n.paraId),i=Object(k.a)(r);if(0===i.length)return{};var a=i.map(function(o){var n=o.collectStyle(e);return o.listType===te&&(n.list=t.structuredParagraphStore.getListTypeOfParagraph(o)),n});return B.a.mergeStyles(a)},o.getTextStyle=function(e){var t=this.getParagraphById(e.paraId);return t&&t.getTextStyle(e)},o.getSelectedAlign=function(e){var t=e.start,o=e.end,n=this.getParagraphsBetween(t.paraId,o.paraId),r=Object(k.a)(n);if(0===r.length)return{};var i=r.map(function(e){return e.getSelectedAlign()});return B.a.mergeStyles(i)},o.updateStyleFilterPayload=function(e){this._styleFilterPayload=e,this._filterTextStyle(this.paragraphs)},o.updateStyleFilter=function(e){this._styleFilter=e},o.updateTheme=function(e){e&&(this.themeStyle=e),this.paragraphs.forEach(function(t){t.updateTheme(e)})},o.updateStyle=function(e,t){var o=Object.keys(e)[0];return U.J.includes(o)?this.updateParagraphStyle(e,t):this.updateCharacterStyle(e,t)},o.updateParagraphStyle=function(e,t){void 0===t&&(t={});var o=Object.keys(e)[0],n=this._styleFilter[o];if(this._notAllowedStyle(n,e[o]))return t;var r=t,i=r.start,a=void 0===i?{}:i,s=r.end,c=void 0===s?{}:s,l=this.getParagraphsBetween(a.paraId,c.paraId),u=e[o];if("list"===o){var p=null===u?"reset":u;this._updateListType(l,p)}else if("dropCap"===o)this._updateDropCap(l,u);else if("indent"===o){var d=this._getAdjacentParas(l);this._updateListLevelByDiff(d,u===U.B.INCREASE?1:-1)}else l.forEach(function(t){t.updateParagraphStyle(e)});return t},o._updateListType=function(e,t){var o=this;"reset"===t?this._changeTreeToNormal(e):(e=this.structuredParagraphStore.getParagraphsWithSiblings(e)).forEach(function(e){e.listType!==U.E.NONE&&(e.updateParagraphStyle({listType:t,dropCap:!1}),o.structuredParagraphStore.updateListType(e))})},o._changeTreeToNormal=function(e){(e=this._getAdjacentParas(e)).forEach(function(e){e.updateParagraphStyle({listType:"reset"})}),this.structuredParagraphStore.changeTreeToNormal(e)},o.changeAllTreeToNormal=function(){this._changeTreeToNormal(this.paragraphs)},o._updateDropCap=function(e,t){e.forEach(function(e){e.updateParagraphStyle({dropCap:t,listType:"reset"})}),this.structuredParagraphStore.changeTreeToNormal(e)},o._updateListLevel=function(e,t){var o=this;t=this._clampLevel(t),e.forEach(function(e){e.updateParagraphStyle({listLevel:t}),o.structuredParagraphStore.updateIndent(e)})},o._updateListLevelByDiff=function(e,t){var o=this;e.forEach(function(e){var n;n=e.isListParagraph()?e.listLevel:0;var r=o._clampLevel(n+t);e.updateParagraphStyle({listLevel:r}),o.structuredParagraphStore.updateIndent(e)})},o._getAdjacentParas=function(e){var t=this;return Array.from(new Set(e.reduce(function(e,o){return o.isListParagraph()?e.push.apply(e,t.structuredParagraphStore.getParagraphsInSameListItem(o)):e.push(o),e},[])))},o._clampLevel=function(e){return Math.min(Math.max(e,this.minLevel),this.maxLevel)},o._notAllowedStyle=function(e,t){if(null===t)return!1;switch(typeof e){case"boolean":return!e;case"function":return!1===e(t,this._styleFilterPayload);default:return e===ee.b.NOT_ALLOWED}},o.updateCharacterStyle=function(e,t){var o=Object.keys(e)[0],n=this._styleFilter[o];if(this._notAllowedStyle(n,e[o]))return t;var r=t.start,i=t.end,a=t.collapsed,s=this.getParagraphsBetween(r.paraId,i.paraId),c=this.getOffsetInParagraph(r),l=this.getOffsetInParagraph(i),u={},p=this._getHeadTailNodesByPoint(r,i),d=p.headNode,h=p.tailNode;s.forEach(function(t){t.updateCharacterStyle(e,{startNode:d,endNode:h}),t.refine([d.id,h.id])});var f=this.getNodeInfoAfterOffset(r,c),m=Object(w.a)({nodeId:f.node.id,offset:f.offset},r);if(u.start=m,a)u.end=m;else if(!a){var g=this.getNodeInfoBeforeOffset(i,l),y=Object(w.a)({nodeId:g.node.id,offset:g.offset},i);u.end=y}return u},o.updateWholeParagraphStyle=function(e){var t=this;Object.keys(e).forEach(function(o){if(U.J.includes(o)){var n,r=e[o];t.updateParagraphStyle(((n={})[o]=r,n))}})},o.updateWholeCharacterStyle=function(e){(e=this._filterStyleTypes(e))&&this.paragraphs.forEach(function(t){t.updateWholeCharacterStyle(e)})},o.resetStyle=function(){this.paragraphs.forEach(function(e){return e.resetStyle()}),this.structuredParagraphStore.changeTreeToNormal(this.paragraphs)},o.applyDerivedStyles=function(e){var t=Object(D.a)(e,["dropCap","align","subscript","superscript","list","indent"]),o=Object(R.a)(t,function(e){return null===e}),n=this._filterStyleTypes(o),r=Object(x.a)(n,U.J),i=Object(D.a)(n,U.J);this.paragraphs.forEach(function(e){e.applyDerivedParagraphStyle(r),e.applyDerivedStylesToWholeCharacter(i)})},o._writeAndLink=function(e,t){var o=this.getParagraphById(t.paraId).writeAndLink(e,t);return[Object.assign(o,{unitId:this.id})]},o._justLink=function(e,t){var o=t.start,n=t.end,r=this._getNodesToApplyLinkChange(e,o,n),i=r.startNode,a=r.endNode,s=this.getOffsetInParagraph(o),c=this.getOffsetInParagraph(n);return this.getParagraphsBetween(o.paraId,n.paraId).forEach(function(t){t.changeLink(e,{startNode:i,endNode:a}),t.refine([i.id,a.id])}),this._resolveRangeByOffset({startParaOffset:s,endParaOffset:c,selectionInfoStore:t})},o._getNodesToApplyLinkChange=function(e,t,o){if(e.value){var n=this._getHeadTailNodesByPoint(t,o);return{startNode:n.headNode,endNode:n.tailNode}}return{startNode:this.getTextNodeByPoint(t),endNode:this.getTextNodeByPoint(o)}},o.getTextNodeByPoint=function(e){return this.getParagraphById(e.paraId).getNodeById(e.nodeId)},o.changeLink=function(e,t){var o=t.start;if(t.collapsed){var n=t.start,r=this.getNodeByPoint(n);if(r.hasUrlLink()&&r.getUrlValue().length>0){var i=this.getEdgePointsOnLinkByPoint(n),a=i.start,s=i.end;return this._justLink(e,{start:a,end:s})}return this._writeAndLink(e,o)}return this._justLink(e,t)},o.attachParagraphAtEnd=function(e){var t=this.getLastParagraph(),o=this._convertParagraphStyle(t);!1===t.isListParagraph()&&(o.list=null),e.updateParagraphStyle(o),this.addParagraphAfter(t,e);var n=t.merge(e);return this.removeParagraph(e.id),this._filterTextStyle(this.paragraphs),n},o.attachParagraphAtStart=function(e){var t=this.detachFirstParagraph(),o=this._convertParagraphStyle(t);!1===t.isListParagraph()&&(o.list=null),e.updateParagraphStyle(o),e.merge(t),this.addParagraph(e,0)},o.detachFirstParagraph=function(){var e=this.getFirstParagraph().id;return this.detachParagraphs(e,e)[0]},o.detachLastParagraph=function(){var e=this.getLastParagraph().id;return this.detachParagraphs(e,e)[0]},o.detachAllParagraphs=function(){var e=this.getFirstParagraph().id,t=this.getLastParagraph().id;return this.detachParagraphs(e,t)},o.removeFirstParagraph=function(){var e=this.getFirstParagraph(),t=this.getNextParagraph(e.id),o=e.isEmpty()&&e.isListParagraph(),n=t&&t.listType===U.E.NONE;o&&n&&(t.updateParagraphStyle({listType:e.listType}),this.structuredParagraphStore.updateListType(t)),this.removeParagraph(e.id)},o.removeLastParagraph=function(){var e=this.getLastParagraph();this.removeParagraph(e.id)},o.erase=function(e,t){this.turnOffOverTextLimit();var o=this.refineSelection(e);return this._eraseText(o,t)},o.append=function(e,t){void 0===t&&(t=!1),!1===this.isLineBreakable()&&e._filterLineBreak(),this._sliceSourceText(e),this._filterSourceText(e,this.getStartPoint());var o=this.getEndPoint(),n=e.detachParagraphs(),r=this.getParagraphsLength(),i={};if(!t&&!n[0].isListParagraph()){var a=this.getLastParagraph(),s=n.shift();i=a.merge(s)}return this.addParagraph(n,r),Object.assign(o,i)},o.prepend=function(e){!1===this.isLineBreakable()&&e._filterLineBreak(),this._sliceSourceText(e),this._filterSourceText(e,this.getEndPoint());var t=e.getEndPoint(),o=e.detachParagraphs(),n=Object(j.a)(o),r={};if(!n.isListParagraph()){var i=this.detachFirstParagraph();r=n.merge(i)}return this.addParagraph(o,0),Object.assign(t,r,{unitId:this.id})},o.mergeWith=function(e,t){void 0===t&&(t={});var o=t.isAttach,n=t.mergePoint;!1===this.isLineBreakable()&&e._filterLineBreak(),this._sliceSourceText(e),this._filterSourceText(e,n);var r=e.getFirstParagraph(),i=e.getLastParagraph(),a=null,s=null;if(n){var l=this.splitParagraph(n);a=l.front,s=l.back}else a=this.getLastParagraph();o&&this._updateParagraphListStyle(a,r);var u=e.detachParagraphs();if(this.addParagraphAfter(a,u),o){var p=r===i?a:i,d=!1===r.isListParagraph(),h=s&&!1===p.isListParagraph(),f=d?this.mergeParagraph(a,r):0,m=null;if(h){var g=this._convertParagraphStyle(s);p.updateParagraphStyle(g),m=this.mergeParagraph(p,s)}else{var y=p.getEndPoint();m=p.getOffsetInParagraph(y),s&&s.isEmpty()&&this.removeParagraph(s.id)}var b=a.getNodeInfoAfterOffset(f),_=p.getNodeInfoBeforeOffset(m);return{start:{unitId:this.id,paraId:a.id,nodeId:b.node.id,offset:b.offset},end:{unitId:this.id,paraId:p.id,nodeId:_.node.id,offset:_.offset}}}return{start:c()({unitId:this.id},r.getStartPoint()),end:c()({unitId:this.id},i.getEndPoint())}},o._updateParagraphListStyle=function(e,t){if(e&&!this._notAllowedStyle(this._styleFilter.list)&&!1===e.isListParagraph()&&!0===e.isEmpty()&&!0===t.isListParagraph()){var o=this._convertParagraphStyle(t),n=o.listType,r=o.listLevel;e.updateParagraphStyle({listType:n,listLevel:r,dropCap:!1}),this.structuredParagraphStore.updateListType(e)}},o._convertParagraphStyle=function(e){var t=Object(T.a)(e.style);return t.list&&(t.listType=t.list.type,t.listLevel=t.list.level),delete t.list,t},o.mergeParagraph=function(e,t){var o=e.getEndPoint(),n=e.getOffsetInParagraph(o);return e.merge(t),this.removeParagraph(t.id),n},o.clone=function(e){void 0===e&&(e={});var o=e,n=o.start,r=void 0===n?this.getStartPoint():n,i=o.end,a=void 0===i?this.getEndPoint():i;a.paraId||(a=this.getStartPoint());var s=new t({state:this.toValidJSON()});s.removeListStyle({start:r,end:a});var c=s.splitParagraph(a).back,l=s.getLastParagraph();s.removeParagraphsBetween(c.id,l.id);var u=s.getFirstParagraph(),p=s.splitParagraph(r).front;s.removeParagraphsBetween(u.id,p.id);var d=new t({state:F.a.dropProperty(s.toValidJSON(),"id")});return d.updateTheme(this.themeStyle),d},o.removeListStyle=function(e){var t=e.start,o=e.end,n=this.getParagraphsBetween(t.paraId,o.paraId);this._isPartOfSingleList(n,e)&&this.updateParagraphStyle({list:"reset"},e)},o._isPartOfSingleList=function(e,t){var o=Object(P.a)(e),n=Object(j.a)(e);if(!e.every(function(e,t){return 0===t?e.isListParagraph():e.listType===U.E.NONE}))return!1;var r=this.structuredParagraphStore.getTreeNodesInSameListItem(o).length;return e.length!==r||!(o.isWholeParagraph(t)&&n.isWholeParagraph(t))},o._sliceSourceText=function(e){var t=this.maxLength;if(t){var o=t-this.textLength;o<e.textLength&&(e.slice(o,{plainTextMode:!0}),this.turnOnOverTextLimit())}},o._filterSourceText=function(e,t){var o=this,n=this.getStyleFilter();Object.keys(n).forEach(function(r){if(n[r]===ee.b.FOLLOW_CURRENT_STYLE){var i,a={start:t,end:t},s={start:e.getStartPoint(),end:e.getEndPoint()},c=o.collectStyle(a);e.updateStyle(((i={})[r]=c[r],i),s)}})},o.writeEmoji=function(e,t){var o=this.maxLength;if(o){var n=e.length;if(this.textLength===o||o-this.textLength<n)return this.turnOnOverTextLimit(),t}var r=t.paraId,i=t.nodeId;if(r&&i){var a=this.getParagraphById(r).insertEmoji(e,t);return c()({unitId:this.id},a)}},o._writeText=function(e,t,o){var n=t.paraId,r=t.nodeId,i=t.offset;if(n&&r){var a={nodeId:r,offset:i,imeOffset:o,value:e},s=this.getParagraphById(n).writeValue(a);return c()({unitId:this.id},s)}},o._eraseText=function(e,t){var o=e.start,n=e.end,r=e.collapsed,i=this.getParagraphById(o.paraId),a=this._determineEraseType({direction:t,isCollapsed:r,start:o,end:n}),s=null,c=o&&n&&o.nodeId===n.nodeId&&n.offset<=ne&&!e.collapsed?i.getPlainTextWithEmoji():"";switch(a){case ee.a.ERASE_PREV_BR:s=this._eraseBRbyBackspace(i,o);break;case ee.a.ERASE_NEXT_BR:s=this._eraseBRbyDeleteKey(i,o);break;case ee.a.ERASE_PREV_NON_TEXT_NODE:var l=i.getPrevNode(o.nodeId);s=this._eraseNonTextNode(i,l);break;case ee.a.ERASE_NEXT_NON_TEXT_NODE:var u=i.getNextNode(o.nodeId);s=this._eraseNonTextNode(i,u);break;case ee.a.ERASE_NON_TEXT_NODE:var p=i.getNodeById(o.nodeId);s=this._eraseNonTextNode(i,p);break;case ee.a.ERASE_PREV_NODE_CHARACTER:s=this._eraseTextOnPrevNode(e);break;case ee.a.ERASE_NEXT_NODE_CHARACTER:s=this._eraseTextOnNextNode(e);break;case ee.a.DECREASE_INDENT:return 0===i.listLevel?this._changeTreeToNormal([i]):this._updateListLevelByDiff(this._getAdjacentParas([i]),-1),{start:o,end:n};default:s=this._eraseTextOnNode(e,t)}if(t!==U.u.UP&&t!==U.u.DOWN||!this._isForceChangetNormalParagraphByErase(r,i,c)||this._changeTreeToNormal([i]),s)return{start:s,end:s}},o._isForceChangetNormalParagraphByErase=function(e,t,o){return!e&&t.isListParagraph()&&t.isEmpty()&&!Object(I.a)(U.P).includes(o)},o._eraseNonTextNode=function(e,t){var o=t.id,n=e.getPrevNode(o),r=e.getNextNode(o),i=e.createSameStyleNode(t),a=this._determineMergeType({targetNode:i,prevNode:n,nextNode:r}),s={unitId:this.id,paraId:e.id};if(a===ee.c.MERGE_ONLY_PREV_NODE)return e.removeNode(o),Object.assign(s,n.getEndPoint());if(a===ee.c.MERGE_ONLY_NEXT_NODE)return e.removeNode(o),Object.assign(s,r.getStartPoint());e.replaceNodesBetween(t.id,t.id,i);var c=Object.assign(s,i.getStartPoint());return a===ee.c.MERGE_BOTH_SIDE_NODE?this.refineParagraphWithPoint(c):c},o._determineMergeType=function(e){var t=e.targetNode,o=e.prevNode,n=e.nextNode,r=t.isMergeable(o),i=t.isMergeable(n);return r&&!i?ee.c.MERGE_ONLY_PREV_NODE:!r&&i?ee.c.MERGE_ONLY_NEXT_NODE:r&&i?ee.c.MERGE_BOTH_SIDE_NODE:ee.c.UNMERGEABLE},o._getPointByOffset=function(e,t){var o=this,n=(void 0===t?{}:t).plainTextMode,r=void 0!==n&&n,i=0,a=null;return Object(S.a)(this.paragraphs,function(t){var n=t.getPlainTextWithEmoji().length,s=i+n+1;if(s>e){var c=e-i,l=r?t.getNodeInfoBeforeOffsetByPlainTextLength(c):t.getNodeInfoBeforeOffset(c),u=l.node,p=l.offset;return a={unitId:o.id,paraId:t.id,nodeId:u.id,offset:p},!1}i=s}),a},o.getNodeByPoint=function(e){var t=e.paraId,o=e.nodeId;return this.getParagraphById(t).getNodeById(o)},o.getParagraphById=function(e){return this._hashArray.getDataById(e)},o.getParagraphByIndex=function(e){return this._hashArray.getDataByIndex(e)},o.getParagraphIndex=function(e){return this._hashArray.getIndex(e)},o.getFirstParagraph=function(){return this._hashArray.getFirst()},o.getLastParagraph=function(){return this._hashArray.getLast()},o.getPrevParagraph=function(e){return this._hashArray.getPrev(e)},o.getNextParagraph=function(e){return this._hashArray.getNext(e)},o.getParagraphsBetween=function(e,t){return this._hashArray.getBetween(e,t)},o.getParagraphsLength=function(){return this._hashArray.getLength()},o.has=function(e){return this._hashArray.has(e)},o.isCenterOrRightAlign=function(e){var t=e.start,o=e.end;return this.getParagraphsBetween(t.paraId,o.paraId).some(function(e){return e.isCenterOrRightAlign()})},o.isOnlyUrlLink=function(){return 1===this.getParagraphsLength()&&this.getFirstParagraph().isOnlyUrlLink()},o.isLinkAllowed=function(){return!1===this._notAllowedStyle(this._styleFilter.link)},o.isListParagraphByPoint=function(e){var t=e.paraId,o=void 0===t?"":t,n=this.getParagraphById(o);return!!n&&n.isListParagraph()},o.isLinkNodeEdge=function(e){return this.getParagraphById(e.paraId).isLinkNodeEdge(e)},o.isNonTextNode=function(e){var t=this.getNodeByPoint(e);return t&&!t.isTextNode()},o.createImageNodes=function(e,t){return this.getParagraphById(e.paraId).createImageNodes(e,t)},o.updateImageNode=function(e,t){var o=this.getParagraphById(e.paraId);o&&o.updateImageNodeById(e.nodeId,t)},o.deleteImageNode=function(e){var t=this.getParagraphById(e.paraId),o=e.paraId,n=e.unitId,r=e.nodeId,i=t.getPrevNode(r);return t.removeNode(r),{paraId:o,unitId:n,nodeId:i&&i.id||this.refineParagraphWithPoint(e).nodeId}},o.clear=function(){this.structuredParagraphStore.clear(),this._hashArray.clear()},o.forEach=function(e){this._hashArray.forEach(e)},o.isEmpty=function(){var e=this.getParagraphsLength();return 0===e||1===e&&this.isFirstParagraphEmpty()},o.isFirstParagraph=function(e){return e.paraId===this.getFirstParagraph().id},o.isFirstParagraphEmpty=function(){return this.getFirstParagraph().isEmpty()},o.isLastParagraphEmpty=function(){return this.getLastParagraph().isEmpty()},o.hasTextInListParagraph=function(){return this.paragraphs.some(function(e){return e.isListParagraph()})},o.getStartPoint=function(){var e=this.getFirstParagraph();return c()({unitId:this.id},e.getStartPoint())},o.getEndPoint=function(){var e=this.getLastParagraph();return c()({unitId:this.id},e.getEndPoint())},o.getOffsetInParagraph=function(e){var t=e.paraId;return this.getParagraphById(t).getOffsetInParagraph(e)},o.getNodeInfoBeforeOffset=function(e,t){return this.getParagraphById(e.paraId).getNodeInfoBeforeOffset(t)},o.getNodeInfoAfterOffset=function(e,t){return this.getParagraphById(e.paraId).getNodeInfoAfterOffset(t)},o.getPositionByPoint=function(e){var t=e.paraId,o=this.getParagraphById(t);if(o)return this.isTextStart(e)?ee.d.TEXT_START:this.isTextEnd(e)?ee.d.TEXT_END:o.getPositionByPoint(e)},o.isTextStart=function(e){var t=e.paraId,o=this.getParagraphById(t);if(!o)return!1;var n=o.getPositionByPoint(e);return this.getFirstParagraph()===o&&(o.isEmpty()||n===ee.d.PARA_START)},o.isTextEnd=function(e){var t=e.paraId,o=this.getParagraphById(t);if(!o)return!1;var n=o.getPositionByPoint(e);return this.getLastParagraph()===o&&(o.isEmpty()||n===ee.d.PARA_END)},o.extendPointToParagraphEnd=function(e){var t=this.getParagraphById(e.paraId).getLastNode();return c()({},e,{nodeId:t.id,offset:t.getNodeLength()})},o.refineSelection=function(e){var t=Object(T.a)(e),o=t.start,n=t.end;return this.has(o.paraId)||(o=Object.assign(o,this.getStartPoint())),this.has(n.paraId)||(n=Object.assign(n,this.getEndPoint())),t},o._refinePointToPrevNode=function(e,t,o){e.refine(t);var n=e.getNodeInfoBeforeOffset(o);return{unitId:this.id,paraId:e.id,nodeId:n.node.id,offset:n.offset}},o._refinePointToNextNode=function(e,t,o){e.refine(t);var n=e.getNodeInfoAfterOffset(o);return{unitId:this.id,paraId:e.id,nodeId:n.node.id,offset:n.offset}},o._eraseBRbyDeleteKey=function(e,t){var o=this.getNextParagraph(e.id);if(o){var n=o.id,r=e,i=t.nodeId,a=e.getOffsetInParagraph(t),s=!e.isEmpty()&&!o.isEmpty(),c=e.isEmpty()&&!o.isEmpty();return s?e.merge(o):c&&(n=e.id,r=o,i=o.getFirstNode().id),this.removeParagraph(n),this._refinePointToPrevNode(r,i,a)}},o._eraseBRbyBackspace=function(e,t){var o=this.getPrevParagraph(e.id);if(!o)return t;if(o.isEmpty()&&!o.isListParagraph())return this.removeParagraph(o.id),t;var n=o.getLastNode(),r={nodeId:n.id,offset:n.getNodeLength()},i=o.getOffsetInParagraph(r);return e.isEmpty()&&n.isEmpty()||o.merge(e),this.removeParagraph(e.id),this._refinePointToPrevNode(o,t.nodeId,i)},o._eraseTextOnPrevNode=function(e){var t=e.start,o=e.collapsed,n=this.getParagraphById(t.paraId),r=n.getPrevNode(t.nodeId);if(r){if(n.shouldUnwrapDropCapByErase(U.u.LEFT,r.id,r.getNodeLength(),o))return n.unwrapDropCap(),this._refinePointToPrevNode(n,r.id,1);var i=this._eraseOneCharacter(r,r.getNodeLength(),U.u.LEFT);t.nodeId=r.id,t.offset=i;var a=n.getOffsetInParagraph(t);return r.isEmpty()&&n.removeNode(r.id),this._refinePointToPrevNode(n,t.nodeId,a)}},o._eraseTextOnNextNode=function(e){var t=e.start,o=this.getParagraphById(t.paraId),n=o.getNextNode(t.nodeId);if(n){var r=this._eraseOneCharacter(n,0,U.u.RIGHT);t.nodeId=n.id,t.offset=r;var i=o.getOffsetInParagraph(t);return n.isEmpty()&&o.removeNode(n.id),this._refinePointToNextNode(o,t.nodeId,i)}},o._eraseTextOnNode=function(e,t){var o=e.start,n=e.end,r=e.collapsed,i=this.isNonTextNode(o)?this.adjustWritePointOnEdge(o):o,a=this.getParagraphById(i.paraId),s=i.nodeId,c=a.getNodeById(s);if(!a.shouldUnwrapDropCapByErase(t,i.nodeId,i.offset,r)||(a.unwrapDropCap(),!r)){if(r){var l=this._eraseOneCharacter(c,i.offset,t);i.offset=l}else this._eraseBySelection({start:i,end:n});c.isEmpty()&&this._postprocessLinkText(a,i,s);var u=this.getOffsetInParagraph(i),p=a.getNodeValueLength(i.nodeId);if(a.refine(i.nodeId),p===a.getNodeValueLength(i.nodeId))return i;var d=this.getNodeInfoAfterOffset(i,u);return Object(w.a)({nodeId:d.node.id,offset:d.offset},i)}},o._postprocessLinkText=function(e,t,o){var n=e.getNodeById(o),r=e.getPrevNode(o),i=e.getNextNode(o);e.isLinkNodeEdge(t)&&(r||i)?(r?(t.nodeId=r.id,t.offset=r.getNodeLength()):(t.nodeId=i.id,t.offset=0),e.removeNode(o)):n.changeLink()},o._eraseOneCharacter=function(e,t,o){var n=Object(L.a)(e.value),r=0,i=0;n.some(function(e,o){return t===i||(r=o+1,i+=e.length,!1)}),o===U.u.LEFT&&(r-=1),n.splice(r,1),e.value=n.join("");var a=0;return n.some(function(e,t){return t===r||(a+=e.length,!1)}),a},o._eraseBySelection=function(e){var t=this,o=e.start,n=e.end,r=this.getParagraphsBetween(o.paraId,n.paraId);r.shift(),r.pop(),Object(S.a)(r,function(e){t.removeParagraph(e.id)});var i=null;if(o.paraId===n.paraId)i=this.getParagraphById(o.paraId);else{var a=this.getParagraphById(o.paraId),s=this.getParagraphById(n.paraId).nodes;a.addNode(s.splice(0,s.length)),i=a,this.removeParagraph(n.paraId)}i.removeNodesWithSelection({start:o,end:n})},o._createParagraphStore=function(e,t){return void 0===t&&(t=!1),t&&delete e.id,e instanceof W.a?(e.id=e.id||U.Z.generate(),e):new W.a({state:e})},o._createParagraphStores=function(e){var t=this,o=[];return e.map(function(e){var n=o.includes(e.id),r=t._createParagraphStore(e,n);return o.push(r.id),r})},o._isSelectingOnlyNonTextNode=function(e,t){if(e.nodeId===t.nodeId){var o=this.getNodeByPoint(e);return o&&!o.isTextNode()}return!1},o._determineEraseType=function(e){var t=e.direction,o=e.isCollapsed,n=e.start,r=e.end,i=!1===o;if(i&&this._isSelectingOnlyNonTextNode(n,r))return ee.a.ERASE_NON_TEXT_NODE;if(i)return ee.a.ERASE_CHARACTER;var a=n.paraId,s=n.nodeId,c=this.getParagraphById(a),l=this.getPrevParagraph(a),u=c.getNodeById(s),p=c.isEmpty(),d=u.isEmpty(),h=c.getPositionByPoint(n);switch(t){case U.u.LEFT:if(h===ee.d.PARA_START&&0===this.structuredParagraphStore.indexOfParaInItsListItem(c)&&(!l||l.listLevel!==c.listLevel))return ee.a.DECREASE_INDENT;if(p||h===ee.d.PARA_START)return ee.a.ERASE_PREV_BR;var f=c.getNodeById(s);if(f&&!f.isTextNode()&&[ee.d.NODE_END,ee.d.PARA_END].includes(h))return ee.a.ERASE_NON_TEXT_NODE;var m=c.getPrevNode(s);if(m&&!m.isTextNode()&&(d||h===ee.d.NODE_START))return ee.a.ERASE_PREV_NON_TEXT_NODE;if(d||h===ee.d.NODE_START)return ee.a.ERASE_PREV_NODE_CHARACTER;break;case U.u.RIGHT:if(p||h===ee.d.PARA_END)return ee.a.ERASE_NEXT_BR;var g=c.getNodeById(s);if(g&&!g.isTextNode()&&[ee.d.NODE_START,ee.d.PARA_START].includes(h))return ee.a.ERASE_NON_TEXT_NODE;var y=c.getNextNode(s);if(y&&!y.isTextNode()&&(d||h===ee.d.NODE_END))return ee.a.ERASE_NEXT_NON_TEXT_NODE;if(d||h===ee.d.NODE_END)return ee.a.ERASE_NEXT_NODE_CHARACTER}return ee.a.ERASE_CHARACTER},o._getHeadTailNodesByPoint=function(e,t){var o=this.getParagraphById(e.paraId),n=this.getParagraphById(t.paraId),r=n.getNodeById(t.nodeId);t.offset!==r.getNodeLength()&&(r=n.splitNode(t).front);var i=o.getNodeById(e.nodeId);return 0!==e.offset&&(i=o.splitNode(e).back,e.nodeId===t.nodeId&&(r=i)),{headNode:i,tailNode:r}},o._resolveRangeByOffset=function(e){var t=e.startParaOffset,o=e.endParaOffset,n=e.selectionInfoStore,r=n.start,i=n.end,a=n.collapsed,s=[];if("number"==typeof t){var c=this.getNodeInfoAfterOffset(r,t),l=Object(w.a)({nodeId:c.node.id,offset:c.offset},r);s.push(l)}if(!a&&"number"==typeof o){var u=this.getNodeInfoBeforeOffset(i,o),p=Object(w.a)({nodeId:u.node.id,offset:u.offset},i);s.push(p)}return s},o.getPlainText=function(){var e=[];return this.paragraphs.forEach(function(t,o,n){e.push(t.getPlainText()),o<n.length-1&&e.push("\n")}),e.join("")},o.getPlainTextWithEmoji=function(){var e=[];return this.paragraphs.forEach(function(t,o,n){e.push(t.getPlainTextWithEmoji()),o<n.length-1&&e.push("\n")}),e.join("")},o.setPlainTextWithEmoji=function(e){var t=this,o=(e||"").split("\n"),n=this.getFirstParagraph(),r=n.computedStyle,i=n.firstNodeComputedStyle;this.clear(),this.addParagraph(new W.a),this.updateWholeParagraphStyle(r),this.updateWholeCharacterStyle(i),o.reduce(function(e,o,n){n>0&&(e=t.breakLine(e));var r=[];return z.a.separateCallbacksWithEmoji(o,function(e){return r.push({value:e,emoji:!0})},function(e){return r.push({value:e,emoji:!1})}),r.reduce(function(e,o){return o.emoji?t.writeEmoji(o.value,e):t.write(o.value,e,0)},e)},this.getStartPoint())},o.getLinkedPlainTextByPoint=function(e){var t="",o=this.getTextNodeByPoint(e);if(o&&o.hasUrlLink()){var n=o.getUrlValue();if(n&&n.length>0){var r=this.getEdgePointsOnLinkByPoint(e),i=r.start,a=r.end;t=this.clone({start:i,end:a}).getPlainTextWithEmoji()}}return t},o.filterOnlyTexts=function(){var e=new t({state:this.toValidJSON()});return e.stripOffNonTexts(),e},o.isBackward=function(e,t){var o=this.getParagraphIndex(e.paraId),n=this.getParagraphIndex(t.paraId);return-1!==n&&-1!==o&&(!(n<o)&&(n!==o||this.getParagraphById(t.paraId).isBackward(e,t)))},o.filterTextBy=function(e){var t=!1;return Object(S.a)(this.paragraphs,function(o){o.filterTextBy(e)&&(t=!0)}),t},o.getStyleFilter=function(){return this._styleFilter},o._filterStyleTypes=function(e){var t=this,o=Object(E.a)(e,!0);return Object.keys(e).forEach(function(n){t._notAllowedStyle(t._styleFilter[n],e[n])&&delete o[n]}),Object(O.a)(o)?null:o},o.getUrlInNode=function(e){return this.getParagraphById(e.paraId).getUrlInNode(e)},o.getLibraryItemData=function(e){var t=this,o=e.compId,n=e.unitId,r=[];return this.paragraphs.forEach(function(e){r.push.apply(r,e.getLibraryItemData({compId:o,unitId:n||t.id}))}),r},o.setDefaultRepresentativeImage=function(){this.paragraphs.some(function(e){return!(!e.hasInlineImage()||e.hasRepresentativeImage())&&(e.setRepresentativeImage(),!0)})},o.hasParagraphStartsWithEmoji=function(e){var t=e.start,o=e.end,n=e.mode;if(n===U.N.CURSOR){var r=this.getParagraphById(t.paraId);return r&&r.isStartWithEmoji()}return n===U.N.BLOCK&&this.getParagraphsBetween(t.paraId,o.paraId).some(function(e){return e.isStartWithEmoji()})},o.hasInlineImageInParagraph=function(e){if(void 0===e&&(e={}),Object(O.a)(e))return this.paragraphs.some(function(e){return e.hasInlineImage()});var t=e,o=t.start,n=t.end,r=t.mode;if("cursor"===r){var i=this.getParagraphById(o.paraId);return i&&i.hasInlineImage()}return"block"===r?this.getParagraphsBetween(o.paraId,n.paraId).some(function(e){return e.hasInlineImage()}):void 0},o.isLibraryComponent=function(){return this.paragraphs.some(function(e){return e.isLibraryComponent()})},o.setRepresentativeImage=function(e,t){e?this.getParagraphById(e).setRepresentativeImage(t):this.setDefaultRepresentativeImage()},o.releaseRepresentativeImage=function(e){var t=e.paraId,o=e.nodeId;this.getParagraphById(t).releaseRepresentativeImage(o)},o.hasRepresentativeImage=function(){return this.paragraphs.some(function(e){return e.hasRepresentativeImage()})},o.isRepresentativeImage=function(){return this.paragraphs.some(function(e){return e.isRepresentativeImage()})},o.updateConfig=function(){this.paragraphs.forEach(function(e){e.updateConfig&&e.updateConfig()})},o.canBeListBySpace=function(e){var t=e.start.paraId;return!!e.collapsed&&this.getParagraphById(t).canBeListBySpace()},o.getRepresentativeId=function(){var e=[];return this.paragraphs.forEach(function(t){if(t.isRepresentativeImage()){var o=t.getRepresentativeId();Object(C.a)(o)?e=[].concat(e,o):e.push(o)}}),e},o.getRepresentativeInnerData=function(){var e=Object(N.a)(this.paragraphs,function(e){return e.hasRepresentativeImage()});return e?e.getRepresentativeInnerData():null},o.hasDropCapInParagraph=function(e){var t=this.getParagraphById(e);return t&&t.hasDropCapInParagraph()},o.hasInlineImageOnly=function(){return this.paragraphs.some(function(e){return e.hasInlineImage()&&!e.hasTextNode()})},o.toValidJSON=function(){var e=this.paragraphs.map(function(e){return e.toValidJSON()});if(0===e.length){var t=new W.a;this.addParagraph(t),e=[t.toValidJSON()]}return e.id=this.id,e},o.toPlainJSON=function(){return c()({},this._toPlainJSON)},o.stripOffNonTexts=function(){this.paragraphs.forEach(function(e){return e.stripOffNonTexts()})},o.isEqualStore=function(e){return this.$mobx.name===e.$mobx.name},o.getEdgePointsOnLinkByPoint=function(e){if(!e||e.unitId!==this.id)throw new Error("Invalid Parameters!");var t,o,n,r=this.getParagraphById(e.paraId),i=r.getNodeById(e.nodeId),a=i.getUrlValue();if(!i.hasUrlLink()||0===a.length)throw new Error("Invalid Parameters!");for(t=r,o=i,n=!1;!n;){var s=t.getPrevNode(o.id);if(null==s){var c=this.getPrevParagraph(t.id);c&&(s=c.getLastNode()).hasUrlLink()&&s.getUrlValue()===a?(t=c,o=s):n=!0}else s.hasUrlLink()&&s.getUrlValue()===a?o=s:n=!0}var l={compId:e.compId,unitId:this.id,paraId:t.id,nodeId:o.id,offset:o.getStartPoint().offset};for(t=r,o=i,n=!1;!n;){var u=t.getNextNode(o.id);if(null==u){var p=this.getNextParagraph(t.id);p&&(u=p.getFirstNode()).hasUrlLink()&&u.getUrlValue()===a?(t=p,o=u):n=!0}else u.hasUrlLink()&&u.getUrlValue()===a?o=u:n=!0}return{start:l,end:{compId:e.compId,unitId:this.id,paraId:t.id,nodeId:o.id,offset:o.getEndPoint().offset}}},o.convertToList=function(e){var t=this.getParagraphById(e.start.paraId).getPlainTextWithEmoji()===U.P.BULLET?U.E.BULLET:U.E.DECIMAL;return this.updateParagraphStyle({list:t},e),t},o.getNodesByBetween=function(e,t,o){return void 0===e&&(e=this.getStartPoint()),void 0===t&&(t=this.getEndPoint()),this.getParagraphsBetween(e.paraId,t.paraId).reduce(function(n,r){var i=r.id===e.paraId?e.nodeId:r.getFirstNode().id,a=r.id===t.paraId?t.nodeId:r.getLastNode().id,s=r.getNodesBetween(i,a);return n.concat(s.filter(function(e){return!o||e.ctype===o}))},[])},o.traverseNodes=function(e,t){this.paragraphs.forEach(function(o){o.nodes.forEach(function(o){t?o.ctype===t&&e&&e(o):e&&e(o)})})},o._refineOriginalParaByMaxLength=function(e){var t=[],o=this.maxLength;if(null===o||o===1/0)return e;for(var n=0;n<e.length;n++){for(var r=e[n],i=r.nodes,s=a()(r,["nodes"]),l=c()({},s,{nodes:[]}),u=0;u<i.length;u++){var p=i[u],d=p.value,h=a()(p,["value"]),f=d.length,m=f>=o;if(l.nodes.push(c()({},h,{value:m?d.substr(0,o):d})),o-=f,m)break}if(t.push(l),o<=0)break}return t},o.checkTextByFilter=function(e){return!!this._inputFilter&&this._inputFilter.test(e)},d()(t,[{key:"isFocused",get:function(){return"child"===this.selection||"cursor"===this.selection}},{key:"textLength",get:function(){return this.getPlainTextWithEmoji().length}},{key:"isFullText",get:function(){var e=this.maxLength;return null!==e&&this.textLength===e}},{key:"empty",get:function(){return this.isEmpty()}},{key:"unchangedFirstNodeStyle",get:function(){if(!this.themeStyle)return!0;var e=this.getFirstParagraph().firstNodeComputedStyle,t=e.fontFamily,o=e.fontSizeCode;return this.themeStyle.fontFamily===t&&this.themeStyle.fontSizeCode===o}},{key:"existTextInListParagraph",get:function(){return this.hasTextInListParagraph()}},{key:"_toPlainJSON",get:function(){return{id:this.id,ctype:this.ctype,isOverTextLimit:this.isOverTextLimit,paragraphs:this.paragraphs.map(function(e){return e.toPlainJSON()})}}}]),t}(U.k),Z=b()(Q.prototype,"isOverTextLimit",[A.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=b()(Q.prototype,"paragraphs",[A.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),b()(Q.prototype,"isFocused",[A.e],Object.getOwnPropertyDescriptor(Q.prototype,"isFocused"),Q.prototype),b()(Q.prototype,"textLength",[A.e],Object.getOwnPropertyDescriptor(Q.prototype,"textLength"),Q.prototype),b()(Q.prototype,"isFullText",[A.e],Object.getOwnPropertyDescriptor(Q.prototype,"isFullText"),Q.prototype),b()(Q.prototype,"empty",[A.e],Object.getOwnPropertyDescriptor(Q.prototype,"empty"),Q.prototype),b()(Q.prototype,"unchangedFirstNodeStyle",[A.e],Object.getOwnPropertyDescriptor(Q.prototype,"unchangedFirstNodeStyle"),Q.prototype),b()(Q.prototype,"_toPlainJSON",[X],Object.getOwnPropertyDescriptor(Q.prototype,"_toPlainJSON"),Q.prototype),Q),ie=re;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/text-unit-store.js",localName:t}})}catch(e){}}e(te,"NONE"),e(oe,"LIST_PARAGRAPH_MAX_LEVEL"),e(ne,"TEXT_PREFIXES_MAX_LENGTH"),e(re,"TextUnitStore"),e(ie,"default")}()},141:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(54),l=o.n(c),u=o(49),p=o(347),d=o(224),h=o(52),f=o(1230),m=o(398),g=o(56),y=o(124),b=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e="click.se-toolbar-drop-down-"+this.props.name;f.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-drop-down-"+this.props.name;f.a.off(e)},o.render=function(){var e,t=this.props,o=t.id,n=t.label,r=t.name,i=t.title,a=t.type,s=t.namespace,c=t.isActivated,p=t.useHighlight,d=t.value,h=t.action,f=t.options,g=t.optionType,b=t.onClickOption,_=t.disabled,v=t.useIconUpdate,C=t.i18n,S=t.logAreaId,O=t.focused,k=t.logId,I=o,w=C(n),P=l()("se-"+s+"-toolbar-"+a+"-container","__select-container"),j=!!f&&Object.keys(f)[0]||"",T=d||j,L=l()("se-"+s+"-toolbar-"+a+"-button",((e={})["se-"+r+"-toolbar-button"]=!v,e["se-"+r+"-"+T+"-toolbar-button"]=v,e["se-is-activated"]=c,e["se-is-selected"]=!!d&&p,e)),E=C(i[c?"active":"inactive"]);return u.b.createElement("div",{className:P,"data-type":a,"data-name":r},u.b.createElement(y.a,{focused:O,namespace:s,logAreaId:S,logId:k,type:a,dataName:I,className:L,handleClick:this.handleClick,disabled:_,i18n:C,ariaExpanded:""+c,ariaHasPopup:"true"},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:"se-blind","aria-hidden":"true"},w),u.b.createElement("span",{className:"se-toolbar-tooltip"},E)),c&&u.b.createElement(m.a,{id:o,name:r,options:f,value:d,action:h,namespace:s,type:a,logAreaId:S,optionType:g,onClickOption:b,i18n:C}))},o.handleClick=function(e){var t=this.props,o=t.onClickSelector,n=t.type,r=t.id,i=t.name,a=t.title,s=t.label,c=t.isActivated;o.apply(this,[{event:e,type:n,id:r,name:i,title:a,label:s,isActivated:c}])},o._handleClickButtonOutside=function(e){var t=e.target;this.props.isActivated&&d.a.isOutsideElementbySelector(t,".__select-container")&&this.handleClick({})},t}(u.b.Component),s()(n.prototype,"handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleClick"),n.prototype),s()(n.prototype,"_handleClickButtonOutside",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickButtonOutside"),n.prototype),n);b.defaultProps={name:"",id:"",label:"",title:{inactive:"",active:""},isActivated:!1,value:"",namespace:"",disabled:!1,focused:!1,options:{},optionType:g.c.ICON,useHighlight:!1,selectedIcon:!1,onClickOption:function(){},onClickSelector:function(){},i18n:function(e){return e}},b.propTypes={type:u.a.oneOf([g.b.DROP_DOWN]).isRequired,id:u.a.string,name:u.a.string,label:u.a.string,action:u.a.string,title:u.a.shape({inactive:u.a.string,active:u.a.string}),namespace:u.a.string,isActivated:u.a.bool,disabled:u.a.bool,focused:u.a.bool,useHighlight:u.a.bool,useIconUpdate:u.a.bool,value:u.a.string,options:u.a.object,optionType:u.a.string,onClickOption:u.a.func,onClickSelector:u.a.func,i18n:u.a.func,logAreaId:u.a.string,logId:u.a.string};var _=Object(p.b)(b);t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/drop-down-button.jsx",localName:t}})}catch(e){}}e(b,"DropDownButton"),e(_,"default")}()},142:function(e,t,o){"use strict";var n,r=o(51),i=o(55),a=o.n(i),s=o(0),c=o.n(s),l=o(50),u=o.n(l),p=o(49),d=o(347),h=o(52),f=o(82),m=o(83),g=o(195),y=o(172),b=o(417),_=o(84),v=o(281),C=o(127),S=o(121),O=o(74),k=o(742),I=o(12),w=o.n(I),P=o(18),j=o.n(P),T=(n=function(e){function t(){var t;t=e.call(this)||this;var o=r.U.get("configAgent");return t._maxLength=o.get("plugins.componentSettings.imageGroup.config.caption.maxLength"),t._imageGroupComponentService=r.U.get("imageGroupComponentService"),t._editingService=r.U.get("editingService"),t._propertyChangeService=r.U.get("propertyChangeService"),t._imageGroupOrderLayerService=r.U.get("imageGroupOrderLayerService"),t._eventDispatcherService=r.U.get("eventDispatcherService"),t._imageComponentService=r.U.get("imageComponentService"),t._libraryPanelLayoutService=r.U.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._imageLocationEditLayerService=r.U.get("imageLocationEditLayerService"),t._placeLayerService=r.U.get("placeLayerService"),t._toastLayerService=r.U.get("toastLayerService"),t._i18n=r.U.get("i18n"),t}c()(t,e);var o=t.prototype;return o.delete=function(){this._editingService.eraseComponent()},o.changeContentMode=function(e){this._propertyChangeService.changeContentMode(e)},o.editGroupImage=function(){var e=this._imageGroupComponentService.cloneWithSelection();this._imageGroupOrderLayerService.open(e)},o.exceedTextMaxLength=function(){this._toastLayerService.warningMessage(this._i18n("imageGroupComponent:exceed_text_max_length",{maxLength:this._maxLength}))},o.addResizeViewModeListener=function(e){this._eventDispatcherService.on(r.z.DOCUMENT_VIEWPORT_RESIZED,e)},o.removeResizeViewModeListener=function(e){this._eventDispatcherService.off(r.z.DOCUMENT_VIEWPORT_RESIZED,e)},o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId;r.U.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o}),this._libraryPanelLayoutService.updateMediaList()},o.deleteImageUnit=function(e,t){this._imageGroupComponentService.selectImageUnit(e,t),this._editingService.erase()},o.updateShellImage=function(e){this._imageGroupComponentService.updateShellImage(e)},o.updatePhase=function(e,t){this._imageGroupComponentService.updatePhase(e,t)},o.updateImageSize=function(e,t,o){this._imageGroupComponentService.updateImageSize(e,t,o)},o.updateImageGroupRatio=function(e){this._imageGroupComponentService.updateImageGroupRatio(e)},o.openLocationEditLayer=function(e){var t=this;this._imageLocationEditLayerService.open({onClickRemove:function(){t._imageGroupComponentService.updatePlace(e,null)},onClickChange:function(){var o=j()(w.a.mark(function o(){var n;return w.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,t._placeLayerService.editPlaces({isUpdateMode:!0,maxPlaceCount:1,initialPlaces:[e.place]});case 2:(n=o.sent)&&t._imageGroupComponentService.updatePlace(e,n.places[0]);case 4:case"end":return o.stop()}},o)}));return function(){return o.apply(this,arguments)}}()})},o.attachLocation=function(){var e=j()(w.a.mark(function e(t){var o,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={isUpdateMode:!0,maxPlaceCount:1},t.place?o.initialPlaces=[t.place]:(n=t.images.find(function(e){return!!e.location}))&&(o.initialPlaces=[{latlng:{latitude:n.location.latitude,longitude:n.location.longitude}}]),e.next=4,this._placeLayerService.editPlaces(o);case 4:r=e.sent,this._imageGroupComponentService.updatePlace(t,r.places[0]);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t}(r.c),u()(n.prototype,"delete",[h.preventOnComponentProcessing,h.history,p.d],Object.getOwnPropertyDescriptor(n.prototype,"delete"),n.prototype),u()(n.prototype,"changeContentMode",[h.preventOnComponentProcessing,p.d],Object.getOwnPropertyDescriptor(n.prototype,"changeContentMode"),n.prototype),u()(n.prototype,"editGroupImage",[h.preventOnComponentProcessing,p.d],Object.getOwnPropertyDescriptor(n.prototype,"editGroupImage"),n.prototype),u()(n.prototype,"exceedTextMaxLength",[p.d],Object.getOwnPropertyDescriptor(n.prototype,"exceedTextMaxLength"),n.prototype),u()(n.prototype,"setRepresentativeImage",[h.history,p.d],Object.getOwnPropertyDescriptor(n.prototype,"setRepresentativeImage"),n.prototype),u()(n.prototype,"deleteImageUnit",[h.preventOnComponentProcessing,h.history,p.d],Object.getOwnPropertyDescriptor(n.prototype,"deleteImageUnit"),n.prototype),u()(n.prototype,"openLocationEditLayer",[p.d],Object.getOwnPropertyDescriptor(n.prototype,"openLocationEditLayer"),n.prototype),u()(n.prototype,"attachLocation",[p.d],Object.getOwnPropertyDescriptor(n.prototype,"attachLocation"),n.prototype),n),L=T,E=L;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/use-case/index.js",localName:t}})}catch(e){}}e(T,"ImageGroupComponentUseCase"),e(L,"default")}();var N,x,D,R=o(153),A=o(54),U=o.n(A),M=o(72),B=o(199),F=o(85),z=o(666),W=o(667),V=o(411),G=o(225),H=o(736),q=(D=x=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.image.id,t=this._resolveWrapperClassName(),o=this._renderImagePlaceholder(),n=this._renderImage(),r=this._resolveWidthRatio(),i=this._renderBtnRepresentative(),a=this._renderDeleteBtn(),s=this._renderBtnLocation();return p.b.createElement(M.a,{store:this.props.image,ctype:"image",id:e,className:t,style:r},n,o,i,a,s)},o._renderDeleteBtn=function(){if(this.props.image.isLoaded)return p.b.createElement("button",{type:"button",className:"se-image-delete-button",onClick:this._handleDeleteImageUnit},p.b.createElement("span",{className:"se-blind"},this.props.i18n("imageGroupComponent:delete_image")))},o._renderBtnRepresentative=function(){var e=this.props,t=e.image,o=e.groupStore,n=e.i18n,r=!!o.representativeEnabled&&t.isRepresentativeImage();if(t.isLoaded&&r){var i=U()({"se-set-rep-image-button":!0,"se-is-selected":t.represent});return p.b.createElement("button",{type:"button",className:i,onClick:this._handleClickBtnRepresentative},p.b.createElement("span",{className:"se-set-rep-image-button-text"},n("imageGroupComponent:representative")))}},o._renderBtnLocation=function(){var e=this.props,t=e.groupStore,o=e.colIndex,n=e.rowIndex,r=t.showLocationButton,i=t.place,a=i&&r;return a&&0===o&&0===n?Object(H.a)({enabled:a,locationInfo:i,onMouseDown:this._handleMouseDownLocation,onClick:this._handleClickLocation}):null},o._resolveWidthRatio=function(){var e=this.props,t=e.image,o=e.groupStore.layout===g.b.COLLAGE;if(!o&&!t.isUploaded)return{width:this._resolveImageWidth(t)};var n=t.widthPercentage;return o?{width:n+"%"}:null},o._resolveWrapperClassName=function(){var e=this.props,t=e.groupStore,o=e.image,n=t.layout===g.b.COLLAGE;return U()({"se-is-progress":!o.isUploaded,"se-imageGroup-item":!n})},o._renderImagePlaceholder=function(){var e=this.props.image;if(e.isUploaded)return null;var t=e.width,o=e.height,n={paddingTop:o/t*100+"%"};return p.b.createElement(B.a,{inlineStyle:n,message:this.props.i18n("imageUnit:uploading"),width:t,height:o})},o._renderImage=function(){var e=this.props,t=e.image,o=e.groupStore,n=t.src,i=t.alt,a=t.height,s=t.width,c=t.fileName,l=o.selection;return t.isUploaded?p.b.createElement(F.b,{className:"se-image-resource",type:"none"!==l||this.context.readOnly?F.a.normal:z.a.isGIF(c)?F.a.autoReplace:F.a.lazyLoad,onLoad:this._handleLoadImage,onError:this._handleErrorImage,forceTriggerOnloadEvent:t.phase===r.M.DONE,src:n,alt:i,originalWidth:s,originalHeight:a,"data-width":s,"data-height":a}):null},o._resolveImageWidth=function(e){var t=this.props,o=t.documentWidth,n=t.slideViewHeight;return e.width*n/e.height/o*100+"%"},o._handleLoadImage=function(e){var t=e.width,o=e.height,n=this.props,i=n.image,a=n.useCase,s=n.groupStore;a.updatePhase(i,r.M.LOADED),s.layout===g.b.COLLAGE&&(a.updateImageSize(i,t,o),a.updateImageGroupRatio(s),a.repaintCursor())},o._handleErrorImage=function(){this.props.useCase.repaintCursor()},o._handleClickBtnRepresentative=function(e){e.preventDefault(),e.stopPropagation();var t=this.props,o=t.image,n=t.useCase,r=t.groupStore;n.setRepresentativeImage({compId:r.id,unitId:o.id}),W.a.log(e.nativeEvent,"imgct.rep")},o._handleDeleteImageUnit=function(e){e.stopPropagation();var t=this.props,o=t.useCase,n=t.groupStore,r=t.image;o.deleteImageUnit(n,r),W.a.log(e.nativeEvent,"imgct.x")},o._handleClickLocation=function(){this.props.useCase.openLocationEditLayer(this.props.groupStore)},o._handleMouseDownLocation=function(e){e.nativeEvent.stopImmediatePropagation()},t}(p.b.Component),x.contextType=G.a,N=D,u()(N.prototype,"_renderBtnRepresentative",[h.muteIfReadOnly],Object.getOwnPropertyDescriptor(N.prototype,"_renderBtnRepresentative"),N.prototype),u()(N.prototype,"_renderBtnLocation",[h.muteIfReadOnly],Object.getOwnPropertyDescriptor(N.prototype,"_renderBtnLocation"),N.prototype),u()(N.prototype,"_handleLoadImage",[h.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleLoadImage"),N.prototype),u()(N.prototype,"_handleErrorImage",[h.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleErrorImage"),N.prototype),u()(N.prototype,"_handleClickBtnRepresentative",[h.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleClickBtnRepresentative"),N.prototype),u()(N.prototype,"_handleDeleteImageUnit",[h.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleDeleteImageUnit"),N.prototype),u()(N.prototype,"_handleClickLocation",[h.autobind,h.muteIfReadOnly],Object.getOwnPropertyDescriptor(N.prototype,"_handleClickLocation"),N.prototype),u()(N.prototype,"_handleMouseDownLocation",[h.autobind,h.muteIfReadOnly],Object.getOwnPropertyDescriptor(N.prototype,"_handleMouseDownLocation"),N.prototype),N);q.defaultProps={rowIndex:0,colIndex:0,i18n:function(e){return e},documentWidth:700,slideViewHeight:420},q.propTypes={image:p.a.instanceOf(V.a).isRequired,i18n:p.a.func,rowIndex:p.a.number,colIndex:p.a.number,useCase:p.a.instanceOf(E),groupStore:p.a.instanceOf(R.a).isRequired,documentWidth:p.a.number,slideViewHeight:p.a.number};var J,K=Object(d.b)(q),Y=K;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/view/image-group-unit.jsx",localName:t}})}catch(e){}}e(q,"ImageGroupUnit"),e(K,"default")}();var X=(J=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={activateScrollbar:!1,activateNavigator:!0,prevDisabled:!0,nextDisabled:!1},o._throttledHandleScroll=Object(C.a)(o._handleScroll,500),o}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this.props.useCase;window.addEventListener("resize",this._handleWindowResize),e.addResizeViewModeListener(this._handleImagePanelResize)},o.componentWillUnmount=function(){var e=this.props.useCase;window.removeEventListener("resize",this._handleWindowResize),e.removeResizeViewModeListener(this._handleImagePanelResize)},o.render=function(){var e=this.props,t=e.children,o=e.groupStore,n=e.contentMode,r=o.images,i=this._renderNavigators(),a=this._renderProgressBar(),s=r.map(this._renderImageUnitWrapper);return r.forEach(function(e){return e.phase}),p.b.createElement(p.b.Fragment,null,p.b.createElement(k.a,{ref:this._refImagePanel,className:"se-imageGroup-slide",contentMode:n,viewer:".se-imageGroup-viewer",progress:".se-imageGroup-progress",thumb:".se-imageGroup-thumb",onHideBar:this._handleHideBar,onShowBar:this._handleShowBar,onResize:this._handleResize,onScroll:this._throttledHandleScroll,onReset:this._handleReset,right:!1,drag:!1,images:r},p.b.createElement("div",{className:"se-imageGroup-viewer"},p.b.createElement("div",{className:"se-imageGroup-container"},s)),i,a),t)},o._renderNavigators=function(){if(!this.state.activateNavigator)return null;var e=this.props.i18n;return p.b.createElement("div",{className:"se-imageGroup-navigation",onClick:this._handleClick},p.b.createElement("button",{type:"button",ref:this._refPrevButton,className:"se-imageGroup-navigation-button se-imageGroup-navigation-button-prev",disabled:this.state.prevDisabled,"data-direction":"prev"},p.b.createElement("span",{className:"se-blind"},e("imageGroupComponent:prev_image")," ")),p.b.createElement("button",{type:"button",ref:this._refNextButton,className:"se-imageGroup-navigation-button se-imageGroup-navigation-button-next",disabled:this.state.nextDisabled,"data-direction":"next"},p.b.createElement("span",{className:"se-blind"},e("imageGroupComponent:next_image"))))},o._renderProgressBar=function(){return p.b.createElement("div",{className:"se-imageGroup-progress",style:{display:this.state.activateNavigator?"":"none"}},p.b.createElement("div",{className:"se-imageGroup-thumb"}))},o._renderImageUnitWrapper=function(e,t){var o=this.props,n=o.i18n,r=o.documentWidth,i=o.slideViewHeight,a=o.useCase,s=o.groupStore,c="image-group-slide-view-"+e.id+"-"+t;return p.b.createElement(Y,{key:c,i18n:n,useCase:a,groupStore:s,rowIndex:t,colIndex:0,image:e,index:t,documentWidth:r,slideViewHeight:i})},o._handleImagePanelResize=function(){this._imagePanel&&this._imagePanel.resizeWithDebounced()},o._handleWindowResize=function(){this._handleImagePanelResize()},o._handleShowBar=function(){this.state.activateNavigator||this.setState({activateNavigator:!0})},o._handleHideBar=function(){this.state.activateNavigator&&this.setState({activateNavigator:!1})},o._handleResize=function(e){var t=e.pos,o=e.range;!this.state.activateScrollbar&&this._isMiddleSlide(t,o)&&this.setState({activateScrollbar:!0,prevDisabled:!1,nextDisabled:!1})},o._handleScroll=function(e){var t=e.pos,o=e.range;!this.state.prevDisabled&&this._isFirstSlide(t,o)?this.setState({prevDisabled:!0,nextDisabled:!1}):!this.state.nextDisabled&&this._isLastSlide(t,o)?this.setState({prevDisabled:!1,nextDisabled:!0,activateScrollbar:!1}):(this.state.prevDisabled||this.state.nextDisabled)&&this._isMiddleSlide(t,o)&&this.setState({prevDisabled:!1,nextDisabled:!1})},o._isFirstSlide=function(e,t){return e===Object(S.a)(t)},o._isLastSlide=function(e,t){return e===Object(O.a)(t)},o._isMiddleSlide=function(e,t){return e>Object(S.a)(t)&&e<Object(O.a)(t)},o._handleClick=function(e){"prev"===e.target.getAttribute("data-direction")?this._imagePanel.prev(400):this._imagePanel.next(400)},o._refImagePanel=function(e){this._imagePanel=e},o._refPrevButton=function(e){this._prevButton=e},o._refNextButton=function(e){this._nextButton=e},o._handleReset=function(){this.setState({prevDisabled:!0,nextDisabled:!1})},t}(p.b.Component),u()(J.prototype,"_renderNavigators",[h.muteIfReadOnly],Object.getOwnPropertyDescriptor(J.prototype,"_renderNavigators"),J.prototype),u()(J.prototype,"_renderProgressBar",[h.muteIfReadOnly],Object.getOwnPropertyDescriptor(J.prototype,"_renderProgressBar"),J.prototype),u()(J.prototype,"_renderImageUnitWrapper",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_renderImageUnitWrapper"),J.prototype),u()(J.prototype,"_handleImagePanelResize",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleImagePanelResize"),J.prototype),u()(J.prototype,"_handleWindowResize",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleWindowResize"),J.prototype),u()(J.prototype,"_handleShowBar",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleShowBar"),J.prototype),u()(J.prototype,"_handleHideBar",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleHideBar"),J.prototype),u()(J.prototype,"_handleResize",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleResize"),J.prototype),u()(J.prototype,"_handleScroll",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleScroll"),J.prototype),u()(J.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleClick"),J.prototype),u()(J.prototype,"_refImagePanel",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_refImagePanel"),J.prototype),u()(J.prototype,"_refPrevButton",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_refPrevButton"),J.prototype),u()(J.prototype,"_refNextButton",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_refNextButton"),J.prototype),u()(J.prototype,"_handleReset",[h.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleReset"),J.prototype),J);X.propTypes={children:p.a.oneOfType([p.a.element,p.a.array]),i18n:p.a.func,documentWidth:p.a.number,slideViewHeight:p.a.number,useCase:p.a.instanceOf(E),groupStore:p.a.instanceOf(R.a).isRequired,contentMode:p.a.string},X.defaultProps={children:null,i18n:function(e){return e},documentWidth:700,slideViewHeight:420};var Q=Object(d.b)(X),Z=Q;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/view/slide-view.jsx",localName:t}})}catch(e){}}e(X,"SlideView"),e(Q,"default")}();var $=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.groupStore,o=e.children,n=t.images,r=this._convertToCollageData(n),i=this._renderCollageImages(r);return p.b.createElement("div",{className:"se-imageGroup-viewer"},i,o)},o._renderCollageImages=function(e){var t=this,o=0;return e.map(function(e,n){var r=e.images.map(function(e,r){return t._renderImage(e,n,r,o++)});return t._renderWrapper(r,n)})},o._renderWrapper=function(e,t){var o="image-group-collage-view-item-"+t;return p.b.createElement("div",{key:o,className:"se-imageGroup-item"},e)},o._renderImage=function(e,t,o){var n=this.props,r=n.i18n,i=n.useCase,a=n.groupStore,s="image-group-collage-view-"+e.id+"-"+t+"-"+o;return p.b.createElement(Y,{key:s,i18n:r,rowIndex:t,colIndex:o,useCase:i,groupStore:a,image:e})},o._convertToCollageData=function(e){return e.reduce(function(e,t){e.length||e.push({total:0,images:[]});var o=e[e.length-1];return o.total>=100?e.push({total:t.widthPercentage,images:[t]}):(o.images.push(t),o.total+=t.widthPercentage),e},[])},t}(p.b.Component);$.propTypes={children:p.a.oneOfType([p.a.element,p.a.array]),i18n:p.a.func,useCase:p.a.instanceOf(E),groupStore:p.a.instanceOf(R.a).isRequired},$.defaultProps={children:null};var ee=Object(d.b)($),te=ee;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/view/collage-view.jsx",localName:t}})}catch(e){}}e($,"CollageView"),e(ee,"default")}();var oe,ne=o(197),re=o(123),ie=(oe=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=this._renderImageView();return p.b.createElement(_.a,{blockWrapperProps:t,onDoubleClick:this._handleDoubleClick},Object(ne.a)({}),n,p.b.createElement(v.a,{store:t,i18n:o,onLimitTextLength:this._handleLimitTextLength}))},o._getAdditionalOption=function(){return{placeholder:(0,this.props.i18n)("imageGroupComponent:caption_placeholder")}},o._renderImageView=function(){var e=this.props,t=e.store,o=e.children,n=e.i18n,r=e.useCase,i=t.layout,a=t.place,s=t.contentMode,c=i===g.b.COLLAGE,l=this._resolveImageView(c),u={place:a,i18n:n,useCase:r,groupStore:t,contentMode:s};return c||(u.documentWidth=t.documentWidth,u.slideViewHeight=t.slideViewHeight),p.b.createElement(l,u,o,p.b.createElement(re.a,{compStore:t,isReady:!0,i18n:n}))},o._resolveImageView=function(e){return e?te:Z},o._handleDoubleClick=function(e){"BUTTON"!==e.target.tagName&&this.props.useCase.editGroupImage()},t}(b.a),u()(oe.prototype,"_handleDoubleClick",[h.autobind,h.muteIfReadOnly],Object.getOwnPropertyDescriptor(oe.prototype,"_handleDoubleClick"),oe.prototype),oe);ie.defaultProps={config:{}},ie.propTypes={store:p.a.instanceOf(R.a).isRequired,useCase:p.a.instanceOf(E).isRequired,children:p.a.oneOfType([p.a.element,p.a.array]),i18n:p.a.func,placeholder:p.a.string,config:p.a.object,onDblClickImage:p.a.func,onLimitTextLength:p.a.func};var ae,se=Object(d.b)(ie),ce=se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/view/image-group-section.jsx",localName:t}})}catch(e){}}e(ie,"ImageGroupSection"),e(se,"default")}();var le=(ae=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.layout||g.b.DEFAULT,a=t.contentMode||y.a.NORMAL,s=this._renderGroupImageSection();return p.b.createElement(f.a,{store:t,id:n,ctype:r,layout:i,contentMode:a,i18n:o},p.b.createElement(m.a,{compId:n,compStore:t},s))},o._renderGroupImageSection=function(){var e=this.props,t=e.i18n,o=e.children;return p.b.createElement(ce,a()({},this.props,{placeholder:t("imageGroupComponent:caption_placeholder"),onLimitTextLength:this._handleLimitTextLength}),o)},o._handleLimitTextLength=function(){this.props.useCase.exceedTextMaxLength()},t}(p.b.Component),u()(ae.prototype,"_handleLimitTextLength",[h.autobind,h.muteIfReadOnly],Object.getOwnPropertyDescriptor(ae.prototype,"_handleLimitTextLength"),ae.prototype),ae);le.defaultProps={children:null,i18n:function(e){return e}},le.propTypes={shouldForceRefresh:p.a.bool,store:p.a.instanceOf(R.a).isRequired,useCase:p.a.instanceOf(E).isRequired,i18n:p.a.func,children:p.a.oneOfType([p.a.element,p.a.array])};var ue=Object(d.b)(le),pe=ue;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/view/index.jsx",localName:t}})}catch(e){}}e(le,"ImageGroupComponentView"),e(ue,"default")}();var de=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=r.U.get("componentFactory"),t._selectionInfoStore=r.U.get("selectionInfoStore"),t._componentListStore=r.U.get("componentListStore"),t}c()(t,e);var o=t.prototype;return o.selectImageUnit=function(e,t){var o=t.getComponentActiveRange();o.start.compId=e.id,o.end.compId=e.id,this._selectionInfoStore.setRange(o)},o.selectImageGroupCompAsSingle=function(e){var t=this.getCompStoreByCompId(e).getComponentActiveRange();this._selectionInfoStore.setRange(t)},o.changeLayout=function(e,t){e.changeLayout(t)},o.insertData=function(e){this.getComponentStore(e.compId).insertData(e)},o.updateData=function(e){this.getComponentStore(e.compId).updateData(e)},o.updatePlace=function(e,t){e.updatePlace(t)},o.convertToGroupImage=function(e,t){var o=this._componentFactory.createComponentWithCompData({ctype:"imageGroup",layout:e,images:t});return o.updatePhase(r.M.PROCESSING),o},o.completeAll=function(e){e.stripUncompletedImage(),e.updatePhase(r.M.DONE)},o.getImageComponent=function(e,t){return e.getStoreById(t)},o.getPhaseInfoOfImages=function(e){return void 0===e&&(e={}),e.phaseInfoOfImages},o.getSelectedCompStore=function(){var e=this._selectionInfoStore.start.compId;return this._componentListStore.getComponentById(e)},o.cloneWithSelection=function(){var e=this._selectionInfoStore.start.compId,t=this._componentListStore.getComponentById(e),o=t.cloneComponent();return o.selection=t.selection,t.images.forEach(function(e,t){o.images[t].selection=e.selection}),o},o.getCompStoreByCompId=function(e){return this._componentListStore.getComponentById(e)},o.getSelectedImage=function(){var e=this.getSelectedCompStore(),t=this._selectionInfoStore.toValidJSON().start;return this.getImageComponent(e,t.unitId)},o.isComponentActivated=function(){var e=this._selectionInfoStore.toValidJSON().start;return e.compId===e.unitId},o.changeImageToShell=function(){this.getSelectedImage().setState({phase:r.M.PROCESSING})},o.updateShellImage=function(e,t){var o=this.getCompStoreByCompId(t),n=this.getImageComponent(o,e.id);this._updateShellImageBy(e,n),this.updateImageGroupRatio(o)},o._updateShellImageBy=function(e,t){t.setState({alt:e.fileName,height:parseInt(e.height,10),width:parseInt(e.width,10),originalWidth:parseInt(e.width,10),originalHeight:parseInt(e.height,10),domain:e.domain,path:e.path+"/"+e.fileName,fileSize:Number(e.fileSize),format:e.animatedCnt>1?r.C.ANIMATED:r.C.NORMAL,fileName:e.fileName,internalResource:!0,phase:r.M.DONE})},o.updatePhase=function(e,t){var o=e.format,n={phase:t};o!==r.C.PANORAMA&&o!==r.C.VR360||(n.displayFormat=r.C.NORMAL),e.setState(n)},o.updateComponentPhase=function(e,t){this.getComponentStore(t).updatePhase(e)},o.updateImageSize=function(e,t,o){e.updateImageSize(t,o)},o.updateImageGroupRatio=function(e){e.adjustImageGroupRatio(e.images)},t}(r.a),he=de,fe=he;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/service/index.js",localName:t}})}catch(e){}}e(de,"ImageGroupComponentService"),e(he,"default")}();var me,ge,ye=o(79),be=o(219),_e=o(272),ve=o(273),Ce=o(274),Se=o(275),Oe=o(17),ke=o.n(Oe),Ie=o(63),we=o(56),Pe=(me=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?we.b.BASIC:t,n=e.title,r=void 0===n?"imageGroupEdit:title":n,i=e.label,s=void 0===i?"imageGroupEdit:label":i,c=e.labelVisible,l=void 0===c||c,u=e.logId,d=void 0===u?"gimed":u,h=ke()(e,["type","title","label","labelVisible","logId"]);return p.b.createElement(Ie.a,a()({type:o,title:r,label:s,logId:d,labelVisible:l},h,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editGroupImage()},t}(p.b.Component),u()(me.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(me.prototype,"_handleClick"),me.prototype),me),je=Pe,Te=je;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/buttons/view/image-group-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(Pe,"ImageGroupEditRightLabelButton"),e(je,"default")}();var Le=(ge=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?we.b.BASIC:t,n=e.title,r=void 0===n?"imageGroupEditWithoutLabel:title":n,i=e.logId,s=void 0===i?"gimed":i,c=ke()(e,["type","title","logId"]);return p.b.createElement(Ie.a,a()({type:o,title:r,logId:s},c,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editGroupImage()},t}(p.b.Component),u()(ge.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(ge.prototype,"_handleClick"),ge.prototype),ge),Ee=Le,Ne=Ee;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/buttons/view/image-group-edit-button-view.jsx",localName:t}})}catch(e){}}e(Le,"ImageGroupEditButton"),e(Ee,"default")}();var xe,De=o(102),Re=(xe=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?we.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"imageGroupTypeChange:title":n,i=e.label,s=void 0===i?"imageGroupTypeChange:label":i,c=e.groups,l=void 0===c?[{value:"collage",title:"imageGroupTypeChange:collage_title",label:"imageGroupTypeChange:collage_label",logId:"gimcol"},{value:"slide",title:"imageGroupTypeChange:slide_title",label:"imageGroupTypeChange:slide_label",logId:"gimsl"}]:c,u=ke()(e,["type","title","label","groups"]);return p.b.createElement(De.a,a()({type:o,title:r,label:s,groups:l},u,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeType(e)},t}(p.b.Component),u()(xe.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(xe.prototype,"_handleChange"),xe.prototype),xe),Ae=Re,Ue=Ae;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/buttons/view/image-group-type-change-button-view.jsx",localName:t}})}catch(e){}}e(Re,"ImageGroupTypeChangeButtonView"),e(Ae,"default")}();var Me,Be,Fe,ze,We,Ve,Ge,He=o(739),qe=o(727),Je=(Me=Object(h.history)({sync:!1}),Be=Object(h.history)({sync:!1}),Fe=Object(h.history)({sync:!1}),ze=Object(h.history)({sync:!1}),We=Object(h.history)({sync:!1}),Ve=Object(h.history)({sync:!1}),Ge=function(e){function t(){var t;return(t=e.call(this)||this)._imageGroupComponentService=r.U.get("imageGroupComponentService"),t._imageGroupOrderLayerService=r.U.get("imageGroupOrderLayerService"),t._imageUploadService=r.U.get("imageUploadService"),t._editingService=r.U.get("editingService"),t._imageEditService=r.U.get("imageEditService"),t._imageBehavior=r.U.get("imageBehavior"),t._selectionInfoStore=r.U.get("selectionInfoStore"),t._canvasScrollingService=r.U.get("canvasScrollingService"),t._placeLayerService=r.U.get("placeLayerService"),t}c()(t,e);var o=t.prototype;return o.changeType=function(e){var t=e.value,o=this._imageGroupComponentService.getSelectedCompStore();o&&o.layout!==t&&(this._imageGroupComponentService.changeLayout(o,t),this._selectionInfoStore.setRange(o.getCompStartRange()),this._canvasScrollingService.scrollToFocus())},o.editGroupImage=function(){var e=this._imageGroupComponentService.getSelectedCompStore().cloneComponent();this._imageGroupOrderLayerService.open(e)},o.changeImage=function(){var e=j()(w.a.mark(function e(){var t,o,n,i=this;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._imageGroupComponentService.getSelectedCompStore(),o=this._imageGroupComponentService.getSelectedImage(),e.next=4,this._imageUploadService.openFileDialog();case 4:return n=e.sent,this._imageGroupComponentService.changeImageToShell(),e.next=8,this._imageBehavior.changeImage({targetStore:o,selectedImages:n}).then(function(e){var n=e.succeededImages,a=e.invalidImageErrors;n.forEach(function(e){var o=e.response;i._imageGroupComponentService.updateShellImage(o,t.id)}),a.length&&(i._imageGroupComponentService.selectImageUnit(t,o),i._imageGroupComponentService.updateComponentPhase(r.M.DONE,t.id),i._editingService.erase())});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._openPhotoEditor=function(){var e=j()(w.a.mark(function e(t){var o,n,r;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._imageGroupComponentService.isComponentActivated(),n=this._imageGroupComponentService.getSelectedImage(),r=o?n.images[0].id:n.id,e.next=5,this._imageEditService.editImage({activeCompId:r,direct:t});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.editImage=function(){var e=j()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.adjustImage=function(){var e=j()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("adjust");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.cropImage=function(){var e=j()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("crop");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.filterImage=function(){var e=j()(w.a.mark(function e(){return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("filter");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.editLocation=function(){var e=j()(w.a.mark(function e(){var t,o,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._imageGroupComponentService.getSelectedCompStore(),o=t.place,e.next=4,this._placeLayerService.editPlaces({isUpdateMode:!0,maxPlaceCount:1,initialPlaces:o?[o]:[]});case 4:(n=e.sent)&&this._imageGroupComponentService.updatePlace(t,n.places[0]);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t}(r.m),u()(Ge.prototype,"changeType",[h.preventOnComponentProcessing,h.history,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"changeType"),Ge.prototype),u()(Ge.prototype,"editGroupImage",[h.preventOnComponentProcessing,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"editGroupImage"),Ge.prototype),u()(Ge.prototype,"changeImage",[h.sentryCatch,h.preventOnComponentProcessing,Me,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"changeImage"),Ge.prototype),u()(Ge.prototype,"editImage",[h.sentryCatch,h.preventOnDocumentProcessing,Be,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"editImage"),Ge.prototype),u()(Ge.prototype,"adjustImage",[h.sentryCatch,h.preventOnDocumentProcessing,Fe,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"adjustImage"),Ge.prototype),u()(Ge.prototype,"cropImage",[h.sentryCatch,h.preventOnDocumentProcessing,ze,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"cropImage"),Ge.prototype),u()(Ge.prototype,"filterImage",[h.sentryCatch,h.preventOnDocumentProcessing,We,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"filterImage"),Ge.prototype),u()(Ge.prototype,"editLocation",[h.preventOnComponentProcessing,Ve,p.d],Object.getOwnPropertyDescriptor(Ge.prototype,"editLocation"),Ge.prototype),Ge);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/buttons/use-case/image-group-button-use-case.js",localName:t}})}catch(e){}}(Je,"ImageGroupButtonUseCase")}();var Ke={"image-edit-right-label":{view:be.a,useCase:Je,styleName:"image-edit"},"image-edit":{view:_e.a,useCase:Je,styleName:"image-edit"},"image-adjust":{view:ve.a,useCase:Je,styleName:"image-adjust"},"image-crop":{view:Ce.a,useCase:Je,styleName:"image-crop"},"image-filter":{view:Se.a,useCase:Je,styleName:"image-filter"},"image-group-edit-right-label":{view:Te,useCase:Je,styleName:"image-group-edit"},"image-group-edit":{view:Ne,useCase:Je,styleName:"image-group-edit"},"image-group-type-change":{view:Ue,useCase:Je,styleName:"image-group",propertyName:"layout"},"image-replacement":{view:He.a,useCase:Je,styleName:"image-replacement"},"image-location":{view:qe.a,useCase:Je,styleName:"image-location"}},Ye=Ke;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}(Ke,"default")}();var Xe={propertyToolbar:{align:Object(ye.a)("align-group"),"caption-align":Object(ye.a)("caption-align-group"),"image-edit-right-label":Ye["image-edit-right-label"],"image-group-edit-right-label":Ye["image-group-edit-right-label"],"image-group-type-change":Ye["image-group-type-change"],"content-mode":Object(ye.a)("content-mode-group-fit-and-extend"),"separator-bar":Object(ye.a)("separator-bar")},contextToolbar:{"caption-bold":Object(ye.a)("caption-bold"),"special-letter":Object(ye.a)("special-letter"),"caption-link":Object(ye.a)("caption-link"),"caption-align":Object(ye.a)("caption-align"),"image-replacement":Ye["image-replacement"],"image-edit":Ye["image-edit"],"image-group-edit":Ye["image-group-edit"],"image-group-type-change":Ye["image-group-type-change"],"content-mode":Object(ye.a)("content-mode-group-fit-and-extend"),delete:Object(ye.a)("delete"),"separator-bar":Object(ye.a)("separator-bar"),translation:Object(ye.a)("translation")},overlayToolbar:{"content-mode":Object(ye.a)("content-mode-group-fit-and-extend"),"image-filter":Ye["image-filter"],"image-adjust":Ye["image-adjust"],"image-group-edit-right-label":Ye["image-group-edit-right-label"],"image-location":Ye["image-location"],delete:Object(ye.a)("delete")}},Qe=Xe;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/image-group-button-set-map.js",localName:t}})}catch(e){}}(Xe,"default")}();var Ze=o(95),$e=function(e){var t=[];return e.selectedComponents[0].isCaptionFocused()?t.push("caption-align"):t.push("align"),t.push("separator-bar","image-edit-right-label","separator-bar","image-group-edit-right-label","separator-bar","image-group-type-change","separator-bar","content-mode"),t},et=function(e){var t=e.selectedComponents,o=e.selectionInfoStore;if(t.length>1)return[];var n=Object(S.a)(t);if(n.isCaptionFocused()){return["caption-align","separator-bar","caption-bold","special-letter","caption-link","separator-bar","translation"]}var r=o.start.unitId===n.id,i=n.images;if(r){var a=[];return i.every(ot)&&(i.some(nt)&&(a.push("image-edit"),a.push("separator-bar")),a.push("image-group-edit")),[].concat(a,["separator-bar","image-group-type-change","separator-bar","content-mode","separator-bar","delete"])}var s=tt(n,o);if(!s||!ot(s))return[];var c=["image-replacement"];return nt(s)&&c.push("image-edit"),c},tt=function(e,t){var o=t.start.unitId;return Object(Ze.a)(e.images,function(e){return e.id===o})},ot=function(e){return e.isUploaded},nt=function(e){return"normal"===e.displayFormat&&!0===e.internalResource},rt={propertyToolbar:$e,contextToolbar:et,overlayToolbar:function(){return{fixedButtonSets:{top:["content-mode"],bottom:["image-filter","image-adjust","image-group-edit-right-label","image-location","delete"]}}}},it=rt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/image-group-button-resolver.js",localName:t}})}catch(e){}}e($e,"propertyToolbarButtonSetResolver"),e(et,"contextToolbarButtonSetResolver"),e(tt,"getActivatedImage"),e(ot,"isUploaded"),e(nt,"hasEditableImage"),e(rt,"default")}();var at=function(e){function t(){return e.call(this,{buttonSetMap:Qe,buttonResolver:it})||this}return c()(t,e),t}(r.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/toolbar/index.js",localName:t}})}catch(e){}}(at,"ImageGroupComponentToolbar")}();var st=r.q.extend({name:"ImageGroupComponent",view:pe,useCase:E,service:fe,store:R.a,toolbar:at}),ct=st;t.a=ct;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/index.js",localName:t}})}catch(e){}}e(st,"ImageGroupComponent"),e(ct,"default")}()},143:function(e,t,o){"use strict";var n,r,i,a,s=o(51),c=o(55),l=o.n(c),u=o(0),p=o.n(u),d=o(50),h=o.n(d),f=o(52),m=o(49),g=o(347),y=o(82),b=o(83),_=o(417),v=o(667),C=o(172),S=o(411),O=o(12),k=o.n(O),I=o(18),w=o.n(I),P=(n=Object(f.history)({sync:!1}),r=Object(f.history)({sync:!1}),i=function(e){function t(){var t;t=e.call(this)||this;var o=s.U.get("configAgent");return t._maxLength=o.get("plugins.componentSettings.image.config.caption.maxLength"),t._imageEditService=s.U.get("imageEditService"),t._imageUploadService=s.U.get("imageUploadService"),t._imageComponentService=s.U.get("imageComponentService"),t._panoramaImageService=s.U.get("panoramaImageService"),t._imageLocationEditLayerService=s.U.get("imageLocationEditLayerService"),t._alertLayerService=s.U.get("alertLayerService"),t._propertyChangeService=s.U.get("propertyChangeService"),t._toastLayerService=s.U.get("toastLayerService"),t._libraryPanelLayoutService=s.U.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._propertyToolbarLayoutService=s.U.get("propertyToolbarLayoutService"),t._imageBehavior=s.U.get("imageBehavior"),t._i18n=s.U.get("i18n"),t._placeLayerService=s.U.get("placeLayerService"),t}p()(t,e);var o=t.prototype;return o.togglePanoramaDisplay=function(e){var t=this;this._imageComponentService.isTaggedImage(e)?this._alertLayerService.open({type:"confirm",title:this._i18n("imageTag:confirm_added_tag_title"),description:this._i18n("imageTag:confirm_convert_to_vr360_description"),onClickConfirm:function(){return t._confirmPanoramaDisplay(e)},onClickCancel:function(){return t._alertLayerService.close()}}):this._panoramaImageService.togglePanoramaDisplay(e)},o._confirmPanoramaDisplay=function(e){this._imageComponentService.removeMediaTag(e),this._panoramaImageService.togglePanoramaDisplay(e)},o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId;s.U.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o}),this._libraryPanelLayoutService.updateMediaList()},o.changeImage=function(){var e=w()(k.a.mark(function e(t){var o,n=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:return o=e.sent,e.next=5,this._imageBehavior.changeImage({targetStore:t,selectedImages:o}).then(function(e){var t=e.invalidImageErrors;return n._imageBehavior.cleanUpImage(t),e});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.editImage=function(){var e=w()(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageEditService.editImage({activeCompId:t});case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.openLocationEditLayer=function(e,t){var o=this;this._imageLocationEditLayerService.open({onClickRemove:function(){o._imageComponentService.updatePlace(e,null)},onClickChange:function(){var n=w()(k.a.mark(function n(){var r;return k.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o._placeLayerService.editPlaces({isUpdateMode:!0,maxPlaceCount:1,initialPlaces:[t]});case 2:(r=n.sent)&&o._imageComponentService.updatePlace(e,r.places[0]);case 4:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}()})},o.attachLocation=function(){var e=w()(k.a.mark(function e(t,o,n){var r,i;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r={isUpdateMode:!0,maxPlaceCount:1},o?r.initialPlaces=[o]:n&&(r.initialPlaces=[{latlng:{latitude:n.latitude,longitude:n.longitude}}]),e.next=4,this._placeLayerService.editPlaces(r);case 4:i=e.sent,this._imageComponentService.updatePlace(t,i.places[0]);case 6:case"end":return e.stop()}},e,this)}));return function(t,o,n){return e.apply(this,arguments)}}(),o.exceedTextMaxLength=function(){this._toastLayerService.warningMessage(this._i18n("imageComponent:exceed_text_max_length",{maxLength:this._maxLength}))},o.handleMouseUpOnResizer=function(e,t,o){this._imageComponentService.updateImageSize(e.id,t,o)},o.completeImageLoad=function(e){this._imageComponentService.completeImageLoad(e)},o.changeLink=function(e){var t=e.value.trim();if(this._propertyChangeService.isValidLink(t))this._imageComponentService.removeMediaTag(),this._propertyChangeService.changeLink({type:"url",value:t});else{var o=this._i18n("textComponent:is_valid_link");this._toastLayerService.warningMessage(o)}},o.toggleButton=function(e){var t=this,o=e.id;e.showConfirm&&"image-link"===o&&this._imageComponentService.isTaggedImage()?this._alertLayerService.open({type:"confirm",title:this._i18n("imageTag:confirm_added_tag_title"),description:this._i18n("imageTag:confirm_convert_to_link_description"),onClickConfirm:function(){return t._confirmToggle(o)},onClickCancel:function(){return t._alertLayerService.close()}}):this._propertyToolbarLayoutService.toggleButton(o)},o._confirmToggle=function(e){this._propertyToolbarLayoutService.toggleButton(e)},t}(s.c),h()(i.prototype,"togglePanoramaDisplay",[f.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"togglePanoramaDisplay"),i.prototype),h()(i.prototype,"_confirmPanoramaDisplay",[f.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"_confirmPanoramaDisplay"),i.prototype),h()(i.prototype,"setRepresentativeImage",[f.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"setRepresentativeImage"),i.prototype),h()(i.prototype,"changeImage",[n,m.d],Object.getOwnPropertyDescriptor(i.prototype,"changeImage"),i.prototype),h()(i.prototype,"editImage",[f.preventOnDocumentProcessing,r,m.d],Object.getOwnPropertyDescriptor(i.prototype,"editImage"),i.prototype),h()(i.prototype,"openLocationEditLayer",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"openLocationEditLayer"),i.prototype),h()(i.prototype,"attachLocation",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"attachLocation"),i.prototype),h()(i.prototype,"exceedTextMaxLength",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"exceedTextMaxLength"),i.prototype),h()(i.prototype,"handleMouseUpOnResizer",[f.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"handleMouseUpOnResizer"),i.prototype),h()(i.prototype,"completeImageLoad",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"completeImageLoad"),i.prototype),h()(i.prototype,"changeLink",[f.preventOnComponentProcessing,f.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"changeLink"),i.prototype),h()(i.prototype,"toggleButton",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"toggleButton"),i.prototype),i),j=P,T=j;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/use-case/index.js",localName:t}})}catch(e){}}e(P,"ImageComponentUseCase"),e(j,"default")}();var L=(a=function(e){function t(t){var o;return(o=e.call(this,t)||this)._editorStatusStore=s.U.get("editorStatusStore"),o._deviceType=s.U.get("configAgent").get("productEnv.deviceType"),o}p()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.layout||C.b.DEFAULT,a=t.contentMode||C.a.NORMAL;return m.b.createElement(y.a,{id:n,ctype:r,layout:i,contentMode:a,i18n:o},m.b.createElement(b.a,{compId:n,compStore:t},m.b.createElement(_.a,l()({},this.props,{useMediaTag:!0,onDblClickImage:this._handleDblClickImage,onClickPanoramaDisplay:this._handleToggleVR360Display,onClickRepresentative:this._handleClickRepresentative,onClickLocation:this._handleClickLocation,onCompleteImage:this._handleCompleteImage,onLimitTextLength:this._handleLimitTextLength,onMoveToNext:this._handleMoveToNext,onMoveToPrev:this._handleMoveToPrev,resizable:this._isResizable()}),this.props.children)))},o._isResizable=function(){var e=this.props.store,t=e.displayFormat,o=e.phase;return[s.C.NORMAL,s.C.ANIMATED].includes(t)&&this._deviceType!==s.t.MOBILE&&this._editorStatusStore.viewMode===s.S.VIEW_MODE_PC&&o===s.M.DONE},o._handleDblClickImage=function(){var e=this.props,t=e.useCase,o=e.store,n=o.id,r=o.format,i=o.internalResource,a=o.src;r===s.C.NORMAL&&i&&a.toLowerCase().indexOf(".gif")<0?t.editImage(n):t.changeImage(o)},o._handleToggleVR360Display=function(){var e=this.props,t=e.useCase,o=e.store;t.togglePanoramaDisplay(o.id)},o._handleClickRepresentative=function(e){var t=this.props,o=t.store;t.useCase.setRepresentativeImage({compId:o.id,unitId:o.id}),v.a.log(e.nativeEvent,"imect.rep")},o._handleClickLocation=function(){var e=this.props,t=e.store;e.useCase.openLocationEditLayer(t.id,t.place)},o._handleCompleteImage=function(){var e=this.props,t=e.store,o=e.useCase;o.completeImageLoad(t.id),o.repaintCursor()},o._handleLimitTextLength=function(){this.props.useCase.exceedTextMaxLength()},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(m.b.Component),h()(a.prototype,"_handleDblClickImage",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleDblClickImage"),a.prototype),h()(a.prototype,"_handleToggleVR360Display",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleToggleVR360Display"),a.prototype),h()(a.prototype,"_handleClickRepresentative",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleClickRepresentative"),a.prototype),h()(a.prototype,"_handleClickLocation",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleClickLocation"),a.prototype),h()(a.prototype,"_handleCompleteImage",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleCompleteImage"),a.prototype),h()(a.prototype,"_handleLimitTextLength",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleLimitTextLength"),a.prototype),h()(a.prototype,"_handleMoveToPrev",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleMoveToPrev"),a.prototype),h()(a.prototype,"_handleMoveToNext",[f.autobind],Object.getOwnPropertyDescriptor(a.prototype,"_handleMoveToNext"),a.prototype),a);L.defaultProps={i18n:function(e){return e}},L.propTypes={shouldForceRefresh:m.a.bool,store:m.a.instanceOf(S.a).isRequired,useCase:m.a.instanceOf(T).isRequired,i18n:m.a.func,children:m.a.oneOfType([m.a.element,m.a.array])};var E=Object(g.b)(L),N=E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/view/index.jsx",localName:t}})}catch(e){}}e(L,"ImageComponentView"),e(E,"default")}();var x=o(59),D=o.n(x),R=o(75),A=o(121),U=o(74),M=o(66),B=o(16),F=o(1215),z={BLOB:"blob",DATA_URI:"data-uri"},W=function(){function e(e){this._source=e,this._sourceType=this._resolveSourceType(e),this._imageInfo=this._getBaseInfoFrom(e),null===this._sourceType&&console.debug("[DEBUG] 처리할 수 없는 데이터 형식입니다.")}var t=e.prototype;return t._getBaseInfoFrom=function(e){var t={};if(this._sourceType===z.BLOB){var o=e.type,n=Object(F.a)(e.name,"match",/.(heic|heif)/);!e.type&&n&&(o="image/"+n[1]);var r=Object(U.a)(o.split("/"));t={name:e.name,type:o,ext:r}}else if(this._sourceType===z.DATA_URI){var i=e.match(/data:(.+);/),a=Object(U.a)(i),s=Object(U.a)(a.split("/"));t={name:this._generateNewImageName()+"."+s,type:a,ext:s}}return t},t._generateNewImageName=function(){return"SE_IMAGE_"+((new Date).getTime()+"_"+Math.ceil(1e4*Math.random()))},t._resolveSourceType=function(e){var t=Object(B.a)(e,"name","");return Object(B.a)(e,"type")||Object(F.a)(t,"match",/.heic|.heif/)?z.BLOB:Object(F.a)(e,"match",/^data:/)?z.DATA_URI:null},t.getInfo=function(){var e=w()(k.a.mark(function e(){var t,o,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this._source,o=this._resolveImageSource(t),e.next=5,this._getImageInfo(o);case 5:return n=e.sent,URL.revokeObjectURL(o),e.abrupt("return",D()({},this._imageInfo,{width:n.width,height:n.height}));case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(){return e.apply(this,arguments)}}(),t._resolveImageSource=function(e){var t=e;return this._sourceType===z.DATA_URI&&(t=this._dataURItoBlob(e)),URL.createObjectURL(t)},t._getImageInfo=function(e){var t=this;return new Promise(function(o,n){var r=new Image;r.onload=function(e){var n=e.currentTarget;o({width:n.width,height:n.height}),t._fixForIE10GarbageCollectingError(n)},r.onerror=n,r.src=e})},t._fixForIE10GarbageCollectingError=function(e){e.style.display="none",document.body.appendChild(e),document.body.removeChild(e)},t._dataURItoBlob=function(e){for(var t=atob(e.split(",")[1]),o=e.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(t.length),r=new Uint8Array(n),i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return new Blob([n],{type:o})},e}(),V=W,G=V;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/local-image-file/index.js",localName:t}})}catch(e){}}e(z,"SOURCE_TYPE"),e(W,"LocalImageFile"),e(V,"default")}();var H=o(212),q=o(666),J=o(526),K=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=s.U.get("configAgent"),t._selectionInfoStore=s.U.get("selectionInfoStore"),t._componentListStore=s.U.get("componentListStore"),t._componentFactory=s.U.get("componentFactory"),t._toastLayerService=s.U.get("toastLayerService"),t._i18n=s.U.get("i18n"),t._maxImageUploadSize=t._configAgent.get("infraConfig.image.maxImageUploadSize")||Number.MAX_SAFE_INTEGER,t._maximumImagesPerUpload=t._configAgent.get("infraConfig.image.maximumImagesPerUpload")||Number.MAX_SAFE_INTEGER,t._documentWidth=t._configAgent.get("productConfig.documentWidth"),t}p()(t,e);var o=t.prototype;return o.validateImageFiles=function(){var e=w()(k.a.mark(function e(t){var o,n,r=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=1,e.next=3,Promise.all(Object(R.a)(t,function(){var e=w()(k.a.mark(function e(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(H.a.isWindows()&&o>r._maximumImagesPerUpload)){e.next=4;break}return e.abrupt("return",{isValid:!1,fileInfo:null,file:t,code:"LIMITATION_BY_SESSION_COUNT"});case 4:if(!(t.size>r._maxImageUploadSize)){e.next=8;break}return e.abrupt("return",{isValid:!1,fileInfo:null,file:t,code:"LIMITATION_BY_SESSION_SIZE"});case 8:if(0!==t.size){e.next=12;break}return e.abrupt("return",{isValid:!1,fileInfo:null,file:t,code:"INVALID_PARAMETER"});case 12:o++;case 13:return e.next=15,r._getSourceInfoFromFile(t);case 15:if(!(n=e.sent)){e.next=20;break}return e.abrupt("return",{isValid:!0,fileInfo:n,file:t});case 20:return e.abrupt("return",{isValid:!1,fileInfo:null,file:t});case 21:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),o.createFileUploadData=function(){var e=w()(k.a.mark(function e(t){var o,n,r,i,a=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=[],n=[],r=[],e.next=5,this.validateImageFiles(t);case 5:return e.sent.forEach(function(e){var t,i=e.isValid,s=e.file,c=e.fileInfo,l=e.code;if(i)(t=a._createShellWithImage(c)).locationEditable||a.showLocationMinimumImageWidthWarning(),o.push({id:t.id,file:s});else{var u={id:(t=a._createDefaultRatioShell()).id,file:s};l&&(u.code=l),n.push(u)}r.push(t)}),i=this._getUploadTarget(o),e.abrupt("return",{imageCompStores:r,uploadTarget:i,invalidImages:n});case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._getUploadTarget=function(e){var t=[],o=[];return e.forEach(function(e){t.push(e.id),o.push(e.file)}),{ids:t,files:o}},o._createDefaultRatioShell=function(e){var t=this._documentWidth;return this._componentFactory.createComponentWithCompData({width:t,height:t*(9/16),phase:s.M.PROCESSING,ctype:"image",internalResource:!0,origin:e||{ctype:"imageOrigin",srcFrom:"local"}})},o._createShellWithImage=function(e){return this._componentFactory.createComponentWithCompData({name:e.name,alt:e.name,height:e.height,width:e.width,phase:s.M.PROCESSING,ctype:"image",internalResource:!0,origin:e.origin||{ctype:"imageOrigin",srcFrom:"local"}})},o.createShellsFromUrl=function(){var e=w()(k.a.mark(function e(t,o){var n,r,i=this;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(Object(R.a)(t,function(){var e=w()(k.a.mark(function e(t){var n,r;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._getSourceInfoFromUrl(t,o);case 2:if(!(n=e.sent)){e.next=7;break}return e.abrupt("return",i._createShellWithImage(n));case 7:return r={ctype:"imageOrigin",srcFrom:o},e.abrupt("return",i._createDefaultRatioShell(r));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:return n=e.sent,r=this._getCompIdList(n),e.abrupt("return",{imageCompStores:n,ids:r});case 5:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.createShellsFromCompData=function(e){var t=this,o=Object(R.a)(e,function(e){var o=D()({},e,{src:"",phase:s.M.PROCESSING});return t._componentFactory.createComponentWithCompData(o)});return{imageCompStores:o,ids:this._getCompIdList(o)}},o._getCompIdList=function(e){return e.map(function(e){return e.id})},o._getUpdateShellComp=function(){var e=w()(k.a.mark(function e(t){var o;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!q.a.isFile(t)&&!q.a.isBlob(t)){e.next=8;break}return e.next=4,this._getLocalFileInfo(t);case 4:return o=e.sent,e.abrupt("return",this._adjustImageInfo(o));case 8:if(!J.a.isValidURL(t)&&!J.a.isDataURIImage(t)){e.next=13;break}return e.next=11,this._getFileInfoFromUrl(t);case 11:return o=e.sent,e.abrupt("return",o);case 13:e.next=18;break;case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}},e,this,[[0,15]])}));return function(t){return e.apply(this,arguments)}}(),o._getSourceInfoFromFile=function(){var e=w()(k.a.mark(function e(t){var o,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(q.a.isFile(t)||q.a.isBlob(t)||J.a.isDataURIImage(t))){e.next=11;break}return e.next=3,new G(t).getInfo();case 3:if(!(o=e.sent)){e.next=10;break}return(n=this._adjustImageInfo(o)).origin=t.origin,e.abrupt("return",n);case 10:return e.abrupt("return",D()({},t,{width:this._documentWidth,height:this._documentWidth/4*3}));case 11:return e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._getSourceInfoFromUrl=function(){var e=w()(k.a.mark(function e(t,o){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!J.a.isValidURL(t)&&!J.a.isDataURIImage(t)){e.next=7;break}return e.next=4,this._getFileInfoFromUrl(t);case 4:return n=e.sent,o&&(n.origin={ctype:"imageOrigin",srcFrom:o}),e.abrupt("return",n);case 7:return e.abrupt("return",null);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",null);case 13:case"end":return e.stop()}},e,this,[[0,10]])}));return function(t,o){return e.apply(this,arguments)}}(),o._getFileInfoFromUrl=function(e){return new Promise(function(t,o){var n=new Image;n.onload=function(e){var o=e.currentTarget;t({width:o.width,height:o.height,originalWidth:o.width,originalHeight:o.height})},n.onerror=function(){o(e)},n.src=e})},o._getLocalFileInfo=function(){var e=w()(k.a.mark(function e(t){var o,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=new G(t),e.next=3,o.getInfo();case 3:return n=e.sent,o=null,e.abrupt("return",n);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),o._adjustImageInfo=function(e){return{name:e.name,width:e.width,height:e.height}},o._getAllImageComponents=function(){return this._componentListStore.getComponentsByCtype("image")},o.checkLimitedSize=function(e){var t=e.value,o=t.width,n=t.height,r=!1,i=!1,a=!1;return(t.isApplyAllChecked?this._getAllImageComponents():this.getSelectedImageCompList()).forEach(function(e){!r&&e.isLonggerThanDocumentWidth(o,n)?r=!0:!a&&e.isSmallerThanMinimumWidth(o,n)&&(a=!0),!i&&e.isSmallerThanMinimumHeight(o,n)&&(i=!0)}),{hasBiggerThanContentWidth:r,hasSmallerThanMinHeight:i,hasSmallerThanMinWidth:a}},o.getSelectedImageCompList=function(){var e=["image","wrappingParagraph"],t=this._selectionInfoStore.toValidJSON().compIdMap,o=Object.keys(t);return this._componentListStore.compList.filter(function(e){return o.includes(e.id)}).filter(function(t){return e.includes(t.ctype)}).map(function(e){return"wrappingParagraph"===e.ctype?e.wrappedSection:e})},o.getSelectedSingleImageCompList=function(){var e=["image"],t=this._selectionInfoStore.toValidJSON().compIdMap,o=Object.keys(t);return this._componentListStore.compList.filter(function(e){return o.includes(e.id)}).filter(function(t){return e.includes(t.ctype)}).map(function(e){return e})},o.getFirstSelectedImageComp=function(){return Object(A.a)(this.getSelectedImageCompList())},o.updateShellImageCompStore=function(e,t){var o=this.getComponentStore(e);o&&this.changeImage(o,t)},o.updateImageSize=function(e,t,o){this.getComponentStore(e).updateImageSize(t,o)},o.changeImage=function(e,t){var o=this._configAgent.get("infraInfo.photoInfra.imageHost"),n=t.animatedCnt>1,r=t.path,i=t.fileName,a=t.fileSize,c=t.width,l=t.height,u=t.domain||e.domain||o,p=e.contentMode,d={alt:i,height:parseInt(l,10),width:parseInt(c,10),originalWidth:parseInt(c,10),originalHeight:parseInt(l,10),path:J.a.getEncodeUrl(r+"/"+i),fileSize:parseInt(a,10),format:n?s.C.ANIMATED:s.C.NORMAL,fileName:i,internalResource:!0,phase:s.M.DONE,domain:u};t.displayFormat&&!n&&(d.displayFormat=t.displayFormat),e.setState(d),e.changeContentMode(p)},o.changeImageByState=function(e,t){e.setState(t)},o.updatePlace=function(e,t){this.getComponentStore(e).updatePlace(t)},o.completeImageLoad=function(e){this.getComponentStore(e).completeImageLoad()},o.convertImageToNode=function(){var e=this.getSelectedSingleImageCompList();this._toTextCompFrom(e);var t=this._selectionInfoStore.toValidJSON(),o=this._componentListStore.refineComponentList(t);this._selectionInfoStore.setRange(o)},o._toTextCompFrom=function(e){var t=this,o=[];e.forEach(function(e){var n=t._createTextCompFrom(e);o.push(n.getEndPoint()),t._componentListStore.replace(e,n),t._mergeFrom(n)});var n=Object(U.a)(o);this._selectionInfoStore.setRange({start:n,end:n})},o._createTextCompFrom=function(e){return this._componentFactory.createComponentWithCompData({ctype:"text",value:[{ctype:"paragraph",style:{align:e.align},nodes:[{ctype:"imageNode",id:e.id,src:e.src,internalResource:e.internalResource,represent:e.represent,path:e.path,domain:e.domain,width:e.width,height:e.height,fileSize:e.fileSize,fileName:e.fileName}]}]})},o._isEqualParagraphAlign=function(e,t){var o=e.getLastParagraph().computedStyle,n=t.getFirstParagraph().computedStyle;return o.align===n.align},o._mergeFrom=function(e){var t=this._componentListStore.getNextComponent(e);t&&"text"===t.attributes.insertion&&this._isEqualParagraphAlign(e,t)&&(e.append([t]),this._componentListStore.deleteComponentById(t.id))},o.activateUnit=function(e){var t=e.compId,o=e.unitId;this._selectionInfoStore.setRange({start:{compId:t,unitId:o,paraId:null,nodeId:null,offset:0},end:{compId:t,unitId:o,paraId:null,nodeId:null,offset:1}})},o.isLinkedImage=function(e){var t=this.getComponentStore(e);return!Object(M.a)(t.link)},o.removeLink=function(e){this.getComponentStore(e).removeImageLink()},o.isTaggedImage=function(e){var t=e?this.getComponentStore(e):this.getFirstSelectedImageComp();return!(![s.C.NORMAL,s.C.ANIMATED].includes(t.displayFormat)||Object(M.a)(t.mediaTags))},o.getMediaTagData=function(e){var t=this.getComponentStore(e);return{mediaTags:t.getMediaTagData(),src:t.src,width:t.width,height:t.height}},o.updateMediaTag=function(e,t){this.getComponentStore(e).updateMediaTag(t)},o.removeMediaTag=function(e){var t=e?this.getComponentStore(e):this.getFirstSelectedImageComp();t&&t.removeMediaTag()},o.showLocationMinimumImageWidthWarning=function(){this._toastLayerService.warningMessage(this._i18n("imageComponent:min_width_location_edit"))},t}(s.a),Y=K,X=Y;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/service/index.js",localName:t}})}catch(e){}}e(K,"ImageComponentService"),e(Y,"default")}();var Q,Z=o(79),$=o(17),ee=o.n($),te=o(524),oe=o(192),ne=o(56),re=o(397),ie=(Q=function(e){function t(){return e.apply(this,arguments)||this}p()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?ne.b.CUSTOM_LAYER:t,n=e.value,r=void 0===n?"":n,i=e.title,a=void 0===i?{inactive:"link:title_inactive",active:"link:title_active"}:i,s=e.label,c=void 0===s?"link:label":s,u=e.labelVisible,p=void 0!==u&&u,d=e.selectIfHasValue,h=void 0===d||d,f=e.onValidateValue,g=void 0===f?te.a.hasValue:f,y=e.custom,b=void 0===y?{CustomLayer:re.a,customProps:{placeholder:"link:custom_placeholder",applyLabel:"link:apply_label"}}:y,_=e.logId,v=void 0===_?"urllink":_,C=ee()(e,["type","value","title","label","labelVisible","selectIfHasValue","onValidateValue","custom","logId"]);return m.b.createElement(oe.a,l()({},C,{type:o,title:a,label:c,labelVisible:p,selectIfHasValue:h,onValidateValue:g,logId:v,custom:b,onClick:this._handleClick,onChange:this._handleChange,value:r||""}))},o._handleClick=function(e){this.props.useCase.toggleButton(e)},o._handleChange=function(e){this.props.useCase.changeLink(e),this.props.onClickSelector(e)},t}(m.b.Component),h()(Q.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Q.prototype,"_handleClick"),Q.prototype),h()(Q.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Q.prototype,"_handleChange"),Q.prototype),Q),ae=ie,se=ae;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/toolbar/buttons/view/link-button-view.jsx",localName:t}})}catch(e){}}e(ie,"LinkButtonView"),e(ae,"default")}();var ce={"image-link":{view:se,useCase:T,propertyName:"link.value",styleName:"link"}},le=ce,ue=le;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(ce,"buttons"),e(le,"default")}();var pe={propertyToolbar:{"image-replacement":Object(Z.a)("image-replacement"),"image-edit-right-label":Object(Z.a)("image-edit-right-label"),"image-resizing":Object(Z.a)("image-resizing"),align:Object(Z.a)("align-group"),"caption-align":Object(Z.a)("caption-align-group"),"content-mode":Object(Z.a)("content-mode-group"),"content-mode-without-default":Object(Z.a)("content-mode-group-without-default"),"content-mode-fit-and-extend":Object(Z.a)("content-mode-group-fit-and-extend"),"content-mode-without-pagefull":Object(Z.a)("content-mode-group-without-pagefull"),"wrapping-layout":Object(Z.a)("wrapping-layout-drop-down"),"image-link":ue["image-link"],"inline-image":Object(Z.a)("inline-image"),"separator-bar":Object(Z.a)("separator-bar"),"image-tag":Object(Z.a)("image-tag")},contextToolbar:{"caption-bold":Object(Z.a)("caption-bold"),"special-letter":Object(Z.a)("special-letter"),"caption-link":Object(Z.a)("caption-link"),"caption-align":Object(Z.a)("caption-align"),"cycle-align":Object(Z.a)("cycle-align"),"image-edit":Object(Z.a)("image-edit"),"content-mode":Object(Z.a)("content-mode-group"),"content-mode-without-default":Object(Z.a)("content-mode-group-without-default"),"content-mode-fit-and-extend":Object(Z.a)("content-mode-group-fit-and-extend"),"content-mode-without-pagefull":Object(Z.a)("content-mode-group-without-pagefull"),delete:Object(Z.a)("delete"),"separator-bar":Object(Z.a)("separator-bar"),"image-tag":Object(Z.a)("image-tag"),translation:Object(Z.a)("translation")},overlayToolbar:{"content-mode":Object(Z.a)("content-mode-group-without-default"),"image-crop":Object(Z.a)("image-crop"),"image-filter":Object(Z.a)("image-filter"),"image-adjust":Object(Z.a)("image-adjust"),"image-location":Object(Z.a)("image-location"),delete:Object(Z.a)("delete")}},de=pe;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/toolbar/image-button-set-map.js",localName:t}})}catch(e){}}(pe,"default")}();var he=o(116);function fe(e){return["vr360","panorama"].includes(e.displayFormat)}function me(e){return"normal"!==e.displayFormat||!1===e.internalResource}var ge=function(e){var t=e.selectedComponents,o=[],n=t.length,r=Object(he.a)(t,function(e){return["normal","animated"].includes(e.displayFormat)}),i=Object(he.a)(t,fe),a=Object(he.a)(t,me),s=Object(he.a)(t,function(e){return e.imageTagEnabled});return t[0].isCaptionFocused()?o.push("caption-align"):o.push("align"),1===n&&o.push("separator-bar","image-replacement"),i?(o.push("separator-bar","content-mode-fit-and-extend"),o):(!1===a&&o.push("separator-bar","image-edit-right-label"),r?(o.push("separator-bar","image-resizing"),o.push("separator-bar","content-mode-without-pagefull"),1===n?o.push("separator-bar","wrapping-layout"):o.push("separator-bar"),o.push("inline-image"),1===n&&s?o.push("separator-bar","image-tag","image-link"):o.push("separator-bar","image-link")):o.push("separator-bar","content-mode-fit-and-extend"),o)},ye=function(e){var t=e.selectedComponents,o=[],n=Object(he.a)(t,fe),r=Object(he.a)(t,me),i=1===t.length,a=Object(he.a)(t,function(e){return e.imageTagEnabled});if(i){var s=t[0];if(s.isCaptionFocused()){return["caption-align","separator-bar","caption-bold","special-letter","caption-link","separator-bar","translation"]}s.contentMode===C.a.NORMAL&&o.push("cycle-align","separator-bar")}return!1===r&&o.push("image-edit","separator-bar"),n?o.push("content-mode-fit-and-extend"):(o.push("content-mode-without-pagefull"),a&&o.push("separator-bar","image-tag")),o.push("separator-bar","delete"),o},be=function(e){var t=e.selectedComponents,o=t[0],n=[],r=[],i=Object(he.a)(t,me);return(o.isLonggerThanDocumentWidth(o.width)||o.isWidthEqualToDocumentWidth(o.width))&&n.push("content-mode"),!1===i&&r.push("image-crop","image-filter","image-adjust"),r.push("image-location","delete"),{fixedButtonSets:{top:n,bottom:r}}},_e={propertyToolbar:ge,contextToolbar:ye,overlayToolbar:be},ve=_e;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/toolbar/image-button-resolver.js",localName:t}})}catch(e){}}e(fe,"isVrOrPanorama"),e(me,"isUnEditableImage"),e(ge,"propertyToolbarButtonSetResolver"),e(ye,"contextToolbarButtonSetResolver"),e(be,"overlayToolbarButtonSetResolver"),e(_e,"default")}();var Ce=function(e){function t(){return e.call(this,{buttonSetMap:de,buttonResolver:ve})||this}return p()(t,e),t}(s.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Ce,"ImageComponentToolbar")}();var Se=s.q.extend({name:"ImageComponent",view:N,useCase:T,service:X,store:S.a,toolbar:Ce}),Oe=Se;t.a=Oe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/index.js",localName:t}})}catch(e){}}e(Se,"ImageComponent"),e(Oe,"default")}()},149:function(e,t,o){"use strict";var n,r=o(50),i=o.n(r),a=o(51),s=o(49),c=o(52),l=(n=function(){function e(){this._chatLayerService=a.U.get("chatLayerService"),this._chatComponentService=a.U.get("chatComponentService"),this._alertLayerService=a.U.get("alertLayerService"),this._toastLayerService=a.U.get("toastLayerService"),this._documentService=a.U.get("documentService"),this._storageService=a.U.get("storageService"),this._editingService=a.U.get("editingService"),this._i18n=a.U.get("i18n")}var t=e.prototype;return t.close=function(){this._chatLayerService.close()},t.addMessage=function(e){this._chatLayerService.addMessage(e)},t.addWriter=function(){this._chatLayerService.addWriter()},t.toggleDragging=function(e){this._chatLayerService.toggleDragging(e)},t.editMessage=function(e){this._chatLayerService.editMessage(e)},t.editWriter=function(e){this._chatLayerService.editWriter(e)},t.completeMessageEditing=function(){this._chatLayerService.completeMessageEditing()},t.completeWriterEditing=function(e,t){this._chatLayerService.completeWriterEditing(e,t)},t.deleteMessage=function(e){this._chatLayerService.deleteMessage(e)},t.changeOrder=function(e,t){this._chatLayerService.changeOrder(e,t)},t.changeEditingText=function(e){this._chatLayerService.changeEditingText(e)},t.selectWriter=function(e){this._chatLayerService.selectWriter(e)},t.completeWritersEditing=function(){this._chatLayerService.completeWritersEditing()},t.complete=function(e){var t=e.writers.map(function(e){return e.name});this._setLastWriters(t);var o=this._chatLayerService.refineToCompData(e);if(this._chatLayerService.isUpdateMode())this._chatComponentService.updateComponent(o);else{var n=this._chatComponentService.createComponent(o);this._editingService.insert({sourceComponents:[n]})}this._chatLayerService.close()},t.showWriterPopup=function(){this._chatLayerService.showWriterPopup()},t.hideWriterPopup=function(){this._chatLayerService.hideWriterPopup()},t.checkDeleteWriter=function(e,t){var o=this;this._alertLayerService.open({type:"confirm",title:this._i18n("chatLayer:confirm_to_delete_message",{name:t}),dimColor:"black",className:"se-popup-writer-delete-alert",onClickConfirm:function(){return o._chatLayerService.deleteWriter(e)},onClickCancel:function(){return o._alertLayerService.close()}})},t.showAlert=function(e){var t=this;this._alertLayerService.open({type:"alert",title:e,dimColor:"black",className:"se-popup-message-count-exceed-alert",onClickConfirm:function(){return t._alertLayerService.close()}})},t._setLastWriters=function(e){var t=this._documentService.getDocumentId();this._storageService.setStorageData("chat-layer-last-writers",{docId:t,writers:e})},e}(),i()(n.prototype,"close",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),i()(n.prototype,"addMessage",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"addMessage"),n.prototype),i()(n.prototype,"addWriter",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"addWriter"),n.prototype),i()(n.prototype,"toggleDragging",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleDragging"),n.prototype),i()(n.prototype,"editMessage",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"editMessage"),n.prototype),i()(n.prototype,"editWriter",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"editWriter"),n.prototype),i()(n.prototype,"completeMessageEditing",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"completeMessageEditing"),n.prototype),i()(n.prototype,"completeWriterEditing",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"completeWriterEditing"),n.prototype),i()(n.prototype,"deleteMessage",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"deleteMessage"),n.prototype),i()(n.prototype,"changeOrder",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeOrder"),n.prototype),i()(n.prototype,"changeEditingText",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeEditingText"),n.prototype),i()(n.prototype,"selectWriter",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"selectWriter"),n.prototype),i()(n.prototype,"completeWritersEditing",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"completeWritersEditing"),n.prototype),i()(n.prototype,"complete",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"complete"),n.prototype),i()(n.prototype,"showWriterPopup",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"showWriterPopup"),n.prototype),i()(n.prototype,"hideWriterPopup",[s.d],Object.getOwnPropertyDescriptor(n.prototype,"hideWriterPopup"),n.prototype),n),u=l;t.a=u,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/chat-layer/src/use-case/index.js",localName:t}})}catch(e){}}e("chat-layer-last-writers","LAST_WRITERS_STORAGE_KEY"),e(l,"ChatLayerUseCase"),e(u,"default")}()},150:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return i});var n={HORIZONTAL:"horizontal",VERTICAL:"vertical"},r={LEFT:"left",CENTER:"center",RIGHT:"right"},i={LEFT_TO_RIGHT:"ltr",RIGHT_TO_LEFT:"rtl"},a={RATIO_1_1:"1:1",RATIO_3_4:"3:4"},s={WebtoonAlign:r,WebtoonLayout:n,WebtoonHorizontalDirection:i,WebtoonHorizontalAspectRatio:a,WebtoonBackgroundColor:"#ffffff"};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/webtoon-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"WebtoonLayout"),e(r,"WebtoonAlign"),e(i,"WebtoonHorizontalDirection"),e(a,"WebtoonHorizontalAspectRatio"),e("#ffffff","WebtoonBackgroundColor"),e(s,"default")}()},151:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(121),h=o(51),f=o(49),m=o(52),g=o(195),y=(n=function(e){function t(){var t;return(t=e.call(this)||this)._imageGroupOrderLayerService=h.U.get("imageGroupOrderLayerService"),t._imageGroupService=h.U.get("imageGroupComponentService"),t._editingService=h.U.get("editingService"),t._imageUploadService=h.U.get("imageUploadService"),t._dragAndDropService=h.U.get("dragAndDropService"),t._canvasLayoutService=h.U.get("canvasLayoutService"),t._imageBehavior=h.U.get("imageBehavior"),t._imageEditService=h.U.get("imageEditService"),t._dragGhost=h.U.get("dragGhost"),t}l()(t,e);var o=t.prototype;return o.close=function(){this._imageGroupOrderLayerService.close()},o.reorderImages=function(e){this._imageGroupOrderLayerService.reorderImages(e)},o.confirm=function(e,t){var o=this;if(e===g.b.INDIVIDUAL){this._imageGroupService.selectImageGroupCompAsSingle(t);var n=this._imageGroupOrderLayerService.getUnitsAsImageCompStores();setTimeout(function(){o._convertToIndividualImages(n,t)},0)}else this._updateImageGroup(e,t);this._imageGroupOrderLayerService.close()},o._updateImageGroup=function(e,t){var o={images:this._imageGroupOrderLayerService.getImages(),layout:e,compId:t};this._imageGroupService.insertData(o)},o._convertToIndividualImages=function(e,t){this._editingService.insert({sourceComponents:e}),this._editingService.eraseComponent(t)},o.changeLayout=function(e){this._imageGroupOrderLayerService.changeLayout(e)},o.replaceImage=function(){var e=s()(i.a.mark(function e(t){var o,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._imageGroupOrderLayerService.getCurrentOrderLayerStore(),e.next=3,this._imageUploadService.openFileDialog();case 3:return n=e.sent,r=this._imageGroupOrderLayerService.getImages().find(function(e){return e.id===t}).clone(),this._imageGroupOrderLayerService.changeImageUnitToShell(t),e.next=8,this._changeImage(r,o,n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._changeImage=function(e,t,o){var n=this;return this._imageBehavior.changeImage({targetStore:e,selectedImages:o}).then(function(t){var o=t.succeededImages;return o.length>0?n._imageGroupOrderLayerService.replaceImageFromData(o[0].response):n._imageGroupOrderLayerService.replaceImage(e),t})},o.editImage=function(e){var t=this,o=this._imageGroupOrderLayerService.getImages(),n=e||Object(d.a)(o).id;this._imageEditService.editImageGroupAtOrderLayer({activeCompId:n,editableImages:o,callbacks:{onCompleteEdit:function(e){Object(f.h)(function(){t._imageGroupOrderLayerService.applyEditedImages(e)})}}})},o.deleteImage=function(e){this._imageGroupOrderLayerService.deleteImage(e)},o.dragStart=function(e,t,o){var n=t.toValidJSON();this._dragAndDropService.dragStart({event:e,items:[n],type:"groupLayer",useNativeGhost:o})},o.dragOver=function(e){this._dragGhost.updatePosition(e)},o.drop=function(){this._dragGhost.end(),this._dragAndDropService.reset(),this._canvasLayoutService.refreshVirtualEditable()},o.updateImageGroupRatio=function(e){this._imageGroupOrderLayerService.adjustImageGroupRatio(e.images)},o.updatePhase=function(e,t){this._imageGroupOrderLayerService.updatePhase(e,t)},o.updateImageSize=function(e,t,o){this._imageGroupOrderLayerService.updateImageSize(e,t,o)},t}(h.m),p()(n.prototype,"confirm",[m.preventOnDocumentProcessing,f.d],Object.getOwnPropertyDescriptor(n.prototype,"confirm"),n.prototype),p()(n.prototype,"_updateImageGroup",[m.history,f.d],Object.getOwnPropertyDescriptor(n.prototype,"_updateImageGroup"),n.prototype),p()(n.prototype,"_convertToIndividualImages",[m.history,f.d],Object.getOwnPropertyDescriptor(n.prototype,"_convertToIndividualImages"),n.prototype),p()(n.prototype,"_changeImage",[m.documentProcessing],Object.getOwnPropertyDescriptor(n.prototype,"_changeImage"),n.prototype),p()(n.prototype,"editImage",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"editImage"),n.prototype),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-group-order-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(y,"ImageGroupOrderLayerUseCase"),e(b,"default")}()},152:function(e,t,o){"use strict";var n,r,i,a,s,c=o(59),l=o.n(c),u=o(61),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(50),y=o.n(g),b=(o(62),o(16)),_=o(51),v=o(49),C=o(996),S=o(195),O=o(411),k=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,p()(o,"opened",r,h()(o)),p()(o,"layout",i,h()(o)),p()(o,"images",a,h()(o)),p()(o,"compId",s,h()(o)),o.availableReplace=!0;var n=t.state,c=void 0===n?{}:n;return o.opened=Object(b.a)(c,"opened",o.opened),o.layout=Object(b.a)(c,"layout",o.layout),o.images=Object(b.a)(c,"images",o.images),o.compId=Object(b.a)(c,"compId",o.compId),o._componentFactory=_.U.get("componentFactory"),o.availableReplace=o._getAvailableReplaceConfig(),o}m()(t,e);var o=t.prototype;return o._getAvailableReplaceConfig=function(){var e=_.U.get("configAgent").get("plugins.componentSettings.imageGroup.config");return!Object(b.a)(e,"toolbar.contextToolbar.exclude",[]).includes("image-replacement")},o.open=function(e){var t=e.layout,o=e.images,n=e.id;this.opened=!0,this.layout=t,this.images=o,this.compId=n},o.close=function(){this.opened=!1,this.layout=S.b.DEFAULT,this.images=[],this.compId=""},o.changeLayout=function(e){this.layout=e},o.isIndividualLayout=function(){return this.layout===S.b.INDIVIDUAL},o.updateImages=function(e){this.images=e},o.reorderImages=function(e){this.images.replace(this._getReorderedImages(e))},o.changeImage=function(e,t){var o=this.images.findIndex(function(t){return t.id===e});this.images[o].setState(t)},o.deleteImage=function(e){var t=this.images.findIndex(function(t){return t.id===e});~t&&this.images.splice(t,1)},o.getImages=function(){return this.images},o.getUnitsAsImageCompStores=function(){var e=this;return this.images.map(function(t){return t.resetWidthPercentage(),e._componentFactory.createComponentWithCompData(l()({ctype:"image"},t))})},o._getReorderedImages=function(e){var t=this;return Array.from(e).reduce(function(e,o){var n=t.images[o.dataset.order];return n&&e.push(n),e},[])},o.adjustImageGroupRatio=function(e){this.layout===S.b.COLLAGE&&this._resolveWidthRatio(e)},o._resolveWidthRatio=function(e){for(var t=e.length,o=0;o<t;o++){var n=e[o],r=void 0;if(++o<t){r=e[o];var i=n.width/n.height,a=i+r.width/r.height;n.widthPercentage=i/a*100,r.widthPercentage=100-n.widthPercentage}else n.widthPercentage=100}},t}(_.e),r=y()(n.prototype,"opened",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=y()(n.prototype,"layout",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return S.b.DEFAULT}}),a=y()(n.prototype,"images",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=y()(n.prototype,"compId",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y()(n.prototype,"open",[v.d],Object.getOwnPropertyDescriptor(n.prototype,"open"),n.prototype),y()(n.prototype,"close",[v.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),y()(n.prototype,"changeLayout",[v.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLayout"),n.prototype),n);k.schema={opened:C.a.bool,compId:C.a.string,layout:C.a.string,images:C.a.arrayOf(C.a.shape(O.a.schema))};var I=k;t.a=I,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-group-order-layer/src/store/index.js",localName:t}})}catch(e){}}e(k,"ImageGroupOrderLayerStore"),e(I,"default")}()},153:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h=o(59),f=o.n(h),m=o(17),g=o.n(m),y=o(61),b=o.n(y),_=o(1),v=o.n(_),C=o(57),S=o.n(C),O=o(0),k=o.n(O),I=o(50),w=o.n(I),P=(o(62),o(16)),j=o(69),T=o(105),L=o(177),E=o(95),N=o(116),x=o(67),D=o(75),R=o(107),A=o(101),U=o(20),M=o(108),B=o(996),F=o(1231),z=o(51),W=o(49),V=o(411),G=o(196),H=o(1284),q=o(195),J=Object(z.Y)(z.h),K=Object(z.W)(J),Y=(n=function(e){k()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"query"},o.documentWidth=null,b()(o,"layout",r,S()(o)),b()(o,"align",i,S()(o)),b()(o,"caption",a,S()(o)),b()(o,"contentMode",s,S()(o)),b()(o,"place",c,S()(o)),b()(o,"images",l,S()(o)),b()(o,"phase",u,S()(o)),b()(o,"mediaMeta",p,S()(o)),b()(o,"representativeEnabled",d,S()(o));var n=t,h=n.state,f=void 0===h?{}:h,m=n.config,g=void 0===m?{}:m;return o._configAgent=z.U.get("configAgent"),o._componentFactory=z.U.get("componentFactory"),o.documentWidth=o._configAgent.get("productConfig.documentWidth"),o.thumbnailType=o._configAgent.get("editorInfo.thumbnailType.normal"),o.layout=Object(P.a)(f,"layout",o.layout),o.align=Object(P.a)(f,"align",o.align),o.caption=o._createCaptionTextUnitStore(f.caption,g.caption),o.contentMode=Object(P.a)(f,"contentMode",o._getDefaultContentMode(g)),o.place=Object(P.a)(f,"place",o.place),o.images=o._createImageStores(f.images),o.phase=o._resolveComponentPhase(),o.slideViewHeight=g.slideViewHeight,o.mediaMeta=Object(P.a)(f,"mediaMeta",o.mediaMeta),o.attributes=Object(j.a)(o.attributes,g.attributes),o.showLocationButton=Object(P.a)(g,"enableLocation",!1),o.updateConfig(),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,align:this.align,caption:this.caption,contentMode:this.contentMode,place:W.f.toJS(this.place),images:this.images.map(function(e){return e.toPlainJSON()}),phase:this.phase,mediaMeta:W.f.toJS(this.mediaMeta)}},t.updateConfig=function(){e.prototype.updateConfig.call(this),this.images.forEach(function(e){e.updateConfig&&e.updateConfig()}),this.representativeEnabled=!1!==this._configAgent.get("productConfig.representativeEnabled")},t.updateProperty=function(e,t){var o=e.contentMode,n=e.link,r=g()(e,["contentMode","link"]);if(o&&this.changeContentMode(o),Object(A.a)(this,r),n)return this.changeLink(n,t)},t.changeContentMode=function(e){this.contentMode=e},t.changeLayout=function(e){this.layout=e,this.adjustImageGroupRatio()},t.insertData=function(e){this.images=e.images,this.changeLayout(e.layout)},t.updateData=function(e){var t=this;e.images.forEach(function(e){var o=t.images.find(function(t){return t.id===e.id});Object(T.a)(o,e)})},t.stripUncompletedImage=function(){var e=this.phaseInfoOfImages;if(e.uncompletedCount>0){var t=e.completedImages;this.images.replace(t),this.layout===q.b.COLLAGE&&this._resolveWidthRatio(t)}},t.updatePlace=function(e){this.place=e},t.applyEditedImage=function(e){var t=this,o=e.photos.map(function(e){return e.modified?t._refineIntoImageData(e):e});this.updateData({compId:e.key,images:o})},t._refineIntoImageData=function(e){var t=e.key,o=e.fileSize,n=e.height,r=e.width,i=e.domain,a=e.path;return{fileSize:o,height:n,width:r,originalWidth:r,originalHeight:n,path:a,id:t,src:""+i+a+(this.thumbnailType?"?type="+this.thumbnailType:"")}},t.adjustImageGroupRatio=function(e){void 0===e&&(e=this.images),this.layout===q.b.COLLAGE&&this._resolveWidthRatio(e)},t._resolveWidthRatio=function(e){for(var t=e.length,o=0;o<t;o++){var n=e[o],r=void 0;if(++o<t){r=e[o];var i=n.width/n.height,a=i+r.width/r.height;n.widthPercentage=i/a*100,r.widthPercentage=100-n.widthPercentage}else n.widthPercentage=100}},t._resolveComponentPhase=function(){return this.images.some(function(e){return e&&e.src})?z.M.DONE:z.M.PROCESSING},t._getDefaultContentMode=function(e){var t=e.contentMode,o=Object(U.a)(t)?t():t;if(this._validateContentMode(o))return o;var n=this.getLayoutThemeStyle(this.themeStyle)||{},r=Object(P.a)(n,"component.contentMode");return r||q.a.EXTEND},t._validateContentMode=function(e){return e&&Object(M.a)(q.a,e)},t.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o={layout:this.layout,contentMode:this.contentMode,align:t};if(e&&this.caption.isFocused){var n=this.caption.collectStyle(e),r=Object(L.a)(n,function(e){return""===e||null===e});o.caption=r}if(this._isImageUnitSelected(e)){var i=Object(E.a)(this.images,{id:e.start.unitId});o.format=i.format,o.displayFormat=i.displayFormat,o.phase=i.phase}else o.phase=this.phase;return o},t.clone=function(e){if(this.caption.isFocused)return this.caption.clone(e);if(this.isUnitFocused){var t=this.getStoreById(e.start.unitId).clone();return t.resetWidthPercentage(),t}return this._componentFactory.createComponentWithCompData(this.toValidJSON())},t.isLibraryComponent=function(){return Object(N.a)(this.images,function(e){return!0===e.isLibraryComponent()})},t.getLibraryItemData=function(){var e=this;return Object(R.a)(Object(D.a)(this.images,function(t){if(t.isLibraryComponent())return Object.assign(t.getLibraryItemData(),{id:e.id})}))},t._isImageUnitSelected=function(e){var t=e.start.unitId;return Object(N.a)(this.images,function(e){return e.id===t})},t._isSelectedComponent=function(){return"single"===this.selection||"multi"===this.selection||"block"===this.selection},t._createCaptionTextUnitStore=function(e,t){var o={state:e,config:Object(x.a)({},t,{attributes:{cursor:"trapped",selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},maxLength:1/0,filterTextStyle:{fontFamily:G.b.NOT_ALLOWED,fontSizeCode:G.b.NOT_ALLOWED,fontColor:G.b.NOT_ALLOWED,backgroundColor:G.b.NOT_ALLOWED,italic:G.b.NOT_ALLOWED,underline:G.b.NOT_ALLOWED,strikeThrough:G.b.NOT_ALLOWED,subscript:G.b.NOT_ALLOWED,superscript:G.b.NOT_ALLOWED,dropCap:G.b.NOT_ALLOWED,list:G.b.NOT_ALLOWED}})},n=Object(P.a)(t,"textStyle",{}),r=o.config.filterTextStyle;return o.config.filterTextStyle=Object(j.a)(r,n),new H.a(o)},t._createImageStores=function(e){var t=this;void 0===e&&(e=[]);var o=e.map(function(e){var o=t._componentFactory.createComponentWithCompData(f()({ctype:"image"},e),{attributes:{cursor:"selectable-unit",selection:"selectable-unit",erasure:"query",drop:"object"}});return o.displayFormat="normal",o});return this.adjustImageGroupRatio(o),o},t.getStoreById=function(e){if(e===this.id)return this;if(e===this.caption.id)return this.caption;var t=this.images.find(function(t){return t.id===e});return t||null},t.isRepresentativeImage=function(){return Object(N.a)(this.images,function(e){return e.isRepresentativeImage()})},t.hasRepresentativeImage=function(){return Object(N.a)(this.images,function(e){return e.hasRepresentativeImage()})},t.releaseRepresentativeImage=function(e){var t=e.unitId,o=this.getStoreById(t);o&&o.releaseRepresentativeImage()},t.setRepresentativeImage=function(e){var t=e.unitId,o=this.getStoreById(t);o||(o=Object(E.a)(this.images,function(e){return e.isRepresentativeImage()})),o&&o.setRepresentativeImage()},t.getRepresentativeId=function(){var e=this;return Object(D.a)(this.images,function(t){return e.id+"|"+t.getRepresentativeId()})},t.getRepresentativeInnerData=function(){var e=Object(E.a)(this.images,function(e){return e.hasRepresentativeImage()});return e?e.getRepresentativeInnerData():null},t.queryErasure=function(e){if(this._isImageUnitSelected(e)){if(this._removeImageUnit(e),1===this.images.length){var t=this.images.pop().toValidJSON(),o=this._componentFactory.createComponentWithCompData(t);return this.showLocationButton&&this.place&&o.updatePlace(this.place),{result:"replace",component:o,range:o.getComponentActiveRange()}}return{result:"replace",component:this,range:this.getComponentActiveRange()}}if(this._isSelectedComponent())return{result:"self",component:null,range:null}},t._removeImageUnit=function(e){var t=this.images.filter(function(t){return t.id!==e.start.unitId});this.images.replace(t),this.adjustImageGroupRatio()},t.deselect=function(){this.images.forEach(function(e){return e.deselect()}),this.caption.deselect(),this._changeSelectionToNone()},v()(o,[{key:"isUnitFocused",get:function(){return Object(N.a)(this.images,function(e){return"single"===e.selection})}},{key:"isFocused",get:function(){return this.caption.isFocused||this.isUnitFocused||"none"!==this.selection}},{key:"phaseInfoOfImages",get:function(){var e=this.images.filter(function(e){return e.isUploaded}),t=e.length;return{completedImages:e,completedCount:t,uncompletedCount:this.images.length-t}}},{key:"translationEnabled",get:function(){return"none"!==this.caption.selection}}]),o}(K),r=w()(n.prototype,"layout",[W.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.b.DEFAULT}}),i=w()(n.prototype,"align",[W.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=w()(n.prototype,"caption",[W.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=w()(n.prototype,"contentMode",[W.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return q.a.EXTEND}}),c=w()(n.prototype,"place",[W.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=w()(n.prototype,"images",[W.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=w()(n.prototype,"phase",[W.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"empty"}}),p=w()(n.prototype,"mediaMeta",[W.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=w()(n.prototype,"representativeEnabled",[W.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),w()(n.prototype,"isUnitFocused",[W.e],Object.getOwnPropertyDescriptor(n.prototype,"isUnitFocused"),n.prototype),w()(n.prototype,"isFocused",[W.e],Object.getOwnPropertyDescriptor(n.prototype,"isFocused"),n.prototype),w()(n.prototype,"phaseInfoOfImages",[W.e],Object.getOwnPropertyDescriptor(n.prototype,"phaseInfoOfImages"),n.prototype),n);Y.ctype="imageGroup",Y.schema={id:B.a.string.isRequired,layout:B.a.string.isRequired,ctype:B.a.string.isRequired,contentMode:B.a.string.isRequired,caption:B.a.captionTextUnit,place:B.a.shape(F.e),images:B.a.arrayOf(B.a.shape(V.a.schema)).isRequired,mediaMeta:B.a.shape(F.c)};var X=Y;t.a=X,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/store/index.js",localName:t}})}catch(e){}}e(J,"RepresentativeCompStore"),e(K,"LinkWritableAndRepresentativeCompStore"),e(Y,"ImageGroupComponentStore"),e(X,"default")}()},155:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(50),a=o.n(i),s=o(49),c=o(347),l=o(54),u=o.n(l),p=o(72),d=o(51),h=o(92),f=o(158),m=o(260),g=o(52),y={bold:"b",underline:"u",italic:"i",strikeThrough:"strike",subscript:"sub",superscript:"sup"},b={url:"urlLink"};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/consts.js",localName:t}})}catch(e){}}e(y,"STYLE_TAG_MAP"),e(b,"LINK_TYPE")}();var _,v=o(85),C=o(667),S=o(173),O=(_=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).STATUS={LOADING:"loading",COMPLETE:"complete",ERROR:"error"},t.state={status:t.STATUS.LOADING,minimized:!1},t._src="",t._imgRef=s.b.createRef(),t._resizeObserver,t}r()(t,e);var o=t.prototype;return o.UNSAFE_componentWillUpdate=function(e){this._src&&this._src!==e.node.src&&this._resetComponent()},o.componentDidUpdate=function(){var e=this;this._shouldRepresentiveBtn()&&this._imgRef.current&&!this._resizeObserver&&(this._resizeObserver=new m.default(function(t){var o=t[0].contentRect,n=o.width,r=o.height,i=e.props.node.isSmallerThanMinimumSize(n,r);e.setState({minimized:i})}),this._resizeObserver.observe(this._imgRef.current))},o.componentWillUnmount=function(){this._resizeObserver&&this._resizeObserver.disconnect()},o.render=function(){var e=this.props.node,t=e.id,o=e.computedStyle,n=e.link,r=this.state.status,i=this._getInlineStyle(o),a=this._getClassNames(o),c=this._renderRepresentiveBtn(),l=this._renderImagePlaceholder(),u=this._renderImage(),p=this._renderErrorImage();return this._hasBackgroundColor(o)?s.b.createElement("span",{id:t,className:a,style:i},l,r===this.STATUS.ERROR?p:u,c):s.b.createElement("span",{id:t,className:a,style:i,"data-href":n&&n.url},l,r===this.STATUS.ERROR?p:u,c)},o._renderImagePlaceholder=function(){var e=this._resolveImageAreaStyle();return this._isProgressing()?s.b.createElement(s.b.Fragment,null,s.b.createElement("span",{className:"se-inline-image-prepareing-inner",style:e}),s.b.createElement("span",{className:"se-blind"},this.props.uploadProgressTitle)):null},o._renderErrorImage=function(){var e=this.props.notFoundImageTitle;return s.b.createElement("span",{className:"se-state-error"},s.b.createElement("span",{className:"se-state-error-detail"},s.b.createElement("span",{className:"se-state-error-text"},e)))},o._resolveImageAreaStyle=function(){var e=this.props.node,t=e.width;return{paddingTop:""+e.height/t*100+"%"}},o._renderImage=function(){var e=this.props.node,t=e.src,o=e.phase;return this._src=t,o===s.a.PROCESSING?null:s.b.createElement(v.b,{className:"se-inline-image-resource",src:this._src,elementRef:this._imgRef,onLoad:this._handleLoadImage,onError:this._handleErrorImage})},o._renderRepresentiveBtn=function(){var e=u()({"se-set-rep-image-button":!0,"se-is-selected":this.props.node.represent});if(this._shouldRepresentiveBtn()&&!1===this.state.minimized)return s.b.createElement("button",{type:"button",className:e,onClick:this._handleClickRepresentative},s.b.createElement("span",{className:"se-set-rep-image-button-text"},this.props.representativeTitle))},o._shouldRepresentiveBtn=function(){var e=this.props.node,t=e.representativeEnabled,o=void 0===t||t,n=e.internalResource;return this.state.status===this.STATUS.COMPLETE&&n&&!!o&&e.isRepresentativeImage()},o._isProgressing=function(){var e=this.props.node,t=e.path,o=e.src,n=e.phase,r=e.internalResource&&""===t&&""!==o;return this.state.status===this.STATUS.LOADING||n===d.M.PROCESSING||r},o._hasBackgroundColor=function(e){return!(!e||!e.backgroundColor)},o._getInlineStyle=function(e){return{maxWidth:this.props.node.width,color:e.fontColor,backgroundColor:e.backgroundColor}},o._getClassNames=function(e){var t,o=e.fontFamily,n=e.fontSizeCode,r=this.props.node,i=r.link,a=r.width,s=r.height,c=r.selection;return u()(((t={})["se-ff-"+o]=!!o,t["se-"+n]=!!n,t["se-highlight"]=this._hasBackgroundColor(e),t["se-link"]=i&&i.ctype===b.url,t["se-inline-image"]=!0,t["se-inline-image-prepareing"]=this._isProgressing(),t["se-inline-image-prepareing-mini"]=this._isProgressing()&&(a<=60||s<=30),t["se-is-inline-image-block-selected"]=c===d.N.BLOCK,t["__se-node"]=!0,t))},o._resetComponent=function(){this.state.status!==this.STATUS.LOADING&&this.setState({status:this.STATUS.LOADING})},o._handleLoadImage=function(){this.setState({status:this.STATUS.COMPLETE});var e=this.props.useCase;e&&e.refreshAfterLazy()},o._handleErrorImage=function(){this.setState({status:this.STATUS.ERROR});var e=this.props.useCase;e&&e.refreshAfterLazy()},o._handleClickRepresentative=function(e){var t=this.props,o=t.compId,n=t.unitId,r=t.paraId,i=t.node;(0,t.onClickRepresentative)({compId:o,unitId:n,paraId:r,nodeId:i.id}),C.a.log(e.nativeEvent,"tetct.rep")},t}(s.b.Component),a()(_.prototype,"_renderRepresentiveBtn",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(_.prototype,"_renderRepresentiveBtn"),_.prototype),a()(_.prototype,"_handleLoadImage",[g.autobind],Object.getOwnPropertyDescriptor(_.prototype,"_handleLoadImage"),_.prototype),a()(_.prototype,"_handleErrorImage",[g.autobind],Object.getOwnPropertyDescriptor(_.prototype,"_handleErrorImage"),_.prototype),a()(_.prototype,"_handleClickRepresentative",[g.autobind],Object.getOwnPropertyDescriptor(_.prototype,"_handleClickRepresentative"),_.prototype),_);O.propTypes={useCase:s.a.instanceOf(d.c),node:s.a.instanceOf(S.a),uploadProgressTitle:s.a.string,representativeTitle:s.a.string,notFoundImageTitle:s.a.string,linkTitle:s.a.string,unitId:s.a.string,compId:s.a.string,paraId:s.a.string,onClickRepresentative:s.a.func,additionalOption:s.a.object};var k=Object(c.b)(O),I=k;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/image-node.jsx",localName:t}})}catch(e){}}e(O,"ImageNodeUnit"),e(k,"default")}();var w=o(57),P=o.n(w),j=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).handleClick=t.handleClick.bind(P()(t)),t}r()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){},o.render=function(){var e=this.props.node,t=e.id,o=e.value,n=e.computedStyle,r=e.link,i=this._getInlineStyle(n),a=this._getClassNames(n),c=this._getStyleTags(o,n);return this._hasBackgroundColor(n)?s.b.createElement("span",{id:t,className:a,style:i,"data-href":r&&r.url},s.b.createElement("mark",{dangerouslySetInnerHTML:{__html:c}})):s.b.createElement("span",{id:t,className:a,style:i,"data-href":r&&r.url,dangerouslySetInnerHTML:{__html:c}})},o._hasBackgroundColor=function(e){return!(!e||!e.backgroundColor)},o._getInlineStyle=function(e){return{color:e.fontColor,backgroundColor:e.backgroundColor}},o._getClassNames=function(e){var t,o=e.fontFamily,n=e.fontSizeCode,r=this.props.node.link;return u()(((t={"se-emoji":!0})["se-ff-"+o]=!!o,t["se-"+n]=!!n,t["se-highlight"]=this._hasBackgroundColor(e),t["se-link"]=r&&r.ctype===b.url,t["__se-node"]=!0,t))},o._getStyleTags=function(e,t){var o=e;return Object.keys(t).forEach(function(e){if(t[e])switch(e){case"bold":case"italic":case"strikeThrough":case"underline":case"superscript":case"subscript":o="<"+y[e]+">"+o+"</"+y[e]+">"}}),o},o.handleClick=function(e){e.preventDefault()},t}(s.b.Component);j.defaultProps={},j.propTypes={node:s.a.instanceOf(S.a)};var T=Object(c.b)(j),L=T;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/emoji-node.jsx",localName:t}})}catch(e){}}e(j,"EmojiNodeUnit"),e(T,"default")}();var E,N=o(730);function x(e,t){return Object.keys(t).forEach(function(o){if(t[o])switch(o){case"bold":case"italic":case"strikeThrough":case"underline":case"superscript":case"subscript":e="<"+y[o]+">"+e+"</"+y[o]+">"}}),e}var D=function(e){return!(!e||!e.backgroundColor)},R=function(e,t){var o,n=e.fontFamily,r=e.fontSizeCode;return u()(((o={})["se-ff-"+n]=!!n,o["se-"+r]=!!r,o["se-highlight"]=D(e),o["se-link"]=t&&t.ctype===b.url,o["__se-node"]=!0,o))},A=function(e,t,o){var n="";o?n='<span class="se-drop-cap">'+U(e.slice(0,1))+"</span>"+U(e.slice(1)):n=U(e);return x(n,t)},U=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/[\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\ufeff]/g,"&#32;")},M=function(e,t,o,n){if(n)e.innerHTML=A(t,o,n);else{for(var r=e;1===r.nodeType&&r.firstChild;)r=r.firstChild;r.textContent=t}},B=(E=function(e){function t(t){var o;o=e.call(this,t)||this;var n=t.node,r=t.hasDropCap;return o._disposer=null,o._el=null,o._value=n.value,o._hasDropCap=r,o}r()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._register(this.props.node)},o.componentDidUpdate=function(e){var t=e.node,o=this.props,n=o.node,r=o.hasDropCap;this._hasDropCap=r,n!==t&&this._register(n)},o.componentWillUnmount=function(){this._disposer&&this._disposer(),this._disposer=null,this._el=null},o.render=function(){var e=this.props,t=e.node,o=e.hasDropCap,n=t.id,r=t.computedStyle,i=t.link,a=this._getInlineStyle(r),c=R(r,i),l=A(this._value,r,o);return D(r)?s.b.createElement("span",{id:n,className:c,style:a,"data-href":i&&i.url},s.b.createElement("mark",{ref:this._ref,dangerouslySetInnerHTML:{__html:l}})):s.b.createElement("span",{id:n,ref:this._ref,className:c,style:a,"data-href":i&&i.url,dangerouslySetInnerHTML:{__html:l}})},o._ref=function(e){this._el=e},o._getInlineStyle=function(e){return{color:e.fontColor,backgroundColor:e.backgroundColor}},o._register=function(e){var t=this,o=e.computedStyle;this._disposer&&this._disposer(),this._disposer=s.f.observe(e,"value",function(e){t._value!==e.newValue&&(t._value=e.newValue,t._el&&M(t._el,e.newValue,o,t._hasDropCap))},!0)},t}(s.b.Component),a()(E.prototype,"_ref",[g.autobind],Object.getOwnPropertyDescriptor(E.prototype,"_ref"),E.prototype),a()(E.prototype,"_getInlineStyle",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(E.prototype,"_getInlineStyle"),E.prototype),E);B.defaultProps={hasDropCap:!1},B.propTypes={node:s.a.instanceOf(N.a),hasDropCap:s.a.bool};var F=Object(c.b)(B),z=F;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/text-node.jsx",localName:t}})}catch(e){}}e(x,"wrapStyleTags"),e(D,"_hasBackgroundColor"),e(R,"_getClassNames"),e(A,"_getStyleTags"),e(U,"_convertValue"),e(M,"write"),e(B,"TextNodeUnit"),e(F,"default")}();var W=function(e){var t=e.node,o=e.hasDropCap,n=e.uploadProgressTitle,r=e.representativeTitle,i=e.notFoundImageTitle,a=e.onClickRepresentative,c=e.useCase,l=e.unitId,u=e.paraId,p=e.compId,d=e.key;switch(t.ctype){case"imageNode":return s.b.createElement(I,{key:d,useCase:c,unitId:l,paraId:u,compId:p,hasDropCap:o,uploadProgressTitle:n,representativeTitle:r,notFoundImageTitle:i,onClickRepresentative:a,node:t});case"emojiNode":return s.b.createElement(L,{key:d,node:t});default:return s.b.createElement(z,{key:d,hasDropCap:o,node:t})}},V=W;Node.defaultProps={placeholder:""},Node.propTypes={node:s.a.instanceOf(S.a),uploadProgressTitle:s.a.string,representativeTitle:s.a.string,notFoundImageTitle:s.a.string,onClickRepresentative:s.a.func,useCase:s.a.instanceOf(d.c),unitId:s.a.string,paraId:s.a.string,compId:s.a.string,key:s.a.string},function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/node.jsx",localName:t}})}catch(e){}}(W,"default")}();var G=o(295),H=o(70),q=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.spellCheckInfo,o=e.selectedId,n=t.id,r=t.corrected,i=this._getLargestFontSize(),a=u()("se-grammar","se-"+i,{"se-grammar-emended":r},{"se-grammar-error":!r},{"se-is-selected":o===n});return s.b.createElement("a",{id:n,className:a,"data-grammarid":n},this._renderNodeList())},o._renderNodeList=function(){var e=[];return this.props.nodes.forEach(function(t){var o="spellCheck_"+t.id;e.push(s.b.createElement(z,{key:o,node:t}))}),e},o._getLargestFontSize=function(){var e=this.props.nodes,t="fs0";return Object(H.a)(e,function(e){var o=e.computedStyle.fontSizeCode;t=t>o?t:o}),t},t}(s.b.Component);q.propTypes={nodes:s.a.arrayOf(s.a.object),spellCheckInfo:s.a.object,selectedId:s.a.string};var J=Object(c.b)(q),K=J;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/grammar-node.jsx",localName:t}})}catch(e){}}e(q,"GrammarNode"),e(J,"default")}();var Y=o(733),X=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.context,t=e.spellCheckMap,o=e.selectedId,n=this.props,r=n.paragraph,i=n.uploadProgressTitle,a=n.representativeTitle,c=n.notFoundImageTitle,l=n.compId,u=n.unitId,p=n.useCase,d=n.onClickRepresentative,m=r.nodes,g=r.computedStyle,y=r.id,b=r.firstTextNodeIndex,_=-1,v=t[l],C=Object(f.a)(v,function(e,t){return e[t.position.startNodeId]=t,e},{});return m.map(function(e,t){var n=C[e.id],r=b===t&&!!g.dropCap;if(-1!==_&&t<=_)return!1;if(n&&!1===n.excluded){var f=Object(h.a)(m,function(e){return e.id===n.position.endNodeId});return _=t===f?-1:f,s.b.createElement(K,{key:t,nodes:m.slice(t,f+1),selectedId:o,spellCheckInfo:n})}return V({key:e.id,node:e,hasDropCap:r,uploadProgressTitle:i,representativeTitle:a,notFoundImageTitle:c,onClickRepresentative:d,useCase:p,unitId:u,paraId:y,compId:l})})},t}(s.b.Component);X.contextType=Y.a,X.propTypes={useCase:s.a.instanceOf(d.c),compId:s.a.string,unitId:s.a.string,paragraph:s.a.instanceOf(G.a),placeholder:s.a.string,uploadProgressTitle:s.a.string,representativeTitle:s.a.string,notFoundImageTitle:s.a.string,onClickRepresentative:s.a.func};var Q,Z=Object(c.b)(X),$=Z;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/node-list.jsx",localName:t}})}catch(e){}}e(X,"NodeList"),e(Z,"default")}();var ee=(Q=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.paragraph,t=e.firstNodeComputedStyle,o=u()(["se-placeholder","__se_placeholder","se-ff-"+t.fontFamily,"se-"+t.fontSizeCode,{"se-placeholder-focused":e.selection===d.N.CURSOR}]),n=this._getStyledPlaceHolder();return s.b.createElement("span",{key:"placeholder",className:o,dangerouslySetInnerHTML:{__html:n}})},o._getStyledPlaceHolder=function(){var e=this.props,t=e.paragraph;return x(e.placeholder,t.firstNodeComputedStyle)},t}(s.b.Component),a()(Q.prototype,"_getStyledPlaceHolder",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(Q.prototype,"_getStyledPlaceHolder"),Q.prototype),Q);ee.propTypes={paragraph:s.a.instanceOf(G.a),placeholder:s.a.string};var te=Object(c.b)(ee),oe=te;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/text-placeholder.jsx",localName:t}})}catch(e){}}e(ee,"TextPlaceholder"),e(te,"default")}();var ne=function(e){var t,o=e.unitId,n=e.compId,r=e.paragraph,i=e.useCase,a=e.placeholder,c=e.uploadProgressTitle,l=e.representativeTitle,p=e.notFoundImageTitle,h=e.onClickRepresentative,f=r.id,m=r.computedStyle,g={lineHeight:m.lineHeight},y=u()(((t={"se-text-paragraph":!0})["se-text-paragraph-align-"+(m.align||"left")]=!0,t["se-text-paragraph-drop-cap"]=m.dropCap,t["se-is-text-paragraph-block-selected"]=r.selection===d.N.BLOCK,t));return s.b.createElement("p",{id:f,style:g,className:y},s.b.createElement($,{useCase:i,unitId:o,paraId:f,compId:n,paragraph:r,uploadProgressTitle:c,representativeTitle:l,notFoundImageTitle:p,onClickRepresentative:h}),a?s.b.createElement(oe,{paragraph:r,placeholder:a}):null)};ne.defaultProps={placeholder:""},ne.propTypes={useCase:s.a.instanceOf(d.c),compId:s.a.string,unitId:s.a.string,paragraph:s.a.instanceOf(G.a),placeholder:s.a.string,uploadProgressTitle:s.a.string,representativeTitle:s.a.string,notFoundImageTitle:s.a.string,onClickRepresentative:s.a.func,isSingleParagraphFocused:s.a.bool};var re=Object(c.b)(ne),ie=re;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/paragraph.jsx",localName:t}})}catch(e){}}e(ne,"ParagraphUnit"),e(re,"default")}();var ae=o(55),se=o.n(ae),ce=d.D.DISC,le=d.D.CIRCLE,ue=d.D.SQUARE,pe=d.D.DECIMAL,de=d.D.WRAPPER,he=d.D.ITEM,fe=d.D.NESTED,me={0:ce,1:le,2:ue},ge=null,ye=function(e,t){var o=e.type,n=e.key;switch(o){case d.E.UL:return s.b.createElement(be,{node:e,key:n});case d.E.OL:return s.b.createElement(_e,{node:e,key:n});case d.E.NONE:case d.E.DECIMAL:case d.E.BULLET:return s.b.createElement(ve,{node:e,paraProps:t,key:n})}},be=Object(c.b)(function(e){var t=e.node.level,o=u()(de,me[t%3]);return s.b.createElement("ul",{className:o},e.node.children.map(ge))}),_e=Object(c.b)(function(e){var t=u()(de,pe);return s.b.createElement("ol",{className:t},e.node.children.map(ge))}),ve=Object(c.b)(function(e){var t,o=e.node,n=o.type,r=o.paragraph,i=o.children,a=o.filler,c=u()(he,((t={})[fe]=n===d.E.NONE||a,t));return s.b.createElement("li",{className:c},!a&&s.b.createElement(ie,se()({paragraph:r},e.paraProps)),i.map(ge))}),Ce=Object(c.b)(function(e){var t=e.tree.root,o=e.paraProps;return ge=function(e){return ye(e,o)},s.b.createElement(s.b.Fragment,null,t.children.map(ge))}),Se=Ce,Oe=Se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/tree-paragraph.jsx",localName:t}})}catch(e){}}e(ce,"DISC"),e(le,"CIRCLE"),e(ue,"SQUARE"),e(pe,"DECIMAL"),e(de,"WRAPPER"),e(he,"ITEM"),e(fe,"NESTED"),e(me,"BULLET_CLASS_MAP"),e(ge,"renderNode"),e(ye,"renderNodeMap"),e(be,"UL"),e(_e,"OL"),e(ve,"LI"),e(Ce,"TreeParagraph"),e(Se,"default")}();var ke=o(776),Ie=o(688),we=function(e){var t=e.text,o=e.useCase,n=e.unitId,r=e.compId,i=e.uploadProgressTitle,a=e.representativeTitle,c=e.placeholder,l=e.notFoundImageTitle,u=e.onClickRepresentative,p=t.structuredParagraphStore.paragraphs,d={unitId:n,compId:r,useCase:o,onClickRepresentative:u,uploadProgressTitle:i,representativeTitle:a,notFoundImageTitle:l,placeholder:c};return s.b.createElement(s.b.Fragment,null,p.map(function(e){return e instanceof ke.a?s.b.createElement(Oe,{key:e.id,paraProps:d,tree:e}):s.b.createElement(ie,se()({key:e.id,paragraph:e},d))}))};we.propTypes={useCase:s.a.instanceOf(d.c),compId:s.a.string,unitId:s.a.string,text:s.a.object,placeholder:s.a.string,uploadProgressTitle:s.a.string,representativeTitle:s.a.string,notFoundImageTitle:s.a.string,onClickRepresentative:s.a.func,isSingleParagraphFocused:s.a.bool};var Pe,je=Object(Ie.a)(Object(Ie.c)(Object(c.b)(we),{path:"text.structuredParagraphStore.paragraphs",output:"text.structuredParagraphStore.paragraphs",getKey:function(e){return e.id}}),{path:["text.structuredParagraphStore.paragraphs","text.paragraphs"],output:"text.structuredParagraphStore.paragraphs"}),Te=je;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/paragraph-list.jsx",localName:t}})}catch(e){}}e(we,"ParagraphList"),e(je,"default")}();var Le=(Pe=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={},o}r()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._bindReaction()},t.getDerivedStateFromProps=function(e){return{useReaction:{maxLength:!!e.onLimitTextLength,filterText:!!e.onFilteredText}}},o.componentDidUpdate=function(e){!1===e.text.isEqualStore(this.props.text)&&(this._unbindReaction(),this._bindReaction())},o.componentWillUnmount=function(){this._unbindReaction()},o.render=function(){var e=this.props,t=e.text,o=e.className,n=e.additionalOption,r=e.options,i=e.compId,a=e.unitId,c=e.onClickRepresentative,l=e.useCase,d=e.forwardRef,h=r.isUnitSelector,f=r.useToolbarSlot,m=n.placeholder,g=n.uploadProgressTitle,y=n.representativeTitle,b=n.notFoundImageTitle,_=t.id,v=t.empty&&!t.existTextInListParagraph,C=u()({"se-is-empty":v},o),S=v?m:"";return s.b.createElement(p.a,{id:_,ctype:"text",forwardRef:d,className:C,isUnitSelector:h,useToolbarSlot:f},s.b.createElement(Te,{text:t,useCase:l,unitId:a||t.id,compId:i,uploadProgressTitle:g,representativeTitle:y,notFoundImageTitle:b,placeholder:S,onClickRepresentative:c}))},o._bindReaction=function(){var e=this.props.text;this.state.useReaction.maxLength&&(this._disposerIsOverTextLimit=s.f.reaction(function(){return e.isOverTextLimit},this._handleLimitTextLength))},o._unbindReaction=function(){this._disposerIsOverTextLimit&&this._disposerIsOverTextLimit()},o._handleLimitTextLength=function(e){var t=this.props.text;e&&(this.props.onLimitTextLength(),t.turnOffOverTextLimit())},t}(s.b.Component),a()(Pe.prototype,"_handleLimitTextLength",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(Pe.prototype,"_handleLimitTextLength"),Pe.prototype),Pe);Le.defaultProps={id:"",ctype:"textUnit",text:{id:"",paragraphs:[ie.defaultProps],isOverTextLimit:!1},additionalOption:{placeholder:"",uploadProgressTitle:"",representativeTitle:"",notFoundImageTitle:""},placeholder:"",className:"",options:{isUnitSelector:!0,useToolbarSlot:!0}},Le.propTypes={useCase:s.a.instanceOf(d.c),text:s.a.object,forwardRef:s.a.oneOfType([s.a.func,s.a.shape({current:s.a.instanceOf(Element)})]),id:s.a.string.isRequired,unitId:s.a.string,compId:s.a.string,ctype:s.a.oneOf(["textUnit"]).isRequired,placeholder:s.a.string,additionalOption:s.a.object,className:s.a.string,options:s.a.shape({isUnitSelector:s.a.bool,useToolbarSlot:s.a.bool}),onClickRepresentative:s.a.func,onLimitTextLength:s.a.func};var Ee=Object(c.b)(Le);t.a=Ee;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/text-unit/index.jsx",localName:t}})}catch(e){}}e(Le,"TextUnit"),e(Ee,"default")}()},172:function(e,t,o){"use strict";o.d(t,"b",function(){return r}),o.d(t,"a",function(){return i});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default"},i={NORMAL:"normal",FIT:"fit",EXTEND:"extend",PAGEFULL:"pagefull"},a={ImageAlign:n,ImageLayout:r,ImageContentMode:i};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"ImageAlign"),e(r,"ImageLayout"),e(i,"ImageContentMode"),e(a,"default")}()},173:function(e,t,o){"use strict";var n,r,i,a,s,c,l=o(59),u=o.n(l),p=o(61),d=o.n(p),h=o(1),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(50),v=o.n(_),C=(o(62),o(16)),S=o(105),O=o(187),k=o(70),I=o(88),w=o(177),P=o(51),j=o(49),T=o(196),L=(n=Object(j.e)({keepAlive:!0}),r=Object(j.e)({keepAlive:!0}),i=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,d()(o,"link",a,g()(o)),d()(o,"style",s,g()(o)),d()(o,"themeStyle",c,g()(o));var n=t.state,r=void 0===n?{}:n;return o.link=Object(C.a)(r,"link",o.link),o.style=Object(S.a)(o.style,r.style),r.themeStyle&&o.themeStyle.replace(Object.entries(r.themeStyle)),o}b()(t,e);var o=t.prototype;return o.changeLink=function(e){void 0===e&&(e={}),e.value?this.link={ctype:"urlLink",url:e.value}:this.link=null},o.collectStyle=function(){var e=u()({link:this.link},this.computedStyleForToolbar);return delete e.ctype,e},o.updateTheme=function(e){this.themeStyle.replace(Object.entries(e))},o.updateCharacterStyle=function(e){var t=this,o=this._filterSuperSubScript(e);Object(O.a)(this.style,o,function(e,o,n){return o===t.themeStyle.get(n)||""===o?null:o})},o.resetStyle=function(){this.style={ctype:"nodeStyle",fontColor:null,fontFamily:null,fontSizeCode:null,backgroundColor:null,bold:null,italic:null,underline:null,strikeThrough:null,subscript:null,superscript:null}},o.applyDerivedCharacterStyle=function(e){var t=this,o=Object(w.a)(e,function(e,o){return null!==t.style[o]});this.updateCharacterStyle(o)},o.filterCharStyle=function(e,t){var o=this;e&&Object(k.a)(e,function(e,n){var r=e===T.b.NOT_ALLOWED;if("link"===n&&r)o.link=null;else if(!1!==o.style.hasOwnProperty(n)){var i="function"==typeof e&&!e(o.style[n],t);(r||i)&&(o.style[n]=null)}})},o._filterSuperSubScript=function(e){return!0===e.subscript?e.superscript=!1:!0===e.superscript&&(e.subscript=!1),e},o.is=function(e){return this.id===e},o.hasSameStyle=function(e){return!!e&&Object(I.a)(this.style,e.style)},o.hasSameLink=function(e){return!!e&&Object(I.a)(this.link,e.link)},o.hasUrlLink=function(){return!(!this.link||"urlLink"!==this.link.ctype)},o.getUrlValue=function(){return this.hasUrlLink()?this.link.url:""},o.isTextNode=function(){return!1},o.isImageNode=function(){return!1},o.isEmojiNode=function(){return!1},o.isEmpty=function(){throw new Error("Implement the 'isEmpty()' method.")},o.isMergeable=function(){throw new Error("Implement the 'isMergeable()' method.")},o.getStartPoint=function(){throw new Error("Implement the 'getStartPoint()' method.")},o.getEndPoint=function(){throw new Error("Implement the 'getEndPoint()' method.")},o.getPositionByOffset=function(e){throw new Error("Implement the 'getPositionByOffset()' method.")},o.getNodeLength=function(){throw new Error("Implement the 'getNodeLength()' method.")},o.cloneNode=function(){throw new Error("Implement the 'cloneNode()' method.")},o.deselect=function(){this.selection="none"},o.updateConfig=function(){},o.isLibraryComponent=function(){return!1},f()(t,[{key:"computedStyle",get:function(){var e=this.themeStyle.toJSON();return Object(O.a)(e,this.style,function(e,t,o){return null!==t?t:void 0!==e?e:!!["fontColor","fontFamily","fontSizeCode","backgroundColor"].includes(o)&&""})}},{key:"computedStyleForToolbar",get:function(){var e=this.themeStyle.toJSON();return Object(O.a)(e,this.style,function(e,t,o){return null!==t?t:["fontColor","backgroundColor"].includes(o)?"":void 0!==e?e:!!["fontFamily","fontSizeCode"].includes(o)&&""})}}]),t}(P.w),a=v()(i.prototype,"link",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=v()(i.prototype,"style",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"nodeStyle",fontColor:null,fontFamily:null,fontSizeCode:null,backgroundColor:null,bold:null,italic:null,underline:null,strikeThrough:null,subscript:null,superscript:null}}}),c=v()(i.prototype,"themeStyle",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),v()(i.prototype,"computedStyle",[n],Object.getOwnPropertyDescriptor(i.prototype,"computedStyle"),i.prototype),v()(i.prototype,"computedStyleForToolbar",[r],Object.getOwnPropertyDescriptor(i.prototype,"computedStyleForToolbar"),i.prototype),i),E=L;t.a=E,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/abstract-node-store.js",localName:t}})}catch(e){}}e(L,"AbstractNodeStore"),e(E,"default")}()},191:function(e,t,o){"use strict";var n,r,i,a,s;o.d(t,"f",function(){return c}),o.d(t,"e",function(){return l}),o.d(t,"g",function(){return u}),o.d(t,"b",function(){return d}),o.d(t,"a",function(){return h}),o.d(t,"h",function(){return m}),o.d(t,"j",function(){return g}),o.d(t,"d",function(){return p}),o.d(t,"c",function(){return f});var c={EVERY_WEEK:"everyWeek",EVERY_OTHER_WEEK:"everyOtherWeek",EVERY_MONTH:"everyMonth"},l={RECRUITING:"recruiting",ACCEPTING:"accepting",AVAILABLE:"available",SALE:"sale"},u={REPETITION:"repetition",NOTIFICATION:"notification",WEEK_DAY_GROUP:"weekDayGroup",DATE_GROUP:"dateGroup"},p=((n={})[c.EVERY_WEEK]="every_week",n[c.EVERY_OTHER_WEEK]="every_other_week",n[c.EVERY_MONTH]="every_month",n[u.DATE_GROUP]="date_group",n[u.WEEK_DAY_GROUP]="week_day_group",n),d=((s={})[u.REPETITION]={ctype:u.REPETITION,repetitionType:null,time:"00:00"},s[u.NOTIFICATION]={ctype:u.NOTIFICATION,type:l.RECRUITING,startDate:null,endDate:null,expired:!1},s[c.EVERY_WEEK]={ctype:c.EVERY_WEEK,daysOfWeek:[]},s[c.EVERY_OTHER_WEEK]={ctype:c.EVERY_OTHER_WEEK,daysOfWeek:[]},s[c.EVERY_MONTH]=((a={})[u.DATE_GROUP]=((r={ctype:c.EVERY_MONTH})[u.DATE_GROUP]={ctype:u.DATE_GROUP,startDay:0,endDay:0},r),a[u.WEEK_DAY_GROUP]=((i={ctype:c.EVERY_MONTH})[u.WEEK_DAY_GROUP]={ctype:u.WEEK_DAY_GROUP,selectedWeeks:[],daysOfWeek:[]},i),a),s);d[u.REPETITION].repetitionType=d[c.EVERY_WEEK];var h="YYYY-MM-DD",f="YYYY.MM.DD",m="HH:mm:ss",g="scheduleLayer",y={RepetitionType:c,NotificationType:l,SubComponentType:u,DefaultData:d,DateFormat:h,TimeFormat:m,i18nKey:g,MessageKeyOfType:p,DisplayDateFormat:f},b=y;t.i=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/schedule-layer/src/consts/index.js",localName:t}})}catch(e){}}e(c,"RepetitionType"),e(l,"NotificationType"),e(u,"SubComponentType"),e(p,"MessageKeyOfType"),e(d,"DefaultData"),e(h,"DateFormat"),e(f,"DisplayDateFormat"),e(m,"TimeFormat"),e(g,"i18nKey"),e(y,"ScheduleLayerConsts"),e(b,"default")}()},192:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(0),s=o.n(a),c=o(50),l=o.n(c),u=o(67),p=o(54),d=o.n(p),h=o(49),f=o(347),m=o(224),g=o(52),y=o(1230),b=o(56),_=o(124),v=(n=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e="click.se-toolbar-custom-layer-"+this.props.name;y.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-custom-layer-"+this.props.name;y.a.off(e)},o.render=function(){var e=this.props,t=e.id,o=e.type,n=e.name,r=e.namespace,a=e.documentToolbarIconType,s=e.value,c=e.label,l=e.labelVisible,u=e.recentColors,p=e.custom,f=e.isActivated,m=e.i18n,g=e.logAreaId,y=e.logId,v=e.onValidateValue,C=e.focused,S=p.CustomLayer,O=p.customProps,k="link"===n&&v(s),I=m(c),w=a===b.d.TEXT_ICON||l,P=d()("se-"+r+"-toolbar-"+o+"-container","__select-container"),j=d()("se-"+n+"-toolbar-button","se-"+r+"-toolbar-"+o+"-button",{"se-is-activated":f,"se-is-has-value":k}),T=w?"se-toolbar-label":"se-blind",L=g+"."+y,E=this._currentTitle();return h.b.createElement("div",{className:P,"data-type":o,"data-log":L,"data-name":n},h.b.createElement(_.a,{focused:C,namespace:r,type:o,dataName:t,className:j,handleClick:this._handleClickButton,i18n:m,ariaExpanded:""+f,ariaHasPopup:"true"},h.b.createElement("span",{className:"se-toolbar-icon"}),h.b.createElement("span",{className:T,"aria-hidden":"true"},I),h.b.createElement("span",{className:"se-toolbar-tooltip"},E)),f&&h.b.createElement(S,i()({className:"__custom_layer"},O,{namespace:r,recentColors:u,value:s,i18n:m,logAreaId:g,onInput:this._handleInput,onConfirm:this._handleConfirm,onClose:this._handleClose})))},o._currentTitle=function(){var e=this._titleKey();return(0,this.props.i18n)(e)},o._titleKey=function(){var e=this.props,t=e.isActivated,o=e.title;return t?o.active:o.inactive},o._handleInput=function(e){var t=this.props,o=t.type,n=t.label,r=t.id,i=t.name,a=t.isActivated,s=Object(u.a)({type:o,label:n,id:r,name:i,isActivated:a,title:this._currentTitle()},e);this.props.onInput(s)},o._handleConfirm=function(e){var t=this.props,o=t.type,n=t.label,r=t.id,i=t.name,a=t.action,s=t.isActivated,c=t.storageKey,l=Object(u.a)({type:o,label:n,id:r,name:i,action:a,isActivated:s,storageKey:c,title:this._currentTitle()},e);this.props.onChange(l)},o._handleClose=function(){this._handleClickButton({})},o._handleClickButton=function(e){this._triggerClickHandler({event:e,showConfirm:!0})},o._handleClickButtonOutside=function(e){var t=e.target;this.props.isActivated&&m.a.isOutsideElementbySelector(t,".__select-container")&&this._triggerClickHandler({event:e})},o._triggerClickHandler=function(e){var t=e.event,o=e.showConfirm,n=this.props,r=n.type,i=n.label,a=n.id,s=n.name,c=n.title,l=n.action,u=n.isActivated;this.props.onClick({event:t,type:r,label:i,id:a,name:s,action:l,title:c,isActivated:u,showConfirm:o})},t}(h.b.Component),l()(n.prototype,"_handleInput",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleInput"),n.prototype),l()(n.prototype,"_handleConfirm",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleConfirm"),n.prototype),l()(n.prototype,"_handleClose",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClose"),n.prototype),l()(n.prototype,"_handleClickButton",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickButton"),n.prototype),l()(n.prototype,"_handleClickButtonOutside",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickButtonOutside"),n.prototype),n);v.defaultProps={label:"",id:"",name:"",namespace:"",title:{active:"",inactive:""},labelVisible:!1,isActivated:!1,moreViewButton:!1,focused:!1,selectIfHasValue:!1,custom:{CustomLayer:function(){return h.b.createElement("div",null)},customProps:{}},recentColors:[],onClickSelector:function(){},onChange:function(){},onInput:function(){},onConfirm:function(){},onValidateValue:function(){return!1},i18n:function(e){return e}},v.propTypes={type:h.a.oneOf([b.b.CUSTOM_LAYER]).isRequired,id:h.a.string,name:h.a.string,namespace:h.a.string,documentToolbarIconType:h.a.string,labelVisible:h.a.bool,label:h.a.string,action:h.a.string,title:h.a.shape({active:h.a.string,inactive:h.a.string}),value:h.a.oneOfType([h.a.string,h.a.array,h.a.bool,h.a.number,h.a.object,h.a.bool]),isActivated:h.a.bool,focused:h.a.bool,selectIfHasValue:h.a.bool,custom:h.a.shape({CustomLayer:h.a.oneOfType([h.a.func,h.a.element]),customProps:h.a.object}),recentColors:h.a.oneOfType([h.a.array,h.a.object]),onClickSelector:h.a.func,onChange:h.a.func,onInput:h.a.func,onConfirm:h.a.func,onValidateValue:h.a.func,i18n:h.a.func,logAreaId:h.a.string,logId:h.a.string,storageKey:h.a.string};var C=Object(f.b)(v);t.a=C,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/custom-layer-button.jsx",localName:t}})}catch(e){}}e(v,"CustomLayerButton"),e(C,"default")}()},193:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(54),l=o.n(c),u=o(49),p=o(347),d=o(224),h=o(1230),f=o(52),m=o(56),g=o(398),y=o(124),b=o(51);function _(e,t){if(void 0===t&&(t={}),!t)return e;var o=Object.keys(e),n=t.optionsBadge||[];return o.reduce(function(t,o){var r=e[o],i=n.includes(o);return t[o]=r&&i?Object.assign(r,{badge:i}):r,t},{})}var v=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e="click.se-toolbar-label-select-"+this.props.name;h.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-label-select-"+this.props.name;h.a.off(e)},o.render=function(){var e=this.props,t=e.type,o=e.isActivated,n=e.id,r=e.name,i=e.value,a=e.label,s=e.title,c=e.hasIcon,p=e.action,d=e.namespace,h=e.deviceType,f=e.options,v=e.onClickOption,C=e.i18n,S=e.logAreaId,O=e.focused,k=e.logId,I=e.highlight,w=n,P=h===b.t.DESKTOP,j=l()("se-"+d+"-toolbar-"+t+"-container","__select-container"),T=l()("se-"+r+"-toolbar-button",["se-"+d+"-toolbar-"+t+"-button"],o&&"se-is-activated"),L=C((f[i]||{}).label)||C(a),E=_(f,I);return u.b.createElement("div",{className:j,"data-type":t,"data-name":r},u.b.createElement(y.a,{focused:O,namespace:d,type:t,dataName:w,className:T,i18n:C,logId:k,logAreaId:S,highlight:I,handleClick:this.handleClickSelector,ariaExpanded:""+o,ariaHasPopup:"true"},c&&u.b.createElement("span",{className:"se-toolbar-icon","data-role":"icon"}),u.b.createElement("span",{className:"se-toolbar-label","data-role":"label","aria-hidden":P},L),P&&u.b.createElement("span",{className:"se-toolbar-tooltip"},C(s))),o&&u.b.createElement(g.a,{id:n,name:r,options:E,value:i,action:p,namespace:d,type:t,logAreaId:S,optionType:m.c.TEXT,i18n:C,onClickOption:v}))},o.handleClickSelector=function(e){var t=this.props,o=t.type,n=t.id,r=t.name,i=t.label,a=t.title,s=t.value,c=t.options;t.onClickSelector.apply(this,[{event:e,type:o,id:n,name:r,label:i,title:a,value:s,options:c}])},o._handleClickButtonOutside=function(e){var t=e.target;this.props.isActivated&&d.a.isOutsideElementbySelector(t,".__select-container")&&this.handleClickSelector({})},t}(u.b.Component),s()(n.prototype,"handleClickSelector",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleClickSelector"),n.prototype),s()(n.prototype,"_handleClickButtonOutside",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickButtonOutside"),n.prototype),n);v.defaultProps={id:"",name:"",value:"",label:"",title:"",namespace:"",hasIcon:!0,focused:!1,options:{},highlight:{},optionType:m.c.TEXT,onClickSelector:function(){},onClickOption:function(){},isActivated:!1,i18n:function(e){return e}},v.propTypes={type:u.a.oneOf([m.b.LABEL_SELECT]).isRequired,id:u.a.string,name:u.a.string,label:u.a.string,title:u.a.string,action:u.a.string,namespace:u.a.string,deviceType:u.a.string,hasIcon:u.a.bool,focused:u.a.bool,value:u.a.string,options:u.a.oneOfType([u.a.array,u.a.object]).isRequired,highlight:u.a.object,optionType:u.a.string,onClickSelector:u.a.func,onClickOption:u.a.func,i18n:u.a.func,isActivated:u.a.bool,logAreaId:u.a.string,logId:u.a.string};var C=Object(p.b)(v);t.a=C,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/label-select-button.jsx",localName:t}})}catch(e){}}e(_,"makeOptions"),e(v,"LabelSelectButton"),e(C,"default")}()},194:function(e,t,o){"use strict";o.d(t,"f",function(){return n}),o.d(t,"c",function(){return r}),o.d(t,"d",function(){return i}),o.d(t,"e",function(){return a}),o.d(t,"a",function(){return c}),o.d(t,"b",function(){return l});var n={NO_RESULT:"no_result",NO_SELECTED_LOCATION:"no_selected_location",NO_PLACE_NAME:"no_place_name",EXCEEDED_MAX_LIMIT:"exceeded_max_limit",EXCEEDED_MAX_LIMIT_OF_IMAGE:"exceeded_max_limit_of_image",ALREADY_ADDED:"already_added",EXCEEDED_MAX_PLACE_NAME:"exceeded_max_place_name"},r={DOMESTIC:"domestic",OVERSEAS:"overseas"},i={NAVER:"naver",GOOGLE:"google"},a=o(39).a.REGION_TYPE,s={IMAGE:"default",TEXT:"map_text"},c={domestic:17,overseas:17},l={"ko-KR":"ko","en-US":"en","zh-TW":"zh-TW","zh-CN":"zh-CN","es-ES":"es","id-ID":"id","ja-JP":"ja","vi-VN":"vi"};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"ToastTypes"),e(r,"RegionTypes"),e(i,"SearchEngine"),e(a,"SupportRegions"),e(s,"MapTypeOptions"),e(c,"DefaultZoomLevel"),e(l,"LANGUAGE_TO_GOOGLE_LANGUAGE_MAP")}()},195:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return r});var n={DEFAULT:"collage",COLLAGE:"collage",SLIDE:"slide",INDIVIDUAL:"individual"},r={FIT:"fit",EXTEND:"extend"};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-group-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"ImageGroupLayer"),e(r,"ImageGroupContentMode")}()},196:function(e,t,o){"use strict";o.d(t,"d",function(){return n}),o.d(t,"a",function(){return r}),o.d(t,"c",function(){return i}),o.d(t,"b",function(){return a});var n={TEXT_START:"textunit_start",PARA_START:"paragraph_start",NODE_START:"node_start",NODE_BODY:"node_body",NODE_END:"node_end",PARA_END:"paragraph_end",TEXT_END:"textunit_end"},r={ERASE_PREV_BR:"erase_prev_br",ERASE_NEXT_BR:"erase_next_br",ERASE_PREV_NODE_CHARACTER:"erase_prev_node_character",ERASE_NEXT_NODE_CHARACTER:"erase_next_node_character",ERASE_CHARACTER:"erase_character",ERASE_NON_TEXT_NODE:"erase_non_text_node",ERASE_PREV_NON_TEXT_NODE:"erase_prev_non_text_node",ERASE_NEXT_NON_TEXT_NODE:"erase_next_non_text_node",DECREASE_INDENT:"decrease_indent"},i={MERGE_ONLY_PREV_NODE:"merge_only_prev_node",MERGE_ONLY_NEXT_NODE:"merge_only_next_node",MERGE_BOTH_SIDE_NODE:"merge_both_side_node",UNMERGEABLE:"unmergeable"},a={ALLOWED:"ALLOWED",NOT_ALLOWED:"NOT_ALLOWED",FOLLOW_CURRENT_STYLE:"FOLLOW_CURRENT_STYLE",conditionalAllowed:function(e){return function(t){return e.includes(t)}}},s={pointPositionTypes:n,eraseTypes:r,filterStyleTypes:a};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/const/index.js",localName:t}})}catch(e){}}e(n,"pointPositionTypes"),e(r,"eraseTypes"),e(i,"mergeTypes"),e(a,"filterStyleTypes"),e(s,"default")}()},197:function(e,t,o){"use strict";var n=o(54),r=o.n(n),i=o(49),a=function(e){var t=e.className,o=r()("__se-toolbar-slot",t);return i.b.createElement("div",{className:o,style:{display:"none"}})};a.defaultProps={className:""},a.propTypes={className:i.a.string};var s=a;t.a=s,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/toolbar-slot/index.jsx",localName:t}})}catch(e){}}e(a,"ToolbarSlot"),e(s,"default")}()},198:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(49),u=o(52),p=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.render=function(){var e=this.props.store,t=e.onRenderServiceDataButton,o=t&&t(e.toPlainJSON());return o?l.b.createElement("div",{className:"se-service-data-wrap",onClick:this._handleClick,onDoubleClick:this._handleDoubleClick,dangerouslySetInnerHTML:{__html:o}}):null},o._handleClick=function(){var e=this.props.store,t=e.onClickServiceDataButton;t&&t(e.toPlainJSON())},o._handleDoubleClick=function(e){e.stopPropagation()},t}(l.b.Component),s()(n.prototype,"_handleClick",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),s()(n.prototype,"_handleDoubleClick",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleDoubleClick"),n.prototype),n);p.propTypes={store:l.a.instanceOf(c.b)};var d=p;t.a=d,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/service-data-button-wrapper/index.jsx",localName:t}})}catch(e){}}e(p,"ServiceDataButtonWrapper"),e(d,"default")}()},199:function(e,t,o){"use strict";var n=o(49),r=o(54),i=o.n(r);function a(e,t){var o=e&&e<=300&&e>100||t&&t<=150&&t>40,n=e&&e<=100||t&&t<=40;return i()({"se-state-error":!0,"se-state-error-small":o,"se-state-error-tiny":n})}var s=function(e){var t=e.message,o=e.inlineStyle,r=a(e.width,e.height);return n.b.createElement("div",{className:r,style:o},n.b.createElement("div",{className:"se-state-error-detail"},n.b.createElement("div",{className:"se-state-error-text"},t)))};s.defaultProps={message:"",inlineStyle:{}},s.propTypes={width:n.a.number,height:n.a.number,message:n.a.string,inlineStyle:n.a.object};var c=s;t.a=c,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/placeholder/index.jsx",localName:t}})}catch(e){}}e(a,"resolveWrapperClassName"),e(s,"Placeholder"),e(c,"default")}()},200:function(e,t,o){"use strict";var n,r,i,a,s,c=o(59),l=o.n(c),u=o(17),p=o.n(u),d=o(61),h=o.n(d),f=o(1),m=o.n(f),g=o(57),y=o.n(g),b=o(0),_=o.n(b),v=o(50),C=o.n(v),S=(o(62),o(69)),O=o(16),k=o(67),I=o(134),w=o(129),P=o(101),j=o(51),T=o(996),L=o(49),E=o(196),N=o(1284),x=o(283),D=(n=function(e){_()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"query",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},h()(o,"layout",r,y()(o)),h()(o,"value",i,y()(o)),h()(o,"source",a,y()(o)),h()(o,"align",s,y()(o)),o._componentFactory=j.U.get("componentFactory");var n=t,c=n.state,l=void 0===c?{}:c,u=n.config,p=void 0===u?{}:u,d=j.U.get("configAgent").get("productConfig.quotation.layouts");return o.attributes=Object(S.a)(o.attributes,p.attributes),o.layout=Object(O.a)(l,"layout",d&&d[0]||o.layout),o.value=o._makeTextUnitStore(l.value,Object(k.a)({},p.value,{attributes:{selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"line-break-in-paragraph",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},filterTextStyle:{fontSizeCode:E.b.conditionalAllowed(["fs11","fs13","fs15","fs16","fs19","fs24","fs28","fs30","fs34","fs38"]),fontFamily:E.b.NOT_ALLOWED,backgroundColor:E.b.NOT_ALLOWED,strikeThrough:E.b.NOT_ALLOWED,subscript:E.b.NOT_ALLOWED,superscript:E.b.NOT_ALLOWED,dropCap:E.b.NOT_ALLOWED,link:E.b.NOT_ALLOWED,list:E.b.NOT_ALLOWED},styleFilterPayload:{layout:o.layout}}),Object(O.a)(p,"value.textStyle",{})),o.source=o._makeTextUnitStore(l.source,Object(k.a)({},p.source,{disable:!1===p.source,attributes:{selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"line-break-in-paragraph",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},filterTextStyle:{fontSizeCode:E.b.conditionalAllowed(["fs12"]),backgroundColor:E.b.NOT_ALLOWED,fontFamily:E.b.NOT_ALLOWED,strikeThrough:E.b.NOT_ALLOWED,subscript:E.b.NOT_ALLOWED,superscript:E.b.NOT_ALLOWED,dropCap:E.b.NOT_ALLOWED,link:E.b.NOT_ALLOWED,list:E.b.NOT_ALLOWED},styleFilterPayload:{layout:o.layout}}),Object(O.a)(p,"source.textStyle",{})),o.align=Object(O.a)(l,"align",o.align),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,value:this.value.toPlainJSON(),source:this.source.toPlainJSON(),align:this.align}},t.breakLine=function(e){return this.getText().breakLine(e)},t.erase=function(e,t){return this.getText().erase(e,t)},t.queryCursor=function(e){return this._shouldSelectComponent(e)?{type:"range",range:this.getComponentActiveRange()}:{type:"range",range:null}},t._shouldSelectComponent=function(e){return this._isToComponent(e)||this._isFromExternalByKeyInput(e)||this._isInternalShift(e)},t._isInternalShift=function(e){var t=e.fromPoint,o=e.toPoint,n=e.eventType,r=t.compId===this.id&&t.unitId===this.id,i=this._isTriggeredByKeyInput(n),a=o.compId===this.id;return r&&i&&a},t._isFromExternalByKeyInput=function(e){var t=e.fromPoint,o=e.eventType,n=t.compId!==this.id,r=this._isTriggeredByKeyInput(o);return n&&r},t._isTriggeredByKeyInput=function(e){return"keydown"===e},t._isToComponent=function(e){return e.toPoint.unitId===this.id},t.updateStyle=function(e,t){var o=this.refineSelection(t),n=this._isFocusedOnText(),r=[],i=Object(I.a)(e,["fontSizeCode","fontColor","bold","italic","underline","lineHeight"]),a=e.align;a&&this.changeAlign(a);var s=this.getText().updateStyle(i,o);return n?r.push(s.start,s.end):r.push(t.start,t.end),r},t.changeLayout=function(e){this.layout=e,this.getText().updateStyleFilterPayload({layout:e}),this.updateTheme()},t.updateProperty=function(e){var t=e.layout,o=p()(e,["layout"]);t&&this.changeLayout(t),Object(P.a)(this,o)},t.filterStyle=function(e){var t=e.value,o=this._getParaAndCharStyle(t),n=o.paraStyle,r=o.charStyle;if(this.value.updateWholeParagraphStyle(n),this.value.updateWholeCharacterStyle(r),this.source){var i=e.source,a=this._getParaAndCharStyle(i);n=a.paraStyle,r=a.charStyle,this.source.updateWholeParagraphStyle(n),this.source.updateWholeCharacterStyle(r)}},t.rotationLayout=function(){var e=Object.keys(x.b).map(function(e){return e.toLowerCase()}),t=e[e.indexOf(this.layout)+1];t?this.changeLayout(t):this.changeLayout(e[0])},t.refineSelection=function(e){var t=this.getText().refineSelection(e);return t.start.compId=this.id,t.end.compId=this.id,t},t.removeFirstParagraph=function(){this.getText().removeFirstParagraph()},t.clone=function(e){if(this._isFocusedOnText(e))return this.getText().clone(e);var t=this.toValidJSON();return this._componentFactory.createComponentWithCompData(t)},t.getPlainTextWithEmoji=function(){return""+this.value.getPlainTextWithEmoji()+this.source.getPlainTextWithEmoji()},t.getStoreById=function(e){return e===this.id?this:e===this.value.id?this.value:e===this.source.id?this.source:null},t._isFocusedOnText=function(){return"none"!==this.value.selection||"none"!==this.source.selection},t.isFocusedOnSourceText=function(){return"none"!==this.source.selection},t.getText=function(e){return e?this[e]:this.isFocusedOnSourceText()?this.source:this.value},t.getTextUnits=function(){return this.source.disable?[this.value]:[this.value,this.source]},t.hasUnit=function(e){return this.getTextUnits().some(function(t){return t.id===e})},t.hasParagraph=function(e){return this.getTextUnits().some(function(t){return t.has(e)})},t.collectStyle=function(e){var t="cursor"===e.mode,o=this.getText().collectStyle(e);delete o.strikeThrough;var n={layout:this.layout,textFormat:"quotation",contentMode:"fit"};return t||(n.align=void 0),l()({},o,n)},t.getUnitStartPoint=function(){return l()({compId:this.id},this.getText().getStartPoint())},t.getUnitEndPoint=function(){return l()({compId:this.id},this.getText().getEndPoint())},t.getEndCollapsedRange=function(e){if(this._isFocusedOnText()){var t=e.end;return{start:t,end:t}}return this.getComponentActiveRange()},t.isEmpty=function(){return this.getText().isEmpty()},t.isEmptyTextNode=function(e){return this.getText().isEmptyTextNode(e)},t.resetStyle=function(){this.getTextUnits().forEach(function(e){e.resetStyle()})},t._makeTextUnitStore=function(e,t,o){var n=t.filterTextStyle;return t.filterTextStyle=Object(S.a)(n,o),new N.a({state:e,config:t})},t._getParaAndCharStyle=function(e){return{paraStyle:Object(I.a)(e,j.J),charStyle:Object(w.a)(e,j.J)}},t.detachParagraphs=function(e,t){return this.getText().detachParagraphs(e,t)},t.detachAllParagraphs=function(){var e=this.value.detachAllParagraphs();if(!this.source.disable&&!this.source.isEmpty()){var t=this.source.detachAllParagraphs();e=e.concat(t)}return e},t.getRangeAfterInsert=function(){return{start:this.getUnitStartPoint(),end:this.getUnitStartPoint()}},t.getOffsetInParagraph=function(e){return this.getStoreById(e.unitId).getOffsetInParagraph(e)},t.getNodeInfoAfterOffset=function(e,t){return this.getStoreById(e.unitId).getNodeInfoAfterOffset(e,t)},t.deselect=function(){this._changeSelectionToNone(),this.value.deselect(),this.source.deselect()},t.putCursor=function(e){var t=e.unitId,o=this.getStoreById(t);this.deselect(),this._changeSelectionToChild(),o.putCursor(e)},t.selectAsBlock=function(e,t){this.deselect(),e.unitId===this.value.id?(this.value.selectAsBlock(e,t),this._changeSelectionToChild()):e.unitId===this.source.id?(this.source.selectAsBlock(e,t),this._changeSelectionToChild()):this._changeSelectionToBlock()},t.selectAsSingle=function(){this.deselect(),this._changeSelectionToSingle()},t.setAvailableContentLength=function(e){this.getText().setAvailableContentLength(e)},t.resetAvailableContentLength=function(){this.getText().resetAvailableContentLength()},t.sliceContentText=function(e){if(this.value.textLength>e)this.value.slice(e),this.source.slice(0);else{var t=e-this.value.textLength;this.source.slice(t)}},m()(o,[{key:"isSourceTextOn",get:function(){return this._isFocusedOnText()||!this.source.isEmpty()||this.isActivated}},{key:"isActivated",get:function(){var e=this.selection;return"single"===e||"multi"===e}},{key:"textLength",get:function(){return this.getTextUnits().map(function(e){return e.textLength}).reduce(function(e,t){return e+t})}},{key:"translationEnabled",get:function(){return this._isFocusedOnText()}}]),o}(j.g),r=C()(n.prototype,"layout",[L.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.a}}),i=C()(n.prototype,"value",[L.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=C()(n.prototype,"source",[L.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=C()(n.prototype,"align",[L.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C()(n.prototype,"isSourceTextOn",[L.e],Object.getOwnPropertyDescriptor(n.prototype,"isSourceTextOn"),n.prototype),C()(n.prototype,"isActivated",[L.e],Object.getOwnPropertyDescriptor(n.prototype,"isActivated"),n.prototype),C()(n.prototype,"textLength",[L.e],Object.getOwnPropertyDescriptor(n.prototype,"textLength"),n.prototype),n);D.ctype="quotation",D.schema={id:T.a.string.isRequired,ctype:T.a.string.isRequired,layout:T.a.string.isRequired,value:T.a.textUnit,source:T.a.textUnit,align:T.a.string};var R=D;t.a=R,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/store/index.js",localName:t}})}catch(e){}}e(D,"QuotationComponentStore"),e(R,"default")}()},214:function(e,t,o){"use strict";o.d(t,"a",function(){return a}),o.d(t,"b",function(){return m});var n=o(70),r=o(1046),i="highlight-",a={BADGE:"badge",TOOLTIP:"tooltip",BANNER:"banner"},s="start-date",c=7,l=1440*c,u="";function p(){if(u)return u;var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)}function d(e){return void 0===e&&(e=""),i+e+"-"+p()}function h(){var e=r.a.get(d(s)),t=(new Date).getTime();return l<=(t-e)/1e3/60}function f(e,t){if(!e)return!1;var o=e.dataset,n=o.name,r=o.value,i=void 0===r?"":r;if(!n)return!1;var a=t.split(":"),s=a[0],c=a[1];return n===s&&i===(void 0===c?"":c)}var m={init:function(e){e&&(u=e.release&&"undefined"!==e.release?e.release:p(),e.period&&(c=e.period))},get:function(e,t){m.init(e);var o=e.id===t,i=e.badge||[],s=e.tooltip||{},c=o?e.badge:i.includes(t),l=o?e.tooltip:s[t],u=a.BADGE+"-"+t,p=a.TOOLTIP+"-"+t,f=r.a.get(d(u)),g=r.a.get(d(p)),y={badge:!h()&&"shown"!==f&&c,tooltip:"shown"!==g&&l};if(o)return y;var b=[];return Object(n.a)(i,function(e){if(e.indexOf(":")>-1){var o=e.split(":"),n=o[0],i=o[1],s=a.BADGE+"-"+t+":"+i;"shown"!==r.a.get(d(s))&&n===t&&b.push(i)}}),y.optionsBadge=b.length>0&&b,!!(y.badge||y.tooltip||y.optionsBadge)&&y},hide:function(e,t,o){var i=this;t!==a.BADGE||r.a.get(d(s))||r.a.set(d(s),(new Date).getTime());var c=t+"-"+e;r.a.set(d(c),"shown"),o&&t===a.BADGE&&setTimeout(function(){o.classList.remove("se-highlight-toolbar-button"),o.classList.remove("__se-highlight-button");var t=o.querySelector(".__se-highlight-tooltip");t&&i.hide(e,a.TOOLTIP,t);var r=document.querySelectorAll(".se-toolbar")||[];Object(n.a)(r,function(t){var o=t.querySelector(".__se-highlight-button");f(o,e)&&(o.classList.remove("se-highlight-toolbar-button"),o.classList.remove("__se-highlight-button"))})},300),o&&t===a.TOOLTIP&&(o.style.display="none")},shown:function(e,t){var o=t+"-"+e,n=r.a.get(d(o)),i=h();return t===a.BADGE&&i||"shown"===n},remove:function(e){var t=a.BADGE+"-"+e,o=a.TOOLTIP+"-"+e;r.a.remove(d(t)),r.a.remove(d(o))}},g=m;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/button-highlight/index.js",localName:t}})}catch(e){}}e(i,"HIGHLIGHT_KEY_PREFIX"),e(a,"HighlightTypes"),e("shown","HIGHLIGHT_SHOWN_VALUE"),e("se-highlight-toolbar-button","BADGE_CLASS_NAME"),e("__se-highlight-button","BADGE_TARGET_CLASS_NAME"),e("__se-highlight-tooltip","TOOLTIP_TARGET_CLASS_NAME"),e(s,"HIGHLIGHT_START_DATE_KEY"),e(c,"LIMIT_DISPLAY_DAYS"),e(l,"LIMIT_DISPLAY_MINUTES"),e(u,"RELEASE_VERSION"),e(p,"releaseVersion"),e(d,"getKey"),e(h,"limitDisplayDate"),e(f,"isSameBadge"),e(m,"buttonHighlight"),e(g,"default")}()},215:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f=o(61),m=o.n(f),g=o(1),y=o.n(g),b=o(57),_=o.n(b),v=o(0),C=o.n(v),S=o(50),O=o.n(S),k=(o(62),o(16)),I=o(51),w=o(49),P=o(95),j=o(171),T=o(92),L=o(464),E=o(698),N=(n=Object(w.e)({keepAlive:!0}),r=Object(w.e)({keepAlive:!0}),i=Object(w.e)({keepAlive:!0}),a=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,m()(o,"opened",s,_()(o)),m()(o,"isVisibleWriterPopup",c,_()(o)),m()(o,"editingText",l,_()(o)),m()(o,"messages",u,_()(o)),m()(o,"writers",p,_()(o)),m()(o,"editedWriters",d,_()(o)),m()(o,"selectedWriter",h,_()(o)),o.defaultWriters=[],o.baseName="",o.compId=null;var n=t.state,r=void 0===n?{}:n;return o._configAgent=I.U.get("configAgent"),o.userNickName=o._configAgent.get("userInfo.nickName"),o.opened=Object(k.a)(r,"opened",o.opened),o.editingText=Object(k.a)(r,"editingText",o.editingText),o.writers=Object(k.a)(r,"writers",o.writers),o.editedWriters=Object(k.a)(r,"editedWriters",o.editedWriters),o.messages=Object(k.a)(r,"messages",o.messages),o.selectedWriter=Object(k.a)(r,"selectedWriter",o.selectedWriter),o.isVisibleWriterPopup=Object(k.a)(r,"isVisibleWriterPopup",o.isVisibleWriterPopup),o.baseName=Object(k.a)(r,"baseName",o.baseName),o}C()(t,e);var o=t.prototype;return o.addMessage=function(){var e=this._findWriterByKey(this.selectedWriter).name,t={key:I.Z.generate(),name:e,text:this.editingText,writer:this.selectedWriter,owner:this._isOwner(this.selectedWriter),editing:!1,dragging:!1};this.messages.push(t),this.editingText=""},o.addWriter=function(){if(!(this.editedWriters.length>=5)){var e={key:I.Z.generate(),name:"",placeholder:this._getNewName({writers:this.editedWriters}),editing:!0};this.editedWriters.push(e)}},o.changeOrder=function(e,t){if(e){var o=this._findMessageByKey(t),n=this._findMessageIndexByKey(e);Object(L.a)(this.messages,function(e){return e.key===t}),this.messages.splice(n,0,o)}},o.toggleDragging=function(e){this._cancelEditing();var t=this._findMessageByKey(e);t.dragging=!t.dragging},o.editMessage=function(e){this._cancelEditing();var t=this._findMessageByKey(e);t.editing=!0,this.selectedWriter=t.writer,this.editingText=t.text},o.editWriter=function(e){var t=this._findEditedWriterByKey(e);t.placeholder=this._checkDefaultName(t.name)?t.name:this._getNewName({writers:this.editedWriters,exceptionName:t.name}),t.editing=!0,t.placeholder===t.name&&(t.name="")},o._checkDefaultName=function(e){return new RegExp("^"+this.baseName+"[1-5]$").test(e)},o._cancelEditing=function(){this.isEditMode&&(this.editingText="",this.messages.forEach(function(e){e.editing=!1}))},o.completeMessageEditing=function(){var e=Object(P.a)(this.messages,function(e){return e.editing});e.editing=!1,e.text=this.editingText,this.editingText=""},o.completeWriterEditing=function(e,t){var o=this,n=this._findEditedWriterByKey(e),r=t?this._getNewName({writers:this.editedWriters,predicate:function(e,t){return 1===t?e:o._resizeLength(e,e+"("+t+")")},baseName:t}):t;n.name=r||n.placeholder,n.editing=!1},o.changeEditingText=function(e){this.editingText=e},o.selectWriter=function(e){this.selectedWriter=e,this._cancelEditing()},o.deleteMessage=function(e){Object(L.a)(this.messages,function(t){return t.key===e}),this.isEditMode||(this.editingText="")},o.deleteWriter=function(e){this._isOwner(e)||Object(L.a)(this.editedWriters,function(t){return t.key===e})},o.completeWritersEditing=function(){var e=this;this.writers.forEach(function(t){var o=e._findEditedWriterByKey(t.key);o?t.name!==o.name&&e.messages.filter(function(e){return e.writer===t.key}).forEach(function(e){e.name=o.name}):e.messages=e.messages.filter(function(e){return e.writer!==t.key})}),this.writers=this.editedWriters.slice(),this.writers.every(function(t){return t.key!==e.selectedWriter})&&(this.selectedWriter=this.writers[0].key),this.hideWriterPopup()},o._findMessageIndexByKey=function(e){return Object(T.a)(this.messages,function(t){return t.key===e})},o._findMessageByKey=function(e){return Object(P.a)(this.messages,function(t){return t.key===e})},o._findWriterByKey=function(e){return Object(P.a)(this.writers,function(t){return t.key===e})},o._findEditedWriterByKey=function(e){return Object(P.a)(this.editedWriters,function(t){return t.key===e})},o._resizeLength=function(e,t){if(t.length<=E.a||e===t)return t;var o=/\(\d\)$/,n=o.exec(t)[0];return t.split(o)[0].substring(0,E.a-n.length)+n},o._getNewName=function(e){var t=e.writers,o=e.suffixNumber,n=void 0===o?1:o,r=e.exceptionName,i=e.baseName,a=void 0===i?this.baseName:i,s=e.predicate,c=void 0===s?function(e,t){return e+t}:s;if(!(n>5)){var l=t.some(function(e){return!(e.editing||r===e.name)&&e.name===c(a,n)}),u={writers:t,suffixNumber:n+1,exceptionName:r,predicate:c,baseName:a};return l?this._getNewName(u):c(a,n)}},o.open=function(e){this.opened=!0,this._init(e)},o.close=function(){this.opened=!1},o._init=function(e){if(e){var t=e.messages,o=e.writers,n=e.compId,r=e.baseName;this.defaultWriters.length||(this.baseName=r,this.defaultWriters=[{name:this.userNickName||r,key:I.Z.generate(),editing:!1},{name:this._getNewName({writers:this.writers,baseName:r}),key:I.Z.generate(),editing:!1}]),this.writers=[].concat(this.defaultWriters),t&&t.length&&(this.messages=t),o&&o.length&&(this.writers=o),n&&(this.compId=n),this.selectedWriter=this.writers[0].key}},o.reset=function(){this.writers=[].concat(this.defaultWriters),this.messages=[],this.compId=null,this.selectedWriter="",this.editingText=""},o.showWriterPopup=function(){this.isVisibleWriterPopup=!0,this.editedWriters=Object(j.a)(this.writers.slice())},o.hideWriterPopup=function(){this.isVisibleWriterPopup=!1,this.editedWriters=[]},o._isOwner=function(e){return this.writers[0].key===e},y()(t,[{key:"isValidMessages",get:function(){return this.messages.every(function(e){return!e.dragging})&&this.messages.some(function(e){return""!==e.text.trim()})}},{key:"isEditMode",get:function(){return this.messages.some(function(e){return e.editing})}},{key:"messageCount",get:function(){return this.messages.length}}]),t}(I.e),s=O()(a.prototype,"opened",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=O()(a.prototype,"isVisibleWriterPopup",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=O()(a.prototype,"editingText",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=O()(a.prototype,"messages",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=O()(a.prototype,"writers",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=O()(a.prototype,"editedWriters",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=O()(a.prototype,"selectedWriter",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O()(a.prototype,"isValidMessages",[n],Object.getOwnPropertyDescriptor(a.prototype,"isValidMessages"),a.prototype),O()(a.prototype,"isEditMode",[r],Object.getOwnPropertyDescriptor(a.prototype,"isEditMode"),a.prototype),O()(a.prototype,"messageCount",[i],Object.getOwnPropertyDescriptor(a.prototype,"messageCount"),a.prototype),a),x=N;t.a=x,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/chat-layer/src/store/index.js",localName:t}})}catch(e){}}e(5,"MAX_WRITER_COUNT"),e(N,"ChatLayerStore"),e(x,"default")}()},216:function(e,t,o){"use strict";var n,r,i=o(12),a=o.n(i),s=o(18),c=o.n(s),l=o(61),u=o.n(l),p=o(57),d=o.n(p),h=o(0),f=o.n(h),m=(o(62),o(50)),g=o.n(m),y=o(51),b=o(49),_=o(52),v=(n=function(e){function t(){var t;return t=e.call(this)||this,u()(t,"_onEachUpload",r,d()(t)),t._makeImageComponent=function(){var e=c()(a.a.mark(function e(o){var n,r,i,s,c,l,u,p;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._imageComponentService.createFileUploadData(o);case 2:return n=e.sent,r=n.imageCompStores,i=n.uploadTarget,s=i.ids,c=i.files,l=n.invalidImages,u=l.map(function(e){return e.id}),p=r.filter(function(e){var t=e.id;return!u.includes(t)}),t._insertImage(p),e.abrupt("return",{shellImageComps:r,shellImageCompIds:s,validImages:c,invalidImages:l});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),t._configAgent=y.U.get("configAgent"),t._webtoonLayerService=y.U.get("webtoonLayerService"),t._webtoonComponentService=y.U.get("webtoonComponentService"),t._imageUploadService=y.U.get("imageUploadService"),t._uploadProgressLayerService=y.U.get("uploadProgressLayerService"),t._imageComponentService=y.U.get("imageComponentService"),t._editingService=y.U.get("editingService"),t._imageBehavior=y.U.get("imageBehavior"),t}f()(t,e);var o=t.prototype;return o.close=function(){var e=this;this._webtoonLayerService.close(),setTimeout(function(){e._uploadProgressLayerService.end()},500)},o.openLoadingLayer=function(){this._webtoonLayerService.openLoadingLayer()},o.closeLoadingLayer=function(){this._webtoonLayerService.closeLoadingLayer()},o.uploadImage=function(){var e=c()(a.a.mark(function e(){var t,o=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog({multiple:!0});case 2:return t=e.sent,this.openLoadingLayer(),e.next=6,this._imageBehavior.insert(t,{makeComponent:this._makeImageComponent,onEachUpload:this._onEachUpload}).then(function(e){var t=e.invalidImageErrors,n=void 0===t?[]:t,r=e.succeededImages,i=(void 0===r?[]:r).map(function(e){return e.response.id}),a=o._webtoonLayerService.isOpen(),s=i.every(function(e){return o._webtoonLayerService.getImageStore(e)});a&&s&&(n.forEach(function(e){var t=e.id;o._webtoonLayerService.deleteImage(t)}),o.uploadStatus(!0),o.closeLoadingLayer())});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._insertImage=function(e){this._webtoonLayerService.isOpen()&&this._webtoonLayerService.insertShellImage(e)},o.changeImageOrder=function(e,t){this._webtoonLayerService.changeImageOrder(e,t)},o.updateCurrentPage=function(e){this._webtoonLayerService.updateCurrentPage(e)},o.changeLayout=function(e){this._webtoonLayerService.changeLayout(e)},o.insertWebtoon=function(){var e=this._webtoonLayerService.createComponentData(),t=this._webtoonComponentService.getSelectedWebtoonStore().id;this._editingService.insert({sourceComponents:[e]}),this._webtoonLayerService.isEditMode()&&this._editingService.eraseComponent(t),this._webtoonLayerService.close()},o.deleteImage=function(e){this._webtoonLayerService.deleteImage(e)},o.uploadStatus=function(e){this._webtoonLayerService.uploadStatus(e)},t}(y.m),g()(n.prototype,"openLoadingLayer",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"openLoadingLayer"),n.prototype),g()(n.prototype,"closeLoadingLayer",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"closeLoadingLayer"),n.prototype),r=g()(n.prototype,"_onEachUpload",[b.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var o=t.code,n=t.response;if("SUCCESS"===o){var r=n.id,i=e._webtoonLayerService.getImageStore(r);if(!e._webtoonLayerService.isOpen()||!i)return;e._imageComponentService.changeImage(i,n)}}}}),g()(n.prototype,"_insertImage",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"_insertImage"),n.prototype),g()(n.prototype,"changeImageOrder",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"changeImageOrder"),n.prototype),g()(n.prototype,"updateCurrentPage",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"updateCurrentPage"),n.prototype),g()(n.prototype,"changeLayout",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLayout"),n.prototype),g()(n.prototype,"insertWebtoon",[_.history,b.d],Object.getOwnPropertyDescriptor(n.prototype,"insertWebtoon"),n.prototype),g()(n.prototype,"deleteImage",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"deleteImage"),n.prototype),g()(n.prototype,"uploadStatus",[b.d],Object.getOwnPropertyDescriptor(n.prototype,"uploadStatus"),n.prototype),n),C=v;t.a=C,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/webtoon-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(v,"WebtoonLayerUseCase"),e(C,"default")}()},217:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d=o(61),h=o.n(d),f=o(1),m=o.n(f),g=o(57),y=o.n(g),b=o(0),_=o.n(b),v=o(50),C=o.n(v),S=(o(62),o(16)),O=o(51),k=o(49),I=o(150),w=(n=k.g.shallow,r=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,h()(o,"opened",i,y()(o)),h()(o,"images",a,y()(o)),h()(o,"layout",s,y()(o)),h()(o,"horizontalDirection",c,y()(o)),h()(o,"currentPageIndex",l,y()(o)),h()(o,"isLoading",u,y()(o)),h()(o,"uploadCompleted",p,y()(o));var n=t.state,r=void 0===n?{}:n;return o.opened=Object(S.a)(r,"opened",o.opened),o.images=Object(S.a)(r,"images",o.images),o.layout=Object(S.a)(r,"layout",o.layout),o.horizontalDirection=Object(S.a)(r,"horizontalDirection",o.horizontalDirection),o}_()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.editWebtoon=function(e){var t=e.images,o=void 0===t?[]:t,n=e.layout,r=e.currentPageIndex,i=this.horizontalDirection===I.a.RIGHT_TO_LEFT,a=n===I.b.HORIZONTAL;i&&a&&(r+=1),this.currentPageIndex=r,this.images=o,this.layout=n,this.open()},o.close=function(){this.opened=!1,this._reset()},o.openLoadingLayer=function(){this.isLoading=!0},o.closeLoadingLayer=function(){this.isLoading=!1},o.insertShellImage=function(e){var t=this.pageMaxCount;this._insertShellImage(e,t)},o._insertShellImage=function(e,t){var o=this;e.forEach(function(e,n){o.images.splice(n+t+1,0,e)})},o.deleteImage=function(e){if(this.layout===I.b.HORIZONTAL){var t=this.horizontalDirection===I.a.RIGHT_TO_LEFT,o=t?this.pageMaxCount-e:e;t?(o<this.currentPageIndex||o===this.pageMaxCount)&&this.updateCurrentPage(this.currentPageIndex-1):(o<this.currentPageIndex||o===this.pageMaxCount-1)&&this.updateCurrentPage(this.currentPageIndex-1)}this.images.splice(e,1)},o.updateCurrentPage=function(e){this.currentPageIndex=e},o.changeLayout=function(e){e!==this.layout&&(this.layout=e)},o.changeImageOrder=function(e,t){var o=this.images.splice(e,1)[0];this.images.splice(t,0,o)},o.uploadStatus=function(e){this.uploadCompleted=e},o._reset=function(){this.images=[],this.layout=I.b.HORIZONTAL,this.currentPageIndex=0},m()(t,[{key:"pageMaxCount",get:function(){return this.images.length}},{key:"imageExist",get:function(){return!!this.images.length}},{key:"readyToUpload",get:function(){return this.images.length>=2&&this.images.every(function(e){var t=e.path,o=e.src,n=e.phase;return!(e.internalResource&&""===t&&""!==o)&&n!==O.M.PROCESSING})}},{key:"isDraggableStatus",get:function(){return this.images.length>1}}]),t}(O.e),i=C()(r.prototype,"opened",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=C()(r.prototype,"images",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=C()(r.prototype,"layout",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.b.HORIZONTAL}}),c=C()(r.prototype,"horizontalDirection",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.a.RIGHT_TO_LEFT}}),l=C()(r.prototype,"currentPageIndex",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=C()(r.prototype,"isLoading",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=C()(r.prototype,"uploadCompleted",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C()(r.prototype,"pageMaxCount",[k.e],Object.getOwnPropertyDescriptor(r.prototype,"pageMaxCount"),r.prototype),C()(r.prototype,"imageExist",[k.e],Object.getOwnPropertyDescriptor(r.prototype,"imageExist"),r.prototype),C()(r.prototype,"readyToUpload",[k.e],Object.getOwnPropertyDescriptor(r.prototype,"readyToUpload"),r.prototype),C()(r.prototype,"isDraggableStatus",[k.e],Object.getOwnPropertyDescriptor(r.prototype,"isDraggableStatus"),r.prototype),r),P=w;t.a=P,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/webtoon-layer/src/store/index.js",localName:t}})}catch(e){}}e(1,"INDEX_OFFSET"),e(w,"WebtoonLayerStore"),e(P,"default")}()},218:function(e,t,o){"use strict";var n,r=o(59),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(16),h=o(70),f=o(67),m=o(54),g=o.n(m),y=o(51),b=o(49),_=o(347),v=o(52),C=o(667),S=o(56),O=o(214),k=[S.e.DOCUMENT,S.e.PROPERTY],I=(n=function(e){function t(){var t;return(t=e.call(this)||this)._deviceType=y.U.get("configAgent").get("productEnv.deviceType"),t._pluginButtonRegistry=y.U.get("pluginButtonRegistry"),t._upperCaseRegex=new RegExp("[A-Z]"),t.state={wrapperStyle:{overflow:"hidden"}},t}l()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this.props,t=e.namespace;e.isFlexible&&t===S.e.DOCUMENT?this._refineDisplayButtonSet():this._resetWrapperOverflowStyle()},o.componentDidUpdate=function(e){this._shouldRefineDisplayButtonSetOnUpdate(e)&&this._refineDisplayButtonSet()},o.render=function(){var e=this.props.className,t=this._renderButtonList(),o=this._resolveToolbarWrapperStyle();return b.b.createElement("ul",{ref:this._toolbarWrapperRef,className:e,onMouseUp:this._handleClick,style:o},t)},o._toolbarWrapperRef=function(e){this._toolbarWrapper=e},o._shouldRefineDisplayButtonSetOnUpdate=function(e){var t=this.props,o=t.namespace,n=t.isFlexible,r=t.selectedUnitIds,i=t.viewMode;return!!n&&(!!k.includes(o)&&(i!==e.viewMode||o===S.e.PROPERTY&&r!==e.selectedUnitIds))},o._refineDisplayButtonSet=function(){var e=this._toolbarWrapper.childNodes;if(e.length>0){var t=e[0].offsetTop,o=[];Object(h.a)(e,function(e){e.offsetTop!==t&&0!==e.offsetTop||o.push(e)}),this.props.onReflowToolbar({displayButtonCount:o.length})}this._resetWrapperOverflowStyle()},o._resetWrapperOverflowStyle=function(){this.setState({wrapperStyle:{overflow:""}})},o._resolveToolbarWrapperStyle=function(){return this.state.wrapperStyle},o._resolveButtonListClassName=function(e){var t=e.name,o=e.option,n=Object(d.a)(o,"position");return g()("se-toolbar-item","se-toolbar-item-"+t,n?"se-toolbar-"+n:"")},o._renderButtonList=function(){var e=this,t=this.props,o=t.buttons,n=t.moreButtons,r=n&&this._getMoreButtons(n);return o.map(function(t,o){var n=e._resolveButton(t),i=n.className,a=n.buttonView,s=n.props,c=n.handleKeyDown;return r&&"more-view"===t.styleName&&Object(f.a)(s,{options:r}),b.b.createElement("li",{key:t.buttonName+"-"+o,className:i,onKeyDown:c,"data-role":"button-container"},a(s))})},o._getMoreButtons=function(e){var t=this;return e.map(function(e){var o=t._resolveButton(e);return{id:e.styleName,buttonName:e.buttonName,className:o.className,buttonView:o.buttonView,props:o.props}})},o._resolveButton=function(e){var t=this.props,o=t.namespace,n=t.documentToolbarIconType,r=t.i18n,a=t.focusButtonId,c=t.activeButtonId,l=t.activePanelButtonId,u=t.selectedComponentType,p=e.buttonName,d=e.styleName,h=e.compType,f=e.toolbarName,m=s()(e,["buttonName","styleName","compType","toolbarName"]),g=this._resolveButtonListClassName({name:d,option:m.option}),y=this._pluginButtonRegistry.getButtonView({compType:h,toolbarName:f,buttonName:p}),b=this._resolveHandleKeyDown(p),_=this._resolveClickLogId(h),v=p===a,C=p===c||p===l;return{className:g,buttonView:y,props:i()({namespace:o,deviceType:this._deviceType,documentToolbarIconType:n,focused:v,isActivated:C,logAreaId:_,onClickSelector:this._handleClickSelector,i18n:r,selectedComponentType:u},m),handleKeyDown:b}},o._resolveClickLogId=function(e){void 0===e&&(e="");var t=this.props,o=t.logAreaId,n=t.namespace,r=e.slice(0,2).split("");if([S.e.DOCUMENT,S.e.PROPERTY,S.e.CONTEXT].includes(n))return o;var i=e.match(this._upperCaseRegex);return i?r.push(i[0].toLowerCase()):r.push(e.slice(e.length-1)),r.join("")+o},o._resolveHandleKeyDown=function(e){var t=this;return function(o){t.props.onKeyDown(o,e)}},o._handleClickSelector=function(e){var t=e.id;this.props.onClickSelector(t)},o._handleClick=function(e){C.a.log(e.nativeEvent);var t=e.target.closest("button");if(t&&t.classList.contains("__se-highlight-button")){var o=t.dataset,n=o.name,r=o.value;if(n){var i=n+(r?":"+r:"");O.b.hide(i,O.a.BADGE,t)}}},t}(b.b.Component),p()(n.prototype,"_toolbarWrapperRef",[v.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_toolbarWrapperRef"),n.prototype),p()(n.prototype,"_refineDisplayButtonSet",[v.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_refineDisplayButtonSet"),n.prototype),p()(n.prototype,"_handleClickSelector",[v.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickSelector"),n.prototype),p()(n.prototype,"_handleClick",[v.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n);I.defaultProps={buttons:[],moreButtons:[],className:"",namespace:"",isFlexible:!1,documentToolbarIconType:"",focusButtonId:"",activeButtonId:"",activePanelButtonId:"",logAreaId:"",onKeyDown:function(){},onClickSelector:function(){}},I.propTypes={buttons:b.a.oneOfType([b.a.array,b.a.object]),moreButtons:b.a.oneOfType([b.a.array,b.a.object]),className:b.a.string,namespace:b.a.string,viewMode:b.a.string,isFlexible:b.a.bool,documentToolbarIconType:b.a.string,focusButtonId:b.a.string,activeButtonId:b.a.string,activePanelButtonId:b.a.string,selectedUnitIds:b.a.oneOfType([b.a.array,b.a.object]),selectedComponentType:b.a.string,logAreaId:b.a.string,onKeyDown:b.a.func,onClickSelector:b.a.func,onReflowToolbar:b.a.func,i18n:b.a.func};var w=Object(_.b)(I);t.a=w,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/index.jsx",localName:t}})}catch(e){}}e(k,"HEADER_TOOLBARS"),e(I,"Toolbar"),e(w,"default")}()},219:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(63),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.BASIC:t,n=e.title,r=void 0===n?"imageEdit:title":n,a=e.label,c=void 0===a?"imageEdit:label":a,l=e.labelVisible,u=void 0===l||l,p=e.logId,h=void 0===p?"imgedt":p,g=s()(e,["type","title","label","labelVisible","logId"]);return d.b.createElement(f.a,i()({},g,{type:o,title:r,label:c,logId:h,labelVisible:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageEditRightLabelButton"),e(y,"default")}()},220:function(e,t,o){"use strict";o.d(t,"d",function(){return n}),o.d(t,"c",function(){return i}),o.d(t,"b",function(){return a}),o.d(t,"a",function(){return s}),o.d(t,"e",function(){return c});var n={VIDEO:"video",RICH:"rich"},r={LEFT:"left",CENTER:"center",RIGHT:"right"},i={DEFAULT:"default"},a={NORMAL:"normal",FIT:"fit",EXTEND:"extend",PAGEFULL:"pagefull"},s=["facebook","twitter","instagram","slideshare","soundcloud","audioclip","nmv.naver","tv.naver"],c=["facebook","twitter","instagram"],l={OEmbedAlign:r,OEmbedLayout:i,OEmbedContentMode:a,IE10NotSupportedList:s,ScriptTypeList:c};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"OEmbedType"),e(r,"OEmbedAlign"),e(i,"OEmbedLayout"),e(a,"OEmbedContentMode"),e(s,"IE10NotSupportedList"),e(c,"ScriptTypeList"),e(l,"default")}()},221:function(e,t,o){"use strict";o.d(t,"d",function(){return r}),o.d(t,"a",function(){return i}),o.d(t,"b",function(){return a}),o.d(t,"c",function(){return s});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default",LAYOUT1:"table_layout1",LAYOUT2:"table_layout2",LAYOUT3:"table_layout3",LAYOUT4:"table_layout4",LAYOUT5:"table_layout5",LAYOUT6:"table_layout6",LAYOUT7:"table_layout7"},i={TABLET:6,MOBILE:3},a={TABLET:640,MOBILE:360},s={thinLine:{tableStyle:"border-style: solid; border-width: 1px 0px 0px 1px;",columnStyle:"border-style: solid; border-width: 0px 1px 1px 0px;"},thickLine:{tableStyle:"border-style: solid; border-width: 2px 0px 0px 2px;",columnStyle:"border-style: solid; border-width: 0px 2px 2px 0px;"},dottedLine:{tableStyle:"border-style: dashed; border-width: 1px 0px 0px 1px;",columnStyle:"border-style: dashed; border-width: 0px 1px 1px 0px;"},doubleLine:{tableStyle:"border-style: solid; border-width: 1px; border-spacing: 1px;",columnStyle:"border-style: solid; border-width: 1px;"},thickDoubleLine:{tableStyle:"border-style: solid; border-width: 1px 2px 2px 1px; border-spacing: 1px;",columnStyle:"border-style: solid; border-width: 2px 1px 1px 2px;"},none:{tableStyle:"border-style: none; border-width: 0px;",columnStyle:"border-style: none; border-width: 0px;"}},c={InlineStyle:s,DefaultColumnCount:i,ALIGN:n,LAYOUT:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"ALIGN"),e(r,"LAYOUT"),e(i,"DefaultColumnCount"),e(a,"DefaultWidth"),e(s,"InlineStyle"),e(c,"default")}()},261:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r});var n={TEXT:"text",IMAGE:"image"},r={WHITE:"white",BLACK:"black"},i={BANNER_TYPE:n,FONT_COLOR_TYPE:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/highlight-banner-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"BANNER_TYPE"),e(r,"FONT_COLOR_TYPE"),e(i,"default")}()},262:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return r});var n={FF120:"ff120"},r={OGQ_COMMERCIAL:"ogqCommercial",OGQ:"ogq"},i={THUMBNAIL_TYPE:n,PROVIDER_TYPE:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/consts/index.js",localName:t}})}catch(e){}}e(n,"THUMBNAIL_TYPE"),e(r,"PROVIDER_TYPE"),e(i,"default")}()},263:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={MY:"my",PART:"part",RECOMMEND:"recommend"},r={TemplateTypes:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/template-panel-layout/src/consts/index.js",localName:t}})}catch(e){}}e(n,"TemplateTypes"),e(r,"default")}()},264:function(e,t,o){"use strict";var n,r,i,a,s,c=o(61),l=o.n(c),u=o(57),p=o.n(u),d=o(0),h=o.n(d),f=o(50),m=o.n(f),g=(o(62),o(16)),y=o(51),b=o(49),_=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,l()(o,"opened",r,p()(o)),l()(o,"preview",i,p()(o)),l()(o,"isLoading",a,p()(o)),l()(o,"copiedUrl",s,p()(o)),o.dimColor="transparent";var n=t,c=n.state,u=void 0===c?{}:c,d=n.config,h=void 0===d?{}:d;return o._configAgent=y.U.get("configAgent"),o.dimColor=Object(g.a)(h,"dimColor",o.dimColor),o.opened=Object(g.a)(u,"opened",o.opened),o.preview=Object(g.a)(u,"preview",o.preview),o.isLoading=Object(g.a)(u,"isLoading",o.isLoading),o}h()(t,e);var o=t.prototype;return o.open=function(e){this.updatePreview(void 0),this.copiedUrl=e,this.opened=!0},o.close=function(){this.opened=!1,this.isLoading=!1,this.copiedUrl=""},o.reset=function(){this.copiedUrl="",this.updatePreview(void 0)},o.updatePreview=function(e){!this.isLoading&&e||(this.preview=e)},o.setLoading=function(e){this.isLoading=e},o.changeToTextLayout=function(){this.preview.changeToTextLayout()},t}(y.e),r=m()(n.prototype,"opened",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=m()(n.prototype,"preview",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),a=m()(n.prototype,"isLoading",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=m()(n.prototype,"copiedUrl",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),n),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/link-layer/src/store/index.js",localName:t}})}catch(e){}}e(_,"LinkLayerStore"),e(v,"default")}()},265:function(e,t,o){"use strict";var n,r,i,a,s,c=o(61),l=o.n(c),u=o(1),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(50),y=o.n(g),b=(o(62),o(16)),_=o(95),v=o(176),C=o(92),S=o(1061),O=o(74),k=o(158),I=o(51),w=o(49),P=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,l()(o,"opened",r,h()(o)),l()(o,"spellCheckDocument",i,h()(o)),l()(o,"spellCheckList",a,h()(o)),l()(o,"selectedId",s,h()(o));var n=t.state,c=void 0===n?{}:n;return o.opened=Object(b.a)(c,"opened",o.opened),o.spellCheckDocument=Object(b.a)(c,"spellCheckDocument",o.spellCheckDocument),o.spellCheckList=Object(b.a)(c,"spellCheckList",o.spellCheckList),o.selectedId=Object(b.a)(c,"selectedId",o.selectedId),o}m()(t,e);var o=t.prototype;return o.enterSpellCheck=function(e){var t=e.spellCheckDocument,o=e.spellCheckList;this._splitErrataPosition(t,o),this._setStoreStates(t,o),this._openLayout(),this.checkTargetList.length>0&&this.selectFirstErrata()},o.selectFirstErrata=function(){this.selectedId=this.checkTargetList[0].id},o.selectFirstCorrected=function(){this.selectedId=this.correctedList[0].id},o.movePrev=function(e){void 0===e&&(e=!1);var t=this.spellCheckList,o=this.currentCheckInfo,n=Object(C.a)(t,o);if(0!==n){var r={corrected:e,excluded:!1},i=Object(S.a)(t,r,n-1);i<0||(this.selectedId=t[i].id)}},o.moveNext=function(e){void 0===e&&(e=!1);var t=this.spellCheckList,o=this.currentCheckInfo,n=Object(C.a)(t,o);if(n!==o.length-1){var r={corrected:e,excluded:!1},i=Object(C.a)(t,r,n+1);i<0||(this.selectedId=t[i].id)}},o.correctTargetErrata=function(e){this._correctErrata(this.currentCheckInfo,e)},o.correctSameErrata=function(e){var t=this;this.sameConditionList.forEach(function(o){t._correctErrata(o,e)})},o.correctAll=function(){var e=this;this.checkTargetList.forEach(function(t){var o=t.suggests;o.length&&e._correctErrata(t,o[0].term)})},o.excludeTargetErrata=function(){this._excludeErrata(this.currentCheckInfo)},o.excludeSameErrata=function(){var e=this;this.sameConditionList.forEach(function(t){e._excludeErrata(t)})},o.cancelCorrected=function(){this._cancelCorrected(this.currentCheckInfo)},o.cancelSameCorrected=function(){var e=this;this.sameConditionList.forEach(function(t){e._cancelCorrected(t)})},o.closeSpellCheck=function(){this._setStoreStates(),this._closeLayout()},o.togglePopup=function(e){this.selectedId=e||""},o._findParagraph=function(e,t){var o=t.compId,n=t.unitId,r=t.paraId,i=Object(_.a)(e,{id:o}).getTextUnits();return Object(_.a)(i,{id:n}).getParagraphById(r)},o._setStoreStates=function(e,t){void 0===e&&(e=[]),void 0===t&&(t=[]),this.spellCheckDocument.replace(e),this.spellCheckList.replace(t)},o._openLayout=function(){this.opened=!0},o._closeLayout=function(){this.opened=!1},o._splitErrataPosition=function(e,t){var o=this;t.forEach(function(t){var n=t.position,r=o._findParagraph(e,n),i=r.getNodeInfoAfterOffset(n.startOffset),a=i.node,s=i.offset;if(0===s)n.startNodeId=a.id;else{var c={nodeId:a.id,offset:s},l=r.splitNode(c).back;n.startNodeId=l.id}var u=r.getNodeInfoBeforeOffset(n.endOffset),p=u.node,d=u.offset;if(d===p.value.length)n.endNodeId=p.id;else{var h={nodeId:p.id,offset:d},f=r.splitNode(h).front;n.endNodeId=f.id}})},o._correctErrata=function(e,t){if(!e.corrected){var o=e.position,n=o.startNodeId,r=o.endNodeId,i=this._findParagraph(this.spellCheckDocument,e.position),a=i.getNodesBetween(n,r);e.correctInfo={},e.correctInfo.originalNodes=a.map(function(e){return e.cloneNode()});var s=a[0];if(s.value=t,i.replaceNodesBetween(n,r,s),e.position.endNodeId=n,e.corrected=!0,e.suggests.length){var c=Object(_.a)(e.suggests,{term:t});Object.assign(e.correctInfo,c)}else e.correctInfo.term=t}},o._excludeErrata=function(e){e.excluded||(e.excluded=!0)},o._cancelCorrected=function(e){if(e.corrected){var t=this._findParagraph(this.spellCheckDocument,e.position),o=e.position.startNodeId,n=e.correctInfo.originalNodes.map(function(e){return e});t.replaceNodesBetween(o,o,n),delete e.correctInfo,e.position.endNodeId=Object(O.a)(n).id,e.corrected=!1}},p()(t,[{key:"spellCheckMap",get:function(){return Object(k.a)(this.spellCheckList,function(e,t){return e[t.position.compId]?e[t.position.compId].push(t):e[t.position.compId]=[t],e},{})}},{key:"currentCheckInfo",get:function(){return Object(_.a)(this.spellCheckList,{id:this.selectedId})}},{key:"checkTargetList",get:function(){return Object(v.a)(this.spellCheckList,{corrected:!1,excluded:!1})}},{key:"correctedList",get:function(){return Object(v.a)(this.spellCheckList,{corrected:!0})}},{key:"excludedList",get:function(){return Object(v.a)(this.spellCheckList,{excluded:!0})}},{key:"sameConditionList",get:function(){var e=this.currentCheckInfo||{},t=e.errata,o=e.correctInfo,n=e.corrected,r=e.excluded,i=n?{errata:t,correctInfo:{term:o.term},corrected:n,excluded:r}:{errata:t,corrected:n,excluded:r};return Object(v.a)(this.spellCheckList,i)}}]),t}(I.w),r=y()(n.prototype,"opened",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=y()(n.prototype,"spellCheckDocument",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=y()(n.prototype,"spellCheckList",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=y()(n.prototype,"selectedId",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y()(n.prototype,"spellCheckMap",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"spellCheckMap"),n.prototype),y()(n.prototype,"currentCheckInfo",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"currentCheckInfo"),n.prototype),y()(n.prototype,"checkTargetList",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"checkTargetList"),n.prototype),y()(n.prototype,"correctedList",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"correctedList"),n.prototype),y()(n.prototype,"excludedList",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"excludedList"),n.prototype),y()(n.prototype,"sameConditionList",[w.e],Object.getOwnPropertyDescriptor(n.prototype,"sameConditionList"),n.prototype),n),j=P;t.a=j,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/spell-check-layout/src/store/index.js",localName:t}})}catch(e){}}e(P,"SpellCheckLayoutStore"),e(j,"default")}()},266:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(51),f=o(52),m=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._eventDispatcherService=h.U.get("eventDispatcherService"),o}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.elementRef,o=(e.onClick,e.children),n=e.type,r=void 0===n?"button":n,a=s()(e,["elementRef","onClick","children","type"]);return d.b.createElement("button",i()({type:r},a,{ref:t,onClick:this._handleClick}),o)},o._handleClick=function(e){var t=this,o={dataset:e.currentTarget.dataset,next:function(){t.props.onClick(e)}};!this._eventDispatcherService.dispatch(h.z.CLICK,o,!0)||this.props.onClick(e)},t}(d.b.Component),p()(n.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n);m.defaultProps={elementRef:d.b.createRef(),"data-group":"unknown","data-name":"unknown",onClick:function(){}},m.propTypes={elementRef:d.a.oneOfType([d.a.func,d.a.shape({current:d.a.instanceOf(Element)})]),"data-group":d.a.string.isRequired,"data-name":d.a.string.isRequired,onClick:d.a.func};var g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/buttons/button.jsx",localName:t}})}catch(e){}}e(m,"Button"),e(g,"default")}()},267:function(e,t,o){"use strict";var n,r=o(50),i=o.n(r),a=o(51),s=o(49),c=o(52),l=(n=function(){function e(){this._configAgent=a.U.get("configAgent"),this._propertyChangeService=a.U.get("propertyChangeService"),this._storageService=a.U.get("storageService"),this._toastLayerService=a.U.get("toastLayerService"),this._i18n=a.U.get("i18n")}var t=e.prototype;return t.compareStyle=function(e,t){var o=e.styleName,n=e.warningMessage;void 0===t&&(t=function(){return!0});var r=t(this._propertyChangeService.getStyleValues(o));return!(!(!1!==this._configAgent.get("productConfig.allowSameFontAndBackgroundColor"))&&r)||(this._toastLayerService.warningMessage(n),!1)},t.changeBackgroundColor=function(e){var t=e.storageKey,o=e.recentColors;this._propertyChangeService.updateStyle(e),this._storageService.setStorageData(t,o)},t.changeFontColor=function(e){var t=e.storageKey,o=e.recentColors;this._propertyChangeService.updateStyle(e),this._storageService.setStorageData(t,o)},t.changeFontFamily=function(e){this._propertyChangeService.updateStyle(e)},t.changeFontSize=function(e){this._propertyChangeService.updateStyle(e)},t.changeLineHeight=function(e){var t=e.value;!t||parseInt(t)<50?this._toastLayerService.warningMessage(this._i18n("editingButtonUseCase:inputAtLeast50")):this._propertyChangeService.updateStyle(e)},t.changeListType=function(e){this._propertyChangeService.updateStyle(e)},t.toggleStrikeThrough=function(){this._propertyChangeService.toggleStyle("strikeThrough")},t.toggleSubscript=function(){this._propertyChangeService.toggleStyle("subscript")},t.toggleSuperscript=function(){this._propertyChangeService.toggleStyle("superscript")},t.toggleUnderline=function(){this._propertyChangeService.toggleStyle("underline")},t.toggleBold=function(){this._propertyChangeService.toggleStyle("bold")},t.toggleItalic=function(){this._propertyChangeService.toggleStyle("italic")},t.toggleDropCap=function(){this._propertyChangeService.toggleStyle("dropCap")},e}(),i()(n.prototype,"changeBackgroundColor",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeBackgroundColor"),n.prototype),i()(n.prototype,"changeFontColor",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeFontColor"),n.prototype),i()(n.prototype,"changeFontFamily",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeFontFamily"),n.prototype),i()(n.prototype,"changeFontSize",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeFontSize"),n.prototype),i()(n.prototype,"changeLineHeight",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLineHeight"),n.prototype),i()(n.prototype,"changeListType",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeListType"),n.prototype),i()(n.prototype,"toggleStrikeThrough",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleStrikeThrough"),n.prototype),i()(n.prototype,"toggleSubscript",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleSubscript"),n.prototype),i()(n.prototype,"toggleSuperscript",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleSuperscript"),n.prototype),i()(n.prototype,"toggleUnderline",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleUnderline"),n.prototype),i()(n.prototype,"toggleBold",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleBold"),n.prototype),i()(n.prototype,"toggleItalic",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleItalic"),n.prototype),i()(n.prototype,"toggleDropCap",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"toggleDropCap"),n.prototype),n),u=l;t.a=u,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/editing-button-use-case.js",localName:t}})}catch(e){}}e(l,"EditingUseCase"),e(u,"default")}()},268:function(e,t,o){"use strict";var n=o(55),r=o.n(n),i=o(17),a=o.n(i),s=o(0),c=o.n(s),l=o(49),u=o(347),p=o(51),d=o(54),h=o.n(d),f=function(e){function t(){var t;return(t=e.call(this)||this)._domAccessor=p.U.get("domAccessor"),t.state={overLayerPosition:!1},t}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._updateLayerPositionState()},o.render=function(){var e=this.props,t=e.forwardRef,o=e.className,n=e.children,i=a()(e,["forwardRef","className","children"]),s=this.state.overLayerPosition?this._adjustLayerPosition():{},c=h()(o);return l.b.createElement("div",r()({ref:t,className:c,style:s},i),n)},o._propertyToolbarPosRight=function(){var e=this._domAccessor.getPropertyToolbar();return e?e.getBoundingClientRect().right:0},o._updateLayerPositionState=function(){var e=this._propertyToolbarPosRight(),t=this.props.forwardRef.current,o=t.getBoundingClientRect().right,n=o>e;if(!n)return null;this._layer=t,this._layerRight=o,this._toolbarRight=e,this._layerDefaultLeft=parseInt(window.getComputedStyle(this._layer).left)||0,this.setState({overLayerPosition:n})},o._adjustLayerPosition=function(){var e=this._domAccessor.getCanvas().getBoundingClientRect().right,t=this._toolbarRight-e,o=this._layerRight-this._toolbarRight+t;return{left:this._layerDefaultLeft-o+"px"}},t}(l.b.Component);f.defaultProps={children:null},f.propTypes={children:l.a.oneOfType([l.a.element,l.a.array]),forwardRef:l.a.oneOfType([l.a.func,l.a.shape({current:l.a.instanceOf(Element)})]),className:l.a.string};var m=Object(u.b)(f);t.a=m,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/toolbar-sub-layer.jsx",localName:t}})}catch(e){}}e(f,"ToolbarSubLayer"),e(m,"default")}()},270:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(54),l=o.n(c),u=o(49),p=o(347),d=o(52),h=o(56),f=o(124),m=o(51),g=o(95),y=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this._mapStateFromProps(this.props))},o.UNSAFE_componentWillReceiveProps=function(e){this.setState(this._mapStateFromProps(e))},o.render=function(){var e=this,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.deviceType,a=t.groups,s=t.type,c=t.i18n,p=t.logAreaId,d=t.focused,g=this.state.selected,y=a.length,b=i===m.t.DESKTOP,_=l()("se-"+r+"-toolbar-cycle-toggle-container"),v=a.map(function(t,i){var m,_=t.value,v=t.logId,C=g===_,S=0===i?a[y-1]:a[i-1],O=g===S.value,k=l()("se-"+r+"-toolbar-"+s+"-button","se-"+n+"-"+_+"-toolbar-button",((m={})["se-"+s+"-button-current"]=C,m["se-"+s+"-button-next"]=O,m));return u.b.createElement(f.a,{logAreaId:p,logId:v,focused:C&&d,namespace:r,type:h.b.CYCLE_TOGGLE,dataName:o,className:k,i18n:c,handleClick:e.handleChange,key:_,dataValue:_},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:"se-blind","aria-hidden":b},c(S.label)),b&&u.b.createElement("span",{className:"se-toolbar-tooltip"},c(S.label)))});return u.b.createElement("div",{className:_,"data-type":h.b.CYCLE_TOGGLE,"data-name":n},v)},o._mapStateFromProps=function(e){return{selected:this.decideSelectedValue(e)}},o._doNotContainsValueInGroups=function(e,t){return!Object(g.a)(e,function(e){return e.value===t})},o.decideSelectedValue=function(e){void 0===e&&(e={});var t=e,o=t.value,n=t.groups;return this._doNotContainsValueInGroups(n,o)?(n[0]||{}).value:o},o.handleChange=function(e){var t=e.currentTarget.dataset.value,o={event:e,id:this.props.id,name:this.props.name,title:this.props.title,label:this.props.label,value:t};this.setState({selected:t}),this.props.onChange(o)},t}(u.b.Component),s()(n.prototype,"handleChange",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleChange"),n.prototype),n);y.defaultProps={label:"",id:"",name:"",title:"",focused:!1,namespace:"",value:null,onChange:function(){},i18n:function(e){return e}},y.propTypes={id:u.a.string,name:u.a.string,label:u.a.string,title:u.a.string,focused:u.a.bool,namespace:u.a.string,deviceType:u.a.string,type:u.a.string,groups:u.a.oneOfType([u.a.object,u.a.array]).isRequired,value:u.a.oneOfType([u.a.string,u.a.number,u.a.bool]),onChange:u.a.func,i18n:u.a.func,logAreaId:u.a.string,logId:u.a.string};var b=Object(p.b)(y);t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/cycle-toggle-button.jsx",localName:t}})}catch(e){}}e(y,"CycleToggleButton"),e(b,"default")}()},271:function(e,t,o){"use strict";var n,r=o(50),i=o.n(r),a=o(51),s=o(49),c=o(52),l=(n=function(){function e(){this._propertyChangeService=a.U.get("propertyChangeService")}var t=e.prototype;return t.changeLayout=function(e){var t=e.value;this._propertyChangeService.changeLayout(t)},t.changeQuotationLayout=function(e){var t=e.value;this._propertyChangeService.changeLayout(t)},t.changeContentMode=function(e){var t=e.value;this._propertyChangeService.changeContentMode(t)},e}(),i()(n.prototype,"changeLayout",[c.preventOnComponentProcessing,c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLayout"),n.prototype),i()(n.prototype,"changeQuotationLayout",[c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeQuotationLayout"),n.prototype),i()(n.prototype,"changeContentMode",[c.preventOnComponentProcessing,c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeContentMode"),n.prototype),n),u=l;t.a=u,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/layout-button-use-case.js",localName:t}})}catch(e){}}e(l,"LayoutButtonUseCase"),e(u,"default")}()},272:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(63),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.BASIC:t,n=e.title,r=void 0===n?"imageEditWithoutLabel:title":n,a=e.logId,c=void 0===a?"edit":a,l=s()(e,["type","title","logId"]);return d.b.createElement(f.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-edit-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageEditButtonView"),e(y,"default")}()},273:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(63),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.BASIC:t,n=e.title,r=void 0===n?"imageAdjustWithoutLabel:title":n,a=e.logId,c=void 0===a?"adjust":a,l=s()(e,["type","title","logId"]);return d.b.createElement(f.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.adjustImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-adjust-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageAdjustButtonView"),e(y,"default")}()},274:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(63),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.BASIC:t,n=e.title,r=void 0===n?"imageCropWithoutLabel:title":n,a=e.logId,c=void 0===a?"edit":a,l=s()(e,["type","title","logId"]);return d.b.createElement(f.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.cropImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-crop-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageCropButtonView"),e(y,"default")}()},275:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(63),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.BASIC:t,n=e.title,r=void 0===n?"imageFilterWithoutLabel:title":n,a=e.logId,c=void 0===a?"edit":a,l=s()(e,["type","title","logId"]);return d.b.createElement(f.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.filterImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-filter-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageFilterButtonView"),e(y,"default")}()},276:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(63),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.BASIC:t,n=e.title,r=void 0===n?"imageReplacement:title":n,a=e.label,c=void 0===a?"imageReplacement:label":a,l=e.labelVisible,u=void 0===l||l,p=e.logId,h=void 0===p?"imgchg":p,g=s()(e,["type","title","label","labelVisible","logId"]);return d.b.createElement(f.a,i()({},g,{type:o,title:r,label:c,labelVisible:u,logId:h,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.changeImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-replacement-right-label-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageReplacementRightLabelButton"),e(y,"default")}()},277:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default",MAP_TEXT:"map_text"},i={};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"MapAlign"),e(r,"MapLayout"),e(i,"default")}()},279:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(51),h=o(49),f=o(52),m=(n=function(e){function t(){var t;return(t=e.call(this)||this)._talktalkEditLayerService=d.U.get("talktalkEditLayerService"),t._imageUploadService=d.U.get("imageUploadService"),t._alertLayerService=d.U.get("alertLayerService"),t._editingService=d.U.get("editingService"),t._imageBehavior=d.U.get("imageBehavior"),t}l()(t,e);var o=t.prototype;return o.changeTalktalkAccount=function(e){this._talktalkEditLayerService.changeAccountId(e)},o.changeBannerType=function(e){this._talktalkEditLayerService.changeBannerType(e)},o.loadImage=function(){var e=s()(i.a.mark(function e(){var t,o=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:t=e.sent,this._talktalkEditLayerService.changeImage({}),this._imageBehavior.changeImage({targetStore:{id:"talktalkEditLayer"},selectedImages:t}).then(function(e){var t=e.succeededImages;t.length>0&&o._talktalkEditLayerService.changeImage(t[0].response)});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.close=function(){this._talktalkEditLayerService.close()},o.insertTalktalk=function(){var e=this._talktalkEditLayerService.createTalktalkComponent();this._editingService.insert({sourceComponents:[e]}),this._talktalkEditLayerService.close()},o.editTalktalk=function(){this._talktalkEditLayerService.editTalktalkComponent(),this._talktalkEditLayerService.close()},t}(d.m),p()(n.prototype,"changeTalktalkAccount",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"changeTalktalkAccount"),n.prototype),p()(n.prototype,"changeBannerType",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"changeBannerType"),n.prototype),p()(n.prototype,"loadImage",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"loadImage"),n.prototype),p()(n.prototype,"close",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),p()(n.prototype,"insertTalktalk",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"insertTalktalk"),n.prototype),p()(n.prototype,"editTalktalk",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"editTalktalk"),n.prototype),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/layers/talktalk-edit-layer/use-case/index.js",localName:t}})}catch(e){}}e(m,"TalktalkEditLayerUseCase"),e(g,"default")}()},28:function(e,t,o){"use strict";o.d(t,"a",function(){return W}),o.d(t,"b",function(){return G});var n=o(1),r=o.n(n),i=o(0),a=o.n(i),s=o(23),c=o(16),l=function(){function e(){}return e.setConfig=function(e){this.config=e},e.getConfig=function(){return this.config},e.help=function(){return"스마트에디터 Web SDK 레퍼런스 북 - https://pages.oss.navercorp.com/SE3/SE-Guide/web-reference-book/"},e.set=function(e,t){Object(s.a)(this.config,e,t)},e.get=function(e,t){Object(c.a)(this.config,e,t)},e}();l.config={};var u=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"appCode",set:function(e){this.set("appCode",e)},get:function(){return"애플리케이션 고유 코드"}},{key:"containerElement",set:function(e){this.set("containerElement",e)},get:function(){return"HTMLElement 를 전달하시면 해당 영역에 에디터가 초기화 됩니다."}},{key:"token",set:function(e){this.set("token",e)},get:function(){return"에디터 플랫폼을 활용하여 에디터가 작동하기 위해서는 스마트에디터 인증 토큰 연동이 필요합니다."}},{key:"document",set:function(e){this.set("document",e)},get:function(){return"초기에 불러올 문서 모델 데이터를 전달 할 수 있습니다."}},{key:"cssResource",get:function(){return"에디터에 내장된 CSS 리소스에 대한 세부 설정을 지정할 수 있습니다."}},{key:"productConfig",get:function(){return p}},{key:"infraConfig",get:function(){return d}},{key:"modules",get:function(){return"에디터에 포함된 개별 모듈(이미지 업로더, 포토에디터, 동영상 업로더 등)의 기능을 제어 할 수 있습니다."}},{key:"plugins",get:function(){return I}},{key:"interceptor",get:function(){return w}}]),t}(l),p=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"language",set:function(e){this.set("productConfig.language",e)},get:function(){return R}},{key:"panelType",set:function(e){this.set("productConfig.panelType",e)},get:function(){return U}},{key:"captionEnabledComponents",set:function(e){this.set("productConfig.captionEnabledComponents",e)},get:function(){return z}},{key:"captionEnabled",set:function(e){this.set("productConfig.captionEnabled",e)},get:function(){return"캡션 기능 사용 여부 지정"}},{key:"defaultDocument",get:function(){return h}},{key:"domains",get:function(){return f}},{key:"font",get:function(){return g}},{key:"quotation",get:function(){return y}},{key:"horizontalLine",get:function(){return b}},{key:"documentToolbar",get:function(){return m}},{key:"insertMenu",set:function(e){this.set("productConfig.insertMenu",e)},get:function(){return"인서트 메뉴 기능 사용 여부를 선택 할 수 있습니다."}},{key:"contextToolbar",set:function(e){this.set("productConfig.contextToolbar",e)},get:function(){return"컨텍스트 도구막대 기능 사용 여부를 선택 할 수 있습니다."}},{key:"propertyToolbar",set:function(e){this.set("productConfig.propertyToolbar",e)},get:function(){return"속성 도구막대 기능 사용 여부를 선택 할 수 있습니다."}},{key:"textToolbar",set:function(e){this.set("productConfig.textToolbar",e)},get:function(){return"텍스트 도구막대 기능 사용 여부를 선택 할 수 있습니다."}},{key:"contextMenu",get:function(){return _}},{key:"searchPanel",get:function(){return v}},{key:"templatePanel",get:function(){return C}},{key:"libraryPanel",get:function(){return O}},{key:"documentWidth",set:function(e){this.set("productConfig.documentWidth",e)},get:function(){return"글쓰기 영역의 넓이를 조절 할 수 있습니다. 넓이에 따라 각 기능이 동적으로 계산되어 작동 됩니다."}},{key:"representativeEnabled",set:function(e){this.set("productConfig.representativeEnabled",e)},get:function(){return"문서 내 이미지/동영상의 대표이미지 기능 이용 여부를 선택 할 수 있습니다."}},{key:"messageBundle",get:function(){return"에디터의 UI 텍스트를 원하는 다른 텍스트로 변경 할 수 있습니다."}},{key:"userDefinedStyle",get:function(){return"사용자지정스타일을 설정할 수 있습니다."}},{key:"allowSameFontAndBackgroundColor",set:function(e){this.set("productConfig.allowSameFontAndBackgroundColor",e)},get:function(){return"본문 글자색과 배경색이 동일한 값을 가지도록 허용하거나 막을 수 있습니다."}}]),t}(l),d=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"image",get:function(){return"이미지 업로드와 관련된 설정을 조절 할 수 있습니다."}},{key:"video",get:function(){return"동영상 업로드와 관련된 설정을 조절 할 수 있습니다."}}]),t}(l),h=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"components",set:function(e){this.set("productConfig.defaultDocument.components",e)},get:function(){return F}}]),t}(l),f=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"editor",set:function(e){this.set("productConfig.domains.editor",e)},get:function(){return"에디터플랫폼API 도메인"}},{key:"dthumb",set:function(e){this.set("productConfig.domains.dthumb",e)},get:function(){return"동적썸네일생성API 도메인"}}]),t}(l),m=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"documentToolbar",set:function(e){this.set("productConfig.documentToolbar.buttonSet",e)},get:function(){return W}}]),t}(l),g=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"fontFamilySet",set:function(e){this.set("productConfig.font.fontFamilySet",e)},get:function(){return H}},{key:"additionalFontFamily",set:function(e){this.set("productConfig.font.additionalFontFamily",e)},get:function(){return""}}]),t}(l),y=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"layouts",set:function(e){this.set("productConfig.quotation.layouts",e)},get:function(){return M}},{key:"useDefault",set:function(e){this.set("productConfig.quotation.useBasicButton",e)}}]),t}(l),b=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"layouts",set:function(e){this.set("productConfig.horizontalLine.layouts",e)},get:function(){return B}},{key:"useDefault",set:function(e){this.set("productConfig.quotation.useBasicButton",e)}}]),t}(l),_=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"exclude",set:function(e){this.set("productConfig.contextMenu.exclude",e)},get:function(){return q}}]),t}(l),v=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"activate",get:function(){return V},set:function(e){this.set("productConfig.searchPanel.activate",e)}},{key:"photo",get:function(){return S}},{key:"book",set:function(e){this.set("productConfig.searchPanel.book",e)},get:function(){return"책 글감 사용 여부"}},{key:"movie",set:function(e){this.set("productConfig.searchPanel.movie",e)},get:function(){return"영화 글감 사용 여부"}},{key:"broadcast",set:function(e){this.set("productConfig.searchPanel.broadcast",e)},get:function(){return"방송 글감 사용 여부"}},{key:"music",set:function(e){this.set("productConfig.searchPanel.music",e)},get:function(){return"음악 글감 사용 여부"}},{key:"show",set:function(e){this.set("productConfig.searchPanel.show",e)},get:function(){return"공연/전시 글감 사용 여부"}},{key:"shopping",set:function(e){this.set("productConfig.searchPanel.shopping",e)},get:function(){return"쇼핑 글감 사용 여부"}},{key:"news",set:function(e){this.set("productConfig.searchPanel.news",e)},get:function(){return"뉴스 글감 사용 여부"}}]),t}(l),C=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"recommend",set:function(e){this.set("productConfig.templatePanel.recommend",e)},get:function(){return"추천 템플릿 사용 여부"}},{key:"part",set:function(e){this.set("productConfig.templatePanel.part",e)},get:function(){return"부분 템플릿 사용 여부"}},{key:"my",set:function(e){this.set("productConfig.templatePanel.my",e)},get:function(){return"내 템플릿 사용 여부"}}]),t}(l),S=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"CCLBanner",set:function(e){this.set("productConfig.searchPanel.photo.CCLBanner",e)},get:function(){return"저작권 표시 관련 배너 표시 여부"}},{key:"OGQBanner",set:function(e){this.set("productConfig.searchPanel.photo.OGQBanner",e)},get:function(){return"OGQ 홍보 배너 표시 여부"}}]),t}(l),O=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"purchase",set:function(e){this.set("productConfig.libraryPanel.purchase",e)},get:function(){return k}},{key:"autoPopup",set:function(e){this.set("productConfig.libraryPanel.autoPopup",e)},get:function(){return G}}]),t}(l),k=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"banner",set:function(e){this.set("productConfig.libraryPanel.purchase.banner",e)},get:function(){return"구매목록 탭 배너 표시 여부"}}]),t}(l),I=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"componentSettings",get:function(){return T}},{key:"excludeComponents",set:function(e){this.set("plugins.excludeComponents",e)},get:function(){return L}},{key:"customComponents",get:function(){return""}}]),t}(l),w=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"before",set:function(e){this.set("interceptor.before",e)},get:function(){return"AJAX 호출직전에 실행할 함수"}},{key:"after",set:function(e){this.set("interceptor.after",e)},get:function(){return"AJAX 응답직후에 실행할 함수"}}]),t}(l),P=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"contentMode",get:function(){return J}},{key:"config",set:function(e){this.set("plugin.componentSettings.image.config.contentMode",e)}}]),t}(l),j=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"config",get:function(){return P},set:function(e){this.set("plugin.componentSettings.image.config",e)}}]),t}(l),T=function(e){function t(){return e.apply(this,arguments)||this}return a()(t,e),r()(t,null,[{key:"image",get:function(){return j},set:function(e){this.set("plugin.componentSettings.image",e)}}]),t}(l),L=Object.freeze({AUDIO:"audio",CODE:"code",DOCUMENT_TITLE:"documentTitle",FILE:"file",FORMULA:"formula",HORIZONTAL_LINE:"horizontalLine",IMAGE:"image",IMAGE_GROUP:"imageGroup",IMAGE_STRIP:"imageStrip",MAP:"map",MATERIAL:"material",OEMBED:"oembed",OGLINK:"oglink",QUOTATION:"quotation",SCHEDULE:"schedule",SECTION_TITLE:"sectionTitle",STICKER:"sticker",TABLE:"table",TEXT:"text",VIDEO:"video",WRAPPING_PARAGRAPH:"wrappingParagraph"}),E=Object.freeze({IMAGE_RESIZING:"image-resizing",IMAGE_EDIT:"image-edit",ALIGN:"align",CONTENT_MODE:"content-mode",WRAPPING_LAYOUT:"wrapping-layout",IMAGE_LINK:"image-link",INLINE_IMAGE:"inline-image",SEPARATOR_BAR:"separator-bar"}),N=Object.freeze({TEXT_FORMAT:"text-format",FONT_SIZE:"font-size",BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",FONT_COLOR:"font-color",SEPARATOR_BAR:"separator-bar"}),x=Object.freeze({TEXT_FORMAT:"text-format",FONT_FAMILY:"font-family",FONT_SIZE:"font-size",BOLD:"bold",ITALIC:"italic",UNDERLINE:"underline",STRIKETHROUGH:"strikethrough",FONT_COLOR:"font-color",BACKGROUND_COLOR:"background-color",ALIGN_DROP_DOWN_WITH_JUSTIFY:"align-drop-down-with-justify",LINE_HEIGHT:"line-height",DROP_CAP:"drop-cap",SUPERSCRIPT:"superscript",SUBSCRIPT:"subscript",SPECIAL_LETTER:"special-letter",TEXT_LINK:"text-link",SPELLER:"speller",SEPARATOR_BAR:"separator-bar"}),D=Object.freeze({ALLOWED:"ALLOWED",NOT_ALLOWED:"NOT_ALLOWED"}),R=Object.freeze({KO_KR:"ko-KR",EN_US:"en-US",ID_ID:"id-ID",FR_FR:"fr-FR",ES_ES:"es-ES",VI_VN:"vi-VN",ZH_CN:"zh-CN",ZH_TW:"zh-TW",JA_JP:"ja-JP"}),A=Object.freeze({FULL_SCREEN:"fullscreen",EMBED:"embed"}),U=Object.freeze({POPUP:"popup",SIDEBAR:"sidebar"}),M=Object.freeze({DEFAULT:"default",LINE:"quotation_line",BUBBLE:"quotation_bubble",UNDERLINE:"quotation_underline",POSTIT:"quotation_postit",CORNER:"quotation_corner"}),B=Object.freeze({DEFAULT:"default",LINE1:"line1",LINE2:"line2",LINE3:"line3",LINE4:"line4",LINE5:"line5",LINE6:"line6",LINE7:"line7"}),F=Object.freeze({DOCUMENT_TITLE:"documentTitle",TEXT:"text"}),z=Object.freeze({IMGAE:"image",IMAGE_STRIP:"imageStrip",IMAGE_GROUP:"imageGroup",VIDEO:"video"}),W=Object.freeze({TEXT_FORMAT:"text-format-drop-down",IMAGE:"image",SOCIAL_IMAGE:"social-media-image",VIDEO:"video",AUDIO:"audio",QUOTATION:"quotation",HORIZONTAL_LINE:"horizontal-line",MAP:"map",FILE:"file",OGLINK:"oglink",TABLE:"table",SEARCH:"search",LIBRARY:"library",MOMENT:"moment",TEMPLATE:"template",SCHEDULE:"schedule",CODE:"code",STICKER:"sticker",FORMULA:"formula",SEPARATOR_BAR:"separator-bar",TEXT:"text-toolbar",ALIGN:"align",TALKTALK:"talktalk",WEBTOON:"webtoon",CHAT:"chat"}),V=Object.freeze({PHOTO:"photo",BOOK:"book",MOVIE:"movie",BROADCAST:"broadcast",SHOW:"show",MUSIC:"music",SHOPPING:"shopping",NEWS:"news"}),G=Object.freeze({DEFAULT:"default",ACTIVE:"active",INACTIVE:"inactive"}),H=Object.freeze({SYSTEM:"system",NANUMGOTHIC:"nanumgothic",NANUMMYEONGJO:"nanummyeongjo",NANUMBARUNGOTHIC:"nanumbarungothic",NANUMSQURE:"nanumsquare"}),q=Object.freeze({CUT:"cut",COPY:"copy",PASTE:"paste",SELECT_ALL:"selectAll",SAVE_AS:"saveAs",DELETE:"delete",UNDO:"undo",REDO:"redo"}),J=Object.freeze({NORMAL:"normal",FIT:"fit",EXTEND:"extend",PAGEFULL:"pagefull"}),K=u;t.c=K,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/consts/configuration.js",localName:t}})}catch(e){}}e(l,"AbstractConfiguration"),e(u,"Configuration"),e(p,"ProductConfig"),e(d,"InfraConfig"),e(h,"DefaultDocumentConfig"),e(f,"DomainsConfig"),e(m,"DocumentToolbarConfig"),e(g,"FontConfig"),e(y,"QuotationConfig"),e(b,"HorizontalLineConfig"),e(_,"ContextMenuConfig"),e(v,"SearchPanelConfig"),e(C,"TemplatePanelConfig"),e(S,"SearchPanelPhotoConfig"),e(O,"LibraryPanelConfig"),e(k,"LibraryPanelPurchaseConfig"),e(I,"PluginsConfig"),e(w,"Interceptor"),e(P,"ImageComponentSettingsConfig"),e(j,"ImageComponentSettings"),e(T,"ComponentSettings"),e(L,"COMPONENTS"),e(E,"PROPERTY_TOOLBAR_IMAGE_BUTTON_TYPES"),e(N,"PROPERTY_TOOLBAR_QUOTATION_BUTTON_TYPES"),e(x,"PROPERTY_TOOLBAR_TEXT_BUTTON_TYPES"),e(D,"FILTER_TEXT_STYLES"),e(R,"LANGUAGE"),e(A,"LAYOUT_TYPE"),e(U,"PANEL_TYPE"),e(M,"QUOTATION_LAYOUT"),e(B,"HORIZONTAL_LINE_LAYOUT"),e(F,"DEFAULT_COMPONENTS"),e(z,"CAPTION_AVAILABLE_COMPONENTS"),e(W,"DOCUMENT_TOOLBAR_BUTTON_TYPES"),e(V,"SEARCH_PANEL_LIST"),e(G,"LIBRARY_AUTO_POPUP_TYPE"),e(H,"FONT_FAMILY_NAMES"),e(q,"CONTEXT_MENU_BUTTON_TYPES"),e(J,"CONTENT_MODES"),e(K,"default")}()},280:function(e,t,o){"use strict";var n,r,i,a,s,c,l=o(61),u=o.n(l),p=o(1),d=o.n(p),h=o(57),f=o.n(h),m=o(0),g=o.n(m),y=o(50),b=o.n(y),_=(o(62),o(16)),v=o(66),C=o(95),S=o(51),O=o(49),k=o(414),I=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,u()(o,"opened",r,f()(o)),u()(o,"talktalkAccountList",i,f()(o)),u()(o,"selectedAccountId",a,f()(o)),u()(o,"bannerType",s,f()(o)),u()(o,"image",c,f()(o));var n=t.state,l=void 0===n?{}:n;return o.opened=Object(_.a)(l,"opened",o.opened),o.editingMode=k.b.INSERT,o._configAgent=S.U.get("configAgent"),o}g()(t,e);var o=t.prototype;return o.open=function(e){var t=void 0===e?{}:e,o=t.accountId,n=t.bannerType,r=void 0===n?k.a.DEFAULT:n,i=t.image,a=this._configAgent.get("plugins.componentSettings.talktalk.config"),s=Object(_.a)(a,"talkTalkAccountList");Object(v.a)(s)||(this.talktalkAccountList.replace(s),this.selectedAccountId=o||s[0].accountId,this.bannerType=r,this.editingMode=o?k.b.EDIT:k.b.INSERT,this.bannerType===k.a.CUSTOM&&(this.image=i),this.opened=!0)},o.close=function(){this.talktalkAccountList.replace([]),this.selectedAccountId="",this.bannerType=k.a.DEFAULT,this.image={},this.opened=!1},o.changeAccountId=function(e){this.selectedAccountId=e},o.changeBannerType=function(e){this.bannerType=e},o.changeImage=function(e){this.image=e},d()(t,[{key:"selectedAccountInfo",get:function(){var e=this;return 0===this.talktalkAccountList.length?null:Object(C.a)(this.talktalkAccountList,function(t){return t.accountId===e.selectedAccountId})}}]),t}(S.e),r=b()(n.prototype,"opened",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=b()(n.prototype,"talktalkAccountList",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=b()(n.prototype,"selectedAccountId",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=b()(n.prototype,"bannerType",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.a.DEFAULT}}),c=b()(n.prototype,"image",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),n),w=I;t.a=w,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/layers/talktalk-edit-layer/store/index.js",localName:t}})}catch(e){}}e(I,"TalktalkEditLayerStore"),e(w,"default")}()},281:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(54),a=o.n(i),s=o(49),c=o(347),l=o(155),u=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=s.b.createRef(),o.captionEnabled=t.store.captionEnabled,o}r()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._applyCaptionClassNamesReaction()},o.componentDidMount=function(){this._changeCaptionClassNames()},o.componentWillUnmount=function(){this._disposeReaction()},o.render=function(){if(!this.captionEnabled)return null;var e=this.props,t=e.store,o=e.i18n,n=e.onLimitTextLength,r=e.additionalOption||{placeholder:o("imageComponent:placeholder_caption")},i=this._resolveClassName();return s.b.createElement(l.a,{forwardRef:this._elementRef,compId:t.id,text:t.caption,additionalOption:r,className:i,onLimitTextLength:n})},o._resolveClassName=function(){var e={"se-caption":!0};if(this._elementRef.current){var t=this._elementRef.current.classList;e["se-is-on"]=t.contains("se-is-on"),e["se-is-focused"]=t.contains("se-is-focused")}return a()([e])},o._applyCaptionClassNamesReaction=function(){var e=this;this.captionEnabled&&(this._disposeClassNames=s.f.reaction(function(){return{isCaptionOn:e.props.store.isCaptionOn,isCaptionFocused:e.props.store.isCaptionFocused()}},function(t){var o=t.isCaptionOn,n=t.isCaptionFocused;o?e._elementRef.current.classList.add("se-is-on"):e._elementRef.current.classList.remove("se-is-on"),n?e._elementRef.current.classList.add("se-is-focused"):e._elementRef.current.classList.remove("se-is-focused")}))},o._disposeReaction=function(){this._disposeClassNames&&this._disposeClassNames()},o._changeCaptionClassNames=function(){this.captionEnabled&&(this.props.store.isCaptionOn?this._elementRef.current.classList.add("se-is-on"):this._elementRef.current.classList.remove("se-is-on"),this.props.store.isCaptionFocused()?this._elementRef.current.classList.add("se-is-focused"):this._elementRef.current.classList.remove("se-is-focused"))},t}(s.b.Component);u.defaultProps={},u.propTypes={store:s.a.object.isRequired,children:s.a.oneOfType([s.a.element,s.a.array]),i18n:s.a.func,additionalOption:s.a.object,onLimitTextLength:s.a.func};var p=Object(c.b)(u);t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/caption/index.jsx",localName:t}})}catch(e){}}e(u,"Caption"),e(p,"default")}()},282:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default",LINE1:"line1",LINE2:"line2",LINE3:"line3",LINE4:"line4",LINE5:"line5",LINE6:"line6",LINE7:"line7"},i={Align:n,Layout:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"Align"),e(r,"Layout"),e(i,"default")}()},283:function(e,t,o){"use strict";o.d(t,"b",function(){return r}),o.d(t,"a",function(){return a});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default",QUOTATION_LINE:"quotation_line",QUOTATION_BUBBLE:"quotation_bubble",QUOTATION_UNDERLINE:"quotation_underline",QUOTATION_POSTIT:"quotation_postit",QUOTATION_CORNER:"quotation_corner"},i={Align:n,QuotationLayout:r},a="default";!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"Align"),e(r,"QuotationLayout"),e(a,"DEFAULT_LAYOUT"),e(i,"default")}()},284:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={DEFAULT:"default"},r={LEFT:"left",CENTER:"center",RIGHT:"right"},i={AudioLayout:n,AudioAlign:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"AudioLayout"),e(r,"AudioAlign"),e(i,"default")}()},285:function(e,t,o){"use strict";var n,r,i,a,s,c=o(59),l=o.n(c),u=o(61),p=o.n(u),d=o(1),h=o.n(d),f=o(57),m=o.n(f),g=o(0),y=o.n(g),b=o(50),_=o.n(b),v=(o(62),o(69)),C=o(16),S=o(105),O=o(350),k=o(67),I=o(75),w=o(51),P=o(248),j=o(49),T=o(196),L=o(415),E={lineBreak:{enter:"next-unit",shiftEnter:"next-unit"},erasure:"query",insertion:"append",drop:"object"},N={erasure:"query",insertion:"text",paste:"text",drop:"text"},x=(n=function(e){y()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"left-and-right",selection:"query",insertion:"append",erasure:"text",drop:"object"},p()(o,"layout",r,m()(o)),p()(o,"phase",i,m()(o)),p()(o,"wrappedSection",a,m()(o)),p()(o,"text",s,m()(o));var n=t,c=n.state,l=void 0===c?{}:c,u=n.config,d=void 0===u?{}:u;o._componentFactory=w.U.get("componentFactory"),o._configAgent=w.U.get("configAgent"),o.attributes=Object(v.a)(o.attributes,d.attributes),o.layout=Object(C.a)(l,"layout",o.layout);var h=Object(C.a)(l,"wrappedSection",{});if(o.thumbnailType=o._configAgent.get("editorInfo.thumbnailType.normal"),o.wrappedSection=o._componentFactory.createComponentWithCompData(h),o._wrappedSectionOriginAttr=o.wrappedSection.attributes,"image"===o.wrappedSection.ctype){var f=o.wrappedSection.caption.attributes;o._wrappedSectionCaptionOriginAttr=f,o.wrappedSection.caption.attributes=Object(S.a)({},f,{lineBreak:{enter:"next-unit",shiftEnter:"line-break-in-paragraph"}})}return o.wrappedSection.attributes=Object(S.a)({},o.wrappedSection.attributes,E),o.text=o._createTextStore(l),o._textOriginAttr=o.text.attributes,o._textValueOriginAttr=o.text.value.attributes,o.text.attributes=Object(S.a)({},o.text.attributes,N),o.text.value.attributes=Object(S.a)({},o.text.value.attributes,N),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,vid:this.vid,layout:this.layout,phase:this.phase,wrappedSection:this.wrappedSection.toPlainJSON(),text:this.text.toPlainJSON()}},t._createTextStore=function(e){var t=Object(C.a)(e,"text");return"text"===Object(C.a)(t,"ctype")?new L.a({state:t}):new L.a({state:{value:t}})},t.breakLine=function(e){return this.findSelectedSlot().breakLine(e)},t.insert=function(e,t){void 0===t&&(t={});var o=this.findSelectedSlot().insert(e,t);return this._changeToWrappingRange(o)},t._isGoingDown=function(e){return e===w.u.DOWN||e===w.u.RIGHT},t._isGoingUp=function(e){return!1===this._isGoingDown(e)},t.querySelection=function(e){var t=e.anchor,o=e.focus,n=e.toPoint,r=e.direction,i=e.isShrink,a=e.eventType;return n.unitId===this.id?this._isGoingDown(r)?{anchor:t,focus:this.getCompEndPoint()}:{anchor:t,focus:this.getCompStartPoint()}:P.a.isKeyboardEvent(a)&&this._isGoingDown(r)&&o.unitId===this.wrappedSection.id?{anchor:t,focus:l()({},this.text.getStartPoint(),{compId:this.id})}:n.unitId===this.text.getText().id?{anchor:t,focus:n}:!1===i&&this._isGoingDown(r)||!0===i&&this._isGoingUp(r)?{anchor:t,focus:l()({},this.wrappedSection.getEndPoint(),{compId:this.id})}:{anchor:t,focus:this.getStartPoint()}},t.getParagraphsLength=function(){return this.text.getParagraphsLength()},t.getPlainTextWithEmoji=function(){var e=this.text.getPlainTextWithEmoji();return"quotation"!==this.wrappedSection.ctype?e:""+this.wrappedSection.getPlainTextWithEmoji()+e},t.getNodeInfoAfterOffset=function(e,t){var o=e.unitId;return this.getStoreById(o).getNodeInfoAfterOffset(e,t)},t.queryErasure=function(e,t,o){if(this.isSelectingWrappedSection()&&!this._isSelectingTextSlot())return this.text.attributes.erasure="text",this.text.getText().attributes.erasure="text",{result:"replace",component:this.text,range:this.text.getCompStartRange()};var n=e.start,r=e.collapsed,i=this.getText().existTextInListParagraph;if(r){var a=this.text.getPositionByPoint(n),s=this.text.isEmpty();if(!i&&a===T.d.TEXT_START&&t===w.u.LEFT)return{result:"replace",component:this,range:this._getWrappedSectionSelectRange()};if((s||a===T.d.TEXT_END)&&t===w.u.RIGHT)return{result:"merge-if-text",range:o}}if(this.isAllSelected()){this.text.erase(e,t);var c=this.text.clone();return c.attributes.erasure="text",c.getText().attributes.erasure="text",{result:c.isEmpty()?"self":"replace",component:c,range:c.getCompStartRange()}}var l=this.text.erase(e,t);return{result:"replace",component:this,range:this._changeToWrappingRange(l)}},t.isAllSelected=function(){return"block"===this.selection||this.isSelectingWrappedSection()&&this._isSelectingTextSlot()},t.decomposeWrapped=function(){return"image"===this.wrappedSection.ctype&&(this.wrappedSection.caption.attributes=this._wrappedSectionCaptionOriginAttr),this.wrappedSection.attributes=this._wrappedSectionOriginAttr,this.text.attributes=this._textOriginAttr,this.text.value.attributes=this._textValueOriginAttr,[this.wrappedSection,this.text]},t.removeFirstParagraph=function(){this.text.removeFirstParagraph()},t.removeLastParagraph=function(){this.text.removeLastParagraph()},t.isEmpty=function(){return!1},t.isFirstParagraph=function(e){return this.text.isFirstParagraph(e)},t.isFirstParagraphEmpty=function(){return this.text.isFirstParagraphEmpty()},t.isLastParagraphEmpty=function(){return this.text.isLastParagraphEmpty()},t.collectStyle=function(e){var t,o;if(this.isSelectingWrappedSection()){var n=this.wrappedSection.collectStyle(e);t=n,o={wrappingLayout:this.layout,layout:n.layout}}else t=this.text.collectStyle(e),o={layout:this.layout};return l()({},t,o)},t.getTextStyle=function(e){return this.text.getTextStyle(e)},t.updateStyle=function(e,t){var o=this,n=this.findSelectedSlot().updateStyle(e,t);if("block"===this.selection){var r=this.getComponentActiveRange();return[r.start,r.end]}if(n)return n.map(function(e){return e.compId=o.id,e})},t.updateProperty=function(e,t){var o=this;if(e.layout)return this._changeLayout(e);var n=e.wrappedSection;e.link&&(n=e);var r=this.findSelectedSlot().updateProperty(n,t);if("block"===this.selection){var i=this.getComponentActiveRange();return[i.start,i.end]}return r?r.map(function(e){return e.compId=o.id,e}):void 0},t.refineSelection=function(e){var t=this.findSelectedSlot().refineSelection(e);return this._changeToWrappingRange(t)},t.splitComponent=function(e){var t=this.text.splitComponent(e).back;return t.getText().attributes.erasure="text",{front:this,back:t}},t.isRepresentativeImage=function(){return this.wrappedSection.isRepresentativeImage()||this.text.isRepresentativeImage()},t.setRepresentativeImage=function(e){e.paraId?this.text.setRepresentativeImage(e):this.wrappedSection.setRepresentativeImage()},t.releaseRepresentativeImage=function(e){e.paraId?this.text.releaseRepresentativeImage(e):this.wrappedSection.releaseRepresentativeImage()},t.hasRepresentativeImage=function(){return this.wrappedSection.hasRepresentativeImage()||this.text.hasRepresentativeImage()},t.getRepresentativeId=function(){var e=this,t=this.text.getRepresentativeId(),o=this.wrappedSection.getRepresentativeId();return Object(I.a)([].concat(t,[""+o]),function(t){return e.id+"|"+t})},t.getRepresentativeInnerData=function(){return this.text.hasRepresentativeImage()?this.text.getRepresentativeInnerData():this.wrappedSection.hasRepresentativeImage()?this.wrappedSection.getRepresentativeInnerData():null},t.changeAlign=function(){},t.getStoreById=function(e){if(e===this.id)return this;var t=this.text.getStoreById(e);return t||((t=this.wrappedSection.getStoreById(e))||null)},t.hasUnit=function(e){return this.getTextUnits().some(function(t){return t.id===e})},t.getNextUnit=function(){return this.text},t.getPrevUnit=function(){return this.wrappedSection},t.getSelectedAlign=function(e){return this.isSelectingWrappedSection()?this.wrappedSection.getSelectedAlign():this.getText().getSelectedAlign(e)},t.getText=function(){return this.findSelectedSlot()===this.wrappedSection?this.wrappedSection.getText():this.text.getText()},t.getOffsetInParagraph=function(e){return this.getStoreById(e.unitId).getOffsetInParagraph(e)},t.getTextUnits=function(){var e=this.wrappedSection.getTextUnits(),t=this.text.getTextUnits();return Object(O.a)([e,t])},t.updateConfig=function(){this.wrappedSection.updateConfig(),this.getText().updateConfig()},t.clone=function(e){var t=e.start,o=e.end;return t.unitId!==o.unitId?this._cloneWithinSelection(e):(this._isSelectingTextSlot()?this.text:this.wrappedSection).clone(e)},t.getCompStartRange=function(){var e=this.wrappedSection.getCompStartRange();return this._changeToWrappingRange(e)},t.getCompEndRange=function(){var e=this.text.getCompEndRange();return this._changeToWrappingRange(e)},t.getCompStartPoint=function(){return this._getWrappedSectionStartPoint()},t.getCompEndPoint=function(){return this._getTextEndPoint()},t.getTextStartRange=function(){var e=this._getTextStartPoint();return{start:e,end:e}},t.getStartPoint=function(){return this._getWrappedSectionStartPoint()},t.getEndPoint=function(){return this.isSelectingWrappedSection()?this._getWrappedSectionEndPoint():this._getTextEndPoint()},t.getComponentActiveRange=function(){return{start:this._getWrappedSectionStartPoint(),end:this._getTextEndPoint()}},t.getEndCollapsedRange=function(e){var t=this.findSelectedSlot().getEndCollapsedRange(e);return this._changeToWrappingRange(t)},t._getWrappedSectionSelectRange=function(){return{start:this._getWrappedSectionStartPoint(),end:this._getWrappedSectionEndPoint()}},t._getTextStartPoint=function(){var e=this.text.getStartPoint();return e.compId=this.id,e},t._getTextEndPoint=function(){var e=this.text.getEndPoint();return e.compId=this.id,e},t._getWrappedSectionStartPoint=function(){var e=this.wrappedSection.getCompStartPoint();return e.compId=this.id,e},t._getWrappedSectionEndPoint=function(){var e=this.wrappedSection.getCompEndPoint();return e.compId=this.id,e},t.findSelectedSlot=function(){return this.isSelectingWrappedSection()?this.wrappedSection:this.text},t._isSelectingTextSlot=function(){return"none"!==this.text.getText().selection},t.isSelectingWrappedSection=function(){var e=this.wrappedSection;return"none"!==e.getText().selection||"none"!==e.selection},t._changeToWrappingRange=function(e){return Object(k.a)({start:{compId:this.id},end:{compId:this.id}},e)},t._changeLayout=function(e){return this.layout=e.layout,this._getWrappedSectionSelectRange()},t._cloneWithinSelection=function(e){var t=new o({state:this.toValidJSON()}),n=t.wrappedSection.attributes;return t.text=this.text.clone(e),t.wrappedSection=this.wrappedSection.clone(e),t.wrappedSection.attributes=n,t},t.isLibraryComponent=function(){return this.wrappedSection.isLibraryComponent()||this.text.isLibraryComponent()},t.getLibraryItemData=function(){var e=this,t=[];return this.wrappedSection.isLibraryComponent()&&t.push(Object.assign(this.wrappedSection.getLibraryItemData(),{id:this.id})),this.text.isLibraryComponent()&&t.push.apply(t,this.text.getLibraryItemData().map(function(t){return Object.assign(t,{id:e.id})})),t},t.updateTheme=function(t,o){if(e.prototype.updateTheme.call(this,t,o),this.themeStyle){var n=this.themeStyle,r=n.textThemeStyle,i=n.imageThemeStyle,a=n.quotationThemeStyle;r&&this.text.updateTheme(r);var s=this.wrappedSection&&this.wrappedSection.ctype;"image"===s&&this.wrappedSection.updateTheme(i),"quotation"===s&&this.wrappedSection.updateTheme(a)}},t.updateImage=function(e){this.wrappedSection=Object(S.a)(this.wrappedSection,e)},t.filterOnlyTexts=function(){return this.text.filterOnlyTexts()},t.applyEditedImage=function(e){var t=e.photos[0];if(t.modified){var o=this._refineIntoImageData(t);this.updateImage(o)}},t._refineIntoImageData=function(e){var t=e.key,o=e.fileSize,n=e.height,r=e.width,i=e.domain,a=e.path;return{fileSize:o,height:n,width:r,originalWidth:r,originalHeight:n,path:a,id:t,src:""+i+a+(this.thumbnailType?"?type="+this.thumbnailType:"")}},t.toValidJSON=function(){return{id:this.id,layout:this.layout,ctype:this.ctype,wrappedSection:this.wrappedSection.toValidJSON(),text:this.text.getText().toValidJSON()}},t.deselect=function(){this._changeSelectionToNone(),this.text.deselect(),this.wrappedSection.deselect()},t._shouldSelectAllAsBlock=function(e,t){if(e.compId!==this.id&&t.compId!==this.id)return!0;var o=this.text.getEndPoint(),n=this.text.hasUnit(t.unitId)&&o.nodeId===t.nodeId&&o.offset===t.offset;return e.unitId===this.wrappedSection.id?n||t.compId!==this.id:!!n&&(e.unitId===this.wrappedSection.id||e.compId!==this.id)},t.putCursor=function(e){var t=e.unitId;this._changeSelectionToChild(),this.text.hasUnit(t)?("none"!==this.wrappedSection.selection&&this.wrappedSection.deselect(),this.text.putCursor(e),this.wrappedSection.deselect()):("none"!==this.text.selection&&this.text.deselect(),this.wrappedSection.putCursor(e),this.text.deselect())},t.selectAsBlock=function(e,t){this.deselect(),this._shouldSelectAllAsBlock(e,t)?this._selectAllAsBlock(e,t):this._selectPartAsBlock(e,t)},t.selectAsSingle=function(e){this._changeSelectionToChild(),this.wrappedSection.selectAsSingle(e),this.text.deselect()},t._selectAllAsBlock=function(){this._changeSelectionToBlock()},t._selectPartAsBlock=function(e,t){this._changeSelectionToChild(),this.text.hasUnit(e.unitId)?this.text.selectAsBlock(e,t):null!==this.wrappedSection.getStoreById(t.unitId)?this.wrappedSection.selectAsBlock(e,t):(this.text.selectAsBlock(e,t),this.wrappedSection.selectAsBlock(e,t))},t.setAvailableContentLength=function(e){var t=this.findSelectedSlot();t===this.wrappedSection&&"quotation"!==t.ctype||this.getText().setAvailableContentLength(e)},t.resetAvailableContentLength=function(){var e=this.findSelectedSlot();e===this.wrappedSection&&"quotation"!==e.ctype||this.getText().resetAvailableContentLength()},t.sliceContentText=function(e){if("image"!==this.wrappedSection.ctype){var t=this.wrappedSection.textLength;if(t>e)this.wrappedSection.sliceContentText(e),this.text.sliceContentText(0);else{var o=e-t;this.text.sliceContentText(o)}}else this.text.sliceContentText(e)},t.canBeListBySpace=function(e){return this.findSelectedSlot()!==this.wrappedSection&&this.getText().canBeListBySpace(e)},t.convertToList=function(e){this.getText().convertToList(e)},t.isCaptionFocused=function(){return this.wrappedSection&&this.wrappedSection.isCaptionFocused&&this.wrappedSection.isCaptionFocused()},t.checkNoWrappedCompSelected=function(){return!this.getPrevUnit().isFocused},t.checkFocusedOnQuot=function(){var e=this.getPrevUnit(),t="quotation"===e.ctype,o=e.isFocused;return t&&o},t.isAvailableForDropcap=function(e){var t=this.getText();return!t.isCenterOrRightAlign(e)&&!t.hasParagraphStartsWithEmoji(e)&&!t.hasInlineImageInParagraph(e)},h()(o,[{key:"textLength",get:function(){return"quotation"===this.wrappedSection.ctype?this.text.textLength+this.wrappedSection.textLength:this.text.textLength}},{key:"isBlockSelected",get:function(){return"block"===this.selection}},{key:"translationEnabled",get:function(){return"none"!==this.text.selection||this.wrappedSection&&this.wrappedSection.translationEnabled}}]),o}(Object(w.V)(Object(w.Y)(w.j))),r=_()(n.prototype,"layout",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),i=_()(n.prototype,"phase",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.M.DONE}}),a=_()(n.prototype,"wrappedSection",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=_()(n.prototype,"text",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_()(n.prototype,"textLength",[j.e],Object.getOwnPropertyDescriptor(n.prototype,"textLength"),n.prototype),_()(n.prototype,"isBlockSelected",[j.e],Object.getOwnPropertyDescriptor(n.prototype,"isBlockSelected"),n.prototype),n);x.ctype="wrappingParagraph";var D=x;t.a=D,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/store/index.js",localName:t}})}catch(e){}}e(E,"wrappedSectionAttributes"),e(N,"wrappedTextAttributes"),e(x,"WrappingParagraphComponentStore"),e(D,"default")}()},286:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={DEFAULT:"default"},r={LEFT:"left",CENTER:"center",RIGHT:"right"},i={FileLayout:n,FileAlign:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"FileLayout"),e(r,"FileAlign"),e(i,"default")}()},294:function(e,t,o){"use strict";var n=o(59),r=o.n(n),i=o(17),a=o.n(i),s=o(61),c=o.n(s),l=o(1),u=o.n(l),p=o(57),d=o.n(p),h=o(0),f=o.n(h),m=o(50),g=o.n(m),y=(o(62),o(69)),b=o(16),_=o(770),v=o(70),C=o(1064),S=o(121),O=o(74),k=o(1063),I=o(690),w=o(108),P=o(105),j=o(176),T=o(75),L=o(67),E=o(157),N=o(768),x=o(95),D=o(101),R=o(189),A=o(51),U=o(996),M=o(1284),B=o(659),F=o(658),z=o(49),W=o(221),V=o(1062),G=o(190),H={createIndexMap:function(e){var t=[];return Object(V.a)(e.length,function(){t.push([])}),e.map(function(e,o){e.cells.map(function(e,n){for(var r=e.colSpan,i=e.rowSpan,a=0;a<r;a++)for(var s=0;s<i;s++){for(var c=n+a,l=o+s;t[l]&&t[l][c];)n++,c++;t[l]&&!t[l][c]&&(t[l][c]=e.id)}})}),t},getCellIdsByRowIndex:function(e,t){return Object(G.a)(e[t])||[]},getCellIdsByColumnIndex:function(e,t){var o=e.map(function(e){return e[t]});return Object(G.a)(o)},getCellIdsByColumnIndexList:function(e,t){var o=this,n=[];return Object(v.a)(t,function(t){n=n.concat(o.getCellIdsByColumnIndex(e,t))}),n},getSelectedIndex:function(e,t){var o=[],n=[];return Object(v.a)(e,function(e,r){Object(v.a)(e,function(e,i){t===e&&(o.push(r),n.push(i))})}),{rowIndexList:Object(G.a)(o),colIndexList:Object(G.a)(n)}},getFirstSelectedId:function(e,t){var o=this.getSelectedAllIndex(e,t),n=o.rowIndexList,r=o.colIndexList;return e[Object(S.a)(n)][Object(S.a)(r)]},getSelectedAllIndex:function(e,t){var o=this,n=[],r=[];return Object(v.a)(t,function(t){var i=o.getSelectedIndex(e,t);n=n.concat(i.rowIndexList),r=r.concat(i.colIndexList)}),n=this._sortAscending(Object(G.a)(n)),r=this._sortAscending(Object(G.a)(r)),{rowIndexList:n,colIndexList:r}},getSelectedIds:function(e,t){var o,n,r=this.getSelectedAllIndex(e,t),i=r.rowIndexList,a=r.colIndexList,s=[];for(o=Object(S.a)(i);o<=Object(O.a)(i);o++)for(n=Object(S.a)(a);n<=Object(O.a)(a);n++)s.push(e[o][n]);var c=Object(G.a)(s);return t.length!==c.length&&(s=this.getSelectedIds(e,c)),Object(G.a)(s)},getIndexByCellId:function(e,t){var o=[],n=[];return Object(v.a)(e,function(e,r){var i=e.indexOf(t);Object(v.a)(e,function(e,o){t===e&&n.push(o)}),i>-1&&o.push(r)}),{rowIndexList:Object(G.a)(o),colIndexList:Object(G.a)(n)}},getCellIdDiffRowWithDown:function(e,t){var o=t+1;if(o===e.length)return this.getCellIdsByRowIndex(e,t);var n=e[t],r=e[o],i=[];return Object(v.a)(r,function(e,t){var o=n[t];e!==o&&i.push(o)}),Object(G.a)(i)},getCellIdDiffColWithRight:function(e,t){var o=t+1;if(o===e[0].length)return this.getCellIdsByColumnIndex(e,t);var n=this.getCellIdsByColumnIndex(e,t),r=this.getCellIdsByColumnIndex(e,o),i=[];return Object(v.a)(n,function(e){r.indexOf(e)<0&&i.push(e)}),Object(G.a)(i)},getCellIdsDiffColWithBothSides:function(e,t){var o=e.reduce(function(e,o){var n=o[t],r=o[t-1],i=o[t+1];return n!==r&&n!==i&&e.push(n),e},[]);return Object(G.a)(o)},_sortAscending:function(e){return e.sort(function(e,t){return e-t})}},q={TableSelectionFinder:H};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/store/table-selection-finder.js",localName:t}})}catch(e){}}e(H,"TableSelectionFinder"),e(q,"default")}();var J,K,Y,X,Q,Z,$,ee,te,oe,ne=o(92),re=o(196),ie=(J=function(e){f()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="tableCell",o.attributes={cursor:"query",selection:"query-with-trapped",insertion:"inline-image-allowed-append",drop:"object",paste:"query",lineBreak:{enter:"line-break-in-paragraph",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},o.defaultValueTextConfig={filterTextStyle:{backgroundColor:re.b.NOT_ALLOWED,subscript:re.b.NOT_ALLOWED,superscript:re.b.NOT_ALLOWED,dropCap:re.b.NOT_ALLOWED}},c()(o,"value",K,d()(o)),c()(o,"backgroundColor",Y,d()(o)),c()(o,"colSpan",X,d()(o)),c()(o,"rowSpan",Q,d()(o)),c()(o,"width",Z,d()(o)),c()(o,"height",$,d()(o)),c()(o,"borderInlineStyle",ee,d()(o)),c()(o,"textAlign",te,d()(o)),c()(o,"selection",oe,d()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;o._configAgent=A.U.get("configAgent");var l=o._configAgent.get("plugins.componentSettings.table.config");o.value=o._createTextUnitStore(i.value,Object(L.a)({},o.defaultValueTextConfig,s.value),Object(b.a)(l,"value.textStyle",{})),o.backgroundColor=Object(b.a)(i,"backgroundColor",o.backgroundColor),o.colSpan=Object(b.a)(i,"colSpan",o.colSpan),o.rowSpan=Object(b.a)(i,"rowSpan",o.rowSpan),o.width=o.adjustCellWidth(Object(b.a)(i,"width",o.width)),o.height=Object(b.a)(i,"height",o.height);var u=Object(b.a)(i,"borderInlineStyle",o.borderInlineStyle);return o.borderInlineStyle=o._refineBorderStyle(u),o.textAlign=Object(b.a)(i,"textAlign",o.textAlign),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,value:this.value.toPlainJSON(),backgroundColor:this.backgroundColor,colSpan:this.colSpan,rowSpan:this.rowSpan,width:this.width,height:this.height,borderInlineStyle:this.borderInlineStyle,textAlign:this.textAlign}},t.clone=function(e){return this.getText().clone(e)},t.getParagraphById=function(e){return this.getText().getParagraphById(e)},t.isLinkNodeEdge=function(e){return this.getText().isLinkNodeEdge(e)},t.isImageNode=function(e){var t=this.getText().getNodeByPoint(e);return t&&t.isImageNode()},t.shouldAdjustWritePoint=function(e){return this.getText().shouldAdjustWritePoint(e)},t.adjustWritePointOnEdge=function(e){return this.getText().adjustWritePointOnEdge(e)},t.write=function(e,t,o){var n=this.getText().write(e,t,o);return this._refinePointUnitId(n)},t.writeEmoji=function(e,t){var o=this.getText().writeEmoji(e,t);return this._refinePointUnitId(o)},t.changeLink=function(e,t){var o=this,n=this.getText();return t.start.unitId=n.id,n.changeLink(this.checkProtocol(e),t).map(function(e){return e.unitId=o.id,e})},t.breakLine=function(e,t){return this.getText().breakLine(e,t)},t.erase=function(e,t){var o=this.getText().erase(e,t);return this._refineRangeUnitId(o)},t.refineSelection=function(e){var t=this.getText().refineSelection(e);return this._refineRangeUnitId(t)},t.updateWidth=function(e){this.width=this.adjustCellWidth(e)},t.updateHeight=function(e){this.height=e},t.updateStyle=function(e,t){var o=this.refineSelection(t),n=[];if(this._isParagraphStyle(e)){var r=this.getText().updateParagraphStyle(e,o);n.push(r.start,r.end)}else{var i=this.getText().updateCharacterStyle(e,o);n.push(i.start,i.end)}return n},t.updateWholeStyle=function(e){this._isParagraphStyle(e)?this.getText().updateWholeParagraphStyle(e):this.getText().updateWholeCharacterStyle(e)},t.createShellInlineImages=function(e,t){return this.getText().createImageNodes(e,t)},t.updateInlineImage=function(e,t){this.getText().updateImageNode(e,t)},t.deleteInlineImage=function(e){return this.getText().deleteImageNode(e)},t.updateBackgroundColor=function(e){this.backgroundColor=e},t.updateInlineStyle=function(e){this.borderInlineStyle=e},t.select=function(){this.selection="block"},t.selectAsBlock=function(e,t){this.selection="child",this.getText().selectAsBlock(e,t)},t.deselect=function(){this.selection="none",this.getText().deselect()},t.replaceValue=function(e){var t=this._createTextUnitStore(e.value,this.defaultValueTextConfig);this.value=t},t._createTextUnitStore=function(e,t,o){var n=t.filterTextStyle;return t.filterTextStyle=Object(y.a)(n,o),new M.a({state:e,config:t})},t._refineRangeUnitId=function(e){return e.start=this._refinePointUnitId(e.start),e.end=this._refinePointUnitId(e.end),e},t._refinePointUnitId=function(e){return e.unitId=this.id,e},t._isParagraphStyle=function(e){var t=Object.keys(e)[0];return A.J.includes(t)},t._refineBorderStyle=function(e){var t=B.a.convertInlineStyleToObject(e),o=B.a.adjustMinBorderWidth(t,"1px");return B.a.convertObjectToInlineStyle(o)},t.getText=function(){return this.value},t.getStartPoint=function(){return Object.assign(this.getText().getStartPoint(),{unitId:this.id})},t.getEndPoint=function(){return Object.assign(this.getText().getEndPoint(),{unitId:this.id})},t.getPositionByPoint=function(e){return this.getText().getPositionByPoint(e)},t.collectStyle=function(e){return this.getText().collectStyle(e)},t.isEmpty=function(){return this.getText().isEmpty()},t.mergeWith=function(e,t){var o=this.getText().mergeWith(e,{mergePoint:t,isAttach:!0});return o.start.unitId=this.id,o.end.unitId=this.id,o},t.isEmptyTextNode=function(e){return this.getText().isEmptyTextNode(e)},t.isLibraryComponent=function(){return this.getText().isLibraryComponent()},t.getLibraryItemData=function(e){var t=e.compId;return this.getText().getLibraryItemData({compId:t,unitId:this.id})},t.refineParagraphWithPoint=function(e){return this.getText().refineParagraphWithPoint(e)},t.isRepresentativeImage=function(){return this.getText().isRepresentativeImage()},t.hasRepresentativeImage=function(){return this.getText().hasRepresentativeImage()},t.setRepresentativeImage=function(e,t){return this.getText().setRepresentativeImage(e,t)},t.setDefaultRepresentativeImage=function(){return this.getText().setDefaultRepresentativeImage()},t.getRepresentativeId=function(){var e=this,t=this.getText().getRepresentativeId();return Object(T.a)(t,function(t){return""+e.id+t})},t.getRepresentativeInnerData=function(){return this.getText().getRepresentativeInnerData()},t.releaseRepresentativeImage=function(e){this.getText().releaseRepresentativeImage(e)},t.putCursor=function(e){this.selection="child",this.getText().putCursor(e)},t.adjustCellWidth=function(e){return e>100?100:e<=0?1:e},u()(o,[{key:"isSelected",get:function(){return"block"===this.selection}}]),o}(Object(A.W)(A.w)),K=g()(J.prototype,"value",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=g()(J.prototype,"backgroundColor",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),X=g()(J.prototype,"colSpan",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Q=g()(J.prototype,"rowSpan",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Z=g()(J.prototype,"width",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 33.33}}),$=g()(J.prototype,"height",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 43}}),ee=g()(J.prototype,"borderInlineStyle",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),te=g()(J.prototype,"textAlign",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"left"}}),oe=g()(J.prototype,"selection",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"none"}}),g()(J.prototype,"isSelected",[z.e],Object.getOwnPropertyDescriptor(J.prototype,"isSelected"),J.prototype),J);ie.schema={id:U.a.string.isRequired,ctype:U.a.string.isRequired,borderInlineStyle:U.a.string,colSpan:U.a.number.isRequired,rowSpan:U.a.number.isRequired,width:U.a.number.isRequired,height:U.a.number.isRequired,backgroundColor:U.a.string,value:U.a.textUnit};var ae,se,ce=ie,le=ce;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/store/cell-store.js",localName:t}})}catch(e){}}e(ie,"CellStore"),e(ce,"default")}();var ue=(ae=function(e){f()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="tableRow",o.defaultFilterTextStyle={},c()(o,"cells",se,d()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;return o._styleFilter=Object(P.a)(o.defaultFilterTextStyle,s.filterTextStyle),o.cells=o._createCells(i.cells,s),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,cells:this.cells.map(function(e){return e.toPlainJSON()})}},t.cloneWithSelectedCell=function(){var e=Object(j.a)(this.cells,function(e){return e.isSelected}),t=[];return e.length&&e.forEach(function(e){t.push(e.toValidJSON())}),{ctype:"tableRow",cells:t}},t.pasteCells=function(e,t){for(var o=this.cells.length,n=0;n<o;n++){var r=t.cells[n];if(!r||!(e+n<o))break;this.cells[e+n].replaceValue(r)}},t.removeCellBy=function(e){return this.cells.remove(e)},t.insertCellToIndex=function(e,t){var o=r()({},t),n=new le({state:o});return this.cells.splice(e,0,n),n.id},t.getAllCelIdInRow=function(){return Object(T.a)(this.cells,function(e){return e.id})},t.getAllSortedRowSpanAndCellIds=function(){return Object(T.a)(this.cells,function(e){return{id:e.id,rowSpan:e.rowSpan}}).sort(function(e,t){return e.rowSpan-t.rowSpan})},t.getCellIdsSelectedSingleRow=function(){var e=[];return this.cells.forEach(function(t){t.isSelected&&1===t.rowSpan&&e.push(t.id)}),e},t.getCellIdsSelectedMultiRow=function(){var e=[];return this.cells.forEach(function(t){t.isSelected&&t.rowSpan>1&&e.push(t.id)}),e},t.getCellIdsSelectedSingleCol=function(){var e=[];return this.cells.forEach(function(t){t.isSelected&&1===t.colSpan&&e.push(t.id)}),e},t.getCellIdsSelectedMultiCol=function(){var e=[];return this.cells.forEach(function(t){t.isSelected&&t.colSpan>1&&e.push(t.id)}),e},t.getSelectedCellIds=function(){var e=[];return this.cells.forEach(function(t){t.isSelected&&e.push(t.id)}),e},t.refreshWidthAllBy=function(e){this.cells.forEach(function(t){t.width=t.adjustCellWidth(parseFloat((t.width/e*100).toFixed(2)))})},t.getColIndexOf=function(e){var t=[].concat(e);return Object(ne.a)(this.cells,function(e){return t.indexOf(e.id)>-1})},t._createCells=function(e,t){return e?e.map(function(e){return new le({state:e,config:t})}):[new le({config:t}),new le({config:t}),new le({config:t})]},o}(A.w),se=g()(ae.prototype,"cells",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae);ue.schema={ctype:U.a.string.isRequired,cells:U.a.arrayOf(U.a.shape(le.schema)).isRequired};var pe,de,he,fe,me,ge,ye,be,_e=ue,ve=_e;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/store/row-store.js",localName:t}})}catch(e){}}e(ue,"RowStore"),e(_e,"default")}();var Ce=(pe=function(e){f()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"query",selection:"query",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"query"},c()(o,"layout",de,d()(o)),c()(o,"width",he,d()(o)),c()(o,"columnCount",fe,d()(o)),c()(o,"rows",me,d()(o)),c()(o,"align",ge,d()(o)),c()(o,"borderStyleName",ye,d()(o)),c()(o,"borderInlineStyle",be,d()(o));var n=t,r=n.state,i=void 0===r?{}:r,a=n.config,s=void 0===a?{}:a;o.attributes=Object(y.a)(o.attributes,s.attributes),o.layout=Object(b.a)(i,"layout",o.layout),o.borderStyleName=Object(b.a)(i,"borderStyleName",o.borderStyleName),o.width=Object(b.a)(i,"width",o.width),o.columnCount=Object(b.a)(i,"columnCount",o.columnCount),o._configAgent=A.U.get("configAgent");var l=Object(b.a)(i,"borderInlineStyle",o.borderInlineStyle);return o.borderInlineStyle=o._refineBorderStyle(l),o.rows=Object(b.a)(i,"rows",o.rows),o.align=Object(b.a)(i,"align",o.align),i.rows&&0!==i.rows.length?o.rows=o._createRowStores(i.rows):o.rows=[new ve,new ve,new ve],o._updateTableMap(),o._refreshCellWidthAll(),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,width:this.width,columnCount:this.columnCount,rows:this.rows.map(function(e){return e.toPlainJSON()}),align:this.align,borderStyleName:this.borderStyleName,borderInlineStyle:this.borderInlineStyle}},t.writeText=function(e,t){return this.getCurrentTargetCell(e).writeText(e,t)},t.breakLine=function(e,t){var o=this.getCurrentTargetCell({focus:e});return o.getParagraphById(e.paraId)?o.breakLine(e,t):e},t.queryErasure=function(e,t){var o=this.selectedState,n=o.isRowSelectedAll,r=o.isColSelectedAll,i=n&&r;return!i&&(n||r)?{result:"replace",range:this.deleteCell(),component:this}:!i&&this._isFocusedOnText(e)?{result:"replace",range:this.getCurrentTargetCell(e).erase(e,t),component:this}:i||this.isSelectedComponent?{result:"self",range:null,component:null}:{result:null,range:{start:e.start,end:e.end},component:this}},t.querySelection=function(e){var t=e.direction,o=e.toPoint,n=e.anchor,r=e.focus,i=e.isShrink,a=void 0!==i&&i,s=e.eventType,c=[A.u.UP,A.u.LEFT].includes(t),l=[A.u.UP,A.u.DOWN].includes(t)&&"keydown"===s,u=[A.u.LEFT,A.u.RIGHT].includes(t)&&"keydown"===s,p=o.compId,d=o.unitId;if(this.isFocused&&this.hasUnit(r.unitId)){if(p===d||this.id!==p)return this._extendCellSelectionToEdge(c,n.unitId);if(this.id===p&&this.hasUnit(d)){var h=d;return l?h=this._getUpDownDestCellBy(t,r):u&&(h=this._getLeftRightDestCellBy(t,r)),this._resolveFocusAndAnchor(n.unitId,h)}return null}return this.id===p?a?{focus:c?this.getEndPoint():this.getStartPoint()}:{focus:c?this.getStartPoint():this.getEndPoint()}:null},t.queryCursor=function(e){var t,o=e.direction,n=e.toPoint,r=e.fromPoint,i="keydown"===e.eventType,a=[A.u.UP,A.u.LEFT].includes(o),s=this.selectedCellIds.length>0,c=this.hasUnit(r.unitId);if(i&&s){var l=Object(S.a)(this.selectedCellIds),u=Object(O.a)(this.selectedCellIds);return(t=a?this.getCellById(l):this.getCellById(u))?(n=a?this._getCellStartPonit(t):this._getCellEndPonit(t),this._deselectCells(),{type:"range",range:{start:n,end:n}}):{type:"range",range:null}}this._deselectCells();var p=[A.u.LEFT,A.u.RIGHT].includes(o);if(i&&p){var d=o===A.u.LEFT;return(t=d?this.getPrevCell(r):this.getNextCell(r))?{type:"range",range:{start:n=d?this._getCellEndPonit(t):this._getCellStartPonit(t),end:n}}:{type:"range",range:null}}if(this.id===n.unitId&&!i)return{type:"range",range:{start:this.getStartPoint(),end:this.getEndPoint()}};if(c&&i){if(o===A.u.UP)return this._getUpCell(r);if(o===A.u.DOWN)return this._getDownCell(r)}return{type:"range",range:null}},t.updateTheme=function(t,o){if(e.prototype.updateTheme.call(this,t,o),this.themeStyle&&this.themeStyle[this.layout]){var n=this.themeStyle[this.layout].value;this.getTextUnits().forEach(function(e){e.updateTheme(n)})}},t.updateProperty=function(e,t){var o=e.layout,n=e.resizing,r=e.tableBorder,i=e.link,s=e.cellBackgroundColor,c=e.cellWidth,l=e.cellHeight,u=a()(e,["layout","resizing","tableBorder","link","cellBackgroundColor","cellWidth","cellHeight"]);if(!(Object(_.a)(e)<1)){if(o&&this.changeLayout(o),n&&this.changeTableWidth(n),r&&this.changeTableBorderStyle(r),"string"==typeof s&&this.changeCellsBackgroundColor(s,t),c&&this.changeCellWidth(c.id,c.widthToAdd),l&&this.changeCellHeight(l.id,l.heightToAdd),Object(D.a)(this,u),i)return this.changeLink(i,t);if(this.selectedCellCount>0)return[this._collapsedToStart()]}},t.updateStyle=function(e,t){var o=e.tableAlign,n=e.align,r=this.selectedCellCount>0,i="block"===this.selection&&!1===this._isFocusedOnText(t);if(o)return this.changeAlign(o);if(r)return this.changeCellsTextStyle(this.selectedCellIds,e),[];if(i)return n&&this.changeAlign(n),this.changeCellsTextStyle(this.getAllCellIds(),e),Object(E.a)(this.getComponentActiveRange());if(this.isSelectedComponent)return this.changeCellsTextStyle(this.getAllCellIds(),e),[this.getCompEndRange()];var a=this.getCurrentTargetCell(t);return a&&a.updateStyle(e,t)},t.changeLink=function(e,t){return this.getCurrentTargetCell(t).changeLink(e,t)},t.changeTableWidth=function(e){this.width=e},t.changeAlign=function(e){if(this.align=e,this.selectedCellCount>0)return[this._collapsedToStart()]},t.changeCellsTextStyle=function(e,t){var o=this;Object(v.a)(e,function(e){o.getCellById(e).updateWholeStyle(t)})},t.changeLayout=function(e){this.layout=e,this.updateTheme(),this._removeBorderStyle()},t.changeTableBorderStyle=function(e){var t=e.borderStyle,o=" border-color: "+(e.color||"rgb(210, 210, 210)")+";",n=W.c[t].tableStyle||"",r=W.c[t].columnStyle||"";this.borderStyleName=t,this.borderInlineStyle=n+o,this._updateCellsStyle(r+o)},t.changeCellsBackgroundColor=function(e,t){var o=this,n=this.selectedCellIds.length>0;if(!n&&!this.isSelectedComponent)return this.getCurrentTargetCell(t).updateBackgroundColor(e);var r=n?this.selectedCellIds:this.getAllCellIds();Object(v.a)(r,function(t){o.getCellById(t).updateBackgroundColor(e)})},t.changeViewMode=function(){this._deselectCells()},t.selectCells=function(e){var t=H.getSelectedIds(this._indexMap,e);this._selectCells(t)},t.selectAll=function(){var e=this.getAllCellIds();return this.selectCells(e),this._resolveFocusAndAnchor(Object(S.a)(e),Object(O.a)(e))},t.selectRowByIds=function(e){var t=H.getSelectedAllIndex(this._indexMap,e).rowIndexList,o=H.getCellIdsByRowIndex(this._indexMap,t[0]);return this._deselectCells(),this.selectCells(o),this._resolveFocusAndAnchor(Object(S.a)(o),Object(O.a)(o))},t.insertRowById=function(e){var t=H.getIndexByCellId(this._indexMap,e).rowIndexList,o=Object(O.a)(t),n=H.getCellIdDiffRowWithDown(this._indexMap,o),r=this._insertRow(n,o);return this.updateTheme(),r},t.insertColumnById=function(e){var t=H.getIndexByCellId(this._indexMap,e).colIndexList,o=Object(O.a)(t),n=H.getCellIdDiffColWithRight(this._indexMap,o),r=this._insertColumn(n,o);return this.updateTheme(),r},t.selectColByIds=function(e){var t=H.getSelectedAllIndex(this._indexMap,e).colIndexList,o=H.getCellIdsByColumnIndexList(this._indexMap,t);return this._deselectCells(),this.selectCells(o),this._resolveFocusAndAnchor(Object(S.a)(o),Object(O.a)(o))},t.mergeCells=function(){var e=this.selectedCellIds,t=e[0],o=this.getCellById(t),n=Object(k.a)(e),r=H.getSelectedAllIndex(this._indexMap,e),i=r.rowIndexList,a=r.colIndexList,s=this._getCellSizeByIndex(i[0],a[0]),c=s.width,l=s.height;o.colSpan=a.length,o.rowSpan=i.length,o.height=l,o.width=c;var u=this._mergeText(o,n);return this._deselectCells(),this._removeCells(n),this._updateTableMap(),this.selectCells([t]),u},t.splitRowCells=function(){var e=this._addRowSingleCells();this._updateTableMap();var t=this._splitMultiRowCells();this._updateTableMap();var o=e.concat(t);this.selectCells(o),this.updateTheme()},t.splitColumnCells=function(){var e=this,t=[];H.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList.forEach(function(o){var n=e.rows[o].getCellIdsSelectedSingleCol(),r=e.rows[o].getCellIdsSelectedMultiCol(),i=e._splitSingleColumnCells(o,n);e._updateTableMap();var a=e._splitMultiColumnCells(o,r);e._updateTableMap(),t=t.concat(i,a)}),this.selectCells(t),this.updateTheme()},t.deleteCell=function(){return this.selectedState.isRowSelectedAll?this._removeSelectedRows():this._removeCells(this.selectedCellIds),this._deselectCells(),this._updateTableMap(),this._refreshCellWidthAll(),{start:this.getStartPoint(),end:this.getEndPoint()}},t.changeCellWidth=function(e,t){var o=H.getIndexByCellId(this._indexMap,e).colIndexList,n=Object(O.a)(o),r=this._indexMap[0].length===n+1;if(t=this._parseFloatToFixedSecondDecimal(t),r){var i=this.width+this.width*(t/100);(i=Math.min(i,100))>0&&(this.changeTableWidth(i),this._refreshCellWidthAll())}else{var a=H.getCellIdsByColumnIndex(this._indexMap,n+1),s=H.getCellIdsDiffColWithBothSides(this._indexMap,n+1),c=s.length>0?this.getCellById(s[0]):this.getCellById(a[0]);if(!c)return!1;var l=H.getCellIdsByColumnIndex(this._indexMap,n),u=H.getCellIdsDiffColWithBothSides(this._indexMap,n),p=u.length>0?this.getCellById(u[0]):this.getCellById(l[0]),d=c.width-t<=0,h=p&&p.width+t<0;if(d||h)return!1;this._updateCellsWidth(Object(R.a)(l,a),t),this._updateCellsWidth(Object(R.a)(a,l),-1*t)}},t.changeCellHeight=function(e,t){var o=this,n=H.getIndexByCellId(this._indexMap,e).rowIndexList,r=Object(O.a)(n),i=H.getCellIdDiffRowWithDown(this._indexMap,r),a=this.getCellById(i[0]);a&&a.height+t<0||Object(v.a)(i,function(e){var n=o.getCellById(e);n&&n.updateHeight(n.height+t)})},t.adjustToEqualWidth=function(){var e=this;this.selectColByIds(this.selectedCellIds);var t=H.getSelectedAllIndex(this._indexMap,this.selectedCellIds).colIndexList,o=this._getTotalWidthBy(0,!0);Object(v.a)(this.selectedCellIds,function(n){var r=e.getCellById(n),i=e._parseFloatToFixedSecondDecimal(r.colSpan/t.length*o);r.updateWidth(i)}),this._refreshCellWidthAll()},t.merge=function(e,t){var o=this,n=Object(S.a)(e);if(1===e.length&&"table"===n.ctype){var r=this.cellIdOfTopLeftInSelected||this.getCurrentTargetCell({focus:t}).id,i=H.getIndexByCellId(this._indexMap,r),a=i.rowIndexList,s=i.colIndexList,c=Object(S.a)(s),l=Object(S.a)(a),u=Object(I.a)(this.rows,l),p=n.toValidJSON(),d=this._filterRowsWithValue(p.rows);return Object(v.a)(u,function(e,t){var n=l+t,r=Object(I.a)(o._indexMap[n],c),i=e.getColIndexOf(r);if(i>-1){var a=d.shift();a&&e.pasteCells(i,a)}}),this.updateTheme(),{components:[this]}}return this._mergeOnlyText(e,t)},t.mergeWith=function(e){var t=this,o=this.cellIdOfTopLeftInSelected||this.getCurrentTargetCell().id,n=H.getIndexByCellId(this._indexMap,o),r=n.rowIndexList,i=n.colIndexList,a=Object(S.a)(i),s=Object(S.a)(r),c=Object(I.a)(this.rows,s),l=e.toValidJSON(),u=this._filterRowsWithValue(l.rows);Object(v.a)(c,function(e,o){var n=s+o,r=Object(I.a)(t._indexMap[n],a),i=e.getColIndexOf(r);if(i>-1){var c=u.shift();c&&e.pasteCells(i,c)}})},t.clone=function(e){var t,o=this,n=this.selectedCellIds.length!==this._hashArray.getLength();if(this._isFocusedOnText(e)){var r=e.start;return this.getCellById(r.unitId).clone(e)}if(this.isCellSelected&&n){var i=H.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList,a=this.toValidJSON(),s=[];Object(v.a)(i,function(e){var t=o.rows[e].cloneWithSelectedCell();t&&s.push(t)}),t=Object(P.a)(a,{rows:s})}else t=this.toValidJSON();return this._componentFactory.createComponentWithCompData(t)},t.getStoreById=function(e){if(e===this.id)return this;if(this.hasUnit(e)){var t=this.getCellById(e);return"block"===t.selection?this:t}return null},t.canBeListBySpace=function(e){return this._getTextUnit(e.start.unitId).canBeListBySpace(e)},t.convertToList=function(e){return this._getTextUnit(e.start.unitId).convertToList(e)},t._getTextUnit=function(e){return this.getCellById(e).value},t.getTextUnits=function(){var e=[];return this._hashArray.forEach(function(t){e.push(t.getText())}),e},t.filterOnlyTexts=function(){return this.getTextUnits().map(function(e){return e.filterOnlyTexts()})},t.updateConfig=function(){this.getTextUnits().forEach(function(e){e.updateConfig&&e.updateConfig()})},t.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o=this.borderInlineStyle,n=this.cellsCollectStyle(e),r=B.a.convertInlineStyleToObject(o,!0);return Object(L.a)({tableWidth:this.width,layout:this.layout,border:{style:this.borderStyleName||"thinLine",color:r.borderColor||"#d2d2d2"},tableAlign:t},n)},t.cellsCollectStyle=function(e){var t=this.selectedCellCount>0,o=this.getCurrentTargetCell(e),n={};return t?n=this._getCellsStyle(e,this.selectedCellIds):this.isSelectedComponent?n=this._getCellsStyle(e,this.getAllCellIds()):o&&(n=o.collectStyle(e)),n},t.getCellIdsOfMultiRowCells=function(){var e=H.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList,t=this.rows.toJS(),o=[];return Object(v.a)(e,function(e){var n=t[e].getCellIdsSelectedMultiRow();o=Object(C.a)(o,n)}),o},t.createShellInlineImages=function(e,t){return this.getCellById(e.unitId).createShellInlineImages(e,t)},t.updateInlineImage=function(e,t){this.getCellById(e.unitId).updateInlineImage(e,t)},t.deleteInlineImage=function(e){var t=this.getCellById(e.unitId).deleteInlineImage(e);return r()({compId:this.id},t)},t.getEndCollapsedRange=function(e){var t=e.end;return this.hasUnit(t.unitId)?{start:t,end:t}:e},t.getSelectedCellIdsInFirstRow=function(){var e=H.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList;return 0===e.length?[]:this.rows[Object(S.a)(e)].getSelectedCellIds()},t.getSelectedCellIdsInLastRow=function(){var e=H.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList;return 0===e.length?[]:this.rows[Object(O.a)(e)].getSelectedCellIds()},t.refineSelection=function(e){var t=this.getCurrentTargetCell(e).refineSelection(e);return t.start.compId=this.id,t.end.compId=this.id,t},t.hasUnit=function(e){return this._hashArray.has(e)},t.getUnitStartPoint=function(){var e=this._hashArray.getDataByIndex(0);return this._getCellStartPonit(e)},t.getCurrentTargetCell=function(e){return this.getCellById(e.focus.unitId)},t.getAllCellIds=function(){return this._hashArray.getKeys()},t.getAllCellStores=function(){return this._hashArray.getDataList()},t.getFirstCell=function(){return this._hashArray.getFirst()},t.getLastCell=function(){return this._hashArray.getLast()},t.getCellById=function(e){return this._hashArray.getDataById(e)},t.getNextCellById=function(e){return this._hashArray.getNext(e)},t.getNextCell=function(e){return this._hashArray.getNext(e.unitId)},t.getPrevCell=function(e){return this._hashArray.getPrev(e.unitId)},t.getPositionByPoint=function(e){return this.getCellById(e.unitId).getPositionByPoint(e)},t.getRangeAfterInsert=function(){var e=this.getFirstCell(),t=Object.assign(e.getStartPoint(),{compId:this.id});return{start:t,end:t}},t.isLibraryComponent=function(){return this.getAllCellStores().some(function(e){return e.isLibraryComponent()})},t.getLibraryItemData=function(){var e=this,t=[];return this.getAllCellStores().forEach(function(o){t.push.apply(t,o.getLibraryItemData({compId:e.id}))}),t},t.isRepresentativeImage=function(){return this.getAllCellStores().some(function(e){return e.isRepresentativeImage()})},t.hasRepresentativeImage=function(){return this.getAllCellStores().some(function(e){return e.hasRepresentativeImage()})},t.releaseRepresentativeImage=function(e){this.getCellById(e.unitId).releaseRepresentativeImage(e)},t.setRepresentativeImage=function(e){var t=e.unitId,o=e.paraId,n=e.nodeId;t?this.getCellById(t).setRepresentativeImage(o,n):this.setDefaultRepresentativeImage()},t.getRepresentativeId=function(){var e=this,t=[];return this.getAllCellStores().forEach(function(o){o.getRepresentativeId().forEach(function(o){t.push(e.id+"|"+o)})}),t},t.getRepresentativeInnerData=function(){var e=Object(x.a)(this.getAllCellStores(),function(e){return e.hasRepresentativeImage()});return e?e.getRepresentativeInnerData():null},t.setDefaultRepresentativeImage=function(){this.getAllCellStores().some(function(e){return!!e.isRepresentativeImage()&&(e.setDefaultRepresentativeImage(),!0)})},t.deselect=function(){this._deselect()},t.putCursor=function(e){this._changeSelectionToChild(),this.getCellById(e.unitId).putCursor(e)},t.selectAsSingle=function(e,t){e.unitId===this.id&&0===this.selectedCellIds.length?this._changeSelectionToSingle():(this._changeSelectionToChild(),this._changeCellSelection(e.unitId,t.unitId))},t.selectAsBlock=function(e,t){this._deselect(),this.getCellById(e.unitId)?(this._changeSelectionToChild(),this._selectCellsAsBlock(e,t)):this._changeSelectionToBlock()},t._selectCellsAsBlock=function(e,t){var o=this,n=H.getSelectedIds(this._indexMap,[e.unitId,t.unitId]);Object(v.a)(n,function(n){o.getCellById(n).selectAsBlock(e,t)})},t._filterRowsWithValue=function(e){return Object(j.a)(e,function(e){return e.cells.length>0})},t._updateCellsWidth=function(e,t){var o=this;Object(v.a)(e,function(e){var n=o.getCellById(e);n&&n.updateWidth(n.width+t)})},t._getCellSizeByIndex=function(e,t){var o=this._getTotalHeightBy(t,!0),n=this._getTotalWidthBy(e,!0);return{width:this._adjustCellWidth(n),height:o}},t._getTotalHeightBy=function(e,t){var o=this,n=H.getCellIdsByColumnIndex(this._indexMap,e),r=0;return Object(v.a)(n,function(e){var n=o.getCellById(e);(n&&n.isSelected||!t)&&(r=o._parseFloatToFixedSecondDecimal(r+n.height))}),r},t._getTotalWidthBy=function(e,t){var o=this,n=H.getCellIdsByRowIndex(this._indexMap,e),r=0;return Object(v.a)(n,function(e){var n=o.getCellById(e);!n.isSelected&&t||(r=o._parseFloatToFixedSecondDecimal(r+n.width))}),r},t._adjustCellWidth=function(e){return e>100?100:e<=0?1:e},t._insertRow=function(e,t){var o=t+1;this._deselectCells();var n=this._createRowBySingleCell(e);this.rows.splice(o,0,n);var r=n.getAllCelIdInRow();return this._updateTableMap(),this._updateUnSelectedAfterSplitRow(o,r),this._updateTableMap(),this.selectCells(r),this._resolveFocusAndAnchor(Object(S.a)(r),Object(O.a)(r))},t._insertColumn=function(e,t){var o=this;this._deselectCells();var n=this._getMinWidthByIds(e),r=Object(T.a)(e,function(e){return o._insertSingleColumnCell(e,n)});return this._widenColSpanByIndex(t,e,n),this._updateTableMap(),this.selectCells(r),this._refreshCellWidthAll(),this._resolveFocusAndAnchor(Object(S.a)(r),Object(O.a)(r))},t._splitSingleColumnCells=function(e,t){var o=this;return Object(T.a)(t,function(t){var n=o._splitSingleColumnCell(e,t);return o._updateColSpan(t),n})},t._splitMultiColumnCells=function(e,t){var o=this;return Object(T.a)(t,function(t){return o._splitMultiColumnCell(e,t)})},t._insertSingleColumnCell=function(e,t){if(e){var o=H.getIndexByCellId(this._indexMap,e).rowIndexList,n=Object(S.a)(o),r=this.getCellById(e),i=r.rowSpan,a=r.height,s=r.backgroundColor,c=r.textAlign,l=r.borderInlineStyle,u=this.rows[n].getColIndexOf(e)+1,p={rowSpan:i,width:t,height:a,backgroundColor:s,textAlign:c,borderInlineStyle:l};return this.rows[n].insertCellToIndex(u,p)}},t._splitSingleColumnCell=function(e,t){var o=this.getCellById(t),n=this.rows[e].getColIndexOf(t)+1,r=o.rowSpan,i=o.colSpan,a=o.width,s=o.height,c=o.backgroundColor,l=o.textAlign,u=o.borderInlineStyle,p=this._parseFloatToFixedSecondDecimal(o.width/2),d={width:p,rowSpan:r,colSpan:i,height:s,backgroundColor:c,textAlign:l,borderInlineStyle:u};return o.width=a-p,this.rows[e].insertCellToIndex(n,d)},t._splitMultiColumnCell=function(e,t){var o=this.getCellById(t),n=Math.ceil(o.colSpan/2),r=this.rows[e].getColIndexOf(t)+1,i=o.rowSpan,a=o.colSpan,s=o.width,c=o.height,l=o.backgroundColor,u=o.textAlign,p=o.borderInlineStyle,d=a-n,h=this._parseFloatToFixedSecondDecimal(s*(d/a)),f={width:h,colSpan:d,rowSpan:i,height:c,backgroundColor:l,textAlign:u,borderInlineStyle:p};return o.width=o.width-h,o.colSpan=n,this.rows[e].insertCellToIndex(r,f)},t._updateColSpan=function(e){var t=this;H.getSelectedIndex(this._indexMap,e).colIndexList.forEach(function(o){t._widenColSpanByIndex(o,[e])})},t._widenColSpanByIndex=function(e,t,o){var n=this;void 0===o&&(o=0);var r=H.getCellIdsByColumnIndex(this._indexMap,e);r.length<1||r.forEach(function(e){if(!(t.indexOf(e)>-1)&&e){var r=n.getCellById(e);r.colSpan=r.colSpan+1,r.width=r.width+o}})},t._updateTableMap=function(){this._hashArray=this._createCellHashArray(),this._indexMap=H.createIndexMap(this.rows),this._updateColumnCount()},t._updateColumnCount=function(){this.columnCount=this.rows.reduce(function(e,t){var o=t.cells.reduce(function(e,t){return e+(t.colSpan||1)},0);return o>e?o:e},1)},t._createCellHashArray=function(){var e=[];return this.rows.forEach(function(t){t.cells.forEach(function(t){e.push(t)})}),new F.a(e)},t._mergeText=function(e,t){var o=this,n={start:this._getRangeOfSingleSelectedCell(e.getStartPoint(),0),end:this._getRangeOfSingleSelectedCell(e.getEndPoint(),1)};return t.forEach(function(t){var n=o.getCellById(t).getText();n.isEmpty()||e.getText().mergeWith(n)}),n},t._mergeOnlyText=function(e,t){var o=new M.a;e.forEach(function(e){"text"===e.attributes.insertion&&o.mergeWith(e.getText())}),o.isEmpty()||o.removeFirstParagraph();var n=this.getCurrentTargetCell({focus:t}).mergeWith(o,t);return n.start.compId=this.id,n.end.compId=this.id,{components:[this],range:n}},t._getRangeOfSingleSelectedCell=function(e,t){var o={paraId:null,nodeId:null,offset:t};return r()({},e,o)},t._deselectCells=function(){this._hashArray.forEach(function(e){e.deselect()})},t._selectCells=function(e){var t=this;Object(v.a)(e,function(e){var o=t.getCellById(e);o&&o.select()})},t._getUpCell=function(e){for(var t=e.unitId,o=H.getIndexByCellId(this._indexMap,t),n=o.rowIndexList,r=o.colIndexList[0],i=n[0],a=t;a===t;)i-=1,a=this._indexMap[i]&&this._indexMap[i][r];if(a){var s=this.getCellById(a),c=this._getCellEndPonit(s);return{type:"range",range:{start:c,end:c}}}return{type:"prev-component",range:null}},t._getDownCell=function(e){for(var t=e.unitId,o=H.getIndexByCellId(this._indexMap,t),n=o.rowIndexList,r=o.colIndexList[0],i=n[0],a=t;a===t;)i+=1,a=this._indexMap[i]&&this._indexMap[i][r];if(a){var s=this.getCellById(a),c=this._getCellStartPonit(s);return{type:"range",range:{start:c,end:c}}}return{type:"next-component",range:null}},t._getLeftCell=function(e){for(var t=e.unitId,o=H.getIndexByCellId(this._indexMap,t),n=o.rowIndexList,r=o.colIndexList[0],i=n[0],a=t;a===t;)r-=1,a=this._indexMap[r]&&this._indexMap[i][r];if(a){var s=this.getCellById(a),c=this._getCellEndPonit(s);return{type:"range",range:{start:c,end:c}}}return{type:"prev-component",range:null}},t._getRightCell=function(e){for(var t=e.unitId,o=H.getIndexByCellId(this._indexMap,t),n=o.rowIndexList,r=o.colIndexList[0],i=n[0],a=t;a===t;)r+=1,a=this._indexMap[i]&&this._indexMap[i][r];if(a){var s=this.getCellById(a),c=this._getCellStartPonit(s);return{type:"range",range:{start:c,end:c}}}return{type:"next-component",range:null}},t._getUpDownDestCellBy=function(e,t){var o;if(e===A.u.UP){var n=this._getUpCell(t),r=n.type,i=n.range;o="range"===r?i.start.unitId:t.unitId}if(e===A.u.DOWN){var a=this._getDownCell(t),s=a.type,c=a.range;o="range"===s?c.start.unitId:t.unitId}return o},t._getLeftRightDestCellBy=function(e,t){var o;if(e===A.u.LEFT){var n=this._getLeftCell(t),r=n.type,i=n.range;o="range"===r?i.start.unitId:t.unitId}if(e===A.u.RIGHT){var a=this._getRightCell(t),s=a.type,c=a.range;o="range"===s?c.start.unitId:t.unitId}return o},t._collapsedToStart=function(){var e=Object(S.a)(this.selectedCellIds),t=this.getCellById(e);return this._deselectCells(),this._getCellStartPonit(t)},t._getCellStartPonit=function(e){return Object.assign(e.getStartPoint(),{compId:this.id})},t._getCellEndPonit=function(e){return Object.assign(e.getEndPoint(),{compId:this.id})},t._changeCellSelection=function(e,t){var o=[];e===t?o.push(t):o.push(e,t),this.selectCells(o)},t._extendCellSelectionToEdge=function(e,t){var o=e?this.getFirstCell().id:this.getLastCell().id;return this._deselectCells(),this.selectCells([t,o]),this._resolveFocusAndAnchor(t,o)},t._resolveFocusAndAnchor=function(e,t){var o=H.getIndexByCellId(this._indexMap,e),n=o.rowIndexList,r=o.colIndexList,i=H.getIndexByCellId(this._indexMap,t),a=i.rowIndexList,s=i.colIndexList,c=n[0]>a[0],l=n[0]===a[0]&&r[0]>s[0],u=c||l?1:0,p=c||l?0:1;return{anchor:{compId:this.id,unitId:e,paraId:null,nodeId:null,offset:u},focus:{compId:this.id,unitId:t,paraId:null,nodeId:null,offset:p}}},t._getCellsStyle=function(e,t){var o=this,n=t.map(function(t){return o.getCellById(t).collectStyle(e)});return B.a.mergeStyles(n)},t._createRowStores=function(e){return e.map(function(e){return new ve({state:e})})},t._addRowSingleCells=function(){var e=this,t=H.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList,o=this.rows.toJS(),n=0,r=[];return Object(v.a)(t,function(t){var i=t+n+1,a=e._insertSingleRow(t,i,o);a&&(r=r.concat(a.getAllCelIdInRow()),e._updateUnSelectedAfterSplitRow(t,r),n++)}),r},t._insertSingleRow=function(e,t,o){var n=this._createRowBySelectedCell(o[e]);if(n)return this.rows.splice(t,0,n),n},t._refreshCellWidthAll=function(){var e=this._getTotalWidthBy(0,!1);Object(v.a)(this.rows,function(t){t.refreshWidthAllBy(e)})},t._getMinWidthByIds=function(e){var t,o=this;return Object(v.a)(e,function(e){if(e){var n=o.getCellById(e).width;(!t||t>n)&&(t=n)}}),t},t._splitMultiRowCells=function(){var e=this,t=this.getCellIdsOfMultiRowCells();return t.length<1?[]:Object(T.a)(t,function(t){var o=H.getSelectedIndex(e._indexMap,t).rowIndexList,n=e.getCellById(t),r=n.rowSpan,i=n.colSpan,a=n.width,s=n.height,c=n.backgroundColor,l=n.textAlign,u=n.borderInlineStyle,p=Math.ceil(r/2),d=e._parseFloatToFixedSecondDecimal(s*(p/r)),h={rowSpan:r-p,height:s-d,width:a,colSpan:i,backgroundColor:c,textAlign:l,borderInlineStyle:u};n.rowSpan=p,n.height=d;var f=Object(S.a)(o)+p,m=H.getCellIdsByRowIndex(e._indexMap,f).indexOf(t);return e.rows[f].insertCellToIndex(m,h)})},t._createRowBySingleCell=function(e,t){var o=this;if(e.length<1)return null;var n=[];return Object(v.a)(e,function(e){var r=o.getCellById(e),i=r.colSpan,a=r.width,s=r.height,c={colSpan:i,width:a,backgroundColor:r.backgroundColor,borderInlineStyle:r.borderInlineStyle,textAlign:r.textAlign};if(t){var l=o._parseFloatToFixedSecondDecimal(s/2);r.height=l,c.height=s-l}n.push(c)}),new ve({state:{cells:n}})},t._createRowBySelectedCell=function(e){var t=e.getCellIdsSelectedSingleRow();return this._createRowBySingleCell(t,!0)},t._updateUnSelectedAfterSplitRow=function(e,t){var o=this;H.getCellIdsByRowIndex(this._indexMap,e).map(function(e){var n=o.getCellById(e);(!n.isSelected&&!t.includes(n.id)||n.rowSpan>1)&&(n.rowSpan=n.rowSpan+1)})},t._removeSelectedRows=function(){var e=this,t=H.getSelectedAllIndex(this._indexMap,this.selectedCellIds).rowIndexList,o=this.rows.toJS();Object(v.a)(t,function(t){e.rows.remove(o[t])})},t._removeCells=function(e){var t,o,n=this,r=0;return Object(N.a)(this.rows,function(i){for(var a=!0;a;)o||(t=e.pop(),o=n.getCellById(t)),(a=i.cells.remove(o))&&(o=null);0===i.getAllCelIdInRow().length&&(n.rows.remove(i),r++)}),r>0&&this._refreshCellRowSpanAll(),r},t._updateCellsStyle=function(e){this._hashArray.forEach(function(t){t.updateInlineStyle(e)})},t._removeBorderStyle=function(){this.borderStyleName="",this.borderInlineStyle="",this._updateCellsStyle("")},t._isFocusedOnText=function(e){return this.hasUnit(e.focus.unitId)&&!!e.focus.paraId},t._parseFloatToFixedSecondDecimal=function(e){return parseFloat(e.toFixed(2))},t._deselect=function(){this._changeSelectionToNone(),this._deselectCells()},t._refreshCellRowSpanAll=function(){var e=this;this._updateColumnCount();var t=this.columnCount;this.rows.reduceRight(function(o,n){var r=n.getAllSortedRowSpanAndCellIds(),i=t-r.length,a=1,s=r[0].rowSpan;if(r.forEach(function(t){s!==t.rowSpan&&(a=o.pop()||1,s=t.rowSpan),e.getCellById(t.id).rowSpan=a}),i)for(var c=0;c<i;c++){var l=o[c]||1;o[c]=l+1}else o=[];return o},[])},t._refineBorderStyle=function(e){var t=B.a.convertInlineStyleToObject(e),o=B.a.adjustMinBorderWidth(t,"1px");return B.a.convertObjectToInlineStyle(o)},u()(o,[{key:"isSelectedComponent",get:function(){return Object(w.a)(["single","multi","block"],this.selection)}},{key:"isCellSelected",get:function(){return this.selectedCellIds.length>0||"child"===this.selection}},{key:"selectedCellIds",get:function(){var e=[];return this.rows.forEach(function(t){var o=t.getSelectedCellIds();e.push.apply(e,o)}),e}},{key:"selectedCellCount",get:function(){return this.isFocused&&this.selectedCellIds.length}},{key:"selectedState",get:function(){var e=H.getSelectedAllIndex(this._indexMap,this.selectedCellIds),t=e.rowIndexList,o=e.colIndexList;return{isRowSelectedAll:this._indexMap[0].length===o.length,isColSelectedAll:this._indexMap.length===t.length}}},{key:"isSelectedSingleColumnCell",get:function(){return 1===H.getSelectedAllIndex(this._indexMap,this.selectedCellIds).colIndexList.length}},{key:"cellIdOfTopRightInSelected",get:function(){return Object(O.a)(this.getSelectedCellIdsInFirstRow())}},{key:"cellIdOfTopLeftInSelected",get:function(){return Object(S.a)(this.getSelectedCellIdsInFirstRow())}},{key:"cellIdOfBottomRightInSelected",get:function(){return Object(O.a)(this.getSelectedCellIdsInLastRow())}},{key:"translationEnabled",get:function(){return!0}}]),o}(A.g),de=g()(pe.prototype,"layout",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return W.d.DEFAULT}}),he=g()(pe.prototype,"width",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),fe=g()(pe.prototype,"columnCount",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),me=g()(pe.prototype,"rows",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ge=g()(pe.prototype,"align",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=g()(pe.prototype,"borderStyleName",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),be=g()(pe.prototype,"borderInlineStyle",[z.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g()(pe.prototype,"isSelectedComponent",[z.e],Object.getOwnPropertyDescriptor(pe.prototype,"isSelectedComponent"),pe.prototype),g()(pe.prototype,"isCellSelected",[z.e],Object.getOwnPropertyDescriptor(pe.prototype,"isCellSelected"),pe.prototype),g()(pe.prototype,"selectedCellIds",[z.e],Object.getOwnPropertyDescriptor(pe.prototype,"selectedCellIds"),pe.prototype),g()(pe.prototype,"selectedCellCount",[z.e],Object.getOwnPropertyDescriptor(pe.prototype,"selectedCellCount"),pe.prototype),g()(pe.prototype,"selectedState",[z.e],Object.getOwnPropertyDescriptor(pe.prototype,"selectedState"),pe.prototype),g()(pe.prototype,"isSelectedSingleColumnCell",[z.e],Object.getOwnPropertyDescriptor(pe.prototype,"isSelectedSingleColumnCell"),pe.prototype),g()(pe.prototype,"cellIdOfTopRightInSelected",[z.e],Object.getOwnPropertyDescriptor(pe.prototype,"cellIdOfTopRightInSelected"),pe.prototype),g()(pe.prototype,"cellIdOfTopLeftInSelected",[z.e],Object.getOwnPropertyDescriptor(pe.prototype,"cellIdOfTopLeftInSelected"),pe.prototype),g()(pe.prototype,"cellIdOfBottomRightInSelected",[z.e],Object.getOwnPropertyDescriptor(pe.prototype,"cellIdOfBottomRightInSelected"),pe.prototype),pe);Ce.ctype="table",Ce.schema={id:U.a.string.isRequired,ctype:U.a.string.isRequired,layout:U.a.string.isRequired,align:U.a.string,width:U.a.number.isRequired,rows:U.a.arrayOf(U.a.shape(ve.schema)).isRequired,columnCount:U.a.number.isRequired,borderStyleName:U.a.string,borderInlineStyle:U.a.string};var Se=Ce;t.a=Se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/store/index.js",localName:t}})}catch(e){}}e(Ce,"TableComponentStore"),e(Se,"default")}()},295:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g=o(17),y=o.n(g),b=o(59),_=o.n(b),v=o(61),C=o.n(v),S=o(1),O=o.n(S),k=o(57),I=o.n(k),w=o(0),P=o.n(w),j=o(50),T=o.n(j),L=(o(62),o(16)),E=o(105),N=o(171),x=o(187),D=o(134),R=o(129),A=o(768),U=o(70),M=o(107),B=o(121),F=o(177),z=o(104),W=o(157),V=o(95),G=o(658),H=o(524),q=o(659),J=o(51),K=o(49),Y=o(173),X=o(730),Q=o(69),Z=o(996),$=o(196),ee=o(526),te=Object(J.Y)(Y.a),oe=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="imageNode",C()(o,"src",r,I()(o)),C()(o,"internalResource",i,I()(o)),C()(o,"represent",a,I()(o)),C()(o,"domain",s,I()(o)),C()(o,"path",c,I()(o)),C()(o,"phase",l,I()(o)),C()(o,"width",u,I()(o)),C()(o,"height",p,I()(o)),C()(o,"fileSize",d,I()(o)),C()(o,"fileName",h,I()(o)),C()(o,"selection",f,I()(o)),C()(o,"representativeEnabled",m,I()(o));var n=t,g=n.state,y=void 0===g?{}:g,b=n.config,_=void 0===b?{}:b,v=Object(L.a)(y,"path",o.path);if(o.path=ee.a.getEncodeUrl(v),o._configAgent=J.U.get("configAgent"),o.attributes=Object(Q.a)(o.attributes,_.attributes),o.thumbnailType=o._configAgent.get("editorInfo.thumbnailType.normal"),o.documentWidth=o._configAgent.get("productConfig.documentWidth"),o.domain=Object(L.a)(_,"domain",o._configAgent.get("infraInfo.photoInfra.imageHost")),o.imageMinimumHeight=_.imageMinimumHeight||o._configAgent.get("editorInfo.imageMinimumHeight"),o.imageMinimumWidth=_.imageMinimumWidth||o._configAgent.get("editorInfo.imageMinimumWidth"),o.src=null===Object(L.a)(y,"src",o.src)?null:o._getValidSrc(Object(L.a)(y,"src",o.src)),o.internalResource=Object(L.a)(y,"internalResource",o.internalResource),o.width=Object(L.a)(y,"width",o.width)||0,o.height=Object(L.a)(y,"height",o.height)||0,o.updateConfig(),o.width&&o.height)o._resolveWidthAndHeight(o.width,o.height);else{delete y.contentMode;var S=new Image;S.onload=function(){o.width=S.width,o.height=S.height,o._resolveWidthAndHeight(o.width,o.height)},S.src=o.src}return o.fileSize=Object(L.a)(y,"fileSize",o.fileSize),o.fileName=Object(L.a)(y,"fileName",o.fileName),o.phase=o._resolveComponentPhase(y),o.selection=Object(L.a)(y,"selection",o.selection),o.represent=Object(L.a)(y,"represent",o.represent),o._resolveSrc(),o}P()(t,e);var o=t.prototype;return o._getValidSrc=function(e){var t=ee.a.isImageTag(e)?ee.a.getSrcFromImageTag(e):e;return/^data:image\/[a-zA-Z]*;base64,/.test(t)?t:ee.a.prependProtocol(ee.a.getEncodeUrl(t))},o._resolveWidthAndHeight=function(e,t){void 0===e&&(e=this.width),void 0===t&&(t=this.height);var o=e,n=t;if(o>this.documentWidth){var r=this.documentWidth/e;o=this.documentWidth,n=Math.floor(t*r)}this._updateSize(o,n)},o._updateSize=function(e,t){this.width=Math.floor(e),this.height=Math.floor(t)},o.updateImageNode=function(e){this.src=Object(L.a)(e,"src",this.src),this.height=Object(L.a)(e,"height",this.height),this.width=Object(L.a)(e,"width",this.width),this.path=Object(L.a)(e,"path",this.path),this.phase=Object(L.a)(e,"phase",this.phase),this.fileSize=Object(L.a)(e,"fileSize",this.fileSize),this.fileName=Object(L.a)(e,"fileName",this.fileName),this._resolveSrc()},o.getRepresentativeImageURL=function(){return""+this.domain+this.path},o.getRepresentativeInnerData=function(){return this.toValidJSON()},o.updateConfig=function(){e.prototype.updateConfig.call(this),this.representativeEnabled=!1!==this._configAgent.get("productConfig.representativeEnabled")},o.isRepresentativeImage=function(){return e.prototype.isRepresentativeImage.call(this)&&!this.isSmallerThanMinimumSize(this.width,this.height)},o.isSmallerThanMinimumSize=function(e,t){var o=e<this.imageMinimumWidth,n=t<this.imageMinimumHeight;return o||n},o._resolveSrc=function(){var e=this.domain,t=this.path,o=this.internalResource;if(!t||!1===o)return this;var n=this.thumbnailType||"w1000";this.src=""+e+t+"?type="+n},o._resolveComponentPhase=function(e){if(!Object(L.a)(e,"internalResource"))return J.M.DONE;var t=Object(L.a)(e,"src"),o=Object(L.a)(e,"width"),n=Object(L.a)(e,"height"),r=Object(L.a)(e,"phase",J.M.EMPTY);return t&&o&&n?J.M.DONE:r},o._shouldUploadImage=function(){return this.src&&!this.path},o.isLibraryComponent=function(){return!1===this._shouldUploadImage()&&!0===this.internalResource},o.getLibraryItemData=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=this.toValidJSON(),i=Object.assign(r,{id:o,paraId:n,nodeId:this.id,link:Object(L.a)(this.link,"url","")});return{id:t,key:""+this.domain+this.path,thumbnail:this.src,data:i}},o.isImageNode=function(){return!0},o.isEmpty=function(){return""===this.src},o.isMergeable=function(){return!1},o.getStartPoint=function(){return{nodeId:this.id,offset:0}},o.getEndPoint=function(){return{nodeId:this.id,offset:1}},o.getPositionByOffset=function(e){return 0===e?$.d.NODE_START:$.d.NODE_END},o.getUrlInNode=function(){return null},o.getNodeLength=function(){return 1},o.cloneNode=function(){var e=this.toValidJSON();return e.themeStyle=this.themeStyle.toJSON(),new t({state:e})},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,src:this.src,style:K.f.toJS(this.style),link:K.f.toJS(this.link),internalResource:this.internalResource,represent:this.represent,path:this.path,domain:this.domain,width:this.width,height:this.height,fileName:this.fileName,fileSize:this.fileSize,phase:this.phase,themeStyle:K.f.toJS(this.themeStyle)}},t}(te),r=T()(n.prototype,"src",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=T()(n.prototype,"internalResource",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),a=T()(n.prototype,"represent",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=T()(n.prototype,"domain",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=T()(n.prototype,"path",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=T()(n.prototype,"phase",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return J.M.EMPTY}}),u=T()(n.prototype,"width",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=T()(n.prototype,"height",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=T()(n.prototype,"fileSize",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=T()(n.prototype,"fileName",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=T()(n.prototype,"selection",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"none"}}),m=T()(n.prototype,"representativeEnabled",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n);oe.schema={id:Z.a.string,ctype:Z.a.string.isRequired,src:Z.a.string.isRequired,style:Z.a.shape({ctype:Z.a.string.isRequired,fontColor:Z.a.string,fontFamily:Z.a.string,fontSizeCode:Z.a.string,backgroundColor:Z.a.string,bold:Z.a.bool,italic:Z.a.bool,underline:Z.a.bool,strikeThrough:Z.a.bool,subscript:Z.a.bool,superscript:Z.a.bool}),link:Z.a.shape({ctype:Z.a.string.isRequired,url:Z.a.string.isRequired}),internalResource:Z.a.bool.isRequired,represent:Z.a.bool.isRequired,path:Z.a.string,domain:Z.a.string,width:Z.a.number.isRequired,height:Z.a.number.isRequired,fileName:Z.a.string,fileSize:Z.a.number};var ne,re,ie=oe,ae=ie;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/image-node-store.js",localName:t}})}catch(e){}}e(te,"RepresentativeNodeStore"),e("w1000","DEFAULT_THUMBNAIL_TYPE"),e(oe,"ImageNodeStore"),e(ie,"default")}();var se=(ne=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="emojiNode",C()(o,"value",re,I()(o));var n=t.state,r=void 0===n?{}:n;return o.value=Object(L.a)(r,"value",o.value),o}P()(t,e);var o=t.prototype;return o.isEmojiNode=function(){return!0},o.isEmpty=function(){return""===this.value},o.isMergeable=function(){return!1},o.getStartPoint=function(){return{nodeId:this.id,offset:0}},o.getEndPoint=function(){return{nodeId:this.id,offset:1}},o.getPositionByOffset=function(e){return 0===e?$.d.NODE_START:$.d.NODE_END},o.getUrlInNode=function(){return null},o.getNodeLength=function(){return 1},o.getPlainTextLength=function(){return this.value.length},o.cloneNode=function(){return new t({state:this.toValidJSON(),themeStyle:K.f.toJS(this.themeStyle)})},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,value:this.value,style:K.f.toJS(this.style),link:K.f.toJS(this.link),themeStyle:K.f.toJS(this.themeStyle)}},t}(Y.a),re=T()(ne.prototype,"value",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ne);se.schema={id:Z.a.string,ctype:Z.a.string.isRequired,value:Z.a.string.isRequired,style:Z.a.shape({ctype:Z.a.string.isRequired,fontColor:Z.a.string,fontFamily:Z.a.string,fontSizeCode:Z.a.string,backgroundColor:Z.a.string,bold:Z.a.bool,italic:Z.a.bool,underline:Z.a.bool,strikeThrough:Z.a.bool,subscript:Z.a.bool,superscript:Z.a.bool}),link:Z.a.shape({ctype:Z.a.string.isRequired,url:Z.a.string.isRequired})};var ce,le,ue,pe,de,he,fe,me=se,ge=me;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/emoji-node-store.js",localName:t}})}catch(e){}}e(se,"EmojiNodeStore"),e(me,"default")}();var ye=(ce=Object(K.e)({keepAlive:!0}),le=Object(K.e)({keepAlive:!0}),ue=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="paragraph",C()(o,"selection",pe,I()(o)),C()(o,"nodes",de,I()(o)),C()(o,"style",he,I()(o)),C()(o,"themeStyle",fe,I()(o)),o._configAgent=J.U.get("configAgent");var n=t.state,r=void 0===n?{}:n;return o.nodes=o._createNodeStores(Object(L.a)(r,"nodes",o.nodes)),o.style=Object(E.a)(o.style,r.style),r.themeStyle&&o.themeStyle.replace(Object.entries(r.themeStyle)),o.selection=Object(L.a)(r,"selection",o.selection),o._hashArray=new G.a(o.nodes),o}P()(t,e);var o=t.prototype;return o.isListParagraph=function(){return!!this.style.list},o.updateConfig=function(){this.nodes.forEach(function(e){e.updateConfig&&e.updateConfig()})},o.addNode=function(e,t){this._hashArray.add(e,t)},o.removeNode=function(e){this._hashArray.remove(e)},o.removeNodesBetween=function(e,t){this._hashArray.removeBetween(e,t)},o.removeNodesWithSelection=function(e){var t=e.start,o=e.end,n=this.splitNode(o),r=this.splitNode(t),i=n.front,a=r.back;t.nodeId===o.nodeId&&(i=a),this.removeNodesBetween(a.id,i.id),this.refine(r.front.id)},o.adjustWritePointOnEdge=function(e){var t=this.getNodeById(e.nodeId),o=this.createSameStyleNode(t),n=this.getPositionByPoint(e);if(n===$.d.NODE_START){var r=this.getPrevNode(e.nodeId);if(r&&r.isMergeable(o))return r.getEndPoint()}else if(n===$.d.NODE_END){var i=this.getNextNode(e.nodeId);if(i&&i.isMergeable(o))return i.getStartPoint()}return this._addNewNodeByPoint(e,o),o.getStartPoint()},o.isWholeParagraph=function(e){var t=e.start,o=e.end,n=t,r=o;this.has(t.nodeId)||(n=this.getStartPoint()),this.has(o.nodeId)||(r=this.getEndPoint());var i=this.getPositionByPoint(n),a=this.getPositionByPoint(r);return i===$.d.PARA_START&&a===$.d.PARA_END},o._addNewNodeByPoint=function(e,t){var o=this.getPositionByPoint(e);if(o===$.d.PARA_START||o===$.d.NODE_START){var n=this.getNodeIndex(e.nodeId);this.addNode(t,n)}else if(o===$.d.PARA_END||o===$.d.NODE_END){var r=this.getNodeIndex(e.nodeId)+1;this.addNode(t,r)}},o._splitNonTextNode=function(e){var t=this.getNodeById(e.nodeId),o=this.createSameStyleNode(t),n=this.getPositionByPoint(e);return this._addNewNodeByPoint(e,o),n===$.d.PARA_START||n===$.d.NODE_START?{front:o,back:t}:n===$.d.PARA_END||n===$.d.NODE_END?{front:t,back:o}:void 0},o.createSameStyleNode=function(e){return new X.a({state:{style:e.style,themeStyle:K.f.toJS(e.themeStyle)}})},o.insertEmoji=function(e,t,o){void 0===o&&(o=null);var n=this.splitNode(t),r=n.front,i=n.back,a=this.getNodeIndex(r.id)+1,s=this._createSameStyleEmojiNode(r,e);o&&s.changeLink(o),this.addNode(s,a),r.isEmpty()&&this.removeNode(r.id);var c={nodeId:i.id,offset:i.getStartPoint().offset};return _()({},t,c)},o.insertPlainText=function(e,t,o){void 0===o&&(o=null);var n=this.splitNode(e),r=n.front,i=n.back,a=(r.isTextNode()?r.split(r.getNodeLength()):i.split(0)).back;return o&&a.changeLink(o),a.writeValue({offset:0,value:t}),this.addNode(a,this.getNodeIndex(r.id)+1),{paraId:this.id,nodeId:i.id,offset:0}},o._createSameStyleEmojiNode=function(e,t){return new ge({state:{value:t,style:e.style,themeStyle:K.f.toJS(e.themeStyle)}})},o._getFirstNodeWithValue=function(){var e=this.getFirstNode();return e.isEmpty()?this.getNextNode(e.id):e},o.isStartWithEmoji=function(){var e=this._getFirstNodeWithValue();return e&&e.isEmojiNode()||!1},o.writeValue=function(e){var t=this.getNodeById(e.nodeId).writeValue(e);return _()({paraId:this.id},t)},o.merge=function(e){e.refine();var t=e.getFirstNode(),o=this.getLastNode(),n=o.isMergeable(t),r={paraId:this.id,nodeId:o.id};!this.isEmpty()||t.isEmpty()||n||(r=Object.assign(r,{nodeId:t.id}));var i=e.detachNodes();return this.addNode(i),this.refine(),r},o.mergeWithSpace=function(e){this.getLastNode().mergeValue({value:" "}),this.merge(e)},o.replaceNodesBetween=function(e,t,o){this._hashArray.replaceBetween(o,e,t)},o.replaceAllNodes=function(e){this.nodes.replace(e),this._hashArray.syncUpWithDataList()},o.detachNodes=function(e,t){return this._hashArray.detachData(e,t)},o.split=function(e){var o=this._cloneStyle(),n=$.d.PARA_START,r=$.d.TEXT_START,i=this.getPositionByPoint(e);[n,r].includes(i)?this.style.dropCap=null:o.dropCap=null;var a=this.splitNode(e),s=a.front,c=a.back,l=this.getLastNode(),u=this.detachNodes(c.id,l.id),p=new t({state:{style:o,themeStyle:K.f.toJS(this.themeStyle),nodes:u}});return s.isEmpty()&&(s.changeLink(),this.getNodesLength()>1&&this.removeNode(s.id)),c.isEmpty()&&c.changeLink(),{front:this,back:p}},o.splitNode=function(e){var t=e.nodeId,o=e.offset,n=this.getNodeById(t);if(n.isTextNode()){var r=n.split(o),i=r.front,a=r.back,s=this.getNodeIndex(i.id)+1;return this.addNode(a,s),{front:i,back:a}}return this._splitNonTextNode(e)},o.updateTheme=function(e){var t=["lineHeight","align","dropCap"],o=Object(D.a)(e,t);this.themeStyle.replace(Object.entries(o));var n=Object(R.a)(e,t);this.nodes.forEach(function(e){e.updateTheme(n)})},o.updateParagraphStyle=function(e){var t=this,o=e.listType,n=e.listLevel,r=y()(e,["listType","listLevel"]),i=r.align,a=r.lineHeight;i&&i!==J.o.LEFT&&i!==J.o.JUSTIFY&&(r.dropCap=null),a&&(r.lineHeight=Number(a)),o&&(r.list="reset"===o?null:{ctype:"paragraphListStyle",type:o,level:this.listLevel||0}),Number.isInteger(n)&&(o||this.isListParagraph())&&(r.list={ctype:"paragraphListStyle",type:o||this.listType,level:n}),Object(x.a)(this.style,r,function(e,o,n){return o===t.themeStyle.get(n)?null:o})},o.updateWholeCharacterStyle=function(e){var t=this.getFirstNode(),o=this.getLastNode();this.updateCharacterStyle(e,{startNode:t,endNode:o})},o.updateCharacterStyle=function(e,t){var o=t.startNode,n=t.endNode;this.getNodesBetween(o.id,n.id).forEach(function(t){t.updateCharacterStyle(e)})},o.resetStyle=function(){this.style={ctype:"paragraphStyle",align:null,lineHeight:null,dropCap:null,list:null},this.nodes.forEach(function(e){return e.resetStyle()})},o.applyDerivedParagraphStyle=function(e){var t=this,o=Object(F.a)(e,function(e,o){return null!==t.style[o]});this.updateParagraphStyle(o)},o.applyDerivedStylesToWholeCharacter=function(e){this.nodes.forEach(function(t){t.applyDerivedCharacterStyle(e)})},o.changeLink=function(e,t){var o=t.startNode,n=t.endNode;this.getNodesBetween(o.id,n.id).forEach(function(t){t.changeLink(e)})},o.writeAndLink=function(e,t){var o=this,n=this.getNodeById(t.nodeId),r=t;if(n.link)n.changeLink(e);else{var i=e.description,a=e.value;i&&i.length>0?H.a.separateCallbacksWithEmoji(i,function(t){r=o.insertEmoji(t,r,e)},function(t){r=o.insertPlainText(r,t,e)}):r=this.insertPlainText(r,a,e)}return r},o.refine=function(e){this.getNodesLength()<=1||this._mergeMergeableNode(e)},o._removeEmptyNode=function(e){var t=this;void 0===e&&(e=[]);var o=this.nodes,n=[].concat(e);Object(A.a)(o,function(e){var r=e.id;e.isEmpty()&&n.indexOf(r)<0&&o.length>1&&t.removeNode(r)})},o._mergeMergeableNode=function(e){var t=this.nodes,o=this.getFirstNode();Object(U.a)(t,function(e,t){0!==t&&(o.isMergeable(e)?(o.mergeValue(e),e.value=""):o=e)}),this._removeEmptyNode(e)},o.unwrapDropCap=function(){this.updateParagraphStyle({dropCap:null})},o.filterTextStyle=function(e,t){var o=this;e&&(Object(U.a)(e,function(e,n){if(!1!==o.style.hasOwnProperty(n)){var r=e===$.b.NOT_ALLOWED,i="function"==typeof e&&!e(o.style[n],t);(r||i)&&(o.style[n]=null)}}),this.nodes.forEach(function(o){o.filterCharStyle(e,t)}))},o.getNodeById=function(e){return this._hashArray.getDataById(e)},o.getNodeByIndex=function(e){return this._hashArray.getDataByIndex(e)},o.getNodeIndex=function(e){return this._hashArray.getIndex(e)},o.getFirstNode=function(){return this._hashArray.getFirst()},o.getLastNode=function(){return this._hashArray.getLast()},o.getPrevNode=function(e){return this._hashArray.getPrev(e)},o.getNextNode=function(e){return this._hashArray.getNext(e)},o.getNodesBetween=function(e,t){return this._hashArray.getBetween(e,t)},o.getNodesLength=function(){return this._hashArray.getLength()},o.has=function(e){return this._hashArray.has(e)},o.isOnlyUrlLink=function(){return 1===this.getNodesLength()&&this.getFirstNode().hasUrlLink()},o.isLinkNodeEdge=function(e){if(!1===this.getNodeById(e.nodeId).hasUrlLink())return!1;var t=this.getPositionByPoint(e);return t===$.d.PARA_START||t===$.d.NODE_START||t===$.d.NODE_END||t===$.d.PARA_END},o.isFirstTextNode=function(e){return this.getFirstNode().id===e},o.shouldUnwrapDropCapByErase=function(e,t,o,n){return!!this.style.dropCap&&(!1!==this.isFirstTextNode(t)&&!!(n&&e===J.u.LEFT&&1===o||n&&e===J.u.RIGHT&&0===o||!n&&0===o))},o.clear=function(){this._hashArray.clear()},o.toString=function(){return this.nodes.map(function(e){return e.value}).join("")},o.isEmpty=function(){var e=this.getNodesLength();return 0===e||1===e&&this.getFirstNode().isEmpty()},o.getStartPoint=function(){var e=this.getFirstNode();return{paraId:this.id,nodeId:e.id,offset:0}},o.getEndPoint=function(){var e=this.getLastNode(),t=e.getEndPoint();return{paraId:this.id,nodeId:e.id,offset:t.offset}},o.getPositionByPoint=function(e){var t=e.nodeId,o=e.offset,n=this.getNodeById(t),r=n.getPositionByOffset(o),i=this.getFirstNode()===n&&(n.isEmpty()||r===$.d.NODE_START),a=this.getLastNode()===n&&(n.isEmpty()||r===$.d.NODE_END);return i?$.d.PARA_START:a?$.d.PARA_END:r},o.is=function(e){return this.id===e},o.collectStyle=function(e){var t=e.start,o=e.end,n=this.getNodesBetween(t.nodeId,o.nodeId),r=Object(M.a)(n);if(0===r.length)return{};r.length>1&&(r[0].getNodeLength()===t.offset&&r.shift());var i=r.map(function(e){return e.collectStyle()}),a=q.a.mergeStyles(i),s=_()({},this.computedStyle,a);return delete s.ctype,s},o.getTextStyle=function(e){var t=this.getNodeById(e.nodeId)||this.getFirstNode(),o=_()({},this.style,t.style);return delete o.ctype,o},o.getSelectedAlign=function(){return{align:this.style.align}},o.getOffsetInParagraph=function(e){for(var t=e.nodeId,o=e.offset,n=this.nodes,r=this.getNodeIndex(t),i=0,a=0;a<=r;a++)i+=a===r?o:n[a].getNodeLength();return i},o.getNodeValueLength=function(e){return this.getNodeById(e).getNodeLength()},o.getNodeInfoBeforeOffsetByPlainTextLength=function(e){var t=this.nodes,o=e,n=null,r=o;return t.some(function(e){if(n)return!0;if(!e.getPlainTextLength)return!1;var t=e.getPlainTextLength();o<=t&&(n=e,e.isTextNode()?r=o:e.isEmojiNode()&&(r=o===t?e.getEndPoint().offset:e.getStartPoint().offset)),o-=t}),{node:n,offset:r}},o.getNodeInfoBeforeOffset=function(e){var t=this.nodes,o=e,n=null,r=o;return t.some(function(e){if(n)return!0;var t=e.getNodeLength();(o===t||o<t)&&(n=e,r=o),o-=t}),{node:n,offset:r}},o.getNodeInfoAfterOffset=function(e){var t=this.nodes,o=e,n=null,r=o;return t.some(function(e){if(n)return!0;var t=e.getNodeLength();(0===o||o<t)&&(n=e,r=o),o-=t}),n||(n=this.getLastNode(),r=n.getNodeLength()),{node:n,offset:r}},o.getPlainText=function(){var e=[];return this.nodes.forEach(function(t){t.isTextNode()&&e.push(t.value)}),e.join("")},o.getPlainTextWithEmoji=function(){var e=[];return this.nodes.forEach(function(t){(t.isTextNode()||t.isEmojiNode())&&e.push(t.value)}),e.join("")},o.stripOffNonTexts=function(){this.replaceImageToText(),this.refine()},o.replaceImageToText=function(){var e=this;this.getAllImageNode().forEach(function(t){var o=e.createSameStyleNode(t);o.id=t.id,e.replaceNodesBetween(t.id,t.id,o)})},o.getAllImageNode=function(){return this.nodes.filter(function(e){return e.isImageNode()})},o.isBackward=function(e,t){var o=this.getNodeIndex(e.nodeId),n=this.getNodeIndex(t.nodeId);return!(n<o)&&(n!==o||e.offset<=t.offset)},o.isCenterOrRightAlign=function(){return["center","right"].includes(this.style.align)},o.createImageNodes=function(e,t){var o=this,n=[],r=[],i=[],a=this.getNodeById(e.nodeId),s=t.map(function(t){var s,c=t.isValid,l=t.file,u=t.fileInfo,p=t.code,d=e.unitId,h=e.paraId;if(c)s=new ae({state:{internalResource:!0,width:parseInt(u.width,10),height:parseInt(u.height,10),phase:J.M.PROCESSING,fileName:l.name,fileSize:parseInt(l.size,10),themeStyle:K.f.toJS(a.themeStyle)}}),n.push("unitId:"+d+",paraId:"+h+",nodeId:"+s.id),r.push(l);else{var f=o._configAgent.get("productConfig.documentWidth");s=new ae({state:{internalResource:!0,width:f,height:f*(9/16),phase:J.M.PROCESSING,fileName:l.name,fileSize:parseInt(l.size,10),themeStyle:K.f.toJS(a.themeStyle)}}),i.push({id:"unitId:"+d+",paraId:"+h+",nodeId:"+s.id,file:l,code:p})}return s}),c=this.splitNode(e).front,l=this.getNodeIndex(c.id);return this.addNode(s,l+1),{uploadTarget:{ids:n,files:r},invalidImages:i}},o.updateImageNodeById=function(e,t){var o=this.getNodeById(e);o&&o.updateImageNode({path:t.path+"/"+t.fileName,width:parseInt(t.width,10),height:parseInt(t.height,10),fileName:t.fileName,fileSize:parseInt(t.fileSize,10),internalResource:!0,phase:"DONE"})},o._getFirstImageNode=function(){return Object(B.a)(this.nodes.filter(function(e){return e.isImageNode()}))},o._cloneStyle=function(){return Object(N.a)(this.style)},o._createNodeStores=function(e){return 0===e.length?[new X.a]:e.map(function(e){return e instanceof Y.a?e:"imageNode"===e.ctype?new ae({state:e}):"emojiNode"===e.ctype?new ge({state:e}):new X.a({state:e})})},o.getUrlInNode=function(e){return this.getNodeById(e.nodeId).getUrlInNode(e)},o.toValidJSON=function(){var e=Object(F.a)(this.style,function(e){return null===e}),t={id:this.id,ctype:this.ctype,nodes:this.nodes.map(function(e){return e.toValidJSON()})};return Object(z.a)(e).length>1&&(t.style=e),t},o.isLibraryComponent=function(){return this.nodes.some(function(e){return e.isLibraryComponent()})},o.getLibraryItemData=function(e){var t=this,o=e.compId,n=e.unitId,r=[];return this.nodes.forEach(function(e){e.isLibraryComponent()&&r.push(e.getLibraryItemData({compId:o,unitId:n,paraId:t.id}))}),r},o.setRepresentativeImage=function(e){var t=e?this.getNodeById(e):this._getFirstImageNode();t&&t.setRepresentativeImage()},o.releaseRepresentativeImage=function(e){this.getNodeById(e).releaseRepresentativeImage()},o.hasRepresentativeImage=function(){return this.nodes.some(function(e){return e.isImageNode()&&e.hasRepresentativeImage()})},o.isRepresentativeImage=function(){return this.nodes.some(function(e){return e.isImageNode()&&e.isRepresentativeImage()})},o.getRepresentativeId=function(){var e=this,t=[];return this.nodes.forEach(function(o){if(o.isImageNode()){var n=o.hasRepresentativeImage(),r=o.isRepresentativeImage(),i=o.getRepresentativeImageURL(),a="|"+e.id+"|"+o.id+":"+r+":"+n;i?t.push(a+":"+i):t.push(""+a)}}),t},o.getRepresentativeInnerData=function(){var e=Object(V.a)(this.nodes,function(e){return e.isImageNode()&&e.hasRepresentativeImage()});return e?e.getRepresentativeInnerData():null},o.hasInlineImage=function(){return this.nodes.some(function(e){return e.isImageNode()})},o.hasTextNode=function(){return this.nodes.some(function(e){return!e.isImageNode()})},o.hasDropCapInParagraph=function(){return this.style.dropCap},o.canBeListBySpace=function(){if(this.isListParagraph())return!1;var e=this.getPlainTextWithEmoji();return Object(W.a)(J.P).includes(e)},o.deselect=function(){this.selection="none",this.nodes.forEach(function(e){return e.deselect()})},o.toPlainJSON=function(){return _()({},this._toPlainJSON)},O()(t,[{key:"computedStyle",get:function(){var e=K.f.toJS(this.themeStyle);return Object(x.a)(e,this.style,function(e,t,o){return null!==t?"lineHeight"===o?t.toString():"list"===o?t.type:t:void 0!==e?"lineHeight"===o?e.toString():e:!!["align","lineHeight","list"].includes(o)&&null})}},{key:"firstNodeComputedStyle",get:function(){return this.getFirstNode().computedStyle}},{key:"isFocused",get:function(){return"none"!==this.selection}},{key:"firstTextNodeIndex",get:function(){return this.nodes.findIndex(function(e){return!e.empty})||0}},{key:"listType",get:function(){return this.style.list&&this.style.list.type}},{key:"listLevel",get:function(){return this.style.list&&this.style.list.level}},{key:"_toPlainJSON",get:function(){return{id:this.id,ctype:this.ctype,nodes:this.nodes.map(function(e){return e.toPlainJSON()}),style:K.f.toJS(this.style),themeStyle:K.f.toJS(this.themeStyle)}}}]),t}(J.w),pe=T()(ue.prototype,"selection",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"none"}}),de=T()(ue.prototype,"nodes",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),he=T()(ue.prototype,"style",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"paragraphStyle",align:null,lineHeight:null,dropCap:null,list:null}}}),fe=T()(ue.prototype,"themeStyle",[K.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),T()(ue.prototype,"computedStyle",[ce],Object.getOwnPropertyDescriptor(ue.prototype,"computedStyle"),ue.prototype),T()(ue.prototype,"firstNodeComputedStyle",[K.e],Object.getOwnPropertyDescriptor(ue.prototype,"firstNodeComputedStyle"),ue.prototype),T()(ue.prototype,"isFocused",[K.e],Object.getOwnPropertyDescriptor(ue.prototype,"isFocused"),ue.prototype),T()(ue.prototype,"firstTextNodeIndex",[K.e],Object.getOwnPropertyDescriptor(ue.prototype,"firstTextNodeIndex"),ue.prototype),T()(ue.prototype,"_toPlainJSON",[le],Object.getOwnPropertyDescriptor(ue.prototype,"_toPlainJSON"),ue.prototype),ue),be=ye;t.a=be;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/paragraph-store.js",localName:t}})}catch(e){}}e(ye,"ParagraphStore"),e(be,"default")}()},297:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(50),a=o.n(i),s=o(67),c=o(54),l=o.n(c),u=o(49),p=o(347),d=o(224),h=o(52),f=o(56),m=o(1230),g=function(e){var t,o=e.name,n=e.value,r=e.defaultValue,i=e.invertIcon,a=!e.multipleValue&&(n||r),s=l()("se-toolbar-icon-"+o,{"se-is-inverted":i}),c="#fff"===a||"#ffffff"===a,p=l()(((t={})["se-"+o+"-indicator"]=!0,t["se-is-white-color"]=c,t["se-is-multiple-color"]=null===n,t));return u.b.createElement("span",{className:"se-toolbar-color-picker-icon"},u.b.createElement("span",{"data-role":"color",className:p,style:{backgroundColor:a}}),u.b.createElement("span",{"data-role":"icon",className:s}))};g.defaultProps={name:"",value:"",defaultValue:"#fff"},g.propTypes={name:u.a.string,value:u.a.string,defaultValue:u.a.string,invertIcon:u.a.bool,multipleValue:u.a.bool};var y=g,b=y;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker-icon/background-color-icon.jsx",localName:t}})}catch(e){}}e(g,"BackgroundColorIcon"),e(y,"default")}();var _=function(e){var t,o=e.name,n=e.value,r=e.defaultValue,i=e.multipleValue,a=!i&&(n||r),s="#fff"===a||"#ffffff"===a,c=l()(((t={})["se-"+o+"-indicator"]=!0,t["se-is-white-color"]=s,t["se-is-multiple-color"]=i,t));return u.b.createElement("span",{className:"se-toolbar-color-picker-icon"},u.b.createElement("span",{className:"se-toolbar-icon-"+o}),u.b.createElement("span",{"data-role":"color",className:c,style:{backgroundColor:a}}))};_.defaultProps={name:"",value:"",defaultValue:"#000"},_.propTypes={name:u.a.string,value:u.a.string,defaultValue:u.a.string,multipleValue:u.a.bool};var v=_,C=v;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker-icon/font-color-icon.jsx",localName:t}})}catch(e){}}e(_,"FontColorIcon"),e(v,"default")}();var S,O=o(762),k=o(124),I=o(51),w=(S=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._isHexColor=function(e){return/^#([a-f\d]{3,6})$/i.test(e)},t._splitHexCode=function(e){var t=/^#([a-f\d]{1,2})([a-f\d]{1,2})([a-f\d]{1,2})$/i.exec(e);return 4===e.length&&(t[1]+=t[1],t[2]+=t[2],t[3]+=t[3]),t},t._isDarknessnessColor=function(e){if(!t._isHexColor(e))return!1;var o=t._splitHexCode(e),n=parseInt(o[1],16)/255,r=parseInt(o[2],16)/255,i=parseInt(o[3],16)/255;return(Math.max(n,r,i)+Math.min(n,r,i))/2<.5},t}r()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._RECENT_COLOR_LENGTH=12;var e="click.se-toolbar-color-picker-"+this.props.name;m.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-color-picker-"+this.props.name;m.a.off(e)},o.render=function(){var e=this.props,t=e.namespace,o=e.name,n=e.type,r=e.label,i=e.value,a=e.isActivated,s=e.recentColors,c=e.i18n,p=e.useColorDetailFlag,d=c(r),h=l()(["se-"+t+"-"+n+"-container","__select-container"]),f=this._renderCurrentColor();return u.b.createElement("div",{className:h,"data-type":n,"data-name":o},f,a&&u.b.createElement(O.a,{color:i,recentColors:s,useDetail:p,onChangeColor:this._handleChangeColor,label:d,i18n:c}))},o._renderCurrentColor=function(){var e=this.props,t=e.id,o=e.namespace,n=e.useBackground,r=e.label,i=e.useCurrentColor,a=e.value,s=e.defaultValue,c=e.deviceType,p=e.name,d=e.i18n,h=e.type,f=e.title,m=e.focused,g=e.isActivated,y=e.logAreaId,_=e.logId,v=c===I.t.DESKTOP,S=n?b:C,O={value:a,multipleValue:null===a,name:p,defaultValue:s,invertIcon:!!n&&this._isDarknessnessColor(a||s)},w=d(r),P=d(f),j=l()("se-"+o+"-toolbar-"+h+"-button","se-"+p+"-toolbar-button",{"se-is-activated":g});return!1===i?u.b.createElement(k.a,{focused:m,namespace:o,type:h,dataName:t,className:j,i18n:d,handleClick:this._handleClickSelector,ariaExpanded:""+g,ariaHasPopup:"true"},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:"se-toolbar-label","aria-hidden":v},w),v&&u.b.createElement("span",{className:"se-toolbar-tooltip"},P)):u.b.createElement(k.a,{focused:m,namespace:o,type:h,dataName:t,logAreaId:y,logId:_,className:j,i18n:d,handleClick:this._handleClickSelector,ariaExpanded:""+g,ariaHasPopup:"true"},u.b.createElement(S,O),u.b.createElement("span",{className:"se-toolbar-label","aria-hidden":v},w),v&&u.b.createElement("span",{className:"se-toolbar-tooltip"},P))},o._handleClickButtonOutside=function(e){var t=e.target;this.props.isActivated&&d.a.isOutsideElementbySelector(t,".__select-container")&&this._handleClickSelector({})},o._handleClickSelector=function(e){var t=this.props,o=t.onClickSelector,n=t.type,r=t.id,i=t.name,a=t.label;o.apply(this,[{event:e,id:r,type:n,name:i,label:a}])},o._handleChangeColor=function(e){var t=this.props,o=t.onChange,n=t.id,r=t.type,i=t.name,a=t.label,c=t.title,l=t.storageKey,u=t.recentColors,p=u.indexOf(e.value);p>-1&&u.splice(p,1),u.unshift(e.value),u.length>this._RECENT_COLOR_LENGTH&&u.pop(),o(Object(s.a)({id:n,type:r,label:a,name:i,title:c,storageKey:l,recentColors:u},e))},t}(u.b.Component),a()(S.prototype,"_handleClickButtonOutside",[h.autobind],Object.getOwnPropertyDescriptor(S.prototype,"_handleClickButtonOutside"),S.prototype),a()(S.prototype,"_handleClickSelector",[h.autobind],Object.getOwnPropertyDescriptor(S.prototype,"_handleClickSelector"),S.prototype),a()(S.prototype,"_handleChangeColor",[h.autobind],Object.getOwnPropertyDescriptor(S.prototype,"_handleChangeColor"),S.prototype),S);w.defaultProps={label:"",id:"",name:"",namespace:"",focused:!1,title:"",storageKey:"",value:"",recentColors:[],onClickSelector:function(){},onChange:function(){},i18n:function(e){return e}},w.propTypes={type:u.a.oneOf([f.b.COLOR_PICKER]).isRequired,id:u.a.string,name:u.a.string,namespace:u.a.string,focused:u.a.bool,label:u.a.string,title:u.a.string,storageKey:u.a.string,value:u.a.string,defaultValue:u.a.string,useBackground:u.a.bool,useCurrentColor:u.a.bool,useColorDetailFlag:u.a.bool,deviceType:u.a.string,isActivated:u.a.bool,onClickSelector:u.a.func,onChange:u.a.func,i18n:u.a.func,recentColors:u.a.oneOfType([u.a.array,u.a.object]),logAreaId:u.a.string,logId:u.a.string};var P=Object(p.b)(w);t.a=P;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/color-picker-button.jsx",localName:t}})}catch(e){}}e(w,"ColorPickerButton"),e(P,"default")}()},298:function(e,t,o){"use strict";var n=o(51),r=o(1229),i=o(407),a=o(0),s=o.n(a),c=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit(),this._store.open(e)},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},t}(n.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-type-layer/src/service/index.js",localName:t}})}catch(e){}}(c,"ImageTypeLayerService")}();var l=o(408),u=n.F.extend({name:"ImageTypeLayer",view:Object(r.a)({Loader:function(){return o.e(48).then(o.bind(null,1247))}}),useCase:i.a,service:c,store:l.a}),p=u;t.a=p;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-type-layer/src/index.js",localName:t}})}catch(e){}}e(u,"ImageTypeLayer"),e(p,"default")}()},356:function(e,t,o){"use strict";var n,r,i,a=o(61),s=o.n(a),c=o(57),l=o.n(c),u=o(0),p=o.n(u),d=o(50),h=o.n(d),f=(o(62),o(16)),m=o(51),g=o(49),y=o(691),b=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,s()(o,"message",r,l()(o)),s()(o,"opened",i,l()(o)),o.lastingMoment=2e3,o.unmountDelayTime=400,o.type=y.a.WARNING;var n=t,a=n.state,c=void 0===a?{}:a,u=n.config,p=void 0===u?{}:u;return o.opened=Object(f.a)(c,"opened",o.opened),o.message=Object(f.a)(c,"message",o.message),o.lastingMoment=Object(f.a)(p,"lastingMoment",o.lastingMoment),o.type=Object(f.a)(p,"type",o.type),o}p()(t,e);var o=t.prototype;return o.openToast=function(e){var t=e.type,o=e.message;this.type=t,this.message=o,this.opened=!0},o.hideToast=function(){this.opened=!1},t}(m.e),r=h()(n.prototype,"message",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=h()(n.prototype,"opened",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/toast-layer/src/store/index.js",localName:t}})}catch(e){}}e(b,"ToastLayerStore"),e(_,"default")}()},357:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(51),a=function(e){function t(){var t;return(t=e.call(this)||this)._uploadProgressLayerService=i.U.get("uploadProgressLayerService"),t}r()(t,e);var o=t.prototype;return o.confirm=function(){this._uploadProgressLayerService.confirm()},o.close=function(){this._uploadProgressLayerService.end()},t}(i.m),s=a;t.a=s,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/upload-progress-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(a,"UploadProgressLayerUseCase"),e(s,"default")}()},358:function(e,t,o){"use strict";o.d(t,"a",function(){return C});var n,r,i,a,s,c,l,u=o(61),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(50),y=o.n(g),b=(o(62),o(16)),_=o(51),v=o(49),C={PROGRESSING:"progressing",DONE:"done",CLOSE:"close"},S=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this)||this,p()(o,"opened",r,h()(o)),p()(o,"title",i,h()(o)),p()(o,"description",a,h()(o)),p()(o,"count",s,h()(o)),p()(o,"totalCount",c,h()(o)),p()(o,"phase",l,h()(o));var n=t.state,u=void 0===n?{}:n;return o.opened=Object(b.a)(u,"opened",o.opened),o.title=Object(b.a)(u,"title",o.title),o.description=Object(b.a)(u,"description",o.description),o.count=Object(b.a)(u,"count",o.count),o.totalCount=Object(b.a)(u,"totalCount",o.totalCount),o.phase=Object(b.a)(u,"phase",o.phase),o}m()(t,e);var o=t.prototype;return o.start=function(e){this.opened=!0,this.title=e.title||"",this.description=e.description||"",this.totalCount=e.totalCount||0,this.phase=C.PROGRESSING},o.updateProgress=function(e){this.title=e.title,this.description=e.description,this.phase=C.PROGRESSING},o.update=function(e){this.title=e.title,this.description=e.description,this.count+=1;var t=e.doneStateResolver||this._defaultDoneStateResolver;this._checkAllDone(t)},o.end=function(){this.title="",this.description="",this.count=0,this.totalCount=0,this.phase=C.CLOSE,this.opened=!1},o.confirmProgress=function(){this.phase=C.CLOSE},o._checkAllDone=function(e){if(this.count===this.totalCount){var t=e({count:this.count,totalCount:this.totalCount}),o=t.title,n=t.description;this.title=o,this.description=n,this.count=0,this.totalCount=0,this.phase=C.DONE}},o._defaultDoneStateResolver=function(){return{title:"",description:""}},t}(_.e),r=y()(n.prototype,"opened",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=y()(n.prototype,"title",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=y()(n.prototype,"description",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=y()(n.prototype,"count",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=y()(n.prototype,"totalCount",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=y()(n.prototype,"phase",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.PROGRESSING}}),n),O=S;t.b=O,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/upload-progress-layer/src/store/index.js",localName:t}})}catch(e){}}e(C,"PHASE_TYPES"),e(S,"UploadProgressLayerStore"),e(O,"default")}()},359:function(e,t,o){"use strict";var n=o(57),r=o.n(n),i=o(0),a=o.n(i),s=o(51),c=function(e){function t(){var t;return(t=e.call(this)||this)._highlightBannerLayerService=s.U.get("highlightBannerLayerService"),s.U.get("configAgent").get("productEnv.deviceType")===s.t.MOBILE?t._highlightBannerLayerService.open():s.U.get("eventDispatcherService").once(s.z.SELECTION_CHANGE,t.open.bind(r()(t))),t}a()(t,e);var o=t.prototype;return o.open=function(){this._highlightBannerLayerService.open()},o.close=function(){this._highlightBannerLayerService.close()},t}(s.m),l=c;t.a=l,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/highlight-banner-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(c,"HighlightBannerLayerUseCase"),e(l,"default")}()},360:function(e,t,o){"use strict";var n,r,i,a=o(61),s=o.n(a),c=o(57),l=o.n(c),u=o(0),p=o.n(u),d=o(50),h=o.n(d),f=(o(62),o(16)),m=o(51),g=o(49),y=o(214),b=o(261),_=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this)||this,s()(o,"opened",r,l()(o)),s()(o,"type",i,l()(o)),o.release="",o.fontColor=b.b.BLACK,o.dimmedColor="transparent",o.bgColor="",o.title="",o.description="",o.buttonText="",o.buttonTextColor="",o.buttonColor="",o.link="",o.src="";var n=t.state,a=void 0===n?{}:n;o._configAgent=m.U.get("configAgent");var c=o._configAgent.get("productConfig.highlight"),u=c&&c.banner;if(y.b.init(c),c&&c.banner){var p=c.banner;o.type=Object(f.a)(a,"type",p.type||o.type),o.release=p.release||o._displayVersion(),o.fontColor=Object(f.a)(a,"fontColor",p.fontColor||o.fontColor),o.dimmedColor=Object(f.a)(a,"dimmedColor",p.dimmedColor||o.dimmedColor),o.title=p.title,o.description=p.description,o.bgColor=p.bgColor,o.buttonText=p.buttonText,o.buttonTextColor=p.buttonTextColor,o.buttonColor=p.buttonColor,o.link=p.link,o.src=p.src}return o.shown=!c||!u||y.b.shown(o.type,y.a.BANNER),o.opened=Object(f.a)(a,"opened",o.opened),o}p()(t,e);var o=t.prototype;return o._displayVersion=function(){var e=new Date;return e.getFullYear()+"-"+(e.getMonth()+1)},o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},t}(m.e),r=h()(n.prototype,"opened",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=h()(n.prototype,"type",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.a.IMAGE}}),n),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/highlight-banner-layer/src/store/index.js",localName:t}})}catch(e){}}e(_,"HighlightBannerLayerStore"),e(v,"default")}()},361:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(49),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._alertLayerService=c.U.get("alertLayerService"),t}i()(t,e);var o=t.prototype;return o.open=function(e){this._alertLayerService.open(e)},o.close=function(){this._alertLayerService.close()},o.confirm=function(){this._alertLayerService.confirm()},o.cancel=function(){this._alertLayerService.cancel()},t}(c.m),s()(n.prototype,"open",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"open"),n.prototype),s()(n.prototype,"close",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),s()(n.prototype,"confirm",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"confirm"),n.prototype),s()(n.prototype,"cancel",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"cancel"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"AlertLayerUseCase"),e(p,"default")}()},362:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=o(51).n,r={AlertTypes:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"AlertTypes"),e(r,"default")}()},363:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d=o(61),h=o.n(d),f=o(57),m=o.n(f),g=o(0),y=o.n(g),b=o(50),_=o.n(b),v=(o(62),o(362)),C=o(51),S=o(49),O={white:"white",black:"black"},k=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this)||this,h()(o,"type",r,m()(o)),h()(o,"fileType",i,m()(o)),h()(o,"opened",a,m()(o)),h()(o,"title",s,m()(o)),h()(o,"description",c,m()(o)),h()(o,"errorList",l,m()(o)),h()(o,"isDimUse",u,m()(o)),h()(o,"dimColor",p,m()(o)),o.buttons=[],o.custom=null,o.className="";var n=t,d=n.config,f=void 0===d?{}:d,g=n.state,y=void 0===g?{}:g;return o.type=y.type||o.type,o.fileType=y.fileType,o.opened=y.opened||o.opened,o.title=y.title||o.title,o.description=y.description||o.description,o.errorList=y.errorList||o.errorList,o.showErrorInfo=f.showErrorInfo,o.custom=y.custom||o.custom,o}y()(t,e);var o=t.prototype;return o.open=function(e){if(!e)return!1;this.type=e.type,this.fileType=e.fileType,this.title=e.title,this.description=e.description,this.errorList=e.errorList||[],this.buttons=e.buttons||[],this.isDimUse=!1!==e.isDimUse&&this.isDimUse,this.dimColor=O[e.dimColor]||O.white,this.custom=e.custom||this.custom,this.className=e.className||this.className,this.opened=!0},o.close=function(){this.opened=!1,this.errorList.clear()},t}(C.e),r=_()(n.prototype,"type",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.a.ALERT}}),i=_()(n.prototype,"fileType",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=_()(n.prototype,"opened",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=_()(n.prototype,"title",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=_()(n.prototype,"description",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=_()(n.prototype,"errorList",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=_()(n.prototype,"isDimUse",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=_()(n.prototype,"dimColor",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.white}}),n),I=k;t.a=I,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/alert-layer/src/store/index.js",localName:t}})}catch(e){}}e(O,"DIM_COLOR"),e(k,"AlertLayerStore"),e(I,"default")}()},364:function(e,t,o){"use strict";var n,r,i=o(59),a=o.n(i),s=o(12),c=o.n(s),l=o(18),u=o.n(l),p=o(0),d=o.n(p),h=o(50),f=o.n(h),m=o(51),g=o(52),y=o(49),b=o(67),_=o(262),v=o(122),C=(n=Object(g.history)({sync:!1}),r=function(e){function t(){var t;return(t=e.call(this)||this)._i18n=m.U.get("i18n"),t._searchPanelLayoutService=m.U.get("searchPanelLayoutService"),t._editingService=m.U.get("editingService"),t._toastLayerService=m.U.get("toastLayerService"),t._imageDetailLayerService=m.U.get("imageDetailLayerService"),t._imageBehavior=m.U.get("imageBehavior"),t._dragAndDropService=m.U.get("dragAndDropService"),t._paidPhotoNotificationLayerService=m.U.get("paidPhotoNotificationLayerService"),t._hotkeyBinder=m.U.get("hotkeyBinder"),t}d()(t,e);var o=t.prototype;return o.search=function(){var e=u()(c.a.mark(function e(t,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._searchPanelLayoutService.search(t,o);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,o){return e.apply(this,arguments)}}(),o.recommendData=function(){var e=u()(c.a.mark(function e(t,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetAll(),e.prev=1,e.next=4,this._searchPanelLayoutService.recommendData(t,o);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed&&this._triggerServerError();case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t,o){return e.apply(this,arguments)}}(),o.keywordSearch=function(){var e=u()(c.a.mark(function e(t,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._searchPanelLayoutService.keywordSearch(t,o);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,o){return e.apply(this,arguments)}}(),o.changeSearchOption=function(){var e=u()(c.a.mark(function e(t,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._searchPanelLayoutService.changeSearchOption(t,o);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,o){return e.apply(this,arguments)}}(),o.changeSearchType=function(){var e=u()(c.a.mark(function e(t,o){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._searchPanelLayoutService.changeSearchType(t,o);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t,o){return e.apply(this,arguments)}}(),o.open=function(){this._searchPanelLayoutService.open()},o.close=function(){this._paidPhotoNotificationLayerService.close(),this._searchPanelLayoutService.close()},o.resetAll=function(){this._searchPanelLayoutService.resetAll()},o.insertItem=function(){var e=u()(c.a.mark(function e(t,o){var n,r;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("photo"!==this._searchPanelLayoutService.getSearchType()){e.next=14;break}return e.next=4,this._isAuthorizedImage(t);case 4:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this._searchPanelLayoutService.itemDataToCompData(t);case 9:return n=e.sent,e.next=12,this._imageBehavior.insertImageFromCompData([n]);case 12:e.next=18;break;case 14:return e.next=16,this._searchPanelLayoutService.itemDataToStore(t);case 16:r=e.sent,this._insertComponent(a()({sourceComponents:[r]},o));case 18:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._insertComponent=function(e){return this._editingService.insert(e)},o.dragStart=function(){var e=u()(c.a.mark(function e(t,o){var n,r,i,a,s,l,u,p,d=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isUnboughtPhoto(o)){e.next=5;break}return t.preventDefault(),this._dragAndDropService.dragStart({event:t,items:[],type:"aside"}),setTimeout(function(){return d._dragAndDropService.drop(null)}),e.abrupt("return");case 5:if(n=this._searchPanelLayoutService.getSearchType(),r=o.provider,i=o.purchased,a=o.free,s=this._searchPanelLayoutService.convertToDragItem(o),this._dragAndDropService.dragStart({event:t,items:[s],type:"aside"}),"photo"!==n){e.next=23;break}if(!i&&r===_.a.OGQ_COMMERCIAL&&!a){e.next=21;break}return e.next=13,this._isAuthorizedImage(o);case 13:if(e.sent){e.next=16;break}return e.abrupt("return");case 16:return l=Object(b.a)({},{fromText:this._i18n("searchPanelLayout:from_text",{username:o.username,providerdisplayname:o.providerDisplayName})},o),e.next=19,this._searchPanelLayoutService.itemDataToCompData(l);case 19:u=e.sent,this._dragAndDropService.setItem(u,"aside");case 21:e.next=28;break;case 23:if("news"===n){e.next=28;break}return e.next=26,this._searchPanelLayoutService.itemDataToStore(o);case 26:p=e.sent,this._dragAndDropService.setItem(p,"aside");case 28:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._isUnboughtPhoto=function(e){var t=this._searchPanelLayoutService.getSearchType(),o=e.purchased,n=e.provider;return"photo"===t&&!1===o&&n===_.a.OGQ_COMMERCIAL},o.nextPage=function(){var e=u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._searchPanelLayoutService.nextPage();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),o.reset=function(){this._searchPanelLayoutService.reset()},o.openDetailLayer=function(e){this._imageDetailLayerService.open(e)},o.updatePaidItem=function(e){this._paidPhotoNotificationLayerService.open(),this._searchPanelLayoutService.updatePaidItem(e)},o.removeItemById=function(e){this._searchPanelLayoutService.removeItemById(e)},o.showWarning=function(e){this._toastLayerService.warningMessage(e)},o._isAuthorizedImage=function(){var e=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.provider!==_.a.OGQ_COMMERCIAL){e.next=7;break}return e.next=4,this._searchPanelLayoutService.authorizedImage(t.id);case 4:if(e.sent){e.next=7;break}return e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.focusInput=function(){this._hotkeyBinder.pause()},o.blurInput=function(){this._hotkeyBinder.unpause()},o.makeDThumbUrl=function(e){return v.a.makeDthumbHttpsUrl(e)},o.refresh=function(){var e=u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._searchPanelLayoutService.updateErrorStatus(!1),e.prev=1,e.next=4,this._searchPanelLayoutService.requestData(this._searchPanelLayoutService.getSearchType(),this._searchPanelLayoutService.getSearchOption());case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed&&this._triggerServerError();case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}(),o._triggerServerError=function(){this._searchPanelLayoutService.updateErrorStatus(!0),this.showWarning(this._i18n("searchPanelLayout:error_server_data_load"))},o.setSearchedState=function(e){this._searchPanelLayoutService.setSearchedState(e)},t}(m.m),f()(r.prototype,"search",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"search"),r.prototype),f()(r.prototype,"recommendData",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"recommendData"),r.prototype),f()(r.prototype,"keywordSearch",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"keywordSearch"),r.prototype),f()(r.prototype,"changeSearchOption",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"changeSearchOption"),r.prototype),f()(r.prototype,"changeSearchType",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"changeSearchType"),r.prototype),f()(r.prototype,"open",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"open"),r.prototype),f()(r.prototype,"close",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),f()(r.prototype,"resetAll",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"resetAll"),r.prototype),f()(r.prototype,"insertItem",[g.preventOnComponentProcessing,n,y.d],Object.getOwnPropertyDescriptor(r.prototype,"insertItem"),r.prototype),f()(r.prototype,"nextPage",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"nextPage"),r.prototype),f()(r.prototype,"reset",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"reset"),r.prototype),f()(r.prototype,"openDetailLayer",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"openDetailLayer"),r.prototype),f()(r.prototype,"updatePaidItem",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"updatePaidItem"),r.prototype),f()(r.prototype,"removeItemById",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"removeItemById"),r.prototype),f()(r.prototype,"focusInput",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"focusInput"),r.prototype),f()(r.prototype,"blurInput",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"blurInput"),r.prototype),f()(r.prototype,"refresh",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"refresh"),r.prototype),f()(r.prototype,"_triggerServerError",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"_triggerServerError"),r.prototype),r),S=C;t.a=S,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(C,"SearchPanelLayoutUseCase"),e(S,"default")}()},365:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m=o(59),g=o.n(m),y=o(61),b=o.n(y),_=o(1),v=o.n(_),C=o(57),S=o.n(C),O=o(0),k=o.n(O),I=o(50),w=o.n(I),P=(o(62),o(16)),j=o(92),T=o(226),L=o(775),E=o(537),N=o(51),x=o(49),D=o(88),R=["photo","book","movie","broadcast","music","show","shopping","news"],A=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,b()(o,"initialized",r,S()(o)),b()(o,"opened",i,S()(o)),b()(o,"searchOption",a,S()(o)),b()(o,"total",s,S()(o)),b()(o,"next",c,S()(o)),b()(o,"start",l,S()(o)),b()(o,"searchType",u,S()(o)),b()(o,"items",p,S()(o)),b()(o,"isFetchNextPageError",d,S()(o)),b()(o,"errorStatus",h,S()(o)),b()(o,"alreadySearchedState",f,S()(o));var n=t.state,m=void 0===n?{}:n;return o.name="search",o._configAgent=N.U.get("configAgent"),o._searchPanelConfig=o._configAgent.get("productConfig.searchPanel"),o.initialized=Object(P.a)(m,"initialized",o.initialized),o.opened=Object(P.a)(m,"opened",o.opened),o.searchOption=Object(P.a)(m,"searchOption",o.searchOption),o.total=Object(P.a)(m,"total",o.total),o.next=Object(P.a)(m,"next",o.next),o.start=Object(P.a)(m,"start",o.start),o.searchType=Object(P.a)(m,"searchType",Object(P.a)(o._searchPanelConfig,"activate",o.searchType)),o.items=Object(P.a)(m,"items",o.items),o.isFetchNextPageError=Object(P.a)(m,"isFetchNextPageError",o.isFetchNextPageError),o}k()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this.errorStatus=!1},o.update=function(e){this._replaceHttpThumbnailToHttps(e.items),this._update(e)},o.updateErrorStatus=function(e){this.errorStatus=e},o.updateItemById=function(e){var t=e.id,o=e.props,n=this._getPlainItemsAndIndexById(t),r=n.plainItems,i=n.index;r[i]=Object.assign(r[i],o),this.items=r},o.removeItemById=function(e){var t=this._getPlainItemsAndIndexById(e),o=t.plainItems,n=t.index;o.splice(n,1),this.items=o},o._getPlainItemsAndIndexById=function(e){var t=x.f.toJS(this.items);return{plainItems:t,index:Object(j.a)(t,function(t){return t.id===e})}},o.append=function(e){this._replaceHttpThumbnailToHttps(e.items),this._append(e)},o.changeSearchType=function(e){this.searchType=e},o.changeSearchOption=function(e){var t=Object(T.a)(Object(P.a)(e,"keyword",this.searchOption.keyword));this.searchOption=g()({},this.searchOption,e,{keyword:t})},o._update=function(e){Object.assign(this,{next:{}},e),this.initialized=!0},o._replaceHttpThumbnailToHttps=function(e){e.forEach(function(e){if(e.image){e.image=e.image.replace("http://sstatic.naver.net","https://ssl.pstatic.net/sstatic")}})},o._append=function(e){var t=e.items,o=e.searchOption,n=e.next,r=e.total,i=e.isFetchNextPageError;t&&(this.items=this.items.concat(t)),this.next=n,this.total!==r&&(this.total=i?this.total:r),(!o||Object(D.a)(o.keyword,this.searchOption.keyword)&&Object(D.a)(o.orientation,x.f.toJS(this.searchOption.orientation))&&Object(D.a)(o.paid,x.f.toJS(this.searchOption.paid)))&&(this.isFetchNextPageError=!!i)},o.reset=function(){this.initialized=!1,this.items=[],this.total=0,this.start="1",this.next={},this.isFetchNextPageError=!1,this.errorStatus=!1},o.resetAll=function(){this.reset(),this.searchOption={keyword:""},this.searchType=Object(P.a)(this._searchPanelConfig,"activate","photo")},o.getItemByIndex=function(e){return this.items[e]},o.availableMaterials=function(){var e=Object(E.a)(this._searchPanelConfig,function(e,t,o){!t&&R.includes(o)&&e.push(o)},[]);return Object(L.a)(R,e)},o.getPanelConfig=function(e){return Object(P.a)(this._searchPanelConfig,e,{})},o.setSearchedState=function(e){this.alreadySearchedState=e},v()(t,[{key:"item",get:function(){return{initialized:this.initialized,keyword:this.keyword,searchType:this.searchType,searchOption:this.searchOption,total:this.total,next:this.next,items:this.items,isFetchNextPageError:this.isFetchNextPageError}}},{key:"alreadySearched",get:function(){return this.alreadySearchedState}}]),t}(N.w),r=w()(n.prototype,"initialized",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=w()(n.prototype,"opened",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=w()(n.prototype,"searchOption",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{keyword:""}}}),s=w()(n.prototype,"total",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=w()(n.prototype,"next",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=w()(n.prototype,"start",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1"}}),u=w()(n.prototype,"searchType",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"photo"}}),p=w()(n.prototype,"items",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=w()(n.prototype,"isFetchNextPageError",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=w()(n.prototype,"errorStatus",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=w()(n.prototype,"alreadySearchedState",[x.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w()(n.prototype,"item",[x.e],Object.getOwnPropertyDescriptor(n.prototype,"item"),n.prototype),n),U=A;t.a=U,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/search-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(R,"DEFAULT_ALLOWS_MATERIALS"),e(A,"SearchPanelLayoutStore"),e(U,"default")}()},366:function(e,t,o){"use strict";var n,r,i=o(59),a=o.n(i),s=o(12),c=o.n(s),l=o(18),u=o.n(l),p=o(0),d=o.n(p),h=o(50),f=o.n(h),m=o(51),g=o(52),y=o(49),b=o(122),_=(n=Object(g.history)({sync:!1}),r=function(e){function t(){var t;return(t=e.call(this)||this)._i18n=m.U.get("i18n"),t._momentPanelLayoutService=m.U.get("momentPanelLayoutService"),t._editingService=m.U.get("editingService"),t._toastLayerService=m.U.get("toastLayerService"),t._dragAndDropService=m.U.get("dragAndDropService"),t}d()(t,e);var o=t.prototype;return o.search=function(){var e=u()(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.resetAll(),e.prev=1,e.next=4,this._momentPanelLayoutService.search(t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed&&this._triggerServerError();case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(t){return e.apply(this,arguments)}}(),o.changeMomentOption=function(e){this._momentPanelLayoutService.changeMomentOption(e)},o.open=function(){this._momentPanelLayoutService.open()},o.close=function(){this._momentPanelLayoutService.close()},o.resetAll=function(){this._momentPanelLayoutService.resetAll()},o.insertItem=function(){var e=u()(c.a.mark(function e(t,o){var n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._momentPanelLayoutService.itemDataToStore(t);case 2:return n=e.sent,e.abrupt("return",this._editingService.insert(a()({sourceComponents:[n]},o)));case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.dragStart=function(){var e=u()(c.a.mark(function e(t,o){var n,r,i,a;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.dragType,!(r=o.itemData).isPrivate){e.next=4;break}return this.showWarning(this._i18n("momentPanelLayout:error_drag_private_item")),e.abrupt("return",!1);case 4:return i=this._momentPanelLayoutService.convertToDragItem(r),this._dragAndDropService.dragStart({event:t,items:[i],type:n}),e.next=8,this._momentPanelLayoutService.itemDataToCompData(r);case 8:a=e.sent,this._dragAndDropService.setItem(a,n);case 10:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.nextPage=function(){var e=u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._momentPanelLayoutService.nextPage();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),o.reset=function(){this._momentPanelLayoutService.reset()},o.removeItemById=function(e){this._momentPanelLayoutService.removeItemById(e)},o.showWarning=function(e){this._toastLayerService.warningMessage(e)},o.makeDThumbUrl=function(e){return b.a.makeDthumbHttpsUrl(e)},o.refresh=function(){var e=u()(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._momentPanelLayoutService.updateErrorStatus(!1),e.prev=1,e.next=4,this._momentPanelLayoutService.search(this._momentPanelLayoutService.getMomentOption());case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed&&this._triggerServerError();case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}(),o._triggerServerError=function(){this._momentPanelLayoutService.updateErrorStatus(!0),this.showWarning(this._i18n("momentPanelLayout:error_server_data_load"))},t}(m.m),f()(r.prototype,"search",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"search"),r.prototype),f()(r.prototype,"changeMomentOption",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"changeMomentOption"),r.prototype),f()(r.prototype,"open",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"open"),r.prototype),f()(r.prototype,"close",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),f()(r.prototype,"resetAll",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"resetAll"),r.prototype),f()(r.prototype,"insertItem",[g.preventOnComponentProcessing,n,y.d],Object.getOwnPropertyDescriptor(r.prototype,"insertItem"),r.prototype),f()(r.prototype,"dragStart",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"dragStart"),r.prototype),f()(r.prototype,"nextPage",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"nextPage"),r.prototype),f()(r.prototype,"reset",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"reset"),r.prototype),f()(r.prototype,"removeItemById",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"removeItemById"),r.prototype),f()(r.prototype,"refresh",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"refresh"),r.prototype),f()(r.prototype,"_triggerServerError",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"_triggerServerError"),r.prototype),r),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/moment-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(_,"MomentPanelLayoutUseCase"),e(v,"default")}()},367:function(e,t,o){"use strict";o.d(t,"d",function(){return n}),o.d(t,"a",function(){return r}),o.d(t,"c",function(){return i}),o.d(t,"b",function(){return a});var n={ORDER:"ordering"},r={ordering:"latest"},i="moment",a=10,s={OPTION_LIST:n,DEFAULT_OPTION:r,MOMENT_TYPE:i,MAX_FETCH_COUNT:a};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/moment-panel-layout/src/consts/index.js",localName:t}})}catch(e){}}e(n,"OPTION_LIST"),e(r,"DEFAULT_OPTION"),e(i,"MOMENT_TYPE"),e(a,"MAX_FETCH_COUNT"),e(s,"default")}()},368:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f=o(59),m=o.n(f),g=o(61),y=o.n(g),b=o(1),_=o.n(b),v=o(57),C=o.n(v),S=o(0),O=o.n(S),k=o(50),I=o.n(k),w=(o(62),o(16)),P=o(92),j=o(51),T=o(49),L=o(367),E=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,y()(o,"initialized",r,C()(o)),y()(o,"opened",i,C()(o)),y()(o,"momentOption",a,C()(o)),y()(o,"total",s,C()(o)),y()(o,"next",c,C()(o)),y()(o,"start",l,C()(o)),y()(o,"momentType",u,C()(o)),y()(o,"items",p,C()(o)),y()(o,"isFetchNextPageError",d,C()(o)),y()(o,"errorStatus",h,C()(o));var n=t.state,f=void 0===n?{}:n;return o.name="moment",o._configAgent=j.U.get("configAgent"),o._momentPanelConfig=o._configAgent.get("productConfig.momentPanel"),o.initialized=Object(w.a)(f,"initialized",o.initialized),o.opened=Object(w.a)(f,"opened",o.opened),o.momentOption=Object(w.a)(f,"momentOption",o.momentOption),o.total=Object(w.a)(f,"total",o.total),o.next=Object(w.a)(f,"next",o.next),o.start=Object(w.a)(f,"start",o.start),o.momentType=Object(w.a)(f,"momentType",Object(w.a)(o._momentPanelConfig,"activate",o.momentType)),o.items=Object(w.a)(f,"items",o.items),o.isFetchNextPageError=Object(w.a)(f,"isFetchNextPageError",o.isFetchNextPageError),o}O()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this.errorStatus=!1},o.update=function(e){this._replaceHttpThumbnailToHttps(e.items),this._update(e)},o.updateErrorStatus=function(e){this.errorStatus=e},o.updateItemById=function(e){var t=e.id,o=e.props,n=this._getPlainItemsAndIndexById(t),r=n.plainItems,i=n.index;r[i]=Object.assign(r[i],o),this.items=r},o.removeItemById=function(e){var t=this._getPlainItemsAndIndexById(e),o=t.plainItems,n=t.index;o.splice(n,1),this.items=o},o._getPlainItemsAndIndexById=function(e){var t=T.f.toJS(this.items);return{plainItems:t,index:Object(P.a)(t,function(t){return t.id===e})}},o.append=function(e){this._replaceHttpThumbnailToHttps(e.items),this._append(e)},o.changeMomentOption=function(e){this.items=[],this.momentOption=m()({},this.momentOption,e)},o._update=function(e){Object.assign(this,{next:{}},e),this.initialized=!0,this.isFetchNextPageError=!1},o._replaceHttpThumbnailToHttps=function(e){e.forEach(function(e){if(e.image){e.image.url=e.image.url.replace("http://sstatic.naver.net","https://ssl.pstatic.net/sstatic")}})},o._append=function(e){var t=e.items,o=e.next,n=e.total,r=e.isFetchNextPageError;t&&(this.items=this.items.concat(t)),this.next=o,this.total!==n&&(this.total=r?this.total:n),this.isFetchNextPageError=!!r},o.reset=function(){this.initialized=!1,this.items=[],this.total=0,this.start="1",this.next={},this.isFetchNextPageError=!1,this.errorStatus=!1},o.resetAll=function(){this.reset(),this.momentOption=L.a,this.momentType=Object(w.a)(this._momentPanelConfig,"activate","moment")},o.getItemByIndex=function(e){return this.items[e]},o.getPanelConfig=function(e){return Object(w.a)(this._momentPanelConfig,e,{})},_()(t,[{key:"item",get:function(){return{initialized:this.initialized,momentType:this.momentType,momentOption:this.momentOption,total:this.total,next:this.next,items:this.items,isFetchNextPageError:this.isFetchNextPageError}}}]),t}(j.w),r=I()(n.prototype,"initialized",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=I()(n.prototype,"opened",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=I()(n.prototype,"momentOption",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.a}}),s=I()(n.prototype,"total",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=I()(n.prototype,"next",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),l=I()(n.prototype,"start",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1"}}),u=I()(n.prototype,"momentType",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return L.c}}),p=I()(n.prototype,"items",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=I()(n.prototype,"isFetchNextPageError",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=I()(n.prototype,"errorStatus",[T.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I()(n.prototype,"item",[T.e],Object.getOwnPropertyDescriptor(n.prototype,"item"),n.prototype),n),N=E;t.a=N,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/moment-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(E,"MomentPanelLayoutStore"),e(N,"default")}()},369:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(51),h=o(52),f=o(49),m=o(370),g=(n=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=d.U.get("editingService"),t._stickerPanelLayoutService=d.U.get("stickerPanelLayoutService"),t._documentToolbarLayoutService=d.U.get("documentToolbarLayoutService"),t._toastLayerService=d.U.get("toastLayerService"),t._storageService=d.U.get("storageService"),t._dragAndDropService=d.U.get("dragAndDropService"),t._localStorageKey="STICKER_PANEL//STORAGE",t._i18n=d.U.get("i18n"),t}l()(t,e);var o=t.prototype;return o.closeStickerRefreshLayer=function(){this._stickerPanelLayoutService.closeRefreshPanel()},o.refreshSticker=function(){var e=s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._stickerPanelLayoutService.closeRefreshPanel(),e.prev=1,e.next=4,this._stickerPanelLayoutService.updateCategory();case 4:e.next=11;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed,this._stickerPanelLayoutService.updateErrorStatus(!0),this._toastLayerService.warningMessage(this._i18n("stickerPanelLayout:error_server_data_load"));case 11:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}(),o.loadInitializeData=function(){var e=s()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._storageService.getStorageData(this._localStorageKey),e.prev=1,e.next=4,this._stickerPanelLayoutService.loadInitializeData(t);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),e.t0.failed&&this._triggerErrorToast();case 10:case"end":return e.stop()}},e,this,[[1,6]])}));return function(){return e.apply(this,arguments)}}(),o.clickMarketLink=function(){this._stickerPanelLayoutService.openRefreshPanel(m.a.BUY_STICKER)},o.clickStickerSettings=function(){this._stickerPanelLayoutService.openRefreshPanel(m.a.CHANGE_SETTING)},o.open=function(){this._stickerPanelLayoutService.open()},o.close=function(){this._stickerPanelLayoutService.close()},o.dragStart=function(e,t){var o=this._stickerPanelLayoutService.getStickerCompData(t);this._dragAndDropService.dragStart({event:e,items:[o],type:"aside",dropCallback:this._handleDropCallback.bind(this,t)})},o._handleDropCallback=function(e){this._pushUsedSticker(e)},o.updateStickerPack=function(){var e=s()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._stickerPanelLayoutService.updateStickerPack(t);case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerErrorToast();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),o.updateUsedStickerPack=function(){var e=this._storageService.getStorageData(this._localStorageKey);this._stickerPanelLayoutService.updateUsedStickerPack(e)},o.insertSticker=function(e){var t=this._stickerPanelLayoutService.insertItem(e);this._editingService.insert({sourceComponents:[t]}),this._pushUsedSticker(e)},o._pushUsedSticker=function(e){var t=this._storageService.getStorageData(this._localStorageKey)||[],o=this._stickerPanelLayoutService.getUsedStickerList(t,e);this._storageService.setStorageData(this._localStorageKey,o)},o.refresh=function(){this._stickerPanelLayoutService.updateErrorStatus(!1),this.loadInitializeData()},o._triggerErrorToast=function(){this._stickerPanelLayoutService.updateErrorStatus(!0),this._toastLayerService.warningMessage(this._i18n("stickerPanelLayout:error_server_data_load"))},t}(d.m),p()(n.prototype,"loadInitializeData",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"loadInitializeData"),n.prototype),p()(n.prototype,"clickMarketLink",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"clickMarketLink"),n.prototype),p()(n.prototype,"clickStickerSettings",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"clickStickerSettings"),n.prototype),p()(n.prototype,"open",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"open"),n.prototype),p()(n.prototype,"close",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),p()(n.prototype,"dragStart",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"dragStart"),n.prototype),p()(n.prototype,"updateStickerPack",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"updateStickerPack"),n.prototype),p()(n.prototype,"updateUsedStickerPack",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"updateUsedStickerPack"),n.prototype),p()(n.prototype,"insertSticker",[h.preventOnComponentProcessing,h.history,f.d],Object.getOwnPropertyDescriptor(n.prototype,"insertSticker"),n.prototype),p()(n.prototype,"refresh",[f.d],Object.getOwnPropertyDescriptor(n.prototype,"refresh"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/sticker-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(g,"StickerPanelLayoutUseCase"),e(y,"default")}()},37:function(e,t,o){"use strict";var n={INSERT_COMPONENTS:"insertComponents",PREPEND_COMPONENTS:"prependComponents",APPEND_COMPONENTS:"appendComponents"},r={INSERT_IMAGES:"insertImages",INSERT_IMAGE_FILES:"insertImagesByFile",INSERT_IMAGE_URLS:"insertImagesByUrl"},i={COMMON:n,IMAGE:r},a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/consts/command.js",localName:t}})}catch(e){}}e(n,"COMMON_COMMAND"),e(r,"IMAGE_COMMAND"),e(i,"COMMAND"),e(a,"default")}()},370:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n="sticker-refresh-layer//",r={BUY_STICKER:n+"buySticker",CHANGE_SETTING:n+"changeSetting"},i={RefreshTypes:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/sticker-panel-layout/src/consts/index.js",localName:t}})}catch(e){}}e(n,"NAMESPACE"),e(r,"RefreshTypes"),e(i,"default")}()},371:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p=o(61),d=o.n(p),h=o(1),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(50),v=o.n(_),C=(o(62),o(16)),S=o(75),O=o(92),k=o(51),I=o(49),w=o(370),P={HEIGHT_PER_ICON:74,FIRST_X_POSITION:0,SECOND_X_POSITION:82,THIRD_X_POSITION:160,ICON_LENGTH_PER_LINE:3},j=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,d()(o,"opened",r,g()(o)),d()(o,"initialized",i,g()(o)),d()(o,"categoryInfo",a,g()(o)),d()(o,"stickerPack",s,g()(o)),d()(o,"activeIndex",c,g()(o)),d()(o,"errorStatus",l,g()(o)),d()(o,"refreshType",u,g()(o));var n=t.state,p=void 0===n?{}:n;return o.name="sticker",o.opened=Object(C.a)(p,"opened",o.opened),o.initialized=Object(C.a)(p,"initialized",o.initialized),o.categoryInfo=Object(C.a)(p,"categoryInfo",o.categoryInfo),o.stickerPack=Object(C.a)(p,"stickerPack",o.stickerPack),o.activeIndex=Object(C.a)(p,"activeIndex",o.activeIndex),o}b()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this.errorStatus=!1,this.refreshType=""},o.updateErrorStatus=function(e){this.errorStatus=e},o.updateCategory=function(e){this._updateCategory(e),this.initialized=!0},o.updateStickerPack=function(e){var t=e.stickerPack,o=e.packCode;this._updateStickerPack(t),this._updateActiveIndexByPackCode(o)},o.updateActiveIndexByPackCode=function(e){this._updateActiveIndexByPackCode(e)},o.updateUsedStickerPack=function(e){this._updateStickerPack(e),this._updateActiveIndexByPackCode("used")},o._updateActiveIndexByPackCode=function(e){var t=this._getPackIndexByPackCode(e);this.activeIndex=t},o._updateCategory=function(e){this.categoryInfo=e},o._updateStickerPack=function(e){this.stickerPack=e},o._getPackIndexByPackCode=function(e){return Object(O.a)(this.categoryInfo.list,function(t){return t.packCode===e})},o._getStickerXPosition=function(e){var t=P.FIRST_X_POSITION,o=P.SECOND_X_POSITION,n=P.THIRD_X_POSITION;switch(e){case 0:return t;case 1:return o;case 2:return n}},o.openRefreshPanel=function(e){e===w.a.BUY_STICKER||e===w.a.CHANGE_SETTING?this.refreshType=e:this.refreshType=""},o.closeRefreshPanel=function(){this.refreshType=""},f()(t,[{key:"categoryList",get:function(){var e=this.categoryInfo.info;return Object(S.a)(this.categoryInfo.list,function(t){var o=e.domain+"/"+t.packCode;return{packCode:t.packCode,isAnimated:t.isAnimated,activeIcon:o+"/"+e.tabOnName,inactiveIcon:o+"/"+e.tabOffName,stickerPackImage:o+"/"+e.previewName}})}},{key:"stickerList",get:function(){var e=this,t=this.categoryInfo.info,o=t.domain,n=t.previewName,r=P.HEIGHT_PER_ICON,i=P.ICON_LENGTH_PER_LINE;return Object(S.a)(this.stickerPack,function(t){var a=t.packCode,s=t.seq,c=t.stickerInfo,l=t.animated,u=o+"/"+a+"/"+n,p=(s-1)%i,d=-e._getStickerXPosition(p),h=-Math.floor((s-1)/i)*r,f=c.originalUrl+"?"+c.type.animated;return{packCode:a,stickerCode:c.stickerCode,seq:s,animated:l,animatedUrl:f,url:u,backgroundPosition:d+"px "+h+"px"}})}}]),t}(k.w),r=v()(n.prototype,"opened",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=v()(n.prototype,"initialized",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=v()(n.prototype,"categoryInfo",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{info:{},list:[]}}}),s=v()(n.prototype,"stickerPack",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=v()(n.prototype,"activeIndex",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=v()(n.prototype,"errorStatus",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=v()(n.prototype,"refreshType",[I.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v()(n.prototype,"categoryList",[I.e],Object.getOwnPropertyDescriptor(n.prototype,"categoryList"),n.prototype),v()(n.prototype,"stickerList",[I.e],Object.getOwnPropertyDescriptor(n.prototype,"stickerList"),n.prototype),n),T=j;t.a=T,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/sticker-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(P,"IconStyle"),e(j,"StickerPanelLayoutStore"),e(T,"default")}()},372:function(e,t,o){"use strict";var n,r,i=o(12),a=o.n(i),s=o(18),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=o(50),f=o.n(h),m=o(67),g=o(52),y=o(49),b=o(51),_=(n=Object(g.history)({sync:!1}),r=function(e){function t(){var t;return(t=e.call(this)||this)._i18n=b.U.get("i18n"),t._componentListStore=b.U.get("componentListStore"),t._libraryPanelLayoutService=b.U.get("libraryPanelLayoutService"),t._imageDetailLayerService=b.U.get("imageDetailLayerService"),t._editingService=b.U.get("editingService"),t._dragAndDropService=b.U.get("dragAndDropService"),t._imageBehavior=b.U.get("imageBehavior"),t._toastLayerService=b.U.get("toastLayerService"),t._documentService=b.U.get("documentService"),t._eventDispatcherService=b.U.get("eventDispatcherService"),t._documentToolbarLayoutService=b.U.get("documentToolbarLayoutService"),t._stickerRefreshLayerService=b.U.get("stickerRefreshLayerService"),t._panelContainerLayerService=b.U.get("panelContainerLayerService"),t._eventDispatcherService.on(b.z.DOCUMENT_LOADED,t._documentLoaded.bind(u()(t))),t._eventDispatcherService.on(b.z.DOCUMENT_CHANGED,t._documentChanged.bind(u()(t))),t}d()(t,e);var o=t.prototype;return o.open=function(){this._libraryPanelLayoutService.open()},o.close=function(){this._libraryPanelLayoutService.close()},o.updateMediaList=function(){this._libraryPanelLayoutService.updateMediaList()},o._isNewDocument=function(){return this._documentService.getDocumentStatus()===b.v.NORMAL},o._autoPopup=function(){this._libraryPanelLayoutService.isTimeToAutoPopup(this._isNewDocument())&&this._panelContainerLayerService.getPanelType()===b.K.SIDEBAR&&(this._libraryPanelLayoutService.openTab("current_document"),this._documentToolbarLayoutService.setPanelButtonEnable("library",!0),this._panelContainerLayerService.openPanel("library"))},o._documentLoaded=function(){var e=this;setTimeout(function(){e.updateMediaList()},0)},o._documentChanged=function(){this.updateMediaList(),this._autoPopup()},o.removeItemBy=function(e){var t=this._libraryPanelLayoutService.getSyncUnitList(e);t.length&&this._editingService.eraseUnit(t),this._libraryPanelLayoutService.removeItemBy(e)},o.dragStart=function(){var e=c()(a.a.mark(function e(t,o){var n,r,i,s,c,l,u;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.dragType,r=o.itemIndex,i=o.itemData,this._dragAndDropService.dragStart({event:t,items:[i],type:n}),"purchased_list"!==(s=this._libraryPanelLayoutService.getLibraryType())){e.next=11;break}return c=Object(m.a)({},{fromText:this._i18n("libraryPanelLayout:from_text",{username:i.username,providerdisplayname:i.providerDisplayName})},i),e.next=7,this._libraryPanelLayoutService.itemDataToCompData(c);case 7:l=e.sent,this._dragAndDropService.setItem(l,n),e.next=16;break;case 11:if("current_document"!==s){e.next=16;break}return e.next=14,this._libraryPanelLayoutService.getCompData(r);case 14:u=e.sent,this._dragAndDropService.setItem(u,n);case 16:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o.changeLibraryType=function(e,t){this._libraryPanelLayoutService.changeLibraryType(e,t)},o.changeOrderOption=function(e){this._libraryPanelLayoutService.changeOrderOption(e)},o.setRepresentativeImage=function(e){var t=this._libraryPanelLayoutService.getSyncUnitList(e)[0];b.U.get("representativeImageService").setRepresentativeImage(t),this._libraryPanelLayoutService.updateMediaList()},o.insertItem=function(){var e=c()(a.a.mark(function e(t){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._libraryPanelLayoutService.itemDataToCompData(t);case 2:return o=e.sent,e.next=5,this._imageBehavior.insertImageFromCompData([o]);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.nextPage=function(){var e=c()(a.a.mark(function e(){var t;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._libraryPanelLayoutService.nextPage();case 2:(t=e.sent)&&this.showWarning(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.openDetailLayer=function(e){this._imageDetailLayerService.open(e)},o.showWarning=function(e){this._toastLayerService.warningMessage(e)},t}(b.m),f()(r.prototype,"open",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"open"),r.prototype),f()(r.prototype,"close",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),f()(r.prototype,"updateMediaList",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"updateMediaList"),r.prototype),f()(r.prototype,"removeItemBy",[g.history,y.d],Object.getOwnPropertyDescriptor(r.prototype,"removeItemBy"),r.prototype),f()(r.prototype,"dragStart",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"dragStart"),r.prototype),f()(r.prototype,"changeLibraryType",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"changeLibraryType"),r.prototype),f()(r.prototype,"changeOrderOption",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"changeOrderOption"),r.prototype),f()(r.prototype,"setRepresentativeImage",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"setRepresentativeImage"),r.prototype),f()(r.prototype,"insertItem",[n,y.d],Object.getOwnPropertyDescriptor(r.prototype,"insertItem"),r.prototype),f()(r.prototype,"nextPage",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"nextPage"),r.prototype),f()(r.prototype,"openDetailLayer",[y.d],Object.getOwnPropertyDescriptor(r.prototype,"openDetailLayer"),r.prototype),r),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/library-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(_,"LibraryPanelLayoutUseCase"),e(v,"default")}()},373:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m=o(59),g=o.n(m),y=o(61),b=o.n(y),_=o(1),v=o.n(_),C=o(57),S=o.n(C),O=o(0),k=o.n(O),I=o(50),w=o.n(I),P=(o(62),o(16)),j=o(75),T=o(1060),L=o(1059),E=o(190),N=o(104),x=o(1213),D=o(121),R=o(108),A=o(51),U=o(49),M=o(28),B=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,b()(o,"opened",r,S()(o)),b()(o,"initialized",i,S()(o)),b()(o,"libraryKeyList",a,S()(o)),b()(o,"libraryDataMap",s,S()(o)),b()(o,"libraryType",c,S()(o)),b()(o,"items",l,S()(o)),b()(o,"orderOption",u,S()(o)),b()(o,"total",p,S()(o)),b()(o,"next",d,S()(o)),b()(o,"start",h,S()(o)),b()(o,"isFetchNextPageError",f,S()(o)),o.autoPopupMode=M.b.DEFAULT;var n=t.state,m=void 0===n?{}:n;o._configAgent=A.U.get("configAgent"),o._libraryConfig=o._configAgent.get("productConfig.libraryPanel"),o._thumbnailTypeMap=o._configAgent.get("editorInfo.thumbnailType"),o.name="library",o.opened=Object(P.a)(m,"opened",o.opened),o.initialized=Object(P.a)(m,"initialized",o.initialized),o.libraryKeyList=Object(P.a)(m,"libraryKeyList",o.libraryKeyList),o.libraryDataMap=Object(P.a)(m,"libraryDataMap",o.libraryDataMap),o.libraryType=Object(P.a)(m,"libraryType",o.libraryType),o.orderOption=Object(P.a)(m,"orderOption",o.orderOption),o.total=Object(P.a)(m,"total",o.total),o.next=Object(P.a)(m,"next",o.next),o.start=Object(P.a)(m,"start",o.start),o.items=Object(P.a)(m,"items",o.items),o.isFetchNextPageError=Object(P.a)(m,"isFetchNextPageError",o.isFetchNextPageError),o.librarySrcMap={},o._availableLibrary=["current_document"];var g=!1===o._libraryConfig?M.b.INACTIVE:Object(P.a)(o._libraryConfig,"autoPopup",o.autoPopupMode);return Object(R.a)(M.b,g)&&(o.autoPopupMode=g),!1!==Object(P.a)(o._libraryConfig,"purchase")&&o._availableLibrary.push("purchased_list"),o}k()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},o.update=function(e){this._update(e)},o.append=function(e){this._append(e)},o.changeLibraryType=function(e){this.libraryType=e},o.changeOrderOption=function(e){this.items=[],this.orderOption=g()({},this.orderOption,e)},o.reset=function(){this.initialized=!1,this.items=[],this.total=0,this.start="1",this.next={},this.isFetchNextPageError=!1},o._update=function(e){Object.assign(this,{next:{}},e),this.initialized=!0},o._append=function(e){e.items&&(this.items=this.items.concat(e.items)),this.next=e.next,this.isFetchNextPageError=!!e.isFetchNextPageError},o.updateMediaList=function(e,t){var o=this._refineNewMediaDataMap(e,t);this._updateLibraryKeyList(o),this._updateLibraryDataMap(o),this.initialized=!0},o.removeItemByIndex=function(e){var t=this.libraryKeyList.splice(e,1);Object(L.a)(this.libraryDataMap,t)},o._refineNewMediaDataMap=function(e,t){var o=this;return Object.keys(this.librarySrcMap).length?(Object.keys(t).forEach(function(e){var t=o.librarySrcMap[e];o.libraryKeyList.forEach(function(e,n){e===t&&o.removeItemByIndex(n)})}),this.librarySrcMap=t,Object(T.a)(e,"key")):(this.librarySrcMap=t,Object(T.a)(e,"key"))},o._updateLibraryKeyList=function(e){this.libraryKeyList=Object(E.a)(this.libraryKeyList.concat(Object(N.a)(e)))},o._updateLibraryDataMap=function(e){var t=this;this.libraryDataMap=Object(x.a)(this.libraryKeyList,Object(j.a)(this.libraryKeyList,function(o){var n=Object(P.a)(e,o,[]);if(0===n.length)return t.libraryDataMap[o].syncUnitList=[],Object.assign(t.libraryDataMap[o],{syncUnitList:[]});var r=e[o],i=Object(D.a)(r),a=r.some(function(e){var o=!0===t._configAgent.get("productConfig.representativeEnabled");return!0===e.data.represent&&o}),s=Object(P.a)(i,"data"),c=Object(P.a)(i,"thumbnail");if(["image","video","imageNode"].includes(s.ctype)&&(s.represent=a),["image","imageNode"].includes(s.ctype)){var l=s.domain,u=s.path,p=t._thumbnailTypeMap.normal,d=t._thumbnailTypeMap.small;c=d?""+l+u+"?type="+d:""+l+u+"?type="+p}var h=Object(j.a)(n,function(e){return{compId:e.id,unitId:Object(P.a)(e,"data.id",e.id),paraId:Object(P.a)(e,"data.paraId"),nodeId:Object(P.a)(e,"data.nodeId")}});return{type:Object(P.a)(i,"data.ctype"),thumbnail:c,baseCompData:s,syncUnitList:h}}))},o.getItemByIndex=function(e){var t=U.f.toJS(Object(P.a)(this.libraryItemList,e));return Object(L.a)(t,"baseCompData.id"),t},o.getLibraryItems=function(){return this.libraryItemList},o.availableLibrary=function(){return this._availableLibrary},v()(t,[{key:"libraryItemList",get:function(){var e=this;return Object(j.a)(this.libraryKeyList,function(t){return Object(P.a)(e.libraryDataMap,t)})}},{key:"showPurchaseBanner",get:function(){return!1!==Object(P.a)(this._libraryConfig,"purchase.banner")}},{key:"item",get:function(){return{initialized:this.initialized,orderOption:this.orderOption,total:this.total,next:this.next,items:this.items,isFetchNextPageError:this.isFetchNextPageError}}}]),t}(A.w),r=w()(n.prototype,"opened",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=w()(n.prototype,"initialized",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=w()(n.prototype,"libraryKeyList",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=w()(n.prototype,"libraryDataMap",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=w()(n.prototype,"libraryType",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"current_document"}}),l=w()(n.prototype,"items",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=w()(n.prototype,"orderOption",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ordering:"latest"}}}),p=w()(n.prototype,"total",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=w()(n.prototype,"next",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),h=w()(n.prototype,"start",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1"}}),f=w()(n.prototype,"isFetchNextPageError",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w()(n.prototype,"libraryItemList",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"libraryItemList"),n.prototype),w()(n.prototype,"item",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"item"),n.prototype),n),F=B;t.a=F,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/library-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(B,"LibraryPanelLayoutStore"),e(F,"default")}()},374:function(e,t,o){"use strict";var n,r,i,a=o(12),s=o.n(a),c=o(18),l=o.n(c),u=o(0),p=o.n(u),d=o(50),h=o.n(d),f=o(51),m=o(49),g=o(52),y=o(263),b=(n=Object(g.history)({sync:!1}),r=Object(g.history)({sync:!1}),i=function(e){function t(){var t;return(t=e.call(this)||this)._templatePanelLayoutService=f.U.get("templatePanelLayoutService"),t._editingService=f.U.get("editingService"),t._canvasScrollingService=f.U.get("canvasScrollingService"),t._toastLayerService=f.U.get("toastLayerService"),t._loadingLayerService=f.U.get("loadingLayerService"),t._documentToolbarLayoutService=f.U.get("documentToolbarLayoutService"),t._loadingProgressLayoutService=f.U.get("loadingProgressLayoutService"),t._documentValidateService=f.U.get("documentValidateService"),t._i18n=f.U.get("i18n"),t._documentService=f.U.get("documentService"),t._dragAndDropService=f.U.get("dragAndDropService"),t._eventDispatcherService=f.U.get("eventDispatcherService"),t}p()(t,e);var o=t.prototype;return o.insertPartTemplate=function(e){var t=this._templatePanelLayoutService.getPartTemplateData(e),o=this._documentService.convertComponents(t),n=this._templatePanelLayoutService.getPartTemplateComponentList(o);n&&this._editingService.append({sourceComponents:n,followCurrentAlign:!1})},o.applyTemplate=function(e,t){switch(t){case y.a.RECOMMEND:this.applyRecommendTemplate(e);break;case y.a.MY:this.applyMyTemplate(e);break;case y.a.PART:this.insertPartTemplate(e)}return!0},o.applyRecommendTemplate=function(){var e=l()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._applyTemplateAfterCheck("applyRecommendTemplate",t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.applyMyTemplate=function(){var e=l()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._applyTemplateAfterCheck("applyMyTemplate",t);case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.addMyTemplate=function(){var e=l()(s.a.mark(function e(){var t,o,n,r,i,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._documentService.getDocumentData(),e.next=3,this._documentValidateService.validateAsync(t.document);case 3:if(!1!==(o=e.sent).valid){e.next=7;break}return this._showInvalidDocumentWarn(o),e.abrupt("return");case 7:return this._loadingProgressLayoutService.show(),e.prev=8,n=this._i18n("templatePanelLayout:info_save_my_template"),e.next=12,this._templatePanelLayoutService.addMyTemplate(t);case 12:return r=e.sent,i=r.message,a=void 0===i?null:i,this._toastLayerService.infoMessage(a||n),e.next=18,this._templatePanelLayoutService.loadMyTemplateList();case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(8),e.t0.failed&&this._triggerServerError();case 24:return e.prev=24,this._loadingProgressLayoutService.hide(),e.finish(24);case 27:case"end":return e.stop()}},e,this,[[8,20,24,27]])}));return function(){return e.apply(this,arguments)}}(),o._showInvalidDocumentWarn=function(e){var t="";switch(e.reason){case f.R.TITLE_REQUIRED:t=this._i18n("documentValidate:warn_title_required"),this._canvasScrollingService.focusTitle();break;case f.R.CONTENT_REQUIRED:t=this._i18n("documentValidate:warn_contents_required"),this._canvasScrollingService.focusToFirstComp();break;case f.R.TITLE_CONTENT_REQUIRED:t=this._i18n("documentValidate:warn_title_contents_required"),this._canvasScrollingService.focusTitle()}t&&this._showWarning(t)},o.deleteMyTemplate=function(){var e=l()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==confirm(this._i18n("templatePanelLayout:confirm_to_delete_my_template"))){e.next=2;break}return e.abrupt("return");case 2:return this._loadingProgressLayoutService.show(),e.prev=3,e.next=6,this._templatePanelLayoutService.deleteMyTemplate(t);case 6:return e.next=8,this._templatePanelLayoutService.loadMyTemplateList();case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.failed&&this._triggerServerError();case 14:return e.prev=14,this._loadingProgressLayoutService.hide(),e.finish(14);case 17:case"end":return e.stop()}},e,this,[[3,10,14,17]])}));return function(t){return e.apply(this,arguments)}}(),o.dragStart=function(e,t){var o=this._templatePanelLayoutService.getPartTemplateData(t),n=this._documentService.convertComponents(o);this._dragAndDropService.dragStart({event:e,items:n,type:"template"})},o.open=function(){this._templatePanelLayoutService.open()},o.close=function(){this._templatePanelLayoutService.close()},o.loadRecommendList=function(){var e=l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._templatePanelLayoutService.showLoadingIcon(),e.next=4,this._templatePanelLayoutService.loadRecommendList();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 10:return e.prev=10,this._templatePanelLayoutService.hideLoadingIcon(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,6,10,13]])}));return function(){return e.apply(this,arguments)}}(),o.loadPartTemplateList=function(){var e=l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._templatePanelLayoutService.showLoadingIcon(),e.next=4,this._templatePanelLayoutService.loadPartTemplateList();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 10:return e.prev=10,this._templatePanelLayoutService.hideLoadingIcon(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,6,10,13]])}));return function(){return e.apply(this,arguments)}}(),o.loadMyTemplateList=function(){var e=l()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this._templatePanelLayoutService.showLoadingIcon(),e.next=4,this._templatePanelLayoutService.loadMyTemplateList();case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 10:return e.prev=10,this._templatePanelLayoutService.hideLoadingIcon(),e.finish(10);case 13:case"end":return e.stop()}},e,this,[[0,6,10,13]])}));return function(){return e.apply(this,arguments)}}(),o.changeTemplateType=function(){var e=l()(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this._templatePanelLayoutService.changeTemplateType(t),e.t0=t,e.next=e.t0===y.a.RECOMMEND?4:e.t0===y.a.MY?7:e.t0===y.a.PART?10:13;break;case 4:return e.next=6,this.loadRecommendList();case 6:return e.abrupt("break",13);case 7:return e.next=9,this.loadMyTemplateList();case 9:return e.abrupt("break",13);case 10:return e.next=12,this.loadPartTemplateList();case 12:return e.abrupt("break",13);case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._showWarning=function(e){this._toastLayerService.warningMessage(e)},o._applyTemplateAfterCheck=function(){var e=l()(s.a.mark(function e(t,o){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._loadingLayerService.open(),e.next=3,this._applyTemplate(t,o);case 3:this._loadingLayerService.close();case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._applyTemplate=function(){var e=l()(s.a.mark(function e(t,o){var n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._templatePanelLayoutService[t](o);case 2:(n=e.sent)&&(this._documentService.setDocumentData(n),this._canvasScrollingService.focusToInitialCursorIndex());case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._triggerServerError=function(){this.updateErrorStatus(!0),this._showWarning(this._i18n("templatePanelLayout:error_load_data"))},o.updateErrorStatus=function(e){this._templatePanelLayoutService.updateErrorStatus(e)},t}(f.m),h()(i.prototype,"insertPartTemplate",[g.preventOnComponentProcessing,g.history,m.d],Object.getOwnPropertyDescriptor(i.prototype,"insertPartTemplate"),i.prototype),h()(i.prototype,"applyRecommendTemplate",[n,m.d],Object.getOwnPropertyDescriptor(i.prototype,"applyRecommendTemplate"),i.prototype),h()(i.prototype,"applyMyTemplate",[r,m.d],Object.getOwnPropertyDescriptor(i.prototype,"applyMyTemplate"),i.prototype),h()(i.prototype,"addMyTemplate",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"addMyTemplate"),i.prototype),h()(i.prototype,"deleteMyTemplate",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"deleteMyTemplate"),i.prototype),h()(i.prototype,"dragStart",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"dragStart"),i.prototype),h()(i.prototype,"open",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"open"),i.prototype),h()(i.prototype,"close",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"close"),i.prototype),h()(i.prototype,"loadRecommendList",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"loadRecommendList"),i.prototype),h()(i.prototype,"loadPartTemplateList",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"loadPartTemplateList"),i.prototype),h()(i.prototype,"loadMyTemplateList",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"loadMyTemplateList"),i.prototype),h()(i.prototype,"changeTemplateType",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"changeTemplateType"),i.prototype),h()(i.prototype,"updateErrorStatus",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"updateErrorStatus"),i.prototype),i),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/template-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(b,"TemplatePanelLayoutUseCase"),e(_,"default")}()},375:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p=o(61),d=o.n(p),h=o(57),f=o.n(h),m=o(0),g=o.n(m),y=o(50),b=o.n(y),_=(o(62),o(16)),v=o(95),C=o(176),S=o(67),O=o(51),k=o(49),I=o(263),w=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,d()(o,"initialized",r,f()(o)),d()(o,"opened",i,f()(o)),d()(o,"isLoading",a,f()(o)),d()(o,"errorStatus",s,f()(o)),d()(o,"total",c,f()(o)),d()(o,"selectedTemplateType",l,f()(o)),d()(o,"items",u,f()(o)),o.usePreview=!0;var n=t,p=n.state,h=void 0===p?{}:p,m=n.config,g=void 0===m?{}:m;return o._configAgent=O.U.get("configAgent"),o._panelConfig=o._configAgent.get("productConfig.templatePanel")||{},o._availableTemplates=Object(C.a)([I.a.RECOMMEND,I.a.PART,I.a.MY],function(e){return!1!==o._panelConfig[e]}),o.name="template",o.initialized=Object(_.a)(h,"initialized",o.initialized),o.opened=Object(_.a)(h,"opened",o.opened),o.isLoading=Object(_.a)(h,"isLoading",o.isLoading),o.total=Object(_.a)(h,"total",o.total),o.selectedTemplateType=Object(_.a)(o._panelConfig,"activate",o._availableTemplates[0]),o.items=Object(_.a)(h,"items",o.items),o.usePreview=Object(_.a)(g,"usePreview",o.usePreview),o}g()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this.errorStatus&&(this.initialized=!1,this.errorStatus=!1)},o.showLoadingIcon=function(){this.isLoading=!0},o.hideLoadingIcon=function(){this.isLoading=!1},o.update=function(e,t){this._update(e,t)},o.changeTemplateType=function(e){this.selectedTemplateType=e},o.getItemById=function(e){var t=this.toValidJSON().items[this.selectedTemplateType];return Object(v.a)(t,{templateNo:parseInt(e)})},o.updateErrorStatus=function(e){this.errorStatus=e},o._update=function(e,t){var o;void 0===t&&(t=this.selectedTemplateType);var n=e.items,r=e.totalCount;Object.assign(this,{items:Object(S.a)({},(o={},o[t]=n,o),this.items),total:r})},o.initialize=function(){this.initialized=!0},o.availableTemplates=function(){return this._availableTemplates},o.reset=function(){Object.assign(this,{initialized:!1,total:0,items:{recommend:[],part:[],my:[]},errorStatus:!1})},t}(O.w),r=b()(n.prototype,"initialized",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=b()(n.prototype,"opened",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=b()(n.prototype,"isLoading",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=b()(n.prototype,"errorStatus",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=b()(n.prototype,"total",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=b()(n.prototype,"selectedTemplateType",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"recommend"}}),u=b()(n.prototype,"items",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{recommend:[],part:[],my:[]}}}),n),P=w;t.a=P,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/template-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(w,"TemplatePanelLayoutStore"),e(P,"default")}()},376:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(51),h=o(49),f=o(52),m=(n=function(e){function t(){var t;return(t=e.call(this)||this)._linkLayerService=d.U.get("linkLayerService"),t._crawlerService=d.U.get("crawlerService"),t._editingService=d.U.get("editingService"),t._toastLayerService=d.U.get("toastLayerService"),t}l()(t,e);var o=t.prototype;return o.updatePreview=function(){var e=s()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._beforeUpdatePreview(),e.next=3,this._crawlerService.crawlFrom(t);case 3:o=e.sent,this._linkLayerService.updatePreview(o),this._linkLayerService.setLoading(!1);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._beforeUpdatePreview=function(){this._linkLayerService.setLoading(!0)},o.changeToTextLayout=function(){this._linkLayerService.changeToTextLayout()},o.insertComponent=function(e){this._editingService.insert({sourceComponents:[e]})},o.close=function(){this._linkLayerService.close()},o.resetLinkLayer=function(){this._linkLayerService.reset()},o.showToast=function(e){this._toastLayerService.infoMessage(e)},t}(d.m),p()(n.prototype,"changeToTextLayout",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"changeToTextLayout"),n.prototype),p()(n.prototype,"insertComponent",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"insertComponent"),n.prototype),p()(n.prototype,"close",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),p()(n.prototype,"resetLinkLayer",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"resetLinkLayer"),n.prototype),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/link-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(m,"LinkLayerUseCase"),e(g,"default")}()},377:function(e,t,o){"use strict";o.d(t,"a",function(){return y});var n,r,i=o(12),a=o.n(i),s=o(18),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=o(51),f=o(49),m=o(52),g=o(378),y=(n=Object(m.history)({sync:!1}),r=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=h.U.get("configAgent"),t._cloudSnsLayerService=h.U.get("cloudSnsLayerService"),t._imageTypeLayerService=h.U.get("imageTypeLayerService"),t._canvasLayoutService=h.U.get("canvasLayoutService"),t._imageBehavior=h.U.get("imageBehavior"),t._complexImageLayoutsEnabled=t._configAgent.get("productConfig.complexImageLayoutsEnabled"),t}u()(t,e);var o=t.prototype;return o.close=function(){this._cloudSnsLayerService.close()},o.openCloudSNSWindowPopup=function(){var e=c()(a.a.mark(function e(t){var o,n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._cloudSnsLayerService.openCloudSNSWindowPopup({type:t});case 2:return o=e.sent,n=t||"ncloud",e.next=6,this._insertImageFromUrls(n,o);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertImageFromUrls=function(){var e=c()(a.a.mark(function e(t,o){var n;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length,!this._canUseComplexLayouts(n)){e.next=5;break}this._imageTypeLayerService.open({type:g.a.SNS,payload:o,serviceType:t}),e.next=7;break;case 5:return e.next=7,this._imageBehavior.insertImageFromUrls(o,t);case 7:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),o._canUseComplexLayouts=function(e){return e>1&&this._complexImageLayoutsEnabled},t}(h.m),d()(r.prototype,"close",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),d()(r.prototype,"openCloudSNSWindowPopup",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"openCloudSNSWindowPopup"),r.prototype),d()(r.prototype,"_insertImageFromUrls",[n,f.d],Object.getOwnPropertyDescriptor(r.prototype,"_insertImageFromUrls"),r.prototype),r);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/cloud-sns-layer/src/use-case/index.js",localName:t}})}catch(e){}}(y,"CloudSnsLayerUseCase")}()},378:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={SNS:"sns",FILE:"file"};!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-type-layer/src/consts/index.js",localName:t}})}catch(e){}}(n,"ImageTypeLayerDataType")}()},379:function(e,t,o){"use strict";var n,r,i=o(61),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=(o(62),o(16)),f=o(51),m=o(49),g=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,a()(o,"opened",r,c()(o));var n=t.state,i=void 0===n?{}:n;return o.opened=Object(h.a)(i,"opened",o.opened),o}u()(t,e);var o=t.prototype;return o.openCloudSnsPopup=function(){this.opened=!0},o.closeCloudSnsPopup=function(){this.opened=!1},t}(f.e),r=d()(n.prototype,"opened",[m.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/cloud-sns-layer/src/store/index.js",localName:t}})}catch(e){}}e(g,"CloudSnsLayerStore"),e(y,"default")}()},380:function(e,t,o){"use strict";var n,r,i=o(12),a=o.n(i),s=o(18),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=o(51),f=o(49),m=o(52),g=(n=Object(m.history)({sync:!1}),r=function(e){function t(){var t;return(t=e.call(this)||this)._imageDetailLayerService=h.U.get("imageDetailLayerService"),t._searchPanelLayoutService=h.U.get("searchPanelLayoutService"),t._paidPhotoNotificationLayerService=h.U.get("paidPhotoNotificationLayerService"),t._searchPanelLayoutService=h.U.get("searchPanelLayoutService"),t._imageBehavior=h.U.get("imageBehavior"),t}u()(t,e);var o=t.prototype;return o.insertImage=function(){var e=c()(a.a.mark(function e(t){var o;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._searchPanelLayoutService.itemDataToCompData(t);case 2:return o=e.sent,e.next=5,this._imageBehavior.insertImageFromCompData([o]);case 5:this.close();case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.close=function(){this._imageDetailLayerService.close()},o.closeLoadingLayer=function(){this._imageDetailLayerService.closeLoadingLayer()},o.updatePaidItem=function(e){this.close(),this._paidPhotoNotificationLayerService.open(),this._searchPanelLayoutService.updatePaidItem(e)},t}(h.m),d()(r.prototype,"insertImage",[n,f.d],Object.getOwnPropertyDescriptor(r.prototype,"insertImage"),r.prototype),d()(r.prototype,"close",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),d()(r.prototype,"closeLoadingLayer",[f.d],Object.getOwnPropertyDescriptor(r.prototype,"closeLoadingLayer"),r.prototype),r),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-detail-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(g,"ImageDetailLayerUseCase"),e(y,"default")}()},381:function(e,t,o){"use strict";var n,r,i,a,s=o(61),c=o.n(s),l=o(1),u=o.n(l),p=o(57),d=o.n(p),h=o(0),f=o.n(h),m=o(50),g=o.n(m),y=(o(62),o(16)),b=o(51),_=o(49),v=o(699),C=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,c()(o,"opened",r,d()(o)),c()(o,"isLoading",i,d()(o)),c()(o,"imageInfo",a,d()(o));var n=t.state,s=void 0===n?{}:n;return o.opened=Object(y.a)(s,"opened",o.opened),o.isLoading=Object(y.a)(s,"isLoading",o.isLoading),o.imageInfo=Object(y.a)(s,"imageInfo",o.imageInfo),o}f()(t,e);var o=t.prototype;return o.openImageDetailLayer=function(e){void 0===e&&(e={}),this.isLoading=!0,this._updateImageInfo(e),this.opened=!0},o.closeImageDetailLayer=function(){this._resetImageDetailLayer()},o.openLoadingLayer=function(){this.isLoading=!0},o.closeLoadingLayer=function(){this.isLoading=!1},o._updateImageInfo=function(e){Object.assign(this.imageInfo,e)},o._resetImageDetailLayer=function(){this.opened=!1,this.isLoading=!1,this.imageInfo={provider:"",providerDisplayName:"",username:"",createdAt:"",width:0,height:0,urls:{img:"",link:"",thumb:""},rights:""}},o._getCclCode=function(e){return e?v.b[e]:"CC0"},u()(t,[{key:"ccl",get:function(){var e=this.imageInfo.rights;return this._getCclCode(e)}}]),t}(b.e),r=g()(n.prototype,"opened",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=g()(n.prototype,"isLoading",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=g()(n.prototype,"imageInfo",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{provider:"",providerDisplayName:"",username:"",createdAt:"",width:0,height:0,urls:{img:"",link:"",thumb:""},rights:""}}}),g()(n.prototype,"ccl",[_.e],Object.getOwnPropertyDescriptor(n.prototype,"ccl"),n.prototype),n),S=C;t.a=S,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-detail-layer/src/store/index.js",localName:t}})}catch(e){}}e(C,"ImageDetailLayerStore"),e(S,"default")}()},382:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(51),h=o(49),f=o(52),m=(n=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=d.U.get("editingService"),t._componentFactory=d.U.get("componentFactory"),t._placeLayerService=d.U.get("placeLayerService"),t._scheduleComponentService=d.U.get("scheduleComponentService"),t._scheduleLayerService=d.U.get("scheduleLayerService"),t}l()(t,e);var o=t.prototype;return o.insertScheduleComponent=function(e){if(!1!==this._isValidConfirm(e)){var t=this._scheduleLayerService.toScheduleComponentData(),o=this._componentFactory.createComponentWithCompData(t);this._editingService.insert({sourceComponents:[o]}),this._scheduleLayerService.close()}},o.updateScheduleComponent=function(e){if(!1!==this._isValidConfirm(e)){var t=this._scheduleLayerService.toScheduleComponentData();this._scheduleComponentService.updateComponent(t),this._scheduleComponentService.updateSchedule(t.id),this._scheduleLayerService.close()}},o.disableEmptyTitleWarning=function(){this._scheduleLayerService.disableEmptyTitleWarning()},o.setRepetitionInfo=function(e){this._scheduleLayerService.setRepetitionInfo(e)},o.removeLocation=function(){this._scheduleLayerService.removePlacesMap()},o.openPlaceLayer=function(){var e=s()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._placeLayerService.editPlaces({isUpdateMode:!0,maxPlaceCount:1});case 2:(t=e.sent)&&this._scheduleLayerService.updatePlacesMap(t);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.handleInput=function(e,t){var o,n=t.target,r=n.type,i=n.checked,a=n.value,s="checkbox"===r?i:a;this._scheduleLayerService.updateProperty(((o={})[e]=s,o))},o.updateProperty=function(e){this._scheduleLayerService.updateProperty(e)},o.setDateAt=function(e,t){this._scheduleLayerService.setDateAt(e,t)},o.setNotification=function(e){this._scheduleLayerService.setNotification(e)},o.setRepetition=function(e){this._scheduleLayerService.setRepetition(e)},o.close=function(){this._scheduleLayerService.close()},o._isValidConfirm=function(e){return""===e.title.trim()?(this._scheduleLayerService.enableEmptyTitleWarning(),!1):!e.isInvalidEndDate&&(!(e.repetition&&!e.repetitionInfo)||(this._scheduleLayerService.showAndHideRepetitionWarning(),!1))},t}(d.m),p()(n.prototype,"insertScheduleComponent",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"insertScheduleComponent"),n.prototype),p()(n.prototype,"updateScheduleComponent",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"updateScheduleComponent"),n.prototype),p()(n.prototype,"disableEmptyTitleWarning",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"disableEmptyTitleWarning"),n.prototype),p()(n.prototype,"setRepetitionInfo",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"setRepetitionInfo"),n.prototype),p()(n.prototype,"removeLocation",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"removeLocation"),n.prototype),p()(n.prototype,"openPlaceLayer",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"openPlaceLayer"),n.prototype),p()(n.prototype,"handleInput",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"handleInput"),n.prototype),p()(n.prototype,"updateProperty",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"updateProperty"),n.prototype),p()(n.prototype,"setDateAt",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"setDateAt"),n.prototype),p()(n.prototype,"setNotification",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"setNotification"),n.prototype),p()(n.prototype,"setRepetition",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"setRepetition"),n.prototype),p()(n.prototype,"close",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/schedule-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(m,"ScheduleLayerUseCase"),e(g,"default")}()},383:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b,_=o(59),v=o.n(_),C=o(61),S=o.n(C),O=o(1),k=o.n(O),I=o(57),w=o.n(I),P=o(0),j=o.n(P),T=o(50),L=o.n(T),E=(o(62),o(16)),N=o(66),x=o(175),D=o(70),R=o(129),A=o(51),U=o(49),M=o(53),B=o(191),F=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,S()(o,"opened",r,w()(o)),S()(o,"visibleEndDate",i,w()(o)),S()(o,"isModifyMode",a,w()(o)),S()(o,"dateOnly",s,w()(o)),S()(o,"emptyTitleWarning",c,w()(o)),S()(o,"repetitionInfo",l,w()(o)),S()(o,"isShowRepetitionWarning",u,w()(o)),S()(o,"title",p,w()(o)),S()(o,"startAt",d,w()(o)),S()(o,"endAt",h,w()(o)),S()(o,"placesMap",f,w()(o)),S()(o,"linkUrl",m,w()(o)),S()(o,"content",g,w()(o)),S()(o,"notification",y,w()(o)),S()(o,"repetition",b,w()(o)),o.scheduleId=null;var n=t.state,_=void 0===n?{}:n;return o.opened=Object(E.a)(_,"opened",o.opened),o.visibleEndDate=Object(E.a)(_,"visibleEndDate",o.visibleEndDate),o.isModifyMode=Object(E.a)(_,"isModifyMode",o.isModifyMode),o.dateOnly=Object(E.a)(_,"dateOnly",o.dateOnly),o.title=Object(E.a)(_,"title",o.title),o.emptyTitleWarning=Object(E.a)(_,"emptyTitleWarning",o.emptyTitleWarning),o.startAt=Object(E.a)(_,"startAt",o.startAt),o.endAt=Object(E.a)(_,"endAt",o.endAt),o.placesMap=Object(E.a)(_,"placesMap",o.placesMap),o.linkUrl=Object(E.a)(_,"linkUrl",o.linkUrl),o.content=Object(E.a)(_,"content",o.content),o.scheduleId=Object(E.a)(_,"scheduleId",o.scheduleId),o._moment=M.a.time.getMomentInstance,o.notification=Object(E.a)(_,"notification",o.notification),o.repetition=Object(E.a)(_,"repetition",o.repetition),o}j()(t,e);var o=t.prototype;return o.open=function(e){var t=v()({visibleEndDate:!1,isModifyMode:!1,dateOnly:!1,emptyTitleWarning:!1,title:"",startAt:null,endAt:null,placesMap:null,linkUrl:"",content:"",repetition:null,notification:null},e);t.visibleEndDate=!1===Object(N.a)(t.endAt),t.startAt=this._resolveDateTimeWithCeilMinute(t.startAt),t.endAt=this._resolveEndAt(t.startAt,t.endAt),this.updateProperty(t),this.isModifyMode=Object(x.a)(t,"id"),this.opened=!0},o._resetAll=function(){this.visibleEndDate=!1,this.isModifyMode=!1,this.dateOnly=!1,this.title="",this.emptyTitleWarning=!1,this.startAt=null,this.endAt=null,this.placesMap=null,this.linkUrl="",this.content="",this.notification=null,this.repetition=null,this.scheduleId=null},o.close=function(){this._resetAll(),this.opened=!1},o.updatePlacesMap=function(e){this.updateProperty({placesMap:e})},o.updateProperty=function(e){var t=this;Object(D.a)(e,function(e,o){t.hasOwnProperty(o)&&(t[o]=e)})},o.setNotification=function(e){this.notification=e},o.setRepetition=function(e){this.repetition=e},o.enableEmptyTitleWarning=function(){this.emptyTitleWarning=!0},o.disableEmptyTitleWarning=function(){this.emptyTitleWarning=!1},o.setRepetitionInfo=function(e){this.repetitionInfo=e},o.showAndHideRepetitionWarning=function(){var e=this;this.isShowRepetitionWarning=!0,setTimeout(function(){e.isShowRepetitionWarning=!1},2e3)},o.setDateAt=function(e,t){this[e]=t},o.toScheduleComponentData=function(){var e=this.toValidJSON();e.ctype="schedule",!1===e.visibleEndDate&&(e.endAt=null),e.linkUrl=M.a.url.prependProtocol(e.linkUrl);var t=["opened","visibleEndDate","emptyTitleWarning","isInvalidEndDate","resolvedEndAt","repetitionInfo","isShowRepetitionWarning"];return this.isModifyMode||t.push("id"),Object(R.a)(e,t)},o._resolveEndAt=function(e,t){return Object(N.a)(t)?this._moment(e).add(1,"h").format():t},o._resolveDateTimeWithCeilMinute=function(e){return Object(N.a)(e)&&(e={}),M.a.time.getTimeCeilMinuteWith(e,5).format()},o._isInvalidDate=function(){var e=this.visibleEndDate;if(!this.dateOnly&&e){var t=this.startAt,o=this.endAt;if(this._moment(o).diff(this._moment(t))<=0)return!0}return!1},k()(t,[{key:"isInvalidEndDate",get:function(){return this._isInvalidDate()}},{key:"resolvedEndAt",get:function(){var e=this.startAt;return this._moment(e).add(1,"h").format()}},{key:"isMonthly",get:function(){return this.repetition&&this.repetition.repetitionType.ctype===B.f.EVERY_MONTH}},{key:"hasRepetition",get:function(){return!!this.repetition}},{key:"hasNotification",get:function(){return!!this.notification}},{key:"hasRepetitionDateGroup",get:function(){return!!this.repetition.repetitionType.dateGroup}},{key:"isTimeDisabled",get:function(){return this.dateOnly||!!this.hasRepetition}},{key:"_durationDateCount",get:function(){var e=this._moment(this.startAt);return this._moment(this.endAt).diff(e,"days")}},{key:"isOverMonth",get:function(){var e=this._moment(this.startAt).format(B.a).split("-"),t=e[0],o=e[1],n=e[2],r=this._moment(this.endAt).format(B.a).split("-"),i=r[0],a=r[1],s=r[2];return+t<+i||t===i&&(+o+1<+a||+o+1==+a&&+n<=+s)}},{key:"isShowRepetition",get:function(){return this._durationDateCount>=14}},{key:"hasDateGroup",get:function(){var e=this.repetition.repetitionType.dateGroup;return e&&e.startDay}},{key:"locationTitle",get:function(){return this.placesMap?this.placesMap.places[0].name:""}}]),t}(A.e),r=L()(n.prototype,"opened",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=L()(n.prototype,"visibleEndDate",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=L()(n.prototype,"isModifyMode",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=L()(n.prototype,"dateOnly",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=L()(n.prototype,"emptyTitleWarning",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=L()(n.prototype,"repetitionInfo",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=L()(n.prototype,"isShowRepetitionWarning",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=L()(n.prototype,"title",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=L()(n.prototype,"startAt",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=L()(n.prototype,"endAt",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=L()(n.prototype,"placesMap",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=L()(n.prototype,"linkUrl",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=L()(n.prototype,"content",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=L()(n.prototype,"notification",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=L()(n.prototype,"repetition",[U.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L()(n.prototype,"isInvalidEndDate",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"isInvalidEndDate"),n.prototype),L()(n.prototype,"resolvedEndAt",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"resolvedEndAt"),n.prototype),L()(n.prototype,"isMonthly",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"isMonthly"),n.prototype),L()(n.prototype,"hasRepetition",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"hasRepetition"),n.prototype),L()(n.prototype,"hasNotification",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"hasNotification"),n.prototype),L()(n.prototype,"hasRepetitionDateGroup",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"hasRepetitionDateGroup"),n.prototype),L()(n.prototype,"isTimeDisabled",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"isTimeDisabled"),n.prototype),L()(n.prototype,"_durationDateCount",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"_durationDateCount"),n.prototype),L()(n.prototype,"isOverMonth",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"isOverMonth"),n.prototype),L()(n.prototype,"isShowRepetition",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"isShowRepetition"),n.prototype),L()(n.prototype,"hasDateGroup",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"hasDateGroup"),n.prototype),L()(n.prototype,"locationTitle",[U.e],Object.getOwnPropertyDescriptor(n.prototype,"locationTitle"),n.prototype),n),z=F;t.a=z,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/schedule-layer/src/store/index.js",localName:t}})}catch(e){}}e(F,"ScheduleLayerStore"),e(z,"default")}()},384:function(e,t,o){"use strict";var n=o(700).a;t.a=n,function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/file-upload-layer/src/use-case/index.js",localName:t}})}catch(e){}}(n,"default")}()},385:function(e,t,o){"use strict";var n,r,i=o(61),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=(o(62),o(16)),f=o(70),m=o(51),g=o(49),y=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,a()(o,"opened",r,c()(o));var n=t.state,i=void 0===n?{}:n;return o.opened=Object(h.a)(i,"opened",o.opened),o}u()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},o.updateProperty=function(e){var t=this;Object(f.a)(e,function(e,o){t.hasOwnProperty(o)&&(t[o]=e)})},t}(m.e),r=d()(n.prototype,"opened",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/file-upload-layer/src/store/index.js",localName:t}})}catch(e){}}e(y,"FileUploadLayerStore"),e(b,"default")}()},386:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(49),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._libraryPanelLayoutService=c.U.get("libraryPanelLayoutService")||{openTab:function(){}},t._searchPanelLayoutService=c.U.get("searchPanelLayoutService")||{close:function(){}},t._paidPhotoNotificationLayerService=c.U.get("paidPhotoNotificationLayerService")||{close:function(){}},t}i()(t,e);var o=t.prototype;return o.close=function(){this._paidPhotoNotificationLayerService.close()},o.openPurchasedListTab=function(){this._paidPhotoNotificationLayerService.close(),this._searchPanelLayoutService.close(),this._libraryPanelLayoutService.openTab("purchased_list")},t}(c.m),s()(n.prototype,"close",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),s()(n.prototype,"openPurchasedListTab",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"openPurchasedListTab"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/paid-photo-notification-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"PaidPhotoNotificationLayerUseCase"),e(p,"default")}()},387:function(e,t,o){"use strict";var n,r,i=o(61),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=(o(62),o(16)),f=o(51),m=o(49),g=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,a()(o,"opened",r,c()(o));var n=t.state,i=void 0===n?{}:n;return o.opened=Object(h.a)(i,"opened",o.opened),o}u()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},t}(f.e),r=d()(n.prototype,"opened",[m.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/paid-photo-notification-layer/src/store/index.js",localName:t}})}catch(e){}}e(g,"PaidPhotoNotificationLayerStore"),e(y,"default")}()},388:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(51),h=o(49),f=o(52),m=(n=function(e){function t(){var t;return(t=e.call(this)||this)._spellCheckLayoutService=d.U.get("spellCheckLayoutService"),t._canvasScrollingService=d.U.get("canvasScrollingService"),t._toastLayerService=d.U.get("toastLayerService"),t._loadingLayerService=d.U.get("loadingLayerService"),t._viewModeLayoutService=d.U.get("viewModeLayoutService"),t._i18n=d.U.get("i18n"),t._alertLayerService=d.U.get("alertLayerService"),t}l()(t,e);var o=t.prototype;return o.checkAgain=function(){var e=s()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._loadingLayerService.open(),e.next=3,this._spellCheckAgain(t);case 3:this._loadingLayerService.close();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.cancelSpellCheck=function(){this._spellCheckLayoutService.cancelSpellCheck()},o.close=function(){this.cancelSpellCheck()},o.confirmSpellCheck=function(e){this._spellCheckLayoutService.confirmSpellCheck(e),this._canvasScrollingService.focusToFirstComp()},o.togglePopup=function(e){this._spellCheckLayoutService.togglePopup(e)},o.correctAll=function(){this._spellCheckLayoutService.correctAll()},o._toastEmptyErrata=function(e){e||this._toastLayerService.infoMessage(this._i18n("spellCheckLayout:empty_errata"))},o._spellCheckAgain=function(){var e=s()(i.a.mark(function e(t){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._spellCheckLayoutService.getParagraphList(t.spellCheckDocument),e.next=3,this._spellCheckLayoutService.getResultSpellCheck(o);case 3:if(n=e.sent,!1!==this._isValidCheckResult(n)){e.next=6;break}return e.abrupt("return");case 6:return e.abrupt("return",this._spellCheckLayoutService.checkAgain(n,t));case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._isValidCheckResult=function(e){return!e.aborted&&(e.failed?(this._alertLayerService.open({type:"alert",title:this._i18n("spellCheckLayout:spell_check_fail_title"),description:this._i18n("spellCheckLayout:spell_check_fail")}),!1):0!==e.length||(this._toastLayerService.infoMessage(this._i18n("spellCheckLayout:empty_errata")),!1))},o.getViewMode=function(){var e=d.S.VIEW_MODE_PC;return this._viewModeLayoutService&&(e=this._viewModeLayoutService.getViewMode()),e},t}(d.m),p()(n.prototype,"checkAgain",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"checkAgain"),n.prototype),p()(n.prototype,"cancelSpellCheck",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"cancelSpellCheck"),n.prototype),p()(n.prototype,"confirmSpellCheck",[h.d,f.history],Object.getOwnPropertyDescriptor(n.prototype,"confirmSpellCheck"),n.prototype),p()(n.prototype,"togglePopup",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"togglePopup"),n.prototype),p()(n.prototype,"correctAll",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"correctAll"),n.prototype),p()(n.prototype,"_toastEmptyErrata",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"_toastEmptyErrata"),n.prototype),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/spell-check-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(m,"SpellCheckLayoutUseCase"),e(g,"default")}()},389:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(51),a=function(e){function t(){var t;return(t=e.call(this)||this)._videoUploadLayerService=i.U.get("videoUploadLayerService"),t}return r()(t,e),t.prototype.close=function(){this._videoUploadLayerService.close()},t}(i.m),s=a;t.a=s,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/video-upload-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(a,"VideoUploadLayerUseCase"),e(s,"default")}()},39:function(e,t,o){"use strict";var n={REGION_TYPE:{BOTH:"both",DOMESTIC:"domestic",OVERSEAS:"overseas"}};t.a=n,function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/consts/option.js",localName:t}})}catch(e){}}(n,"default")}()},390:function(e,t,o){"use strict";var n,r,i=o(61),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=(o(62),o(16)),f=o(51),m=o(49),g=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,a()(o,"opened",r,c()(o));var n=t.state,i=void 0===n?{}:n;return o.opened=Object(h.a)(i,"opened",o.opened),o}u()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},t}(f.e),r=d()(n.prototype,"opened",[m.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/video-upload-layer/src/store/index.js",localName:t}})}catch(e){}}e(g,"VideoUploadLayerStore"),e(y,"default")}()},391:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(49),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._helpPanelLayoutService=c.U.get("helpPanelLayoutService"),t._storageService=c.U.get("storageService"),t._localStorageKey="HELP_PANEL//STORAGE",t}i()(t,e);var o=t.prototype;return o.__ON_LAZY__=function(){this._storageService.getStorageData(this._localStorageKey)?this._helpPanelLayoutService.close():(this._storageService.setStorageData(this._localStorageKey,{alreadyOpened:!0}),this._helpPanelLayoutService.open())},o.openHelpLayer=function(e,t){this._helpPanelLayoutService.openLayer(e,t)},o.closeHelpLayer=function(){this._helpPanelLayoutService.closeLayer()},o.close=function(){this._helpPanelLayoutService.close(),this._helpPanelLayoutService.closeLayer()},t}(c.m),s()(n.prototype,"openHelpLayer",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"openHelpLayer"),n.prototype),s()(n.prototype,"closeHelpLayer",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"closeHelpLayer"),n.prototype),s()(n.prototype,"close",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/help-panel-layout/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"HelpPanelLayoutUseCase"),e(p,"default")}()},392:function(e,t,o){"use strict";var n,r,i,a,s,c=o(61),l=o.n(c),u=o(57),p=o.n(u),d=o(0),h=o.n(d),f=o(50),m=o.n(f),g=(o(62),o(16)),y=o(49),b=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,l()(o,"opened",r,p()(o)),l()(o,"isLayerOpen",i,p()(o)),l()(o,"layerKey",a,p()(o)),l()(o,"layerTitle",s,p()(o)),o.unmountDelayTime=400;var n=t.state,c=void 0===n?{}:n;return o.opened=Object(g.a)(c,"opened",o.opened),o.isLayerOpen=Object(g.a)(c,"isLayerOpen",o.isLayerOpen),o.layerKey=Object(g.a)(c,"layerKey",o.layerKey),o.layerTitle=Object(g.a)(c,"layerTitle",o.layerTitle),o}h()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},o.openLayer=function(){this.isLayerOpen=!0},o.closeLayer=function(){this.isLayerOpen=!1},o.setLayerKey=function(e){this.layerKey=e},o.setLayerTitle=function(e){this.layerTitle=e},t}(o(51).w),r=m()(n.prototype,"opened",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),i=m()(n.prototype,"isLayerOpen",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=m()(n.prototype,"layerKey",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"START_INTERFACE"}}),s=m()(n.prototype,"layerTitle",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),n),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layouts/help-panel-layout/src/store/index.js",localName:t}})}catch(e){}}e(b,"HelpPanelLayoutStore"),e(_,"default")}()},393:function(e,t,o){"use strict";var n,r,i,a,s=o(61),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=o(50),f=o.n(h),m=(o(62),o(51)),g=o(49),y=o(212).a.NOT_MACOS,b=[{command:"cut",className:"cut",hotkey:y?"Ctrl+X":"⌘+X"},{command:"copy",className:"copy",hotkey:y?"Ctrl+C":"⌘+C"},{command:"paste",className:"paste",hotkey:y?"Ctrl+V":"⌘+V"},{command:"selectAll",className:"select-all",hotkey:y?"Ctrl+A":"⌘+A"},{command:"saveAs",className:"save-as",hotkey:""},{command:"delete",className:"delete",hotkey:"Delete"},{command:"undo",className:"undo",hotkey:y?"Ctrl+Z":"⌘+Z"},{command:"redo",className:"redo",hotkey:y?"Ctrl+Y":"⌘+Shift+Z"}],_=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,c()(o,"opened",r,u()(o)),c()(o,"top",i,u()(o)),c()(o,"left",a,u()(o)),o.saveAsUrl=null,o.itemGroups=[];var n=t.state,s=void 0===n?{}:n;return o._excludes=m.U.get("configAgent").get("productConfig.contextMenu.exclude")||[],o._selectionInfoStore=m.U.get("selectionInfoStore"),o.opened=s.opened||o.opened,o}d()(t,e);var o=t.prototype;return o.open=function(e){void 0===e&&(e={});var t=e,o=t.top,n=t.left,r=t.saveAsUrl;this.top=o||0,this.left=n||0,this.saveAsUrl=r,this.itemGroups=this._makeItemGroups(e),this.opened=!0},o._makeItemGroups=function(e){var t=e.selectAllable,o=e.undoable,n=e.redoable,r=this._selectionInfoStore.collapsed,i=b.map(function(e){switch(e.command){case"copy":case"cut":case"delete":e.disabled=r;break;case"selectAll":e.disabled=!t;break;case"undo":e.disabled=!o;break;case"redo":e.disabled=!n;break;default:e.disabled=!1}return e});return[this._group("editing",i.slice(0,4)),this.saveAsUrl&&this._group("image",i.slice(4,5)),this._group("delete",i.slice(5,6)),this._group("history",i.slice(6,8))].filter(function(e){return!!e})},o._group=function(e,t){var o=this;if(void 0===t&&(t=[]),(t=t.filter(function(e){return!o._excludes.includes(e.command)})).length>0)return{key:e,items:t}},o.close=function(){this.opened=!1},t}(m.e),r=f()(n.prototype,"opened",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=f()(n.prototype,"top",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),a=f()(n.prototype,"left",[g.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),n),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/contextmenu-layer/src/store/index.js",localName:t}})}catch(e){}}e(y,"NOT_MACOS"),e(b,"ITEMS"),e(_,"ContextmenuLayerStore"),e(v,"default")}()},394:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(49),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._a11yHelpLayerService=c.U.get("a11yHelpLayerService"),t}i()(t,e);var o=t.prototype;return o.open=function(){this._a11yHelpLayerService.open()},o.close=function(){this._a11yHelpLayerService.close()},t}(c.m),s()(n.prototype,"open",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"open"),n.prototype),s()(n.prototype,"close",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/a11y-help-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"A11yHelpLayerUseCase"),e(p,"default")}()},395:function(e,t,o){"use strict";var n,r,i=o(61),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=(o(62),o(16)),f=o(51),m=o(49),g=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,a()(o,"opened",r,c()(o));var n=t.state,i=void 0===n?{}:n;return o.opened=Object(h.a)(i,"opened",o.opened),o}u()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},t}(f.e),r=d()(n.prototype,"opened",[m.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/a11y-help-layer/src/store/index.js",localName:t}})}catch(e){}}e(g,"A11yHelpLayerStore"),e(y,"default")}()},396:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(51),h=o(49),f=o(52),m=o(524),g=(n=function(e){function t(){var t;return(t=e.call(this)||this)._imageComponentService=d.U.get("imageComponentService"),t._imageTagLayerService=d.U.get("imageTagLayerService"),t._toastLayerService=d.U.get("toastLayerService"),t._alertLayerService=d.U.get("alertLayerService"),t._crawlerService=d.U.get("crawlerService"),t._searchLayerService=d.U.get("searchLayerService"),t._i18n=d.U.get("i18n"),t}l()(t,e);var o=t.prototype;return o.open=function(){this._imageTagLayerService.open()},o.close=function(){var e=this;if(this._imageTagLayerService.getTagChanged()){var t={i18nTitle:"title_confirm_close_layer",i18nDesc:"confirm_sure_to_close",funcConfirm:function(){return e._imageTagLayerService.close()},funcCancel:function(){return e._alertLayerService.close()}};this._showConfirmLayer(t)}else this._imageTagLayerService.close()},o.showToast=function(e){this._toastLayerService.warningMessage(e)},o.changeTab=function(e){var t=this;void 0===e&&(e="");var o=this._imageTagLayerService,n=o.getDuplicateConfig(),r=0===o.getTags().length,i=o.checkOnlyUrlTags(),a=o.getCurrentTabIndex();if(!(o.getTabIdByIndex(a)===e))if(n||r||i)this._changeTab(e);else{var s={i18nTitle:"title_confirm_layer",i18nDesc:"confirm_sure_to_change_tab",funcConfirm:function(){return t._changeTab(e,!0)},funcCancel:function(){return t._alertLayerService.close()}};this._showConfirmLayer(s)}},o._changeTab=function(e,t){void 0===t&&(t=!1),this._imageTagLayerService.changeTab(e,t)},o.changeToMaterialTab=function(e){this._searchLayerService.requestData(e)},o.changeSubCategory=function(e){var t=this,o=this._imageTagLayerService,n=o.getDuplicateConfig(),r=0===o.getTags().length;if(!(o.getcurrentSubCategoryIndex()===e))if(n||r)this._imageTagLayerService.changeSubCategory(e);else{var i={i18nTitle:"title_confirm_layer",i18nDesc:"confirm_sure_to_change_tab",funcConfirm:function(){return t._imageTagLayerService.changeSubCategory(e,!0)},funcCancel:function(){return t._alertLayerService.close()}};this._showConfirmLayer(i)}},o.setIsUrl=function(e){this._imageTagLayerService.setIsUrl(e)},o.search=function(e){this._imageTagLayerService.clearSearchResult(),this.setIsUrl(!1);var t=e.keyword;this._checkUrlPattern(t)?this._crawlUrl(t):this._imageTagLayerService.search(e)},o._crawlUrl=function(){var e=s()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setIsUrl(!0),this._imageTagLayerService.setLoadingState(!0),e.prev=2,e.next=5,this._crawlerService.crawlFromReturnRaw(t);case 5:(o=e.sent)||this._imageTagLayerService.searchFail(),this._imageTagLayerService.updateCrawledResult(o,t),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),this._imageTagLayerService.searchFail();case 13:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),o.updateKeyword=function(e){this._imageTagLayerService.updateKeyword(e)},o.addNewTag=function(e){this._imageTagLayerService.addNewTag(e)},o.checkAddibleTag=function(e){return this._imageTagLayerService.checkAddibleTag(e)},o.delTag=function(e){var t=this,o={i18nTitle:"title_confirm_delete_tag",i18nDesc:"confirm_sure_to_delete",funcConfirm:function(){return t._imageTagLayerService.delTag(e)},funcCancel:function(){return t._alertLayerService.close()}};this._showConfirmLayer(o)},o.updateTag=function(e,t){this._imageTagLayerService.updateTag(e,t)},o.nextPage=function(){var e=s()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._imageTagLayerService.nextPage();case 3:e.next=9;break;case 5:e.prev=5,e.t0=e.catch(0),e.t0.failed&&this._triggerServerError();case 9:case"end":return e.stop()}},e,this,[[0,5]])}));return function(){return e.apply(this,arguments)}}(),o.clearSearchLayer=function(){this._imageTagLayerService.clearSearchLayer()},o.clearSearchResult=function(){this._imageTagLayerService.clearSearchResult()},o.confirmTags=function(){var e=this._imageTagLayerService.getTags(),t=this._imageTagLayerService.getCompId();this._imageComponentService.removeLink(t),this._imageComponentService.updateMediaTag(t,e),this._imageTagLayerService.close()},o.updatePinPoint=function(e){this._imageTagLayerService.updatePinPoint(e)},o._triggerServerError=function(){this.showToast(this._i18n("imageTagLayer:error_server_data_load"))},o._showConfirmLayer=function(e){var t=e.i18nTitle,o=e.i18nDesc,n=e.funcConfirm,r=e.funcCancel;this._alertLayerService.open({type:"confirm",className:"se-popup-tag-delete",title:this._i18n("imageTagLayer:"+t),description:this._i18n("imageTagLayer:"+o),onClickConfirm:n,onClickCancel:r,isDimUse:!1})},o._checkUrlPattern=function(e){void 0===e&&(e="");var t=m.a.getUrlPattern().test(e),o=this._imageTagLayerService.getAllowUrlAttach();return t&&o},t}(d.m),p()(n.prototype,"nextPage",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"nextPage"),n.prototype),p()(n.prototype,"confirmTags",[f.history],Object.getOwnPropertyDescriptor(n.prototype,"confirmTags"),n.prototype),p()(n.prototype,"_triggerServerError",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"_triggerServerError"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-tag-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(g,"ImageTagLayerUseCase"),e(y,"default")}()},397:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(49),l=o(347),u=o(54),p=o.n(u),d=o(52),h=o(268),f=o(526),m=o(226),g=(n=function(e){function t(){var t;return(t=e.call(this)||this)._refLayer=c.b.createRef(),t.state={value:""},t}i()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this.mapStateFromProps(this.props))},o.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState(function(){return t.mapStateFromProps(e)})},o.render=function(){var e=this.props,t=e.applyLabel,o=e.placeholder,n=e.i18n,r=e.logAreaId+".urlok",i=p()("se-custom-layer-link-apply-button",{"se-custom-layer-link-apply-button-has-url":!!this.state.value}),a=p()("se-custom-layer-option","se-custom-layer-option-link");return c.b.createElement(h.a,{forwardRef:this._refLayer,className:a,"data-log":r},c.b.createElement("input",{className:"se-custom-layer-link-input",type:"url","data-role":"input",placeholder:n(o),value:this.state.value,onKeyPress:this._onKeyPressHandler,onChange:this.handleChangeInput}),c.b.createElement("button",{type:"button",className:i,title:n(t),"data-role":"confirm",onClick:this.handleClickConfirm},c.b.createElement("span",{className:"se-blind"},n(t))))},o.decodeUrl=function(e){return f.a.getDecodeUrl(e)},o.mapStateFromProps=function(e){var t=e.value?e.value:"";return{value:t?this.decodeUrl(t):""}},o.handleChangeInput=function(e){var t=e.target.value;this.setState({value:t}),this.props.onInput({event:e,value:t})},o.handleClickConfirm=function(e){this._onConfirm(e)},o._onKeyPressHandler=function(e){"Enter"===e.key&&this._onConfirm(e)},o._onConfirm=function(e){var t=this._toValidUrl();this.props.onConfirm({event:e,value:t})},o._toValidUrl=function(){return f.a.getEncodeUrl(Object(m.a)(this.state.value))},t}(c.b.Component),s()(n.prototype,"handleChangeInput",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleChangeInput"),n.prototype),s()(n.prototype,"handleClickConfirm",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleClickConfirm"),n.prototype),s()(n.prototype,"_onKeyPressHandler",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onKeyPressHandler"),n.prototype),n);g.defaultProps={placeholder:"",value:"",onConfirm:function(){},onInput:function(){},i18n:function(e){return e},applyLabel:""},g.propTypes={placeholder:c.a.string,value:c.a.string,onConfirm:c.a.func,onInput:c.a.func,i18n:c.a.func,applyLabel:c.a.string,logAreaId:c.a.string,confirmLogId:c.a.string};var y=Object(l.b)(g);t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/link-input-form.jsx",localName:t}})}catch(e){}}e(g,"LinkInputForm"),e(y,"default")}()},398:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(0),s=o.n(a),c=o(50),l=o.n(c),u=o(54),p=o.n(u),d=o(49),h=o(347),f=o(52),m=o(705),g=o(268),y=(n=function(e){function t(){var t;return(t=e.call(this)||this).state={inputValue:""},t._refLayer=d.b.createRef(),t}s()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.name,n=t.options,r=t.optionType,a=p()("se-toolbar-option","se-toolbar-option-"+o),s=Object.keys(n).map(function(t,o){return d.b.createElement(m.a,i()({optionId:t,optionType:r,inputValue:e.state.inputValue,onClickOptionList:e._handleClickOption,onChangeInputValue:e._handleChangeInputValue,onConfirmInputValue:e._handleConfirmInputValue},e.props,{key:t+"_"+o}))});return d.b.createElement(g.a,{forwardRef:this._refLayer,className:a,role:"listbox"},s)},o._handleClickOption=function(e){var t=this.props,o=t.id,n=t.name,r=t.options,i=t.action,a=t.onClickOption,s=e.currentTarget.getAttribute("data-value"),c=r[s],l=c.useInput,u=c.label,p=c.submenuOpen;a({event:e,id:o,name:n,value:l?""+this.state.inputValue:s,label:u,submenuOpen:p,action:i}),l||this.setState({inputValue:""}),e.preventDefault()},o._handleChangeInputValue=function(e){this.setState({inputValue:e})},o._handleConfirmInputValue=function(e){var t=this.props,o=t.id,n=t.name,r=t.options,i=t.action,a=t.onClickOption,s=r[e.currentTarget.getAttribute("data-value")].label;a({event:e,id:o,name:n,value:""+this.state.inputValue,label:s,action:i})},t}(d.b.Component),l()(n.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickOption"),n.prototype),l()(n.prototype,"_handleChangeInputValue",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChangeInputValue"),n.prototype),l()(n.prototype,"_handleConfirmInputValue",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleConfirmInputValue"),n.prototype),n);y.defaultProps={id:"",name:"",value:"",optionType:"",options:{},onClickOption:function(){}},y.propTypes={id:d.a.string,name:d.a.string,value:d.a.string,action:d.a.string,optionType:d.a.string,options:d.a.oneOfType([d.a.array,d.a.object]),onClickOption:d.a.func};var b=Object(h.b)(y);t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/select-option.jsx",localName:t}})}catch(e){}}e(y,"SelectOption"),e(b,"default")}()},399:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(0),s=o.n(a),c=o(50),l=o.n(c),u=o(129),p=o(1216),d=o(54),h=o.n(d),f=o(49),m=o(347),g=o(52),y=(n=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._inputRef=f.b.createRef(),t}s()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this._mapStateFromProps(this.props)),this.isCompositionChange=!1},o.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState(function(){return t._mapStateFromProps(e)})},o.render=function(){var e=this.props,o=e.className,n=e.placeholder,r=e.title,a=Object(u.a)(this.props,Object.keys(t.propTypes)),s=this.state.value,c=h()(o);return f.b.createElement("input",i()({className:c,type:"text",placeholder:n,value:s,title:r,ref:this._inputRef,onChange:this._handleChangeInputValue,onCompositionUpdate:this._handleCompositionChange,onKeyDown:this._handleKeyDownHandler,onKeyPress:this._handleKeyPressHandler,onBlur:this._handleBlur,onClick:this._handleClick},a))},o.focus=function(){this._inputRef.current.focus()},o._handleCompositionChange=function(){this.isCompositionChange=!0},o._mapStateFromProps=function(e){return{min:e.min,max:e.max,value:e.value}},o._handleKeyDownHandler=function(e){var t=this.state.value,o=this.props.maxLength,n=t.toString(),r=e.key,i=e.keyCode>58&&!(e.keyCode>=96&&e.keyCode<=105),a=o&&n.length+1>o;(i||!1===isNaN(r)&&a)&&e.preventDefault()},o._handleKeyPressHandler=function(e){"Enter"===e.key&&this._triggerConfirmEvent(e)},o._handleBlur=function(){var e=this.state,t=e.min,o=e.max,n=e.value;if(!1===this._isValid(n)){var r=Math.abs(n-t),i=Math.max(n-o);this.setState({value:i>r?o:t}),this.props.onConfirm(event,this.state.value)}},o._handleChangeInputValue=function(e){var t=""===e.target.value?"":Number(e.target.value);isNaN(t)||this.isCompositionChange?this.isCompositionChange=!1:(this.setState({value:t}),this.props.onChange(t),this.isCompositionChange=!1)},o._triggerConfirmEvent=function(e){this.props.onConfirm(e,this.state.value)},o._isValid=function(e){var t=this.state,o=t.min,n=t.max,r=Number(e),i=!1===Object(p.a)(r,o,n+1);return""===e||!i},o._handleClick=function(){this.props.autofocus&&this.focus()},t}(f.b.Component),l()(n.prototype,"_handleCompositionChange",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleCompositionChange"),n.prototype),l()(n.prototype,"_handleKeyDownHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleKeyDownHandler"),n.prototype),l()(n.prototype,"_handleKeyPressHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleKeyPressHandler"),n.prototype),l()(n.prototype,"_handleBlur",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleBlur"),n.prototype),l()(n.prototype,"_handleChangeInputValue",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChangeInputValue"),n.prototype),l()(n.prototype,"_handleClick",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n);y.defaultProps={className:"",placeholder:"",value:"",min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,autofocus:!1,onChange:function(){},onConfirm:function(){}},y.propTypes={className:f.a.string,placeholder:f.a.oneOfType([f.a.number,f.a.string]),value:f.a.oneOfType([f.a.number,f.a.string]),maxLength:f.a.number,min:f.a.number,max:f.a.number,autofocus:f.a.bool,onChange:f.a.func,onConfirm:f.a.func};var b=Object(m.b)(y);t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/numeric-input/index.jsx",localName:t}})}catch(e){}}e(y,"NumericInput"),e(b,"default")}()},400:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(54),l=o.n(c),u=o(49),p=o(347),d=o(224),h=o(1230),f=o(52),m=o(56),g=o(398),y=o(124),b=o(51),_=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={selectedValue:"default"},o}i()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e="click.se-toolbar-icon-select-"+this.props.name;h.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-icon-select-"+this.props.name;h.a.off(e)},t.getDerivedStateFromProps=function(e,t){return e.selectedValue!==t.selectedValue?{selectedValue:e.selectedValue}:null},o.render=function(){var e,t,o,n=this.props,r=n.id,i=n.isActivated,a=n.name,s=n.title,c=n.label,p=n.selectorLabel,d=n.value,h=n.action,f=n.namespace,_=n.documentToolbarIconType,v=n.deviceType,C=n.options,S=n.logAreaId,O=n.i18n,k=n.type,I=n.focused,w=n.logId,P=r,j=O(c),T=O(p),L=f===m.e.DOCUMENT,E=v===b.t.DESKTOP,N=l()("se-"+f+"-toolbar-"+k+"-container",i&&"se-is-activated","__select-container",((e={})["se-"+f+"-toolbar-"+_+"-container"]=E&&L,e)),x=l()("se-"+f+"-toolbar-"+k+"-button","se-"+a+"-"+this.state.selectedValue+"-toolbar-button",((t={})["se-"+_+"-toolbar-button"]=E&&L,t)),D=l()("se-"+f+"-toolbar-select-option-button",i&&"se-is-activated",((o={})["se-"+_+"-toolbar-select-option-button"]=E&&L,o));return u.b.createElement("div",{className:N,"data-type":m.b.ICON_SELECT,"data-name":a},u.b.createElement(y.a,{logId:w,namespace:f,type:k,dataName:P,dataValue:this.state.selectedValue,i18n:O,focused:I,className:x,logAreaId:S,handleClick:this.handleClick},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:"se-toolbar-tooltip"},O(s))),u.b.createElement(y.a,{className:D,namespace:f,type:k,dataName:P,i18n:O,handleClick:this.handleClickSelector,ariaExpanded:""+i,ariaHasPopup:"true"},u.b.createElement("span",{className:"se-toolbar-label","aria-hidden":"true"},T),u.b.createElement("span",{className:"se-toolbar-tooltip"},T)),u.b.createElement("span",{className:"se-toolbar-label","aria-hidden":"true"},j),i&&u.b.createElement(g.a,{id:r,name:a,options:C,value:d,action:h,namespace:f,type:k,optionType:m.c.ICON,logAreaId:S,i18n:O,onClickOption:this._handleClickOption}))},o.handleClick=function(e){var t=this.props,o=t.onClick,n=t.type,r=t.id,i=t.name,a=t.label,s=t.title,c=t.value,l=t.options,u=t.action;o.apply(this,[{event:e,type:n,id:r,name:i,label:a,title:s,value:c,action:u,options:l,selectedValue:this.state.selectedValue}])},o._handleClickOption=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];this.setState({selectedValue:t[0].value}),this.props.onClickOption.apply(this,t)},o._handleClickButtonOutside=function(e){var t=e.target;this.props.isActivated&&d.a.isOutsideElementbySelector(t,".__select-container")&&this.handleClickSelector({})},o.handleClickSelector=function(e){var t=this.props,o=t.onClickSelector,n=t.type,r=t.id,i=t.name,a=t.label;o.apply(this,[{event:e,type:n,id:r,name:i,label:a}])},t}(u.b.Component),s()(n.prototype,"handleClick",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleClick"),n.prototype),s()(n.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickOption"),n.prototype),s()(n.prototype,"_handleClickButtonOutside",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickButtonOutside"),n.prototype),s()(n.prototype,"handleClickSelector",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"handleClickSelector"),n.prototype),n);_.defaultProps={label:"",title:"",id:"",name:"",value:"",namespace:"",options:{},logAreaId:"",logId:"",onClick:function(){},onClickSelector:function(){},onClickOption:function(){},isActivated:!1,focused:!1,i18n:function(e){return e},selectedValue:""},_.propTypes={type:u.a.oneOf([m.b.ICON_SELECT]).isRequired,id:u.a.string,name:u.a.string,label:u.a.string,selectorLabel:u.a.string,action:u.a.string,title:u.a.string,value:u.a.string,namespace:u.a.string,options:u.a.oneOfType([u.a.array,u.a.object]),documentToolbarIconType:u.a.string,deviceType:u.a.string,logAreaId:u.a.string,logId:u.a.string,onClick:u.a.func,onClickSelector:u.a.func,onClickOption:u.a.func,i18n:u.a.func,isActivated:u.a.bool,focused:u.a.bool,selectedValue:u.a.string};var v=Object(p.b)(_);t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/icon-select-button.jsx",localName:t}})}catch(e){}}e(_,"IconSelectButton"),e(v,"default")}()},401:function(e,t,o){"use strict";o.d(t,"a",function(){return h});var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(49),u=o(212),p=o(52),d={DEFAULT:"DEFAULT",INSERT:"INSERT",DELETE:"DELETE",UPDATE:"UPDATE"},h=(n=function(e){function t(){var t;return(t=e.call(this)||this)._formulaComponentService=c.U.get("formulaComponentService"),t._formulaEditService=c.U.get("formulaEditService"),t._editingService=c.U.get("editingService"),t._propertyChangeService=c.U.get("propertyChangeService"),t._themeService=c.U.get("themeService"),t._i18n=c.U.get("i18n"),t._alertLayerService=c.U.get("alertLayerService"),t}i()(t,e);var o=t.prototype;return o.insertFormula=function(){if(u.a.UNDER_IE11)this._alertUnsupported();else{var e=this._formulaComponentService.getFormulaListWithNewFormula(),t=e.compList,o=e.newFormula;this._formulaEditService.openFormulaEditor({activeCompData:o,compList:t,callback:this._onEditSuccess.bind(this),fontSizeCode:this._getDefaultFontSizeCode()})}},o.editFormula=function(e){if(u.a.UNDER_IE11)this._alertUnsupported();else{var t=this._formulaComponentService.getFormulaCompList(),o=e||this._formulaComponentService.activeCompData();this._formulaEditService.openFormulaEditor({activeCompData:o,compList:t,callback:this._onEditSuccess.bind(this),fontSizeCode:this._getDefaultFontSizeCode()})}},o._alertUnsupported=function(){this._alertLayerService.open({type:c.n.ALERT,isDimUse:!1,title:this._i18n("commonPopup:recommended_browser_title"),description:this._i18n("commonPopup:recommended_browser_description")})},o._onInsertSuccess=function(e){this._updateFormulaDataList(e)},o._onEditSuccess=function(e){this._updateFormulaDataList(e)},o._getDefaultFontSizeCode=function(){return((this._themeService.getComponentThemeStyle("formula")||{}).default||{}).fontSizeCode},o._updateFormulaDataList=function(e){var t=this;e.forEach(function(e){var o=t._resolveFormulaComponentData(e);o.mode===d.INSERT?t._insertFormulaComponent(o):o.mode===d.UPDATE?t._updateFormulaComponent(o):o.mode===d.DELETE&&t._removeFormulaComponent(o)})},o._resolveFormulaComponentData=function(e){return e.fontSizeCode="fs"+e.fontSize,e},o._insertFormulaComponent=function(e){var t={sourceComponents:[this._formulaComponentService.createComponent(e)]};this._editingService.insert(t)},o._updateFormulaComponent=function(e){this._formulaComponentService.updateComponent(e)},o._removeFormulaComponent=function(e){this._editingService.eraseComponent(e.id)},t}(c.c),s()(n.prototype,"insertFormula",[p.preventOnComponentProcessing,l.d],Object.getOwnPropertyDescriptor(n.prototype,"insertFormula"),n.prototype),s()(n.prototype,"editFormula",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"editFormula"),n.prototype),s()(n.prototype,"_onInsertSuccess",[p.history],Object.getOwnPropertyDescriptor(n.prototype,"_onInsertSuccess"),n.prototype),s()(n.prototype,"_onEditSuccess",[p.history],Object.getOwnPropertyDescriptor(n.prototype,"_onEditSuccess"),n.prototype),n);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/formula-use-case.js",localName:t}})}catch(e){}}e(d,"FormulaEditTypes"),e(h,"FormulaUseCase")}()},402:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o(0),r=o.n(n),i=o(51),a=function(e){function t(){var t;return(t=e.call(this)||this)._chatLayerService=i.U.get("chatLayerService"),t._documentService=i.U.get("documentService"),t._chatComponentService=i.U.get("chatComponentService"),t._storageService=i.U.get("storageService"),t}r()(t,e);var o=t.prototype;return o.insertChat=function(){var e=this._getLastWriters()||[];this._chatLayerService.open({writers:e})},o.editChat=function(){var e=this._chatComponentService.getSelectedCompStore(),t=e.messages,o=e.writers,n=e.id;this._chatLayerService.open({messages:t,writers:o,compId:n})},o._getLastWriters=function(){var e=this._storageService.getStorageData("chat-layer-last-writers");if(!e)return null;var t=this._documentService.getDocumentId(),o=e.docId,n=e.writers;return t===o?n:(this._storageService.setStorageData("chat-layer-last-writers",null),null)},t}(i.c);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/chat-use-case.js",localName:t}})}catch(e){}}e("chat-layer-last-writers","LAST_WRITERS_STORAGE_KEY"),e(a,"ChatUseCase")}()},403:function(e,t,o){"use strict";var n,r,i=o(0),a=o.n(i),s=o(50),c=o.n(s),l=o(51),u=o(49),p=o(52),d=(n=Object(p.history)({throttle:!0}),r=function(e){function t(){var t;return(t=e.call(this)||this)._specialLetterLayerService=l.U.get("specialLetterLayerService"),t._editingService=l.U.get("editingService"),t._storageService=l.U.get("storageService"),t}a()(t,e);var o=t.prototype;return o.close=function(){this._specialLetterLayerService.close()},o.insertSpecialLetter=function(e){var t=this._specialLetterLayerService.getRecentSpecialLetterList(e),o=t.key,n=t.list;this._editingService.writeSpecialCharacter(e),this._specialLetterLayerService.updateRecentSpecialLetterList(n),this._storageService.setStorageData(o,n)},o.changeLetterGroup=function(e){this._specialLetterLayerService.changeLetterGroup(e)},o.hasChangedPosition=function(){this._specialLetterLayerService.hasChangedPosition()},t}(l.m),c()(r.prototype,"close",[u.d],Object.getOwnPropertyDescriptor(r.prototype,"close"),r.prototype),c()(r.prototype,"insertSpecialLetter",[n,u.d],Object.getOwnPropertyDescriptor(r.prototype,"insertSpecialLetter"),r.prototype),c()(r.prototype,"changeLetterGroup",[u.d],Object.getOwnPropertyDescriptor(r.prototype,"changeLetterGroup"),r.prototype),c()(r.prototype,"hasChangedPosition",[u.d],Object.getOwnPropertyDescriptor(r.prototype,"hasChangedPosition"),r.prototype),r),h=d;t.a=h,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/special-letter-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(d,"SpecialLetterLayerUseCase"),e(h,"default")}()},404:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={SPECIAL_LETTER_ID:"special-letter",STORAGE_VALUE_MAX_LENGTH:120,POPUP_OFFSET_CORRECTION:11},r={DefaultValues:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/special-letter-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"DefaultValues"),e(r,"default")}()},405:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(51),h=o(49),f=o(52),m=o(194),g=o(212),y=(n=function(e){function t(){var t;return(t=e.call(this)||this)._placeLayerService=d.U.get("placeLayerService"),t._eventDispatcherService=d.U.get("eventDispatcherService"),t._editingService=d.U.get("editingService"),t._i18n=d.U.get("i18n"),t._finderService=d.U.get("finderService"),t._alertLayerService=d.U.get("alertLayerService"),t._selectionInfoStore=d.U.get("selectionInfoStore"),t._locationPrivacyService=d.U.get("locationPrivacyService"),t}l()(t,e);var o=t.prototype;return o.open=function(e){var t=void 0===e?{}:e,o=t.option,n=void 0===o?{}:o,r=t.events,i=void 0===r?{}:r;this._events=i,this._placeLayerService.open(n)},o.confirm=function(){var e=s()(i.a.mark(function e(t){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=[]),e.next=3,this._placeLayerService.fetchStaticMap(t);case 3:if(o=e.sent){e.next=6;break}return e.abrupt("return",null);case 6:this._events&&this._events.confirm?this._events.confirm({places:t,thumbnail:o}):(n=this._placeLayerService.createComponent({places:t,imgUrl:o}),this._placeLayerService.isUpdateMode()?this._placeLayerService.resolve(n):this._editingService.insert({sourceComponents:[n]})),this.close();case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.cancel=function(){this._events&&this._events.cancel&&this._events.cancel(),this.close()},o.close=function(){this._placeLayerService.resolve(null),this._placeLayerService.close(),this._events=null},o.loadInitializeData=function(){var e=s()(i.a.mark(function e(){var t,o,n,r,a,s,c,l,u,p,d,h,f;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g.a.UNDER_IE11||!this._placeLayerService.isOverseas()){e.next=5;break}this.close(),this._alertUnsupported(),e.next=46;break;case 5:if(this._placeLayerService.isJsLoadError()){e.next=45;break}if(t=this._locationPrivacyService.isAllowedAccess(),o=this._placeLayerService.getSupportRegion(),n={initialized:!0,supportRegion:o},!t){e.next=42;break}if(r=this._finderService.getInternalResourceImagesOnDocument(),a=this._placeLayerService.groupByLocation(r),s=a.queries,c=a.coordinates,l=s.length>0,u=c.length>0,!l&&!u||o!==m.e.BOTH){e.next=37;break}if(p=[],!l){e.next=23;break}return e.next=19,this._placeLayerService.fetchImageExif(s);case 19:if(e.t0=e.sent,e.t0){e.next=22;break}e.t0=[];case 22:p=e.t0;case 23:if(this._locationPrivacyService.writeUserLocation(),!u){e.next=32;break}return e.next=27,this._placeLayerService.fetchDomesticBulkCheck(c);case 27:if(e.t1=e.sent,e.t1){e.next=30;break}e.t1=[];case 30:(d=e.t1).length>0&&(d.forEach(function(e,t){c[t].isLocalCoordinate=e.isLocalCoordinate}),p=p.concat(c));case 32:if(!(p.length>0)){e.next=37;break}return e.next=35,this._placeLayerService.getSuggestion(p);case 35:(h=e.sent)&&(n.initialSearch=h);case 37:if(n.initialSearch){e.next=42;break}return e.next=40,this._placeLayerService.fetchCoordByIp();case 40:(f=e.sent)&&(n.initialCenter=f);case 42:this._placeLayerService.updateInitializeData(n),e.next=46;break;case 45:this.close();case 46:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.autocomplete=function(){var e=s()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._placeLayerService.fetchAutocomplete(t);case 2:(o=e.sent)&&this._placeLayerService.updateAutocompleteData(o);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.selectKeyword=function(){var e=s()(i.a.mark(function e(t){var o,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.description,!(n=t.placeId)){e.next=8;break}return e.next=4,this._placeLayerService.fetchSearchByPlaceId(n);case 4:r=e.sent,this._placeLayerService.updateSearchData({items:[r],pagination:{itemCount:1,currentPage:1,hasNextPage:!1}}),e.next=10;break;case 8:return e.next=10,this.search(o);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.search=function(){var e=s()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._placeLayerService.startSearching(),e.prev=1,e.next=4,this._placeLayerService.fetchSearch(t);case 4:o=e.sent,this._placeLayerService.updateSearchData(o),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.failed&&this._showSearchError();case 12:return e.prev=12,this._placeLayerService.stopSearching(),e.finish(12);case 15:case"end":return e.stop()}},e,this,[[1,8,12,15]])}));return function(t){return e.apply(this,arguments)}}(),o.nextpage=function(){var e=s()(i.a.mark(function e(t){var o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._placeLayerService.fetchNextPage(t);case 3:o=e.sent,this._placeLayerService.updateSearchData(o),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.failed&&this._showSearchError();case 11:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t){return e.apply(this,arguments)}}(),o.addPlace=function(){var e=s()(i.a.mark(function e(t){var o,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.place,!this._placeLayerService.isAddedPlace(o)){e.next=3;break}return e.abrupt("return",null);case 3:if(this._placeLayerService.isIdenticalRegionOfAddedPlace(o)){e.next=6;break}return this._showAlert({title:"error_different_region_type_title",description:"error_different_region_type_desc"}),e.abrupt("return",null);case 6:if(this._placeLayerService.getSupportRegion()!==m.e.BOTH){e.next=13;break}return e.next=10,this._checkPlaceCoordinate(o);case 10:if(e.sent){e.next=13;break}return e.abrupt("return",null);case 13:if(!this._placeLayerService.isFullPlace()){e.next=17;break}return n=this._placeLayerService.getMaxPlaceCount(),this._placeLayerService.showToast({type:m.f.EXCEEDED_MAX_LIMIT,payload:{maxPlaceCount:n}}),e.abrupt("return",null);case 17:this._placeLayerService.addPlaces([o]);case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.addPlaceByInfoWindow=function(e){this._placeLayerService.updateEditingInfoWindowData(null),this.addPlace({place:e})},o.openEditingInfoWindow=function(){var e=s()(i.a.mark(function e(t){var o,n=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._placeLayerService.fetchGeocode(t);case 3:if(!(o=e.sent)){e.next=10;break}if(!this._placeLayerService.isAddedPlace(o)){e.next=7;break}return e.abrupt("return");case 7:this._placeLayerService.updateEditingInfoWindowData(o),e.next=11;break;case 10:this._showAlert({title:"error_geocoding_title",description:"error_geocoding_desc",onClickConfirm:function(){n.changeIndicatorStatus(!1)}});case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),e.t0.failed&&this._showAlert({title:"error_geocoding_title",description:"error_geocoding_api_desc",onClickConfirm:function(){n.changeIndicatorStatus(!1)}});case 17:case"end":return e.stop()}},e,this,[[0,13]])}));return function(t){return e.apply(this,arguments)}}(),o.removePlace=function(e){this._placeLayerService.removePlace(e)},o.changeIndicatorStatus=function(e){this._placeLayerService.updateIndicatorStatus(e),e||this._placeLayerService.updateEditingInfoWindowData(null)},o.updateEditingInfoWindow=function(e){this._placeLayerService.updateEditingInfoWindowData(e)},o._checkPlaceCoordinate=function(){var e=s()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.__isDomestic){e.next=3;break}return e.abrupt("return",!0);case 3:return e.next=5,this._placeLayerService.fetchDomesticCheck(t.latlng);case 5:if(!e.sent){e.next=9;break}return this._showAlert({title:"error_domestic_item_with_google_title",description:"error_domestic_item_with_google"}),e.abrupt("return",!1);case 9:return e.abrupt("return",!0);case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.highlight=function(e){if("click"===e.type){var t=e.item;this._placeLayerService.isIdenticalRegion(t)||this._placeLayerService.updateRegionType(t.__isDomestic?m.c.DOMESTIC:m.c.OVERSEAS,!0)}this._placeLayerService.updateHighlightData(e)},o.updateRegionType=function(e){var t=this,o=this._placeLayerService.hasPlaces();if(g.a.UNDER_IE11)return this._alertUnsupported(),!1;o?this._showAlert({type:d.n.CONFIRM,title:"has_places_title",description:"has_places_description",onClickConfirm:function(){return t._placeLayerService.updateRegionType(e)}}):this._placeLayerService.updateRegionType(e)},o._showAlert=function(e){var t=e.type,o=void 0===t?d.n.ALERT:t,n=e.title,r=e.description,i=e.onClickConfirm,a=void 0===i?function(){}:i;this._alertLayerService.open({type:o,isDimUse:!1,title:this._i18n("placeLayer:"+n),description:this._i18n("placeLayer:"+r),onClickConfirm:a})},o._showSearchError=function(){this._showAlert({title:"error_search_title",description:"error_search_desc"})},o._alertUnsupported=function(){this._alertLayerService.open({type:d.n.ALERT,isDimUse:!1,title:this._i18n("commonPopup:recommended_browser_title"),description:this._i18n("commonPopup:recommended_browser_description")})},o.updateJsLoadErrorStatus=function(e){this._placeLayerService.updateJsLoadErrorStatus(e)},o.overPlaceNameLength=function(e){this._placeLayerService.showToast({type:m.f.EXCEEDED_MAX_PLACE_NAME,payload:{maxPlaceNameLength:e}})},t}(d.m),p()(n.prototype,"confirm",[f.history,h.d],Object.getOwnPropertyDescriptor(n.prototype,"confirm"),n.prototype),p()(n.prototype,"close",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),p()(n.prototype,"loadInitializeData",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"loadInitializeData"),n.prototype),p()(n.prototype,"autocomplete",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"autocomplete"),n.prototype),p()(n.prototype,"selectKeyword",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"selectKeyword"),n.prototype),p()(n.prototype,"search",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"search"),n.prototype),p()(n.prototype,"nextpage",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"nextpage"),n.prototype),p()(n.prototype,"addPlace",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"addPlace"),n.prototype),p()(n.prototype,"addPlaceByInfoWindow",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"addPlaceByInfoWindow"),n.prototype),p()(n.prototype,"openEditingInfoWindow",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"openEditingInfoWindow"),n.prototype),p()(n.prototype,"removePlace",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"removePlace"),n.prototype),p()(n.prototype,"changeIndicatorStatus",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"changeIndicatorStatus"),n.prototype),p()(n.prototype,"updateEditingInfoWindow",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"updateEditingInfoWindow"),n.prototype),p()(n.prototype,"highlight",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"highlight"),n.prototype),p()(n.prototype,"updateRegionType",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"updateRegionType"),n.prototype),p()(n.prototype,"updateJsLoadErrorStatus",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"updateJsLoadErrorStatus"),n.prototype),p()(n.prototype,"overPlaceNameLength",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"overPlaceNameLength"),n.prototype),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(y,"PlaceLayerUseCase"),e(b,"default")}()},406:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b,_,v=o(59),C=o.n(v),S=o(61),O=o.n(S),k=o(1),I=o.n(k),w=o(57),P=o.n(w),j=o(0),T=o.n(j),L=o(50),E=o.n(L),N=(o(62),o(16)),x=o(464),D=o(88),R=o(92),A=o(116),U=o(108),M=o(51),B=o(49),F=o(194),z=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,O()(o,"regionType",r,P()(o)),O()(o,"opened",i,P()(o)),O()(o,"indicatorActivated",a,P()(o)),O()(o,"initialized",s,P()(o)),O()(o,"autocompleteData",c,P()(o)),O()(o,"searchData",l,P()(o)),O()(o,"editingInfoWindowData",u,P()(o)),O()(o,"isSearching",p,P()(o)),O()(o,"initialKeyword",d,P()(o)),O()(o,"places",h,P()(o)),O()(o,"highlightData",f,P()(o)),O()(o,"maxPlaceCount",m,P()(o)),O()(o,"toastInfo",g,P()(o)),O()(o,"initialCenter",y,P()(o)),O()(o,"jsErrorStatus",b,P()(o)),O()(o,"supportRegion",_,P()(o)),o.maxPageSize=5,o.maxItemsPerPage=7,o.maxItemsOfAutocomplete=8,o.maxItemsAdded=5,o.channel="naver_editorpencil",o.gmapApiKey="AIzaSyDKo6MfoC1plkhfaMG_fS87pSQjOUMlOhA",o.maxPlaceNameLength=1/0;var n=t,v=n.state,C=void 0===v?{}:v,S=n.config,k=void 0===S?{}:S;return o.regionType=Object(N.a)(C,"regionType",o.regionType),o.opened=Object(N.a)(C,"opened",o.opened),o.indicatorActivated=Object(N.a)(C,"indicatorActivated",o.indicatorActivated),o.initialized=Object(N.a)(C,"initialized",o.initialized),o.autocompleteData=Object(N.a)(C,"autocompleteData",o.autocompleteData),o.searchData=Object(N.a)(C,"searchData",o.searchData),o.editingInfoWindowData=Object(N.a)(C,"editingInfoWindowData",o.editingInfoWindowData),o.isSearching=Object(N.a)(C,"isSearching",o.isSearching),o.initialKeyword=Object(N.a)(C,"initialKeyword",o.initialKeyword),o.places=Object(N.a)(C,"places",o.places),o.maxPageSize=Object(N.a)(k,"maxPageSize",o.maxPageSize),o.maxItemsPerPage=Object(N.a)(k,"maxItemsPerPage",o.maxItemsPerPage),o.maxItemsOfAutocomplete=Object(N.a)(k,"maxItemsOfAutocomplete",o.maxItemsOfAutocomplete),o.maxItemsAdded=Object(N.a)(k,"maxItemsAdded",o.maxItemsAdded),o.maxWidthOfInfoWindow=Object(N.a)(k,"maxWidthOfInfoWindow",o.maxWidthOfInfoWindow),o.maxPlaceNameLength=Object(N.a)(k,"maxPlaceNameLength",o.maxPlaceNameLength),o._updateVariableByExternalConfig(),o}T()(t,e);var o=t.prototype;return o._updateVariableByExternalConfig=function(){var e=M.U.get("configAgent");this.markerIcons=e.get("editorInfo.placesMapInfo");var t=e.get("plugins.layoutSettings.placeLayer.config.supportRegion");this.supportRegion=Object(U.a)(F.e,t)?t:this.supportRegion,this.channel=e.get("infraInfo.mapInfra.googleMapChannelId")||this.channel,this.gmapApiKey=e.get("infraInfo.mapInfra.googleMapClientKey")||this.gmapApiKey},o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this._reset()},o.updateAutocompleteData=function(e){this.autocompleteData=e},o.updateSearchingStatus=function(e){e&&(this.autocompleteData=null,this.searchData=null),this.isSearching=e},o.updateHighlightData=function(e){this.highlightData=e},o.updateInitializeData=function(e){var t=e.initialCenter,o=void 0===t?null:t,n=e.initialPlaces,r=void 0===n?this.places:n,i=e.initialKeyword,a=void 0===i?"":i,s=e.initialSearch,c=void 0===s?null:s,l=e.maxPlaceCount,u=e.supportRegion,p=void 0===u?null:u,d=e.initialized,h=void 0===d?this.initialized:d,f=Object(N.a)(c,"items",null),m=this._hasOverseas(f)||this._hasOverseas(r);this.initialized=h,this.supportRegion=Object(U.a)(F.e,p)?p:this.supportRegion,(this.supportRegion===F.e.BOTH&&m||this.supportRegion===F.e.OVERSEAS)&&(this.regionType=F.c.OVERSEAS),this.places=r,this.maxPlaceCount=l||this.maxPlaceCount||this.maxItemsAdded,this.initialKeyword=a,this.searchData=c,this.initialCenter=o},o.updateJsLoadErrorStatus=function(e){this.jsErrorStatus=e},o.showToast=function(e){this.toastInfo=C()({id:M.Z.generate()},e)},o.hideToast=function(){this.toastInfo=null},o.addPlaces=function(e){var t=this.places.slice();this.places=[].concat(t,e),this.indicatorActivated=!1},o.removePlace=function(e){Object(x.a)(this.places,function(t){return Object(D.a)(t,e)})},o.resetPlaces=function(){this.places.replace([])},o._reset=function(){this.initialized=!1,this.maxPlaceCount=this.maxItemsAdded,this.initialKeyword="",this.regionType=F.c.DOMESTIC,this._resetLayer()},o._resetLayer=function(){this.searchData=null,this.editingInfoWindowData=null,this.isSearching=!1,this.indicatorActivated=!1,this.highlightData=null,this.toastInfo=null,this.places=[],this.jsErrorStatus=!1},o._isAdded=function(e){return Object(R.a)(this.places,e)>-1},o._isHighlight=function(e){var t=this.highlightData&&this.highlightData.item||{};return!this.editingInfoWindowData&&e.name===t.name&&e.address===t.address&&e.placeId===t.placeId},o._makeUid=function(e){var t=e.latlng;return t.latitude+","+t.longitude+","+e.placeId},o._refinePlaces=function(){var e=this,t=[];return this.places.forEach(function(o,n){t.push(C()({},o,{pIndex:n,zIndex:100,uid:e._makeUid(o),isAdded:!0,isHighlight:e._isHighlight(o)}))}),t},o._refineSearchResultExceptAdded=function(){var e=this,t=[];return Object(N.a)(this.searchData,"items",[]).forEach(function(o){if(!e._isAdded(o)){var n=e._isHighlight(o),r=n?200:1;t.push(C()({},o,{zIndex:r,uid:e._makeUid(o),isAdded:!1,isHighlight:n}))}}),t},o.updateSearchData=function(e){var t=Object(N.a)(e,"items",null);if(t&&t.length>0){var o=this._hasOverseas(t)?F.c.OVERSEAS:F.c.DOMESTIC;this.regionType!==o&&(this.regionType=o)}this.editingInfoWindowData=null,this.indicatorActivated=!1,this.highlightData=null,this.searchData=e},o.updateIndicatorStatus=function(e){e&&(this.searchData=null,this.autocompleteData=null,this.editingInfoWindowData=null),this.indicatorActivated=e},o.updateEditingInfoWindowData=function(e){this.editingInfoWindowData=e},o.updateRegionType=function(e,t){t||this._resetLayer(),this.autocompleteData=null,this.regionType=e},o.updateCompData=function(e){this.compData=e},o._hasOverseas=function(e){return!!e&&Object(A.a)(e,["__isDomestic",!1])},I()(t,[{key:"isDomestic",get:function(){return this.regionType===F.c.DOMESTIC}},{key:"isFullPlace",get:function(){return this.places.length===this.maxPlaceCount}},{key:"mapCursor",get:function(){var e=this.regionType===F.c.DOMESTIC?"open":"url("+window.location.protocol+"//maps.gstatic.com/mapfiles/openhand_8_8.cur),default";return this.indicatorActivated?"crosshair":e}},{key:"refinedSearchResult",get:function(){var e=this,t=[],o=Object(N.a)(this.searchData,"items",[]),n=Object(N.a)(this.searchData,"pagination"),r=Object(N.a)(this.searchData,"status");return o.forEach(function(o){var n=e._isHighlight(o);t.push(C()({},o,{uid:e._makeUid(o),isAdded:e._isAdded(o),isHighlight:n,zIndex:n?100:1}))}),{items:t,pagination:n,status:r}}},{key:"mapMarkers",get:function(){var e=this._refineSearchResultExceptAdded(),t=this._refinePlaces();return[].concat(e,t)}},{key:"mapModel",get:function(){var e=Object(N.a)(this.highlightData,"type",null),t=Object(N.a)(this.searchData,"items",null),o=this.editingInfoWindowData,n=this.isDomestic,r=F.a.overseas,i=F.a.domestic,a=this.initialCenter;n||(a=null);var s={};if(o)return s.zoom=n?i:r,s.center=o.latlng,s;switch(e){case"click":s.zoom=n?i:r,s.center=this.highlightData.item.latlng;break;case"mouseenter":break;default:s.boundary=t||(this.places.length?this.places:null),s.boundary?s.zoom=n?i:r:s.zoom=a?i:n?i:1,s.center=a}return s}}]),t}(M.e),r=E()(n.prototype,"regionType",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.c.DOMESTIC}}),i=E()(n.prototype,"opened",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=E()(n.prototype,"indicatorActivated",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=E()(n.prototype,"initialized",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=E()(n.prototype,"autocompleteData",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=E()(n.prototype,"searchData",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=E()(n.prototype,"editingInfoWindowData",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=E()(n.prototype,"isSearching",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=E()(n.prototype,"initialKeyword",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=E()(n.prototype,"places",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=E()(n.prototype,"highlightData",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=E()(n.prototype,"maxPlaceCount",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=E()(n.prototype,"toastInfo",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=E()(n.prototype,"initialCenter",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=E()(n.prototype,"jsErrorStatus",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=E()(n.prototype,"supportRegion",[B.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.e.BOTH}}),E()(n.prototype,"isDomestic",[B.e],Object.getOwnPropertyDescriptor(n.prototype,"isDomestic"),n.prototype),E()(n.prototype,"isFullPlace",[B.e],Object.getOwnPropertyDescriptor(n.prototype,"isFullPlace"),n.prototype),E()(n.prototype,"mapCursor",[B.e],Object.getOwnPropertyDescriptor(n.prototype,"mapCursor"),n.prototype),E()(n.prototype,"refinedSearchResult",[B.e],Object.getOwnPropertyDescriptor(n.prototype,"refinedSearchResult"),n.prototype),E()(n.prototype,"mapMarkers",[B.e],Object.getOwnPropertyDescriptor(n.prototype,"mapMarkers"),n.prototype),E()(n.prototype,"mapModel",[B.e],Object.getOwnPropertyDescriptor(n.prototype,"mapModel"),n.prototype),n),W=z;t.a=W,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/place-layer/src/store/index.js",localName:t}})}catch(e){}}e(z,"PlaceLayerStore"),e(W,"default")}()},407:function(e,t,o){"use strict";var n,r,i,a=o(12),s=o.n(a),c=o(18),l=o.n(c),u=o(0),p=o.n(u),d=o(50),h=o.n(d),f=o(51),m=o(49),g=o(52),y=o(195),b=o(378),_=(n=Object(g.history)({sync:!1}),r=Object(g.history)({sync:!1}),i=function(e){function t(){var t;return(t=e.call(this)||this)._imageTypeLayerService=f.U.get("imageTypeLayerService"),t._imageBehavior=f.U.get("imageBehavior"),t._imageUploadService=f.U.get("imageUploadService"),t}p()(t,e);var o=t.prototype;return o.confirm=function(){var e=l()(s.a.mark(function e(t){var o,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.type,n=t.data,this.close(),e.t0=o,e.next="list"===e.t0?5:"gif"===e.t0?8:"collage"===e.t0?9:"slide"===e.t0?12:15;break;case 5:return e.next=7,this._insertImage(n);case 7:case 8:return e.abrupt("break",16);case 9:return e.next=11,this._insertGroupImage(y.b.COLLAGE,n);case 11:return e.abrupt("break",16);case 12:return e.next=14,this._insertGroupImage(y.b.SLIDE,n);case 14:case 15:return e.abrupt("break",16);case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.close=function(){this._imageTypeLayerService.close()},o._insertImage=function(){var e=l()(s.a.mark(function e(t){var o,n,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.type,n=t.payload,r=t.insertInterceptor,i=t.serviceType,o!==b.a.FILE){e.next=6;break}return e.next=4,this._imageBehavior.insertImage(n,r);case 4:e.next=9;break;case 6:if(o!==b.a.SNS){e.next=9;break}return e.next=9,this._imageBehavior.insertImageFromUrls(n,i);case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o._insertGroupImage=function(){var e=l()(s.a.mark(function e(t,o){var n,r,i,a,c,l,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.type,r=o.payload,i=o.insertInterceptor,a=o.serviceType,c=r.validFiles,l=void 0===c?[]:c,u=this._imageUploadService.getExceededCountByMax(l.length),1!==l.length-u){e.next=9;break}return e.next=7,this._imageBehavior.insertImage(r,i);case 7:e.next=17;break;case 9:if(n!==b.a.FILE){e.next=14;break}return e.next=12,this._imageBehavior.insertGroupImage(t,r,i);case 12:e.next=17;break;case 14:if(n!==b.a.SNS){e.next=17;break}return e.next=17,this._imageBehavior.insertImageGroupFromUrls(t,r,a);case 17:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t}(f.m),h()(i.prototype,"confirm",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"confirm"),i.prototype),h()(i.prototype,"close",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"close"),i.prototype),h()(i.prototype,"_insertImage",[n,m.d],Object.getOwnPropertyDescriptor(i.prototype,"_insertImage"),i.prototype),h()(i.prototype,"_insertGroupImage",[r,m.d],Object.getOwnPropertyDescriptor(i.prototype,"_insertGroupImage"),i.prototype),i),v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-type-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(_,"ImageTypeLayerUseCase"),e(v,"default")}()},408:function(e,t,o){"use strict";var n,r,i,a,s=o(61),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=o(50),f=o.n(h),m=(o(62),o(16)),g=o(51),y=o(49),b=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,c()(o,"data",r,u()(o)),c()(o,"opened",i,u()(o)),c()(o,"isGroupImageAvailable",a,u()(o)),o.maxGroupImageLength=10;var n=t,s=n.state,l=void 0===s?{}:s,p=n.config,d=void 0===p?{}:p;return o.data=Object(m.a)(l,"data",o.data),o.opened=Object(m.a)(l,"opened",o.opened),o.dimColor=Object(m.a)(d,"dimColor","transparent"),o.isGroupImageAvailable=Object(m.a)(l,"isGroupImageAvailable",o.isGroupImageAvailable),o.maxGroupImageLength=Object(m.a)(d,"maxGroupImageLength",o.maxGroupImageLength),o}d()(t,e);var o=t.prototype;return o.open=function(e){this.data=e,this.opened=!0,this.isGroupImageAvailable=e.payload.length<=this.maxGroupImageLength},o.close=function(){this.data={},this.opened=!1},t}(g.e),r=f()(n.prototype,"data",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),i=f()(n.prototype,"opened",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=f()(n.prototype,"isGroupImageAvailable",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),n),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-type-layer/src/store/index.js",localName:t}})}catch(e){}}e(b,"ImageTypeLayerStore"),e(_,"default")}()},409:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(49),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._imageLocationEditLayerService=c.U.get("imageLocationEditLayerService"),t}i()(t,e);var o=t.prototype;return o.removeLocation=function(){this._imageLocationEditLayerService.remove(),this.close()},o.changeLocation=function(){this._imageLocationEditLayerService.change(),this.close()},o.close=function(){this._imageLocationEditLayerService.close()},t}(c.m),s()(n.prototype,"removeLocation",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"removeLocation"),n.prototype),s()(n.prototype,"changeLocation",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLocation"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-location-edit-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"ImageLocationEditLayerUseCase"),e(p,"default")}()},410:function(e,t,o){"use strict";var n,r,i=o(61),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=(o(62),o(51)),f=o(49),m=(n=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];return t=e.call.apply(e,[this].concat(n))||this,a()(t,"opened",r,c()(t)),t}u()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1},t}(h.e),r=d()(n.prototype,"opened",[f.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-location-edit-layer/src/store/index.js",localName:t}})}catch(e){}}e(m,"ImageLocationEditLayerStore"),e(g,"default")}()},411:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b,_,v,C,S,O,k,I,w,P,j,T,L=o(17),E=o.n(L),N=o(61),x=o.n(N),D=o(1),R=o.n(D),A=o(57),U=o.n(A),M=o(0),B=o.n(M),F=o(50),z=o.n(F),W=(o(62),o(67)),V=o(121),G=o(16),H=o(3),q=o(25),J=o(69),K=o(177),Y=o(20),X=o(108),Q=o(101),Z=o(51),$=o(996),ee=o(1231),te=o(49),oe=o(196),ne=o(1284),re=o(526),ie=o(531),ae=o(172),se=Object(q.a)(function(e){return new Promise(function(t,o){var n=new Image;n.onload=function(){t({width:n.width,height:n.height})},n.onerror=function(t){se.cache.delete(e),o(t)},n.src=e})}),ce=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"query",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.domain="",o.thumbnailTypeMap={},o.imageMinimumHeight=0,o.imageMinimumWidth=0,o.documentWidth=null,o.imageTag={},x()(o,"layout",r,U()(o)),x()(o,"contentMode",i,U()(o)),x()(o,"align",a,U()(o)),x()(o,"src",s,U()(o)),x()(o,"width",c,U()(o)),x()(o,"height",l,U()(o)),x()(o,"originalWidth",u,U()(o)),x()(o,"originalHeight",p,U()(o)),x()(o,"alt",d,U()(o)),x()(o,"caption",h,U()(o)),x()(o,"place",f,U()(o)),x()(o,"location",m,U()(o)),x()(o,"path",g,U()(o)),x()(o,"internalResource",y,U()(o)),x()(o,"fileSize",b,U()(o)),x()(o,"link",_,U()(o)),x()(o,"widthPercentage",v,U()(o)),x()(o,"format",C,U()(o)),x()(o,"displayFormat",S,U()(o)),x()(o,"phase",O,U()(o)),x()(o,"represent",k,U()(o)),x()(o,"mediaMeta",I,U()(o)),x()(o,"origin",w,U()(o)),x()(o,"imageLoaded",P,U()(o)),x()(o,"mediaTags",j,U()(o)),x()(o,"representativeEnabled",T,U()(o)),o.serviceData=null,o.onRenderServiceDataButton=null,o.onClickServiceDataButton=null;var n=t,L=n.state,E=void 0===L?{}:L,N=n.config,D=void 0===N?{}:N;o._config=D,o._configAgent=Z.U.get("configAgent"),o._componentFactory=Z.U.get("componentFactory"),o._sentryManager=Z.U.get("sentryManager"),o.attributes=Object(J.a)(o.attributes,D.attributes),o.thumbnailTypeMap=D.thumbnailTypeMap||o._configAgent.get("editorInfo.thumbnailType")||{normal:"w1000",vr360:"preview1200_675",panorama:"preview1200_675"},o.imageMinimumHeight=D.imageMinimumHeight||o._configAgent.get("editorInfo.imageMinimumHeight"),o.imageMinimumWidth=D.imageMinimumWidth||o._configAgent.get("editorInfo.imageMinimumWidth"),o.useOriginalImage=o._configAgent.get("infraConfig.image.useOriginalImage"),o.documentWidth=o._configAgent.get("productConfig.documentWidth"),o.enableLocation=!1!==Object(G.a)(D,"enableLocation",!1),o.enableLocationMinimumImageWidth=Object(G.a)(D,"enableLocation.minimumImageWidth"),o.enableLocationMinimumImageHeight=Object(G.a)(D,"enableLocation.minimumImageHeight");var R=o._configAgent.get("productConfig.imageTag");if("boolean"==typeof R?R||(o.imageTag=null):"object"==typeof R&&(o.imageTag=R),E.key)o.id=Object(G.a)(E,"key",o.id),o.src=E.domain+E.path||o.src,o.domain=Object(G.a)(E,"domain",o.domain),o.path=Object(G.a)(E,"path",o.path),o.originalWidth=Object(G.a)(E,"width",o.originalWidth),o.originalHeight=Object(G.a)(E,"height",o.originalHeight),o.internalResource=!0,o.represent=!1;else{o.layout=Object(G.a)(E,"layout",o.layout),o.align=Object(G.a)(E,"align",o.align),o.src=o._getValidSrc(Object(G.a)(E,"src",o.src)),o.width=Object(G.a)(E,"width"),o.height=Object(G.a)(E,"height"),o.originalWidth=E.originalWidth||o.width,o.originalHeight=E.originalHeight||o.height,o.originalWidth&&o.originalHeight?o.width&&o.height?o._resolveWidthAndHeight({width:o.width,height:o.height}):(o._updateSize(o.originalWidth,o.originalHeight),o._resolveWidthAndHeight({width:o.width,height:o.height})):(delete E.contentMode,se(o._imageUrl).then(function(e){var t=e.width,n=e.height;o._updateSize(t,n),o.originalWidth=o.width,o.originalHeight=o.height,o._resolveWidthAndHeight({width:o.width,height:o.height}),o._resolveContentModeBySize()}));var A=Object(G.a)(E,"path",o.path);o.path=re.a.getEncodeUrl(A),o.alt=Object(G.a)(E,"alt",o.alt),o.caption=o._createCaptionTextUnitStore(E.caption,D.caption),o.place=Object(G.a)(E,"place",o.place),o.location=o._extractLocation(E),o.domain=Object(G.a)(E,"domain",o._configAgent.get("infraInfo.photoInfra.imageHost")),o.internalResource=Object(G.a)(E,"internalResource",o.internalResource),o.fileSize=Object(G.a)(E,"fileSize",o.fileSize),o.fileName=Object(G.a)(E,"fileName",o.fileName),o.link=Object(G.a)(E,"link",o.link),o.widthPercentage=Object(G.a)(E,"widthPercentage",o.widthPercentage),o.format=Object(G.a)(E,"format",o.format),o.displayFormat=Object(G.a)(E,"displayFormat",o.displayFormat),o.phase=o._resolveComponentPhase(E),o.represent=Object(G.a)(E,"represent",o.represent),o.mediaMeta=Object(G.a)(E,"mediaMeta",o.mediaMeta),o.contentMode=Object(G.a)(E,"contentMode"),o.allowVR360OrPanorama=Object(G.a)(E,"allowVR360OrPanorama",!0),o.mediaTags=Object(G.a)(E,"mediaTags",o.mediaTags),o.serviceData=Object(G.a)(E,"serviceData",o.serviceData),o.onClickServiceDataButton=D.onClickServiceDataButton,o.onRenderServiceDataButton=D.onRenderServiceDataButton}return o.origin=Object(G.a)(E,"origin",{ctype:"imageOrigin",srcFrom:"local"}),o.imageLoaded=Object(G.a)(E,"imageLoaded",!1),o.updateConfig(),o._resolveImageFormat(E),o._resolveThumbnailType(),E.contentMode?o._resolveSizeByContentMode():o._resolveContentModeBySize(),!0===o.internalResource&&""===o.path&&o.phase===Z.M.DONE&&o._sentryManager.withScope(function(e){e.setLevel("info"),e.setExtra("logger","ImageComponentStore.constructor"),e.setExtra("cause","내부 리소스일 경우 path 값 필수!"),e.setExtra("data",o.toPlainJSON()),o._sentryManager.captureMessage("이미지 컴포넌트 문서 모델 오류")}),o}B()(t,e);var o=t.prototype;return o._getValidSrc=function(e){var t=re.a.isImageTag(e)?re.a.getSrcFromImageTag(e):e;return/^data:image\/[a-zA-Z]*;base64,/.test(t)?t:re.a.prependProtocol(re.a.getEncodeUrl(t))},o.setState=function(e){var t=this,o=e.width,n=e.height,r=e.caption;if(r){var i=this._createCaptionTextUnitStore(r,this._config.caption);delete e.caption,this.caption=i}return this.domain=Object(G.a)(e,"domain",this.domain),this.layout=Object(G.a)(e,"layout",this.layout),this.contentMode=Object(G.a)(e,"contentMode",this.contentMode),this.align=Object(G.a)(e,"align",this.align),this.src=Object(G.a)(e,"src",this.src),this.alt=Object(G.a)(e,"alt",this.alt),this.place=Object(G.a)(e,"place",this.place),this.location=this._extractLocation(e),this.path=Object(G.a)(e,"path",this.path),this.fileSize=Object(G.a)(e,"fileSize",this.fileSize),this.fileName=Object(G.a)(e,"fileName",this.fileName),this.internalResource=Object(G.a)(e,"internalResource",this.internalResource),this.link=Object(G.a)(e,"link",this.link),this.widthPercentage=Object(G.a)(e,"widthPercentage",this.widthPercentage),this.format=Object(G.a)(e,"format",this.format),this.displayFormat=Object(G.a)(e,"displayFormat",this.displayFormat),this.represent=Object(G.a)(e,"represent",this.represent),this.origin=Object(G.a)(e,"origin",this.origin),this._resolveImageFormat(e),this._resolveThumbnailType(),o=Object(G.a)(e,"width",this.width),n=Object(G.a)(e,"height",this.height),this._updateSize(o,n),this._resolveWidthAndHeight({width:this.width,height:this.height}),this.originalWidth=Object(G.a)(e,"originalWidth",this.originalWidth),this.originalHeight=Object(G.a)(e,"originalHeight",this.originalHeight),o&&this._resolveContentModeBySize(),this.phase=Object(G.a)(e,"phase",this.phase),!0===this.internalResource&&""===this.path&&this.phase===Z.M.DONE&&this._sentryManager.withScope(function(e){e.setLevel("info"),e.setExtra("logger","ImageComponentStore.setState"),e.setExtra("cause","내부 리소스일 경우 path 값 필수!"),e.setExtra("data",t.toPlainJSON()),t._sentryManager.captureMessage("문서 모델에 오류가 발생하였습니다.")}),this},o.resetWidthPercentage=function(){this.widthPercentage=0},o._extractLocation=function(e){var t=Object(G.a)(e,"location",this.location);return t&&t.longitude&&t.latitude?t:null},o.changeContentMode=function(e){var t=Z.C.NORMAL,o=Z.C.ANIMATED;(e!==ae.a.NORMAL||[t,o].includes(this.displayFormat))&&(this.contentMode=e,this._resolveSizeByContentMode())},o.updateImageSize=function(e,t){this._updateSize(e,t),this._resolveContentModeBySize()},o.updateServiceData=function(e){this.serviceData=e},o.changeSize=function(e){if([Z.C.NORMAL,Z.C.ANIMATED].includes(this.displayFormat)){var t=e.width,o=e.height,n=e.isReset,r=this.width/this.height,i=t,a=o,s=!0;i?a||(a=t/r):i=o*r,n&&(i=this.originalWidth,a=this.originalHeight,s=!1),this._resolveWidthAndHeight({width:i,height:a,hasBoundedBelowSize:s}),this._resolveContentModeBySize()}},o._updateSize=function(e,t){this.width=Math.floor(e),this.height=Math.floor(t),this._correctOriginalSize(e,t)},o._correctOriginalSize=function(e,t){var o=this,n=t/e*1e3,r=this.originalHeight/this.originalWidth*1e3;Math.abs(n-r)<5||se(this._imageUrl).then(function(e){var t=e.width,n=e.height;o.originalWidth=t,o.originalHeight=n})},o.changeLink=function(e,t){return void 0===e&&(e={}),!0===this.caption.isFocused?this.caption.changeLink(this.checkProtocol(e),t):(this.link=e.value?this.checkProtocol(e).value:null,[this.getStartPoint()])},o.removeImageLink=function(){this.link=null},o.updateProperty=function(e,t){var o=e.contentMode,n=e.link,r=e.resizing,i=E()(e,["contentMode","link","resizing"]);if(o&&this.changeContentMode(o),r&&this.changeSize(r),Object(Q.a)(this,i),n)return this.changeLink(n,t)},o.changeAlign=function(e){e&&(this.align=e)},o.togglePanoramaDisplay=function(){var e=Z.C.PANORAMA,t=Z.C.NORMAL,o=this.displayFormat===e?t:e;this.layout="default",this.contentMode=ae.a.FIT,this.displayFormat=o,this._resolveSizeByContentMode(),this._resolveThumbnailType()},o.merge=function(e,t,o){void 0===o&&(o={});var n=Object(V.a)(e),r=o.targetCompOfInsertPoint;if("image"===n.ctype){var i=0===t.offset?[n,this]:[this,n],a=this.caption;r?a=r.caption:this.caption.isEmpty()&&(a=n.caption);var s=ie.a.dropProperty(a.toValidJSON(),"id"),c=this._componentFactory.createComponentWithCompData({ctype:"imageStrip",align:this.align,caption:s});return i.forEach(function(e){e.format!==Z.C.PANORAMA&&e.format!==Z.C.VR360||(e.displayFormat=Z.C.NORMAL,e._resolveThumbnailType())}),c.merge(i,t),{components:[c]}}return{components:[this].concat(e)}},o.updatePlace=function(e){this.place=e},o.completeImageLoad=function(){this.imageLoaded=!0},o.applyEditedImage=function(e){var t=this;Object(te.h)(function(){var o=e.photos[0];if(o.modified){var n=t._refineIntoImageData(o),r=n.fileSize,i=n.height,a=n.path,s=n.src,c=n.width,l=c/i,u=l!==t.originalWidth/t.originalHeight;t.src=s,t.path=a,t.fileSize=r,t.originalWidth=c,t.originalHeight=i,u&&t._updateSize(t.width,t.width/l),t.phase=Z.M.DONE}})},o._refineIntoImageData=function(e){var t=e.key,o=e.fileSize,n=e.height,r=e.width,i=e.domain,a=e.path;return{fileSize:o,height:n,width:r,path:a,id:t,src:""+i+a+(this.thumbnailTypeMap.normal?"?type="+this.thumbnailTypeMap.normal:"")}},o.getStoreById=function(e){return e===this.id?this:e===this.caption.id?this.caption:null},o.collectStyle=function(e){var t="justify"===this.align||null===this.align?"left":this.align,o={layout:this.layout,contentMode:this.contentMode,size:{width:this.width,height:this.height},link:{value:this.link},align:t,displayFormat:this.displayFormat,mediaTags:this.mediaTags};if(e&&!0===this.caption.isFocused){var n=this.caption.collectStyle(e),r=Object(K.a)(n,function(e){return""===e||null===e});o.caption=r}return o},o.getSelectedAlign=function(){return{align:this.align}},o._resolveWidthAndHeight=function(e){var t=e.width,o=void 0===t?this.width:t,n=e.height,r=void 0===n?this.height:n,i=e.hasBoundedBelowSize,a=void 0!==i&&i,s=this.width/this.height,c=o,l=r;if(a&&l<this.imageMinimumHeight&&(c=(l=this.imageMinimumHeight)*s),a&&c<this.imageMinimumWidth)l=(c=this.imageMinimumWidth)/s;else if(c>this.documentWidth){var u=this.documentWidth/o;c=this.documentWidth,l=Math.floor(r*u)}this._updateSize(c,l)},o._resolveThumbnailType=function(){var e=this.domain,t=this.path,o=this.internalResource;if(!t||!1===o)return this;var n=this.displayFormat,r=this.thumbnailTypeMap,i=r.normal,a=r.vr360,s=r.panorama,c="?type="+i;n&&"vr360"===n&&a&&(c="?type="+a),n&&"panorama"===n&&s&&(c="?type="+s),this.src=""+e+t+c},o._resolveImageFormat=function(e){void 0===e&&(e={});var t=this.path;if("string"!=typeof t||!this.allowVR360OrPanorama)return!1;var o=t.indexOf("PM-1.P-eq")>=0,n=t.indexOf("PM-1.P-pa")>=0,r=this.format;!0===o?r=Z.C.VR360:!0===n&&(r=Z.C.PANORAMA),this.format=r;var i=e.displayFormat;this.displayFormat=i||r},o._getDefaultContentMode=function(e){if(e){var t=this.getLayoutThemeStyle(this.themeStyle)||{};return Object(G.a)(t,"component.contentMode",ae.a.FIT)}return ae.a.NORMAL},o._validateContentMode=function(e){return e&&Object(X.a)(ae.a,e)},o._resolveContentModeBySize=function(){var e=this.isLonggerThanDocumentWidth(this.width)||this.isWidthEqualToDocumentWidth(this.width),t=this._config.contentMode,o=Object(Y.a)(t)?t({width:this.width,height:this.height,largerThanDocumentWidth:e}):t;this._validateContentMode(o)?this.contentMode=o:this.contentMode=this._getDefaultContentMode(e)},o.isWidthEqualToDocumentWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e===this.documentWidth:!!this._isNumber(t)&&t*this.width/this.height===this.documentWidth},o.isLonggerThanDocumentWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e>this.documentWidth:!!this._isNumber(t)&&t*this.width/this.height>this.documentWidth},o.isSmallerThanMinimumHeight=function(e,t){return void 0===e&&(e=""),this._isNumber(t)?t<this.imageMinimumHeight:!!this._isNumber(e)&&e*this.height/this.width<this.imageMinimumHeight},o.isSmallerThanMinimumWidth=function(e,t){return void 0===t&&(t=""),this._isNumber(e)?e<this.imageMinimumWidth:!!this._isNumber(t)&&t*this.width/this.height<this.imageMinimumWidth},o._isNumber=function(e){return"number"==typeof e},o.queryDragAndDrop=function(e){var t=e.type,o=e.items,n=e.dropPoint,r=e.insertDirection,i=e.itemIds,a=e.isOnEdge;if(i.includes(this.id))return null;var s=Object(V.a)(o),c=this._configAgent.get("plugins.excludeComponents")||[];return"external-file"===t||o.length>1||s&&"image"!==s.ctype||a||c.includes("imageStrip")?{insertPoint:n,insertCommand:r===Z.x.BOTTOM?"append":"prepend",direction:r}:{insertPoint:n,insertCommand:"query",direction:0===n.offset?Z.x.LEFT:Z.x.RIGHT}},o._shouldUploadImage=function(){return this.src&&!this.path},o.isLibraryComponent=function(){return!1===this._shouldUploadImage()&&!0===this.internalResource},o.getLibraryItemData=function(){var e=this.toValidJSON();return e.widthPercentage=0,e.caption=null,{id:this.id,key:""+this.domain+this.path,thumbnail:this.src,data:e}},o.getRepresentativeImageURL=function(){return""+this.domain+this.path},o.getRepresentativeInnerData=function(){return this.toValidJSON()},o._resolveComponentPhase=function(e){if(!Object(G.a)(e,"internalResource"))return Z.M.DONE;var t=Object(G.a)(e,"src"),o=Object(G.a)(e,"width",e.originalWidth),n=Object(G.a)(e,"height",e.originalHeight),r=Object(G.a)(e,"path",""),i=Object(G.a)(e,"phase",Z.M.EMPTY);return t&&o&&n&&r?Z.M.DONE:i},o._createCaptionTextUnitStore=function(e,t){var o={state:e,config:Object(W.a)({},t,{attributes:{cursor:"trapped",selection:"trapped",insertion:"append",drop:"only-text",paste:"only-text",lineBreak:{enter:"move-to-next-text",shiftEnter:"line-break-in-paragraph"},erasure:"trapped-text"},maxLength:1/0,filterTextStyle:{fontFamily:oe.b.NOT_ALLOWED,fontSizeCode:oe.b.NOT_ALLOWED,fontColor:oe.b.NOT_ALLOWED,backgroundColor:oe.b.NOT_ALLOWED,italic:oe.b.NOT_ALLOWED,underline:oe.b.NOT_ALLOWED,strikeThrough:oe.b.NOT_ALLOWED,subscript:oe.b.NOT_ALLOWED,superscript:oe.b.NOT_ALLOWED,dropCap:oe.b.NOT_ALLOWED,list:oe.b.NOT_ALLOWED}})},n=Object(G.a)(t,"textStyle",{}),r=o.config.filterTextStyle;return o.config.filterTextStyle=Object(J.a)(r,n),new ne.a(o)},o._resolveSizeByContentMode=function(){var e=this.documentWidth/this.width,t=ae.a.NORMAL,o=ae.a.FIT,n=ae.a.EXTEND,r=ae.a.PAGEFULL,i=Z.C.NORMAL,a=Z.C.ANIMATED;if(this.contentMode===t&&[i,a].includes(this.displayFormat))if(this.width<this.documentWidth)this._updateSize(this.width,this.height);else if(this.width>this.documentWidth||this.originalWidth>=this.documentWidth){var s=.75*this.documentWidth,c=this.height*e*.75;this._updateSize(s,c)}else this.originalWidth<this.documentWidth&&this._resolveWidthAndHeight({width:this.originalWidth,height:this.originalHeight});else if([o,n,r].includes(this.contentMode)){var l=Math.floor(this.height*e);this._updateSize(this.documentWidth,l)}},o.updateConfig=function(){e.prototype.updateConfig.call(this),this.representativeEnabled=!1!==this._configAgent.get("productConfig.representativeEnabled")},o.isRepresentativeImage=function(){return e.prototype.isRepresentativeImage.call(this)&&!this.isSmallerThanMinimumSize(this.width,this.height)},o.isSmallerThanMinimumSize=function(e,t){return this.isSmallerThanMinimumWidth(e,t)||this.isSmallerThanMinimumHeight(e,t)},o.getMediaTagData=function(){var e=this.mediaTags?this.mediaTags:[];return te.f.toJS(e)},o.updateMediaTag=function(e){this.mediaTags=e},o.removeMediaTag=function(){this.mediaTags=null},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.latex,contentMode:this.contentMode,align:this.align,src:this.src,width:this.width,height:this.height,alt:this.alt,caption:this.caption.toPlainJSON(),place:te.f.toJS(this.place),location:te.f.toJS(this.location),path:this.path,internalResource:this.internalResource,fileSize:this.fileSize,fileName:this.fileName,link:this.link,widthPercentage:this.widthPercentage,format:this.format,displayFormat:this.displayFormat,mediaTags:te.f.toJS(this.mediaTags),phase:this.phase,represent:this.represent,mediaMeta:te.f.toJS(this.mediaMeta),origin:te.f.toJS(this.origin),originalWidth:this.originalWidth,originalHeight:this.originalHeight,serviceData:this.serviceData}},R()(t,[{key:"locationEditable",get:function(){return!this.enableLocationMinimumImageWidth||this.originalWidth>=this.enableLocationMinimumImageWidth}},{key:"showLocationButton",get:function(){return this.enableLocation&&this.enableLocationMinimumImageHeight?this.originalHeight>=this.enableLocationMinimumImageHeight:this.enableLocation}},{key:"isLoaded",get:function(){return this.phase===Z.M.LOADED}},{key:"isUploaded",get:function(){var e=this.phase;return e===Z.M.LOADED||e===Z.M.DONE}},{key:"_imageUrl",get:function(){if(this.path){var e=this.domain+this.path;return!1===this.useOriginalImage?e+"?type="+this.thumbnailTypeMap.normal:e}return this.src}},{key:"imageTagEnabled",get:function(){return Object(H.a)(this.imageTag)}},{key:"translationEnabled",get:function(){return"none"!==this.caption.selection}}]),t}(Object(Z.W)(Object(Z.Y)(Z.h))),r=z()(n.prototype,"layout",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),i=z()(n.prototype,"contentMode",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ae.a.FIT}}),a=z()(n.prototype,"align",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=z()(n.prototype,"src",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=z()(n.prototype,"width",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=z()(n.prototype,"height",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=z()(n.prototype,"originalWidth",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=z()(n.prototype,"originalHeight",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=z()(n.prototype,"alt",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=z()(n.prototype,"caption",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=z()(n.prototype,"place",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=z()(n.prototype,"location",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=z()(n.prototype,"path",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=z()(n.prototype,"internalResource",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=z()(n.prototype,"fileSize",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),_=z()(n.prototype,"link",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),v=z()(n.prototype,"widthPercentage",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=z()(n.prototype,"format",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.C.NORMAL}}),S=z()(n.prototype,"displayFormat",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.C.NORMAL}}),O=z()(n.prototype,"phase",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.M.EMPTY}}),k=z()(n.prototype,"represent",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=z()(n.prototype,"mediaMeta",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z()(n.prototype,"origin",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=z()(n.prototype,"imageLoaded",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=z()(n.prototype,"mediaTags",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=z()(n.prototype,"representativeEnabled",[te.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z()(n.prototype,"locationEditable",[te.e],Object.getOwnPropertyDescriptor(n.prototype,"locationEditable"),n.prototype),z()(n.prototype,"showLocationButton",[te.e],Object.getOwnPropertyDescriptor(n.prototype,"showLocationButton"),n.prototype),z()(n.prototype,"isLoaded",[te.e],Object.getOwnPropertyDescriptor(n.prototype,"isLoaded"),n.prototype),z()(n.prototype,"isUploaded",[te.e],Object.getOwnPropertyDescriptor(n.prototype,"isUploaded"),n.prototype),z()(n.prototype,"_imageUrl",[te.e],Object.getOwnPropertyDescriptor(n.prototype,"_imageUrl"),n.prototype),n);ce.ctype="image",ce.schema={id:$.a.string.isRequired,ctype:$.a.string.isRequired,layout:$.a.string.isRequired,align:$.a.string,src:$.a.string.isRequired,internalResource:$.a.bool,represent:$.a.bool.isRequired,path:$.a.string,domain:$.a.string,fileSize:$.a.number.isRequired,width:$.a.number.isRequired,widthPercentage:$.a.number,height:$.a.number.isRequired,originalWidth:$.a.number,originalHeight:$.a.number,fileName:$.a.string,caption:$.a.captionTextUnit,location:$.a.shape(ee.g),link:$.a.string,format:$.a.string.isRequired,displayFormat:$.a.string.isRequired,imageLoaded:$.a.bool,mediaTags:$.a.arrayOf($.a.shape({ctype:$.a.string.isRequired,point:$.a.shape(ee.f),links:$.a.arrayOf($.a.shape({ctype:$.a.string.isRequired,url:$.a.string.isRequired,title:$.a.string.isRequired,iconType:$.a.string.isRequired,thumbnail:$.a.shape(ee.h).isRequired,description:$.a.string.isRequired,categoryId:$.a.string.isRequired,provider:$.a.string.isRequired,meta:$.a.object}))})),contentMode:$.a.string.isRequired,place:$.a.shape(ee.e),mediaMeta:$.a.shape(ee.c),origin:$.a.shape(ee.b).isRequired,serviceData:$.a.object};var le=ce;t.a=le,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/image-component/src/store/index.js",localName:t}})}catch(e){}}e(se,"getOriginalImageSize"),e(ce,"ImageComponentStore"),e(le,"default")}()},412:function(e,t,o){"use strict";var n,r=o(12),i=o.n(r),a=o(18),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(51),h=o(49),f=o(52),m=(n=function(e){function t(){var t;return(t=e.call(this)||this)._translationLayerService=d.U.get("translationLayerService"),t._editingService=d.U.get("editingService"),t._toastLayerService=d.U.get("toastLayerService"),t}l()(t,e);var o=t.prototype;return o.applyToDoc=function(e){this._editingService.writeTextWithSoftLineBreak(e),this._translationLayerService.close()},o.translate=function(e,t,o){this._translationLayerService.translate(e,t,o)},o.close=function(){this._translationLayerService.close()},o.changeLangCode=function(){var e=s()(i.a.mark(function e(t){var o,n,r,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.code,n=t.sourceLayer,r=t.fromCode,a=t.toCode,!n){e.next=6;break}return e.next=4,this._translationLayerService.changeSourceLangCode({code:o,fromCode:r,toCode:a});case 4:e.next=8;break;case 6:return e.next=8,this._translationLayerService.changeTargetLangCode({code:o,fromCode:r,toCode:a});case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.warningMessage=function(e){this._toastLayerService.warningMessage(e)},o.resetTextOvered=function(){this._translationLayerService.resetTextOvered()},t}(d.m),p()(n.prototype,"applyToDoc",[h.d,f.history],Object.getOwnPropertyDescriptor(n.prototype,"applyToDoc"),n.prototype),p()(n.prototype,"translate",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"translate"),n.prototype),p()(n.prototype,"changeLangCode",[h.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLangCode"),n.prototype),n),g=m;t.a=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/translation-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(m,"TranslationLayerUseCase"),e(g,"default")}()},413:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p=o(61),d=o.n(p),h=o(1),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(50),v=o.n(_),C=(o(62),o(51)),S=o(49),O=o(732),k=(n=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),p=0;p<o;p++)n[p]=arguments[p];return t=e.call.apply(e,[this].concat(n))||this,d()(t,"opened",r,g()(t)),d()(t,"_fromCode",i,g()(t)),d()(t,"_toCode",a,g()(t)),d()(t,"translatedText",s,g()(t)),d()(t,"loading",c,g()(t)),d()(t,"unknownLangCode",l,g()(t)),d()(t,"textOvered",u,g()(t)),t.MAX_LENGTH=5e3,t._detectionMode=!0,t._sourceText="",t}b()(t,e);var o=t.prototype;return o.open=function(){this.opened=!0},o.close=function(){this.opened=!1,this.unknownLangCode=!1},o.update=function(e,t,o,n){this.translatedText=e,this._sourceText=t,this._toCode=o,this._fromCode=n},o.setDetectionMode=function(e){this._detectionMode=e},f()(t,[{key:"sourceText",get:function(){return this._sourceText}},{key:"fromCode",get:function(){return this._fromCode}},{key:"toCode",get:function(){return this._toCode}},{key:"detectionMode",get:function(){return this._detectionMode}}]),t}(C.w),r=v()(n.prototype,"opened",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=v()(n.prototype,"_fromCode",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.b}}),a=v()(n.prototype,"_toCode",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.c}}),s=v()(n.prototype,"translatedText",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=v()(n.prototype,"loading",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=v()(n.prototype,"unknownLangCode",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=v()(n.prototype,"textOvered",[S.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n),I=k;t.a=I,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/translation-layer/src/store/index.js",localName:t}})}catch(e){}}e(k,"TranslationLayerStore"),e(I,"default")}()},414:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r});var n={DEFAULT:"default",CUSTOM:"custom"},r={INSERT:"insert",EDIT:"edit"},i={BannerType:n,EditingMode:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/layers/talktalk-edit-layer/const/index.js",localName:t}})}catch(e){}}e(n,"BannerType"),e(r,"EditingMode"),e(i,"default")}()},415:function(e,t,o){"use strict";var n,r,i,a=o(17),s=o.n(a),c=o(61),l=o.n(c),u=o(1),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(50),y=o.n(g),b=(o(62),o(69)),_=o(67),v=o(75),C=o(16),S=o(101),O=o(51),k=o(49),I=o(996),w=o(196),P=o(1284),j=(n=function(e){m()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).isSelectable=!1,o.attributes={cursor:null,selection:null,insertion:"text",drop:"text",paste:"text",erasure:"text"},l()(o,"layout",r,h()(o)),l()(o,"value",i,h()(o));var n=t,a=n.state,s=void 0===a?{}:a,c=n.config,u=void 0===c?{}:c;o.attributes=Object(b.a)(o.attributes,u.attributes),o._configAgent=O.U.get("configAgent");var p=Object(_.a)({},u.value,{filterTextStyle:{fontSizeCode:w.b.conditionalAllowed(["fs11","fs13","fs15","fs16","fs19","fs24","fs28","fs30","fs34","fs38"])},attributes:{selection:"text",insertion:"text",drop:"text",paste:"text",lineBreak:{enter:"line-break-in-paragraph",shiftEnter:"line-break-in-paragraph"},erasure:"text"}}),d=s.value||o.value,f=Object(C.a)(u,"value.textStyle",{}),m=p.filterTextStyle;return p.filterTextStyle=Object(b.a)(m,f),o.value=new P.a({state:d,config:p}),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,value:this.value.toPlainJSON()}},t.getStoreById=function(e){return e===this.id?this:e===this.value.id?this.value:null},t.changeLink=function(e,t){var o=this.refineSelection(t);return this.getText().changeLink(this.checkProtocol(e),o)},t.changeLayout=function(e){this.layout=e,this.updateTheme()},t.updateProperty=function(e,t){var o=e.layout,n=e.link,r=s()(e,["layout","link"]);if(o&&this.changeLayout(o),Object(S.a)(this,r),n)return this.changeLink(n,t)},t.applyUserDefinedStyle=function(e){if(this.getText().isEmpty()){this.updateUserDefinedStyle(e);var t=e.align;t&&(this.align=t)}},t.updateUserDefinedStyle=function(e){var t=this.getText(),o={start:t.getStartPoint(),end:t.getEndPoint()};this.updateStyles(e,o)},t.collectStyle=function(e){var t=this.getText().collectStyle(e);return Object(_.a)({textFormat:this.ctype,layout:this.layout,textLayout:this.layout,hasInlineImage:this.hasInlineImageInParagraph(e),isStartWithEmoji:this.hasParagraphStartsWithEmoji(e)},t)},t.hasDropCapInParagraph=function(e){return this.getText().hasDropCapInParagraph(e)},t.hasInlineImageOnly=function(){return this.getText().hasInlineImageOnly()},t.hasInlineImageInParagraph=function(e){return this.getText().hasInlineImageInParagraph(e)},t.isLibraryComponent=function(){return this.getText().isLibraryComponent()},t.getLibraryItemData=function(){return this.getText().getLibraryItemData({compId:this.id})},t.hasParagraphStartsWithEmoji=function(e){return this.getText().hasParagraphStartsWithEmoji(e)},t.setRepresentativeImage=function(e){var t=e.paraId,o=e.nodeId;this.getText().setRepresentativeImage(t,o)},t.updateConfig=function(){this.getText().updateConfig()},t.releaseRepresentativeImage=function(e){this.getText().releaseRepresentativeImage(e)},t.hasRepresentativeImage=function(){return this.getText().hasRepresentativeImage()},t.isRepresentativeImage=function(){return this.getText().isRepresentativeImage()},t.getRepresentativeId=function(){var e=this,t=this.getText().getRepresentativeId();return Object(v.a)(t,function(t){return""+e.id+t})},t.getRepresentativeInnerData=function(){return this.getText().getRepresentativeInnerData()},t.setAvailableContentLength=function(e){this.getText().setAvailableContentLength(e)},t.resetAvailableContentLength=function(){this.getText().resetAvailableContentLength()},t.isAvailableForDropcap=function(e){return!this.hasInlineImageInParagraph(e)&&!this.hasParagraphStartsWithEmoji(e)&&!this.getText().isCenterOrRightAlign(e)},t.canBeListBySpace=function(e){return this.value.canBeListBySpace(e)},t.convertToList=function(e){return this.value.convertToList(e)},p()(o,[{key:"textLength",get:function(){return this.getText().textLength}},{key:"translationEnabled",get:function(){return"none"!==this.value.selection}}]),o}(Object(O.W)(O.j)),r=y()(n.prototype,"layout",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),i=y()(n.prototype,"value",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n);j.ctype="text",j.schema={id:I.a.string.isRequired,layout:I.a.string.isRequired,ctype:I.a.string.isRequired,value:I.a.textUnit.isRequired};var T=j;t.a=T,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/store/index.js",localName:t}})}catch(e){}}e(j,"TextComponentStore"),e(T,"default")}()},417:function(e,t,o){"use strict";var n,r=o(59),i=o.n(r),a=o(0),s=o.n(a),c=o(50),l=o.n(c),u=o(52),p=o(49),d=o(347),h=o(51),f=o(84),m=o(767),g=o(281),y=o(123),b=o(198),_=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._labelMemoized=!1,o}s()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.store,o=e.parentProps,n=e.i18n,r=this._resolveComponentSectionStyle();return this._memoizeLabel(),p.b.createElement(f.a,{parentProps:o,blockWrapperProps:t,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,style:r},this._renderImageUnit(),p.b.createElement(g.a,{store:t,i18n:n,onLimitTextLength:this._handleLimitTextLength}))},o._resolveComponentSectionStyle=function(){var e=this.props.store,t=e.width,o=e.contentMode,n=this._isBiggerThanDocument(t),r={};return o===h.r.NORMAL&&!1===n&&t>0&&(r.maxWidth=t+"px"),r},o._renderImageUnit=function(){var e=this.props,t=e.store,o=e.i18n,n=e.children,r=e.useCase,a=e.resizable,s=e.useMediaTag,c=t.representativeEnabled,l=t.showLocationButton,u=t.locationEditable,d=t.imageLoaded,h=i()({},this.props.additionalOption,{showRepresentative:!!c&&t.isRepresentativeImage(),showLocationButton:l&&u});return p.b.createElement(m.a,{onDoubleClick:this._handleDblClickImage,onClickRepresentative:this._handleClickRepresentative,onClickLocation:this._handleClickLocation,onToggleVR360Display:this._handleToggleVR360Display,onCompleteImage:this._handleCompleteImage,additionalOption:h,labelLink:this._labelLink,labelThumbnail:this._labelThumbnail,labelDeleteImage:this._labelDeleteImage,labelThisIs360VR:this._labelThisIs360VR,labelUse360vr:this._labelUse360vr,resizable:a,useMediaTag:s,i18n:o,store:t,useCase:r},n,p.b.createElement(b.a,{store:t}),p.b.createElement(y.a,{compStore:t,isReady:d,i18n:o}))},o._isBiggerThanDocument=function(e){return e>=this.props.store.documentWidth},o._memoizeLabel=function(){var e=this.props.i18n;!1===this._labelMemoized&&(this._labelLink=e("imageUnit:label_link"),this._labelThumbnail=e("imageUnit:label_thumbnail"),this._labelDeleteImage=e("imageUnit:label_delete_image"),this._labelThisIs360VR=e("imageUnit:label_this_is_360vr"),this._labelUse360vr=e("imageUnit:label_use_360vr"),this._labelMemoized=!0)},o._handleDblClickImage=function(){var e=p.f.toJS(this.props.store);(0,this.props.onDblClickImage)(e)},o._handleToggleVR360Display=function(){(0,this.props.onClickPanoramaDisplay)()},o._handleClickRepresentative=function(e){(0,this.props.onClickRepresentative)(e)},o._handleClickLocation=function(){(0,this.props.onClickLocation)()},o._handleCompleteImage=function(){(0,this.props.onCompleteImage)()},o._handleLimitTextLength=function(){var e=this.props.onLimitTextLength;e&&e()},o._handleMoveToPrev=function(){this.props.onMoveToPrev()},o._handleMoveToNext=function(){this.props.onMoveToNext()},t}(p.b.Component),l()(n.prototype,"_handleDblClickImage",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleDblClickImage"),n.prototype),l()(n.prototype,"_handleToggleVR360Display",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleToggleVR360Display"),n.prototype),l()(n.prototype,"_handleClickRepresentative",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickRepresentative"),n.prototype),l()(n.prototype,"_handleClickLocation",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickLocation"),n.prototype),l()(n.prototype,"_handleCompleteImage",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleCompleteImage"),n.prototype),l()(n.prototype,"_handleLimitTextLength",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleLimitTextLength"),n.prototype),l()(n.prototype,"_handleMoveToPrev",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToPrev"),n.prototype),l()(n.prototype,"_handleMoveToNext",[u.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToNext"),n.prototype),n);_.defaultProps={config:{},blockSelected:!1,onCompleteImage:function(){},onMoveToNext:function(){},onMoveToPrev:function(){},additionalOption:{backgroundImage:!1,hasCoverLayer:!1},resizable:!1,useMediaTag:!1},_.propTypes={parentProps:p.a.instanceOf(h.b),store:p.a.object.isRequired,useCase:p.a.object,children:p.a.oneOfType([p.a.element,p.a.array]),i18n:p.a.func,config:p.a.object,onDblClickImage:p.a.func,onClickPanoramaDisplay:p.a.func,onClickRepresentative:p.a.func,onClickLocation:p.a.func,onCompleteImage:p.a.func,onLimitTextLength:p.a.func,onMoveToNext:p.a.func,onMoveToPrev:p.a.func,additionalOption:p.a.object,resizable:p.a.bool,useMediaTag:p.a.bool};var v=Object(d.b)(_);t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-section/index.jsx",localName:t}})}catch(e){}}e(_,"ImageSection"),e(v,"default")}()},418:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(51).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/use-case/index.js",localName:t}})}catch(e){}}e(i,"HorizontalLineComponentUseCase"),e(a,"default")}()},419:function(e,t,o){"use strict";var n,r,i,a=o(17),s=o.n(a),c=o(61),l=o.n(c),u=o(57),p=o.n(u),d=o(0),h=o.n(d),f=o(50),m=o.n(f),g=(o(62),o(16)),y=o(69),b=o(101),_=o(51),v=o(996),C=o(49),S=o(282),O=(n=function(e){h()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},l()(o,"layout",r,p()(o)),l()(o,"align",i,p()(o));var n=t,a=n.state,s=void 0===a?{}:a,c=n.config,u=void 0===c?{}:c,d=_.U.get("configAgent").get("productConfig.horizontalLine.layouts");return o.layout=Object(g.a)(s,"layout",d&&d[0]||o.layout),o.align=Object(g.a)(s,"align",o.align),o.attributes=Object(y.a)(o.attributes,u.attributes),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,align:this.align}},t.updateProperty=function(e){var t=e.layout,o=s()(e,["layout"]);t&&(this.layout=t),Object(b.a)(this,o)},t.collectStyle=function(){var e="justify"===this.align||null===this.align?"left":this.align;return{layout:this.layout,align:e}},t.rotationLayout=function(){var e=Object.keys(S.a).map(function(e){return e.toLowerCase()}),t=e[e.indexOf(this.layout)+1];this.layout=t||e[0]},o}(_.g),r=m()(n.prototype,"layout",[C.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),i=m()(n.prototype,"align",[C.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n);O.ctype="horizontalLine",O.schema={id:v.a.string.isRequired,layout:v.a.string.isRequired,align:v.a.string,ctype:v.a.string.isRequired};var k=O;t.a=k,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/horizontal-line-component/src/store/index.js",localName:t}})}catch(e){}}e(O,"HorizontalLineComponent"),e(k,"default")}()},420:function(e,t,o){"use strict";var n=o(402).a;t.a=n,function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/use-case/index.js",localName:t}})}catch(e){}}(n,"default")}()},421:function(e,t,o){"use strict";var n,r,i,a,s,c=o(17),l=o.n(c),u=o(61),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(50),y=o.n(g),b=(o(62),o(16)),_=o(69),v=o(101),C=o(51),S=o(996),O=o(1231),k=o(49),I=o(422),w=(n=function(e){m()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},p()(o,"layout",r,h()(o)),p()(o,"align",i,h()(o)),p()(o,"messages",a,h()(o)),p()(o,"writers",s,h()(o));var n=t,c=n.state,l=void 0===c?{}:c,u=n.config,d=void 0===u?{}:u,f=C.U.get("configAgent").get("productConfig.chat.layouts");return o.layout=Object(b.a)(l,"layout",f&&f[0]||o.layout),o.align=Object(b.a)(l,"align",o.align),o.writers=Object(b.a)(l,"writers",o.writers),o.messages=Object(b.a)(l,"messages",o.messages),o.attributes=Object(_.a)(o.attributes,d.attributes),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,align:this.align,messages:this.messages,writers:this.writers}},t.updateChat=function(e){var t=e.messages,o=e.writers;this.messages=t,this.writers=o},t.updateProperty=function(e){var t=e.layout,o=l()(e,["layout"]);t&&(this.layout=t),Object(v.a)(this,o)},t.collectStyle=function(){return{layout:this.layout,align:this.align||I.a.LEFT}},o}(C.g),r=y()(n.prototype,"layout",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return I.b.DEFAULT}}),i=y()(n.prototype,"align",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=y()(n.prototype,"messages",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=y()(n.prototype,"writers",[k.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),n);w.ctype="chat",w.schema={id:S.a.string.isRequired,layout:S.a.string.isRequired,align:S.a.string,ctype:S.a.string.isRequired,writers:S.a.array.isRequired,messages:S.a.arrayOf(S.a.shape(O.a)).isRequired};var P=w;t.a=P,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/store/index.js",localName:t}})}catch(e){}}e(w,"ChatComponent"),e(P,"default")}()},422:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r});var n={LEFT:"left",CENTER:"center",RIGHT:"right"},r={DEFAULT:"default"},i={Align:n,Layout:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/chat-component/src/consts/index.js",localName:t}})}catch(e){}}e(n,"Align"),e(r,"Layout"),e(i,"default")}()},423:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(51).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/use-case/index.js",localName:t}})}catch(e){}}e(i,"OembedComponentUseCase"),e(a,"default")}()},424:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b,_,v,C,S,O,k=o(17),I=o.n(k),w=o(61),P=o.n(w),j=o(1),T=o.n(j),L=o(57),E=o.n(L),N=o(0),x=o.n(N),D=o(50),R=o.n(D),A=(o(62),o(69)),U=o(16),M=o(101),B=o(20),F=o(108),z=o(51),W=o(212),V=o(996),G=o(49),H=o(220),q=Object(z.W)(z.h),J=(n=function(e){x()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.documentWidth=null,o.isOembedNotSupported=!1,P()(o,"layout",r,E()(o)),P()(o,"contentMode",i,E()(o)),P()(o,"align",a,E()(o)),P()(o,"type",s,E()(o)),P()(o,"version",c,E()(o)),P()(o,"title",l,E()(o)),P()(o,"description",u,E()(o)),P()(o,"originalWidth",p,E()(o)),P()(o,"originalHeight",d,E()(o)),P()(o,"html",h,E()(o)),P()(o,"authorName",f,E()(o)),P()(o,"authorUrl",m,E()(o)),P()(o,"providerName",g,E()(o)),P()(o,"providerUrl",y,E()(o)),P()(o,"thumbnailUrl",b,E()(o)),P()(o,"thumbnailWidth",_,E()(o)),P()(o,"thumbnailHeight",v,E()(o)),P()(o,"inputUrl",C,E()(o)),P()(o,"cacheAge",S,E()(o)),P()(o,"viewMode",O,E()(o)),o.oembedSign="";var n=t,k=n.state,I=void 0===k?{}:k,w=n.config,j=void 0===w?{}:w;return o._configAgent=z.U.get("configAgent"),o.documentWidth=o._configAgent.get("productConfig.documentWidth"),o.attributes=Object(A.a)(o.attributes,j.attributes),o.type=Object(U.a)(I,"type",o.type),o.layout=Object(U.a)(I,"layout",o.layout),o.align=Object(U.a)(I,"align",o.align),o.version=Object(U.a)(I,"version",o.version),o.title=Object(U.a)(I,"title",o.title),o.description=Object(U.a)(I,"description",o.description),o.originalWidth=Object(U.a)(I,"originalWidth",o.originalWidth),o.originalHeight=Object(U.a)(I,"originalHeight",o.originalHeight),o.html=Object(U.a)(I,"html",o.html),o.authorName=Object(U.a)(I,"authorName",o.authorName),o.authorUrl=Object(U.a)(I,"authorUrl",o.authorUrl),o.providerName=Object(U.a)(I,"providerName",o.providerName),o.providerUrl=Object(U.a)(I,"providerUrl",o.providerUrl),o.thumbnailUrl=Object(U.a)(I,"thumbnailUrl",o.thumbnailUrl),o.thumbnailWidth=Object(U.a)(I,"thumbnailWidth",o.thumbnailWidth),o.thumbnailHeight=Object(U.a)(I,"thumbnailHeight",o.thumbnailHeight),o.inputUrl=Object(U.a)(I,"inputUrl",o.inputUrl),o.contentMode=Object(U.a)(I,"contentMode",o._getDefaultContentMode(j)),o.config=j,o.isOembedNotSupported=o._isOembedNotSupported(),o.oembedSign=I.oembedSign||o.oembedSign,o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,contentMode:this.contentMode,align:this.align,type:this.type,version:this.version,title:this.title,description:this.description,originalWidth:this.originalWidth,originalHeight:this.originalHeight,html:this.html,authorName:this.authorName,authorUrl:this.authorUrl,providerName:this.providerName,providerUrl:this.providerUrl,thumbnailUrl:this.thumbnailUrl,thumbnailWidth:this.thumbnailWidth,thumbnailHeight:this.thumbnailHeight,inputUrl:this.inputUrl,cacheAge:this.cacheAge,viewMode:this.viewMode,oembedSign:this.oembedSign}},t._getDefaultContentMode=function(e){var t=e.contentMode,o=Object(B.a)(t)?t():t;if(this._validateContentMode(o))return o;var n=this.getLayoutThemeStyle(this.themeStyle)||{},r=Object(U.a)(n,"component.contentMode");return r||(this.type===H.d.VIDEO?H.b.FIT:H.b.NORMAL)},t._validateContentMode=function(e){return e&&Object(F.a)(H.b,e)},t._isOembedNotSupported=function(){var e=new RegExp(H.a.join("|"),"gi").test(this.providerUrl);return W.a.isIE10()&&e},t.changeContentMode=function(e){this.contentMode=e},t.changeViewMode=function(e){this.viewMode=e},t.updateProperty=function(e){var t=e.contentMode,o=I()(e,["contentMode"]);t&&this.changeContentMode(t),Object(M.a)(this,o)},t.collectStyle=function(){var e="justify"===this.align||null===this.align?"left":this.align;return{id:this.id,layout:this.layout,contentMode:this.contentMode,align:e}},t.updateSign=function(e){var t=e.oembedSign,o=e.authorUrl,n=e.thumbnailUrl,r=e.html;this.oembedSign=t,this.authorUrl=o,this.thumbnailUrl=n,this.html=r},t.getSelectedAlign=function(){return{align:this.align}},T()(o,[{key:"emptySign",get:function(){return!this.oembedSign}},{key:"isScriptRenderType",get:function(){return/<script.*<\/script>|<script.*>/gi.test(this.html)}}]),o}(q),r=R()(n.prototype,"layout",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.c.DEFAULT}}),i=R()(n.prototype,"contentMode",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.b.NORMAL}}),a=R()(n.prototype,"align",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=R()(n.prototype,"type",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=R()(n.prototype,"version",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"1.0"}}),l=R()(n.prototype,"title",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=R()(n.prototype,"description",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=R()(n.prototype,"originalWidth",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=R()(n.prototype,"originalHeight",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=R()(n.prototype,"html",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),f=R()(n.prototype,"authorName",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=R()(n.prototype,"authorUrl",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=R()(n.prototype,"providerName",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=R()(n.prototype,"providerUrl",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b=R()(n.prototype,"thumbnailUrl",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_=R()(n.prototype,"thumbnailWidth",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=R()(n.prototype,"thumbnailHeight",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=R()(n.prototype,"inputUrl",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=R()(n.prototype,"cacheAge",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=R()(n.prototype,"viewMode",[G.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return z.S.VIEW_MODE_PC}}),R()(n.prototype,"isScriptRenderType",[G.e],Object.getOwnPropertyDescriptor(n.prototype,"isScriptRenderType"),n.prototype),n);J.ctype="oembed",J.schema={id:V.a.string.isRequired,ctype:V.a.string.isRequired,layout:V.a.string.isRequired,align:V.a.string,type:V.a.string.isRequired,version:V.a.string.isRequired,html:V.a.string.isRequired,originalWidth:V.a.number,originalHeight:V.a.number,authorName:V.a.string,authorUrl:V.a.string,cacheAge:V.a.number,providerName:V.a.string,providerUrl:V.a.string.isRequired,thumbnailUrl:V.a.string,thumbnailWidth:V.a.number,thumbnailHeight:V.a.number,title:V.a.string.isRequired,description:V.a.string,inputUrl:V.a.string.isRequired,contentMode:V.a.string.isRequired,oembedSign:V.a.string};var K=J;t.a=K,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oembed-component/src/store/index.js",localName:t}})}catch(e){}}e(q,"LinkWritableAndAlignableComponentStore"),e(J,"OembedComponentStore"),e(K,"default")}()},425:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(49),a=o(524),s=o(85),c=o(122),l=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.title,o=e.className,n=e.onLoad,r=e.onError;return i.b.createElement(s.b,{className:o,src:this._makeThumbnailSource(),alt:a.a.restoreSpecialChar(t),onLoad:n,onError:r})},o._makeThumbnailSource=function(){var e=this.props,t=e.src,o=e.type,n=e.service;return c.a.makeDthumbUrl(t,o,n)},t}(i.b.Component);l.defaultProps={service:"",title:"",onError:function(){}},l.propTypes={src:i.a.string.isRequired,type:i.a.string.isRequired,service:i.a.string,title:i.a.string,className:i.a.string.isRequired,onLoad:i.a.func,onError:i.a.func};var u=l;t.a=u,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/thumbnail-image/index.jsx",localName:t}})}catch(e){}}e(l,"ThumbnailImage"),e(u,"default")}()},426:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(51).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/use-case/index.js",localName:t}})}catch(e){}}e(i,"MaterialComponentUseCase"),e(a,"default")}()},427:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f=o(61),m=o.n(f),g=o(1),y=o.n(g),b=o(57),_=o.n(b),v=o(0),C=o.n(v),S=o(50),O=o.n(S),k=(o(62),o(105)),I=o(69),w=o(16),P=o(51),j=o(49),T=o(996),L=o(1231),E=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.standardImageSizeInfo=null,m()(o,"type",r,_()(o)),m()(o,"title",i,_()(o)),m()(o,"link",a,_()(o)),m()(o,"layout",s,_()(o)),m()(o,"align",c,_()(o)),m()(o,"detailInfo",l,_()(o)),m()(o,"dataId",u,_()(o)),m()(o,"subId",p,_()(o)),m()(o,"thumbnail",d,_()(o)),m()(o,"volNo",h,_()(o)),o._configAgent=P.U.get("configAgent");var n=t,f=n.state,g=void 0===f?{}:f,y=n.config,b=void 0===y?{}:y;return o.standardImageSizeInfo=Object(k.a)(o.standardImageSizeInfo,b.standardImageSizeInfo),o.attributes=Object(I.a)(o.attributes,b.attributes),o.type=Object(w.a)(g,"type",o.type),o.title=Object(w.a)(g,"title",o.title),o.link=Object(w.a)(g,"link",o.link),o.layout=Object(w.a)(g,"layout",o.layout),o.align=Object(w.a)(g,"align",o.align),o.detailInfo=Object(w.a)(g,"detailInfo",o.detailInfo),o.dataId=Object(w.a)(g,"dataId",o.dataId),o.subId=Object(w.a)(g,"subId",o.subId),o.thumbnail=Object(w.a)(g,"thumbnail",o.thumbnail),o.volNo=Object(w.a)(g,"volNo",o.volNo),o}return C()(t,e),t.prototype.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,type:this.type,title:this.title,link:this.link,layout:this.layout,align:this.align,detailInfo:this.detailInfo.map(function(e){return j.f.toJS(e)}),dataId:this.dataId,subId:this.subId,thumbnail:j.f.toJS(this.thumbnail),volNo:this.volNo}},y()(t,[{key:"isBigSizeImage",get:function(){if(!this.standardImageSizeInfo)return!1;var e=this.thumbnail;if(!e)return!1;var t=this.standardImageSizeInfo.width,o=this.standardImageSizeInfo.height;return e.width>=t&&e.height>=o}},{key:"item",get:function(){return{id:this.id,title:this.title,thumbnail:this.thumbnail,detailInfo:this.detailInfo,isBigSizeImage:this.isBigSizeImage}}}]),t}(P.g),r=O()(n.prototype,"type",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=O()(n.prototype,"title",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=O()(n.prototype,"link",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=O()(n.prototype,"layout",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),c=O()(n.prototype,"align",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=O()(n.prototype,"detailInfo",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=O()(n.prototype,"dataId",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=O()(n.prototype,"subId",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=O()(n.prototype,"thumbnail",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=O()(n.prototype,"volNo",[j.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O()(n.prototype,"isBigSizeImage",[j.e],Object.getOwnPropertyDescriptor(n.prototype,"isBigSizeImage"),n.prototype),O()(n.prototype,"item",[j.e],Object.getOwnPropertyDescriptor(n.prototype,"item"),n.prototype),n);E.ctype="material",E.schema={id:T.a.string.isRequired,ctype:T.a.string.isRequired,align:T.a.string,layout:T.a.string.isRequired,type:T.a.string.isRequired,title:T.a.string.isRequired,link:T.a.string.isRequired,detailInfo:T.a.arrayOf(T.a.shape({ctype:T.a.string.isRequired,label:T.a.string,labelName:T.a.string,values:T.a.arrayOf(T.a.shape({ctype:T.a.string.isRequired,value:T.a.string,url:T.a.string,code:T.a.string}))})).isRequired,dataId:T.a.string.isRequired,subId:T.a.string,thumbnail:T.a.shape(L.i),volNo:T.a.string};var N=E;t.a=N,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/material-component/src/store/index.js",localName:t}})}catch(e){}}e(E,"MaterialComponentStore"),e(N,"default")}()},428:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(51).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/use-case/index.js",localName:t}})}catch(e){}}e(i,"AudioComponentUseCase"),e(a,"default")}()},429:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h=o(61),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(50),v=o.n(_),C=(o(62),o(16)),S=o(69),O=o(101),k=o(51),I=o(996),w=o(49),P=o(284),j=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},f()(o,"layout",r,g()(o)),f()(o,"phase",i,g()(o)),f()(o,"align",a,g()(o)),f()(o,"audioId",s,g()(o)),f()(o,"fileName",c,g()(o)),f()(o,"fileSize",l,g()(o)),f()(o,"internalResource",u,g()(o)),f()(o,"count",p,g()(o)),f()(o,"totalCount",d,g()(o)),o.serviceData=null,o.onRenderServiceDataButton=null,o.onClickServiceDataButton=null;var n=t,h=n.state,m=void 0===h?{}:h,y=n.config,b=void 0===y?{}:y;return o.layout=Object(C.a)(m,"layout",o.layout),o.align=Object(C.a)(m,"align",o.align),o.audioId=Object(C.a)(m,"audioId",o.audioId),o.fileName=Object(C.a)(m,"fileName",o.fileName),o.fileSize=Object(C.a)(m,"fileSize",o.fileSize),o.internalResource=Object(C.a)(m,"internalResource",o.internalResource),o.count=Object(C.a)(m,"count",o.count),o.totalCount=Object(C.a)(m,"totalCount",o.totalCount),o.attributes=Object(S.a)(o.attributes,b.attributes),o.serviceData=Object(C.a)(m,"serviceData",o.serviceData),o.onClickServiceDataButton=b.onClickServiceDataButton,o.onRenderServiceDataButton=b.onRenderServiceDataButton,o.audioId&&(o.phase=k.M.DONE),o}b()(t,e);var o=t.prototype;return o.setState=function(e){Object(O.a)(this,e)},o.updateProperty=function(e){Object(O.a)(this,e)},o.updateAudio=function(e){var t=e.audioId,o=e.fileName,n=e.fileSize;this.audioId=t,this.fileName=o,this.fileSize=n},o.updateServiceData=function(e){this.serviceData=e},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,phase:this.phase,align:this.align,audioId:this.audioId,fileName:this.fileName,fileSize:this.fileSize,internalResource:this.internalResource,count:this.count,totalCount:this.totalCount,serviceData:this.serviceData}},t}(k.g),r=v()(n.prototype,"layout",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.a.DEFAULT}}),i=v()(n.prototype,"phase",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.M.EMPTY}}),a=v()(n.prototype,"align",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=v()(n.prototype,"audioId",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=v()(n.prototype,"fileName",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=v()(n.prototype,"fileSize",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u=v()(n.prototype,"internalResource",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),p=v()(n.prototype,"count",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=v()(n.prototype,"totalCount",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),n);j.ctype="audio",j.schema={id:I.a.string.isRequired,ctype:I.a.string.isRequired,layout:I.a.string.isRequired,align:I.a.string,audioId:I.a.string.isRequired,fileName:I.a.string.isRequired,fileSize:I.a.number.isRequired,serviceData:I.a.object};var T=j;t.a=T,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/audio-component/src/store/index.js",localName:t}})}catch(e){}}e(j,"AudioComponentStore"),e(T,"default")}()},430:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(52),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._oglinkComponentService=c.U.get("oglinkComponentService"),t}return i()(t,e),t.prototype.changeToTextLayout=function(e){this._oglinkComponentService.changeToTextLayout(e)},t}(c.c),s()(n.prototype,"changeToTextLayout",[l.history],Object.getOwnPropertyDescriptor(n.prototype,"changeToTextLayout"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"OglinkComponentUseCase"),e(p,"default")}()},431:function(e,t,o){"use strict";var n,r,i,a=o(12),s=o.n(a),c=o(18),l=o.n(c),u=o(0),p=o.n(u),d=o(50),h=o.n(d),f=o(51),m=o(52),g=o(49),y=o(120),b=(n=Object(m.history)({sync:!1}),r=Object(m.history)({sync:!1}),i=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=f.U.get("configAgent"),t._imageBehavior=f.U.get("imageBehavior"),t._imageComponentService=f.U.get("imageComponentService"),t._imageUploadService=f.U.get("imageUploadService"),t._imageEditService=f.U.get("imageEditService"),t._wrappingParagraphComponentService=f.U.get("wrappingParagraphComponentService"),t._libraryPanelLayoutService=f.U.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._toastLayerService=f.U.get("toastLayerService"),t._eventDispatcherService=f.U.get("eventDispatcherService"),t._i18n=f.U.get("i18n"),t._contentTextMaxLength=t._configAgent.get("productConfig.contentTextMaxLength"),t}p()(t,e);var o=t.prototype;return o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;f.U.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o,paraId:n,nodeId:r}),this._libraryPanelLayoutService.updateMediaList()},o.changeImage=function(){var e=l()(s.a.mark(function e(){var t,o,n,r=this;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._wrappingParagraphComponentService.getSelectedWrappedSection(),e.next=3,this._imageUploadService.openFileDialog();case 3:return o=e.sent,n=t.toPlainJSON(),e.abrupt("return",this._imageBehavior.changeImage({targetStore:t,selectedImages:o},{onEachUpload:y.a}).then(function(e){var o=e.succeededImages;return 0===o.length?r._imageComponentService.changeImageByState(t,n):r._imageComponentService.changeImage(t,o[0].response),e}));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.editImage=function(){var e=l()(s.a.mark(function e(){var t;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._wrappingParagraphComponentService.getSelectedWrappedSection(),e.next=3,this._imageEditService.editImage({activeCompId:t.id});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.showOverContentLengthLimitWarn=function(){this._eventDispatcherService.emit(f.z.ON_MAX_CONTENT_TEXT_LENGTH),this._toastLayerService.warningMessage(this._i18n("textUnit:warning_limit_over_max_text_length",{maxLength:this._contentTextMaxLength}))},t}(f.c),h()(i.prototype,"setRepresentativeImage",[m.history,g.d],Object.getOwnPropertyDescriptor(i.prototype,"setRepresentativeImage"),i.prototype),h()(i.prototype,"changeImage",[n,g.d],Object.getOwnPropertyDescriptor(i.prototype,"changeImage"),i.prototype),h()(i.prototype,"editImage",[m.preventOnDocumentProcessing,r,g.d],Object.getOwnPropertyDescriptor(i.prototype,"editImage"),i.prototype),i),_=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/wrapping-paragraph-component/src/use-case/index.js",localName:t}})}catch(e){}}e(b,"WrappingParagraphComponentUseCase"),e(_,"default")}()},432:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(49),l=o(52),u=o(51),p=(n=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=u.U.get("editingService"),t._propertyChangeService=u.U.get("propertyChangeService"),t._tableComponentService=u.U.get("tableComponentService"),t._viewModeLayoutService=u.U.get("viewModeLayoutService"),t._libraryPanelLayoutService=u.U.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t}i()(t,e);var o=t.prototype;return o.mergeCells=function(){this._tableComponentService.mergeCells()},o.splitRowCells=function(){this._tableComponentService.splitRowCells()},o.splitColumnCells=function(){this._tableComponentService.splitColumnCells()},o.adjustToEqualWidth=function(){this._tableComponentService.adjustToEqualWidth()},o.deleteCell=function(){this._editingService.erase()},o.insertColumn=function(e){this._tableComponentService.insertColumn(e)},o.insertRow=function(e){this._tableComponentService.insertRow(e)},o.changeCellWidth=function(e,t){this._propertyChangeService.updateProperty({cellWidth:{id:e,widthToAdd:t}})},o.changeCellHeight=function(e,t){this._propertyChangeService.updateProperty({cellHeight:{id:e,heightToAdd:t}})},o.selectRowByIds=function(e){this._tableComponentService.selectRowByIds(e)},o.selectColByIds=function(e){this._tableComponentService.selectColByIds(e)},o.selectAll=function(){this._tableComponentService.selectAll()},o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;u.U.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o,paraId:n,nodeId:r}),this._libraryPanelLayoutService.updateMediaList()},o.getViewMode=function(){var e=u.S.VIEW_MODE_PC;return this._viewModeLayoutService&&(e=this._viewModeLayoutService.getViewMode()),e},t}(u.c),s()(n.prototype,"mergeCells",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"mergeCells"),n.prototype),s()(n.prototype,"splitRowCells",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"splitRowCells"),n.prototype),s()(n.prototype,"splitColumnCells",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"splitColumnCells"),n.prototype),s()(n.prototype,"adjustToEqualWidth",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"adjustToEqualWidth"),n.prototype),s()(n.prototype,"deleteCell",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"deleteCell"),n.prototype),s()(n.prototype,"insertColumn",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"insertColumn"),n.prototype),s()(n.prototype,"insertRow",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"insertRow"),n.prototype),s()(n.prototype,"changeCellWidth",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"changeCellWidth"),n.prototype),s()(n.prototype,"changeCellHeight",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"changeCellHeight"),n.prototype),s()(n.prototype,"selectRowByIds",[c.d],Object.getOwnPropertyDescriptor(n.prototype,"selectRowByIds"),n.prototype),s()(n.prototype,"selectColByIds",[c.d],Object.getOwnPropertyDescriptor(n.prototype,"selectColByIds"),n.prototype),s()(n.prototype,"selectAll",[c.d],Object.getOwnPropertyDescriptor(n.prototype,"selectAll"),n.prototype),s()(n.prototype,"setRepresentativeImage",[l.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"setRepresentativeImage"),n.prototype),n),d=p;t.a=d,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/table-component/src/use-case/index.js",localName:t}})}catch(e){}}e(p,"TableComponentUseCase"),e(d,"default")}()},434:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(52),u=(n=function(e){function t(){var t;return(t=e.call(this)||this)._selectionInfoStore=c.U.get("selectionInfoStore"),t._i18n=c.U.get("i18n"),t._codeComponentService=c.U.get("codeComponentService"),t._toastLayerService=c.U.get("toastLayerService"),t._virtualEditable=c.U.get("virtualEditable"),t}i()(t,e);var o=t.prototype;return o.showToastForOverflowMaxLength=function(){var e=this._i18n("codeComponent:code_input_text_max_length");this._toastLayerService.warningMessage(e)},o.updateCodeContents=function(e,t){this._codeComponentService.updateCodeContents(e,t)},o.activateUnit=function(e){this._selectionInfoStore.selectUnit({compId:e,unitId:e})},o.blurVirtualEditable=function(){this._virtualEditable.blur()},t}(c.c),s()(n.prototype,"updateCodeContents",[l.history],Object.getOwnPropertyDescriptor(n.prototype,"updateCodeContents"),n.prototype),n),p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/use-case/index.js",localName:t}})}catch(e){}}e(u,"CodeComponentUseCase"),e(p,"default")}()},435:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(49),u=o(52),p=(n=function(e){function t(){var t;return(t=e.call(this)||this)._editingService=c.U.get("editingService"),t._scheduleLayerService=c.U.get("scheduleLayerService"),t._scheduleComponentService=c.U.get("scheduleComponentService"),t}i()(t,e);var o=t.prototype;return o.openScheduleLayer=function(e){this._scheduleLayerService.open(e)},o.removeMapImage=function(e){this._scheduleComponentService.removeMapImage(e)},o.newSchedule=function(e){var t=e.compId,o=e.callback;o.error=this.delete.bind(this),this._scheduleComponentService.newSchedule({compId:t,callback:o})},o.delete=function(){this._editingService.eraseComponent()},t}(c.c),s()(n.prototype,"openScheduleLayer",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"openScheduleLayer"),n.prototype),s()(n.prototype,"removeMapImage",[u.history,l.d],Object.getOwnPropertyDescriptor(n.prototype,"removeMapImage"),n.prototype),s()(n.prototype,"newSchedule",[l.d],Object.getOwnPropertyDescriptor(n.prototype,"newSchedule"),n.prototype),s()(n.prototype,"delete",[u.history,l.d],Object.getOwnPropertyDescriptor(n.prototype,"delete"),n.prototype),n),d=p;t.a=d,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/use-case/index.js",localName:t}})}catch(e){}}e(p,"ScheduleComponentUseCase"),e(d,"default")}()},436:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g=o(61),y=o.n(g),b=o(57),_=o.n(b),v=o(0),C=o.n(v),S=o(50),O=o.n(S),k=(o(62),o(16)),I=o(69),w=o(129),P=o(70),j=o(51),T=o(996),L=o(1231),E=o(49),N=o(277),x=o(437),D=(n=function(e){C()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},y()(o,"dateOnly",r,_()(o)),y()(o,"title",i,_()(o)),y()(o,"startAt",a,_()(o)),y()(o,"endAt",s,_()(o)),y()(o,"content",c,_()(o)),y()(o,"linkUrl",l,_()(o)),y()(o,"placesMap",u,_()(o)),y()(o,"layout",p,_()(o)),y()(o,"align",d,_()(o)),y()(o,"scheduleId",h,_()(o)),y()(o,"repetition",f,_()(o)),y()(o,"notification",m,_()(o)),o._componentFactory=j.U.get("componentFactory");var n=t,g=n.state,b=void 0===g?{}:g,v=n.config,C=void 0===v?{}:v,S=Object(k.a)(b,"placesMap",o.placesMap);return o.attributes=Object(I.a)(o.attributes,C.attributes),o.dateOnly=Object(k.a)(b,"dateOnly",o.dateOnly),o.title=Object(k.a)(b,"title",o.title),o.startAt=Object(k.a)(b,"startAt",o.startAt),o.endAt=Object(k.a)(b,"endAt",o.endAt),o.content=Object(k.a)(b,"content",o.content),o.linkUrl=Object(k.a)(b,"linkUrl",o.linkUrl),o.layout=Object(k.a)(b,"layout",o.layout),o.align=Object(k.a)(b,"align",o.align),o.scheduleId=Object(k.a)(b,"scheduleId",o.scheduleId),o.repetition=Object(k.a)(b,"repetition",o.repetition),o.notification=Object(k.a)(b,"notification",o.notification),o.placesMap=S?o._componentFactory.createComponentWithCompData(S):null,o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,title:this.title,startAt:this.startAt,endAt:this.endAt,content:this.content,linkUrl:this.linkUrl,placesMap:this._toPlainPlacesMapJSON(),layout:this.layout,align:this.align,scheduleId:this.scheduleId,repetition:E.f.toJS(this.repetition),notification:E.f.toJS(this.notification),dateOnly:this.dateOnly}},t._toPlainPlacesMapJSON=function(){return this.placesMap&&this.placesMap.toPlainJSON?this.placesMap.toPlainJSON():this.placesMap},t.removeMapImage=function(){Object(I.a)(this,{placesMap:{layout:N.a.MAP_TEXT}})},t.updateProperty=function(e){var t=this;e=Object(w.a)(e,["id","layout"]),Object(P.a)(e,function(e,o){if("object"==typeof e){var n=t[o];t[o]=Object(I.a)(n,e)}t.hasOwnProperty(o)&&(t[o]=e)})},t.setState=function(e){var t=this;Object(P.a)(e,function(e,o){t.hasOwnProperty(o)&&(t[o]=e)})},o}(j.g),r=O()(n.prototype,"dateOnly",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=O()(n.prototype,"title",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=O()(n.prototype,"startAt",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=O()(n.prototype,"endAt",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=O()(n.prototype,"content",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),l=O()(n.prototype,"linkUrl",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=O()(n.prototype,"placesMap",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=O()(n.prototype,"layout",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),d=O()(n.prototype,"align",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=O()(n.prototype,"scheduleId",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=O()(n.prototype,"repetition",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=O()(n.prototype,"notification",[E.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n);D.ctype="schedule",D.schema={id:T.a.string.isRequired,ctype:T.a.string.isRequired,layout:T.a.string.isRequired,align:T.a.string,title:T.a.string.isRequired,startAt:T.a.string.isRequired,endAt:T.a.string,scheduleId:T.a.number,placesMap:T.a.shape(x.a.schema),linkUrl:T.a.string,content:T.a.string,dateOnly:T.a.bool,repetition:T.a.shape(L.d.Repetition),notification:T.a.shape(L.d.Notification)};var R=D;t.a=R,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/schedule-component/src/store/index.js",localName:t}})}catch(e){}}e(D,"ScheduleComponentStore"),e(R,"default")}()},437:function(e,t,o){"use strict";var n,r,i,a,s,c,l=o(17),u=o.n(l),p=o(61),d=o.n(p),h=o(1),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(50),v=o.n(_),C=(o(62),o(16)),S=o(69),O=o(101),k=o(51),I=o(996),w=o(1231),P=o(49),j=o(277),T=(n=function(e){b()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},d()(o,"layout",r,g()(o)),d()(o,"align",i,g()(o)),d()(o,"searchEngine",a,g()(o)),d()(o,"thumbnail",s,g()(o)),d()(o,"places",c,g()(o)),o.serviceData=null,o.onRenderServiceDataButton=null,o.onClickServiceDataButton=null;var n=t,l=n.state,u=void 0===l?{}:l,p=n.config,h=void 0===p?{}:p;return o.layout=Object(C.a)(u,"layout",o.layout),o.align=Object(C.a)(u,"align",o.align),o.searchEngine=Object(C.a)(u,"searchEngine",o.searchEngine),o.thumbnail=Object(C.a)(u,"thumbnail",o.thumbnail),o.places=o._makeIsDomestic(Object(C.a)(u,"places",o.places)),o.attributes=Object(S.a)(o.attributes,h.attributes),o.serviceData=Object(C.a)(u,"serviceData",o.serviceData),o.onClickServiceDataButton=h.onClickServiceDataButton,o.onRenderServiceDataButton=h.onRenderServiceDataButton,o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,align:this.align,searchEngine:this.searchEngine,thumbnail:P.f.toJS(this.thumbnail),places:this.places.map(function(e){return P.f.toJS(e)}),serviceData:this.serviceData}},t.getPlainText=function(){return this.places.map(function(e){return e.name})},t.updatePlacesAndStaticMap=function(e){var t=e.places,o=e.thumbnail,n=e.searchEngine;this.places=t,this.thumbnail.src=o.src,this.searchEngine=n},t.updateServiceData=function(e){this.serviceData=e},t.updateLayout=function(e){this.layout=e},t.updateProperty=function(e){var t=e.layout,o=u()(e,["layout"]);t&&this.updateLayout(t),Object(O.a)(this,o)},t.updateStyle=function(e){var t=e.align;this.align=t},t.collectStyle=function(){var e="justify"===this.align||null===this.align?"left":this.align;return{layout:this.layout,align:e,edit:{id:this.id,places:this.places}}},t.isLibraryComponent=function(){return!0},t.getLibraryItemData=function(){var e=this.thumbnail.src;return{id:this.id,key:e,thumbnail:e,data:this.toValidJSON()}},t._makeIsDomestic=function(e){var t="naver"===this.searchEngine;return e.map(function(e){return void 0===e.__isDomestic&&(e.__isDomestic=t),e})},f()(o,[{key:"hasMultiplePlaces",get:function(){return this.places.length>1}}]),o}(k.g),r=v()(n.prototype,"layout",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return j.a.DEFAULT}}),i=v()(n.prototype,"align",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=v()(n.prototype,"searchEngine",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"naver"}}),s=v()(n.prototype,"thumbnail",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{src:"",ctype:"thumbnail"}}}),c=v()(n.prototype,"places",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v()(n.prototype,"hasMultiplePlaces",[P.e],Object.getOwnPropertyDescriptor(n.prototype,"hasMultiplePlaces"),n.prototype),n);T.ctype="placesMap",T.schema={id:I.a.string.isRequired,ctype:I.a.string.isRequired,layout:I.a.string.isRequired,align:I.a.string,searchEngine:I.a.string.isRequired,thumbnail:I.a.shape(w.i).isRequired,places:I.a.arrayOf(I.a.shape(w.e)).isRequired,serviceData:I.a.object};var L=T;t.a=L,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/store/index.js",localName:t}})}catch(e){}}e(T,"MapComponentStore"),e(L,"default")}()},438:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(51).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/use-case/index.js",localName:t}})}catch(e){}}e(i,"FileComponentUseCase"),e(a,"default")}()},439:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h=o(61),f=o.n(h),m=o(57),g=o.n(m),y=o(0),b=o.n(y),_=o(50),v=o.n(_),C=(o(62),o(16)),S=o(69),O=o(101),k=o(51),I=o(996),w=o(49),P=o(286),j=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},f()(o,"layout",r,g()(o)),f()(o,"align",i,g()(o)),f()(o,"fileId",a,g()(o)),f()(o,"fileName",s,g()(o)),f()(o,"fileSize",c,g()(o)),f()(o,"internalResource",l,g()(o)),f()(o,"count",u,g()(o)),f()(o,"totalCount",p,g()(o)),f()(o,"phase",d,g()(o));var n=t,h=n.state,m=void 0===h?{}:h,y=n.config,b=void 0===y?{}:y;return o.layout=Object(C.a)(m,"layout",o.layout),o.align=Object(C.a)(m,"align",o.align),o.fileId=Object(C.a)(m,"fileId",o.fileId),o.fileName=Object(C.a)(m,"fileName",o.fileName),o.fileSize=Object(C.a)(m,"fileSize",o.fileSize),o.internalResource=Object(C.a)(m,"internalResource",o.internalResource),o.count=Object(C.a)(m,"count",o.count),o.totalCount=Object(C.a)(m,"totalCount",o.totalCount),o.attributes=Object(S.a)(o.attributes,b.attributes),o.fileId&&(o.phase=k.M.DONE),o}b()(t,e);var o=t.prototype;return o.setState=function(e){Object(O.a)(this,e)},o.updateProperty=function(e){Object(O.a)(this,e)},o.updateFile=function(e){var t=e.fileId,o=e.fileName,n=e.fileSize;this.fileId=t,this.fileName=o,this.fileSize=n},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,phase:this.phase,align:this.align,fileId:this.fileId,fileName:this.fileName,fileSize:this.fileSize,internalResource:this.internalResource,count:this.count,totalCount:this.totalCount}},t}(k.g),r=v()(n.prototype,"layout",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return P.a.DEFAULT}}),i=v()(n.prototype,"align",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=v()(n.prototype,"fileId",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=v()(n.prototype,"fileName",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=v()(n.prototype,"fileSize",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=v()(n.prototype,"internalResource",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),u=v()(n.prototype,"count",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=v()(n.prototype,"totalCount",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),d=v()(n.prototype,"phase",[w.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.M.EMPTY}}),n);j.ctype="file",j.schema={id:I.a.string.isRequired,layout:I.a.string.isRequired,ctype:I.a.string.isRequired,align:I.a.string,fileId:I.a.string.isRequired,fileName:I.a.string.isRequired,fileSize:I.a.number.isRequired};var T=j;t.a=T,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/file-component/src/store/index.js",localName:t}})}catch(e){}}e(j,"FileComponentStore"),e(T,"default")}()},440:function(e,t,o){"use strict";var n=o(401).a;t.a=n,function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/use-case/index.js",localName:t}})}catch(e){}}(n,"default")}()},441:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u=o(61),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(50),y=o.n(g),b=(o(62),o(16)),_=o(69),v=o(51),C=o(996),S=o(1231),O=o(49),k=(n=function(e){m()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},p()(o,"latex",r,h()(o)),p()(o,"html",i,h()(o)),p()(o,"align",a,h()(o)),p()(o,"layout",s,h()(o)),p()(o,"fontSizeCode",c,h()(o)),p()(o,"thumbnail",l,h()(o));var n=t,u=n.state,d=void 0===u?{}:u,f=n.config,m=void 0===f?{}:f;return o.latex=Object(b.a)(d,"latex",o.latex),o.html=Object(b.a)(d,"html",o.html),o.layout=Object(b.a)(d,"layout",o.layout),o.align=Object(b.a)(d,"align",o.align),o.fontSizeCode=Object(b.a)(d,"fontSizeCode",o.fontSizeCode),o.thumbnail=Object(b.a)(d,"thumbnail",o.thumbnail),o.attributes=Object(_.a)(o.attributes,m.attributes),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,latex:this.latex,html:this.html,align:this.align,layout:this.layout,fontSizeCode:this.fontSizeCode,thumbnail:O.f.toJS(this.thumbnail)}},t.updateFormulaData=function(e){var t=e.thumbnail||{};this.latex=e.latex,this.html=e.html,this.thumbnail.src=t.src,this.thumbnail.width=Number(t.width),this.thumbnail.height=Number(t.height),this.fontSizeCode=e.fontSizeCode},t.collectStyle=function(){return{align:"justify"===this.align||null===this.align?"left":this.align,fontSizeCode:this.fontSizeCode}},o}(v.g),r=y()(n.prototype,"latex",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),i=y()(n.prototype,"html",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=y()(n.prototype,"align",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=y()(n.prototype,"layout",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"default"}}),c=y()(n.prototype,"fontSizeCode",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"fs15"}}),l=y()(n.prototype,"thumbnail",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{ctype:"thumbnail",src:"",width:0,height:0}}}),n);k.ctype="formula",k.schema={id:C.a.string.isRequired,ctype:C.a.string.isRequired,layout:C.a.string.isRequired,align:C.a.string,latex:C.a.string.isRequired,html:C.a.string.isRequired,thumbnail:C.a.shape(S.i).isRequired,fontSizeCode:C.a.string.isRequired};var I=k;t.a=I,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/formula-component/src/store/index.js",localName:t}})}catch(e){}}e(k,"FormulaComponentStore"),e(I,"default")}()},452:function(e,t,o){"use strict";var n,r=o(51),i=o(55),a=o.n(i),s=o(0),c=o.n(s),l=o(50),u=o.n(l),p=o(54),d=o.n(p),h=o(49),f=o(347),m=o(52),g=o(82),y=o(83),b=o(84),_=o(741),v=o(740),C=o(123),S=o(198),O=o(437),k=(n=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,i=t.layout,a=this._renderMapModule();return h.b.createElement(g.a,{id:n,ctype:r,layout:i,i18n:o},h.b.createElement(y.a,{compId:n,compStore:t},a))},o._renderMapModule=function(){var e=this.props.store,t=e.layout,o=e.hasMultiplePlaces,n="default"===t?this._renderDefaultMap():this._renderTextMap(),r=d()({"se-section-placesMap-multiple":o});return h.b.createElement(b.a,{blockWrapperProps:e,className:r,onDoubleClick:this._handleDoubleClick,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext,draggable:"true"},n)},o._renderPlaceList=function(e,t,o){var n,r={name:e.name,address:e.address,className:d()(((n={})["se-module-map-text-spot-"+t]=o.length>1,n))};return h.b.createElement(v.a,a()({key:t},r))},o._renderDefaultMap=function(){var e=this.props,t=e.store,o=e.children,n=e.i18n,r=t.places,i=t.thumbnail;if(!i)return!1;var a=i.src,s=r.map(this._renderPlaceList);return h.b.createElement(h.b.Fragment,null,h.b.createElement(_.a,{src:a,units:o,onLoad:this._handleLoadMapImage,onError:this._handleErrorMapImage},h.b.createElement(S.a,{store:t}),h.b.createElement(C.a,{compStore:t,isReady:!0,i18n:n})),s)},o._renderTextMap=function(){var e=this.props,t=e.store,o=e.children,n=e.i18n,r=t.places,i=t.hasMultiplePlaces,a=r.map(this._renderPlaceList),s=i?null:h.b.createElement("div",{className:"se-map-marker"});return h.b.createElement(h.b.Fragment,null,s,a,o,h.b.createElement(S.a,{store:t}),h.b.createElement(C.a,{compStore:t,isReady:!0,i18n:n}))},o._handleDoubleClick=function(){var e=this.props,t=e.useCase,o=e.store,n=o.places,r=o.id;t.editPlaces(n.toJS(),r)},o._handleLoadMapImage=function(){this.props.useCase.repaintCursor()},o._handleErrorMapImage=function(){this.props.useCase.repaintCursor()},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},t}(h.b.Component),u()(n.prototype,"_handleDoubleClick",[m.autobind,m.muteIfReadOnly],Object.getOwnPropertyDescriptor(n.prototype,"_handleDoubleClick"),n.prototype),u()(n.prototype,"_handleLoadMapImage",[m.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleLoadMapImage"),n.prototype),u()(n.prototype,"_handleErrorMapImage",[m.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleErrorMapImage"),n.prototype),u()(n.prototype,"_handleMoveToPrev",[m.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToPrev"),n.prototype),u()(n.prototype,"_handleMoveToNext",[m.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToNext"),n.prototype),n);k.defaultProps={i18n:function(e){return e}},k.propTypes={shouldForceRefresh:h.a.bool,i18n:h.a.func,store:h.a.instanceOf(O.a).isRequired,children:h.a.oneOfType([h.a.element,h.a.array])};var I=Object(f.b)(k),w=I;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/view/index.jsx",localName:t}})}catch(e){}}e(k,"MapComponentView"),e(I,"default")}();var P,j,T=o(12),L=o.n(T),E=o(18),N=o.n(E),x=(P=Object(m.history)({sync:!1}),j=function(e){function t(){var t;return(t=e.call(this)||this)._placeLayerService=r.U.get("placeLayerService"),t._mapComponentService=r.U.get("mapComponentService"),t}return c()(t,e),t.prototype.editPlaces=function(){var e=N()(L.a.mark(function e(t,o){var n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._placeLayerService.editPlaces({initialPlaces:t,isUpdateMode:!0});case 2:(n=e.sent)&&this._mapComponentService.updatePlacesAndStaticMap(n,o);case 4:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t}(r.c),u()(j.prototype,"editPlaces",[P,h.d],Object.getOwnPropertyDescriptor(j.prototype,"editPlaces"),j.prototype),j),D=x,R=D;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/use-case/index.js",localName:t}})}catch(e){}}e(x,"MapComponentUseCase"),e(D,"default")}();var A=function(e){function t(){var t;return(t=e.call(this)||this)._selectionInfoStore=r.U.get("selectionInfoStore"),t}c()(t,e);var o=t.prototype;return o.updatePlacesAndStaticMap=function(e,t){this.getComponentStore(t).updatePlacesAndStaticMap(e)},o.getActiveCompId=function(){return this._selectionInfoStore.start.compId},o.getClonedPlaces=function(e){return this.getComponentStore(e).places.toJS()},t}(r.a),U=A,M=U;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/service/index.js",localName:t}})}catch(e){}}e(A,"MapComponentService"),e(U,"default")}();var B,F=o(79),z=o(17),W=o.n(z),V=o(102),G=o(56),H=(B=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?G.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"mapLayout:title":n,i=e.label,s=void 0===i?"mapLayout:label":i,c=e.groups,l=void 0===c?[{value:"default",title:"mapLayout:default_title",label:"mapLayout:default_label",logId:"mapimg"},{value:"map_text",title:"mapLayout:text_title",label:"mapLayout:text_label",logId:"maptext"}]:c,u=e.value,p=void 0===u?"default":u,d=W()(e,["type","title","label","groups","value"]);return h.b.createElement(V.a,a()({type:o,title:r,label:s,groups:l,value:p},d,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeLayout(e)},t}(h.b.Component),u()(B.prototype,"_handleChange",[m.autobind],Object.getOwnPropertyDescriptor(B.prototype,"_handleChange"),B.prototype),B),q=H,J=q;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/view/map-layout-button-view.jsx",localName:t}})}catch(e){}}e(H,"MapTypesButtonView"),e(q,"default")}();var K,Y=o(270),X=(K=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?G.b.CYCLE_TOGGLE:t,n=e.title,r=void 0===n?"mapLayout:title":n,i=e.label,s=void 0===i?"mapLayout:label":i,c=e.value,l=void 0===c?"map_text":c,u=e.groups,p=void 0===u?[{value:"default",title:"mapLayout:default_title",label:"mapLayout:default_label",logId:"mapimg"},{value:"map_text",title:"mapLayout:text_title",label:"mapLayout:text_label",logId:"maptext"}]:u,d=W()(e,["type","title","label","value","groups"]);return h.b.createElement(Y.a,a()({type:o,title:r,label:s,value:l,groups:p},d,{onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeLayout(e)},t}(h.b.Component),u()(K.prototype,"_handleChange",[m.autobind],Object.getOwnPropertyDescriptor(K.prototype,"_handleChange"),K.prototype),K),Q=X,Z=Q;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/view/map-layout-toggle-button-view.jsx",localName:t}})}catch(e){}}e(X,"MapLayoutToggleButtonView"),e(Q,"default")}();var $,ee=o(63),te=($=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?G.b.BASIC:t,n=e.title,r=void 0===n?"mapEdit:title":n,i=e.label,s=void 0===i?"mapEdit:label":i,c=e.labelVisible,l=void 0===c||c,u=e.logId,p=void 0===u?"edit":u,d=W()(e,["type","title","label","labelVisible","logId"]);return h.b.createElement(ee.a,a()({type:o,title:r,label:s,logId:p,labelVisible:l},d,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editPlaces()},t}(h.b.Component),u()($.prototype,"_handleClick",[m.autobind],Object.getOwnPropertyDescriptor($.prototype,"_handleClick"),$.prototype),$),oe=te,ne=oe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/view/map-edit-right-label-button-view.jsx",localName:t}})}catch(e){}}e(te,"MapEditRightLabelButtonView"),e(oe,"default")}();var re,ie=o(731),ae=(re=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?G.b.BASIC:t,n=e.title,r=void 0===n?"mapEdit:title":n,i=e.logId,s=void 0===i?"edit":i,c=W()(e,["type","title","logId"]);return h.b.createElement(ee.a,a()({type:o,title:r,logId:s},c,{onClick:this._handleClick}))},o._handleClick=function(){var e=this.props,t=e.useCase,o=e.value,n=h.f.toJS(o);t.editPlaces(Object(ie.a)(n))},t}(h.b.Component),u()(re.prototype,"_handleClick",[m.autobind],Object.getOwnPropertyDescriptor(re.prototype,"_handleClick"),re.prototype),re),se=ae,ce=se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/view/map-edit-button-view.jsx",localName:t}})}catch(e){}}e(ae,"MapEditButtonView"),e(se,"default")}();var le,ue,pe,de=o(271),he=(le=Object(m.history)({sync:!1}),ue=Object(m.history)({sync:!1}),pe=function(e){function t(){var t;return(t=e.call(this)||this)._placeLayerService=r.U.get("placeLayerService"),t._mapComponentService=r.U.get("mapComponentService"),t._propertyChangeService=r.U.get("propertyChangeService"),t._selectionInfoStore=r.U.get("selectionInfoStore"),t._componentListStore=r.U.get("componentListStore"),t}c()(t,e);var o=t.prototype;return o.editPlaces=function(){var e=N()(L.a.mark(function e(){var t,o,n;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._mapComponentService.getActiveCompId(),o=this._mapComponentService.getClonedPlaces(t),e.next=4,this._placeLayerService.editPlaces({initialPlaces:o,isUpdateMode:!0});case 4:(n=e.sent)&&this._mapComponentService.updatePlacesAndStaticMap(n,t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.changeLayout=function(e){this._propertyChangeService.changeLayout(e.value)},t}(r.m),u()(pe.prototype,"editPlaces",[m.sentryCatch,le,h.d],Object.getOwnPropertyDescriptor(pe.prototype,"editPlaces"),pe.prototype),u()(pe.prototype,"changeLayout",[m.sentryCatch,ue,h.d],Object.getOwnPropertyDescriptor(pe.prototype,"changeLayout"),pe.prototype),pe);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/use-case/map-button-use-case.js",localName:t}})}catch(e){}}(he,"MapButtonUseCase")}();var fe={"map-layout":{view:J,useCase:de.a,propertyName:"layout",styleName:"map"},"map-layout-toggle":{view:Z,useCase:he,propertyName:"layout",styleName:"map-layout-toggle"},"map-edit-right-label":{view:ne,useCase:he,propertyName:"edit",styleName:"map-edit"},"map-edit":{view:ce,useCase:he,propertyName:"edit",styleName:"map-edit"}},me=fe,ge=me;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(fe,"buttons"),e(me,"default")}();var ye={propertyToolbar:{align:Object(F.a)("align-group"),"map-layout":ge["map-layout"],"map-edit-right-label":ge["map-edit-right-label"],"separator-bar":Object(F.a)("separator-bar")},contextToolbar:{"cycle-align":Object(F.a)("cycle-align"),"map-edit":ge["map-edit"],"map-layout":ge["map-layout"],delete:Object(F.a)("delete"),"separator-bar":Object(F.a)("separator-bar")},overlayToolbar:{"map-layout-toggle":ge["map-layout-toggle"],"map-edit":ge["map-edit"],delete:Object(F.a)("delete")}},be=ye;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/map-button-set-map.js",localName:t}})}catch(e){}}(ye,"default")}();var _e={propertyToolbar:function(){return["align","separator-bar","map-layout","separator-bar","map-edit-right-label"]},contextToolbar:function(e){var t=e.selectedComponents,o=["map-edit","separator-bar","map-layout","separator-bar","delete"];return 1===t.length&&"map_text"===t[0].layout&&o.unshift("cycle-align","separator-bar"),o},overlayToolbar:function(){return{fixedButtonSets:{bottom:["map-layout-toggle","map-edit","delete"]}}}},ve=_e;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/map-button-resolver.js",localName:t}})}catch(e){}}(_e,"default")}();var Ce=function(e){function t(){return e.call(this,{buttonSetMap:be,buttonResolver:ve})||this}return c()(t,e),t}(r.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/toolbar/index.js",localName:t}})}catch(e){}}(Ce,"MapComponentToolbar")}();var Se=r.q.extend({name:"MapComponent",view:w,useCase:R,service:M,store:O.a,toolbar:Ce}),Oe=Se;t.a=Oe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/map-component/src/index.js",localName:t}})}catch(e){}}e(Se,"MapComponent"),e(Oe,"default")}()},455:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(50),a=o.n(i),s=o(51),c=o(49),l=o(52),u=o(12),p=o.n(u),d=o(18),h=o.n(d),f=o(212),m={CHROME:"chrome",WHALE:"whale",FIREFOX:"firefox",EDGE:"edge",SAFARI:"safari",UNKNOWN:"unknown"},g={chrome:{storeUrl:"https://chrome.google.com/webstore/detail/kbceiakflogbmmkflklmmakoobcbihlk"},whale:{storeUrl:"https://store.whale.naver.com/detail/dfipapmdikdemhhlbiaooalmneoghnln"},firefox:{storeUrl:"https://addons.mozilla.org/ko/firefox/addon/smarteditor/"},edge:{storeUrl:""},safari:{storeUrl:""},unknown:{storeUrl:""}},y=function(){function e(e){void 0===e&&(e=g),this._setConfig(e)}var t=e.prototype;return t._setConfig=function(e){void 0===e&&(e={});var t=m.UNKNOWN;window.whale?t=m.WHALE:window.chrome?t=f.a.isEdge()?m.EDGE:m.CHROME:window.safari?t=m.SAFARI:f.a.isFirefox()&&(t=m.FIREFOX),this._config=e[t]},t._executeByContentScript=function(){var e=h()(p.a.mark(function e(t,o){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){var n=!1,r=function(e){if(e.source===window){var t=e.data,r=t.type,i=t.result;"response"===r&&(n=!!i,o&&o(i))}};window.addEventListener("message",r),setTimeout(function(){window.removeEventListener("message",r),e(n)},200),window.postMessage(t,"*")});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t,o){return e.apply(this,arguments)}}(),t.getStoreUrl=function(){return this._config.storeUrl},t.isSupported=function(){return!!this.getStoreUrl()},t.paste=function(e){return this._executeByContentScript({action:"paste",targetId:e})},e}(),b=y,_=b;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/browser-extension/connector/src/index.js",localName:t}})}catch(e){}}e(m,"BROWSER"),e(g,"DEFAULT_CONFIG_SET"),e(y,"BrowserExtensionConnector"),e(b,"default")}();var v,C,S=o(701),O=o(702),k=o(667),I=f.a.NOT_MACOS?"Ctrl":"CMD",w=function(e,t){return void 0===t&&(t=!1),{hotkeyLink:t?'<a href="#">'+e+"</a>":e,hotkeyCopy:I+"+C",hotkeyCut:I+"+X",hotkeyPaste:I+"+V",interpolation:{escapeValue:!1}}},P=(v=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.i18n,o=e.custom,n=t("contextMenuLayer:alert_hotkey"),r=t("contextMenuLayer:alert_info_title"),i=t("contextMenuLayer:alert_info_desc",w(n,o.useCase.hasHelpPanel()));return c.b.createElement(c.b.Fragment,null,c.b.createElement("div",{className:"se-popup-header"},c.b.createElement("strong",{className:"se-popup-title"},r),c.b.createElement(S.a,{onClick:this._handleClickClose})),c.b.createElement("div",{className:"se-popup-content"},c.b.createElement("div",{className:"se-popup-alert-text",onClick:this._handleClickText,dangerouslySetInnerHTML:{__html:i.replace(/\n/g,"<br/>")}})))},o._handleClickClose=function(e){this.props.onClickClose(e),k.a.log(e.nativeEvent,"ctminf.close")},o._handleClickText=function(e){var t=e.target;t&&"A"===t.tagName&&(e.preventDefault(),this.props.custom.useCase.showHelpHotkey(),k.a.log(e.nativeEvent,"ctminf.hotkey"))},t}(c.b.Component),a()(v.prototype,"_handleClickClose",[l.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleClickClose"),v.prototype),a()(v.prototype,"_handleClickText",[l.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleClickText"),v.prototype),v);P.defaultProps={i18n:function(e){return e},custom:{},onClickClose:function(){}},P.propTypes={i18n:c.a.func,custom:c.a.object.isRequired,onClickClose:c.a.func.isRequired};var j,T=(C=function(e){function t(){return e.apply(this,arguments)||this}r()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.i18n,o=e.custom,n=t("contextMenuLayer:alert_hotkey"),r=t("contextMenuLayer:alert_install_title"),i=t("contextMenuLayer:alert_install_desc",w(n,o.useCase.hasHelpPanel())),a=t("contextMenuLayer:alert_install_confirm");return c.b.createElement(c.b.Fragment,null,c.b.createElement("div",{className:"se-popup-header"},c.b.createElement("strong",{className:"se-popup-title"},r),c.b.createElement(S.a,{onClick:this._handleClickClose})),c.b.createElement("div",{className:"se-popup-content"},c.b.createElement("div",{className:"se-popup-alert-text",onClick:this._handleClickText,dangerouslySetInnerHTML:{__html:i.replace(/\n/g,"<br/>")}})),c.b.createElement("div",{className:"se-popup-button-container"},c.b.createElement(O.a,{text:a,onClick:this._handleClickConfirm})))},o._handleClickClose=function(e){this.props.onClickClose(e),k.a.log(e.nativeEvent,"ctmins.close")},o._handleClickText=function(e){var t=e.target;t&&"A"===t.tagName&&(e.preventDefault(),this.props.custom.useCase.showHelpHotkey(),k.a.log(e.nativeEvent,"ctmins.hotkey"))},o._handleClickConfirm=function(e){this.props.onClickConfirm(e),k.a.log(e.nativeEvent,"ctmins.ok")},t}(c.b.Component),a()(C.prototype,"_handleClickClose",[l.autobind],Object.getOwnPropertyDescriptor(C.prototype,"_handleClickClose"),C.prototype),a()(C.prototype,"_handleClickText",[l.autobind],Object.getOwnPropertyDescriptor(C.prototype,"_handleClickText"),C.prototype),a()(C.prototype,"_handleClickConfirm",[l.autobind],Object.getOwnPropertyDescriptor(C.prototype,"_handleClickConfirm"),C.prototype),C);T.defaultProps={i18n:function(e){return e},custom:{},onClickConfirm:function(){},onClickClose:function(){}},T.propTypes={i18n:c.a.func,custom:c.a.object.isRequired,onClickConfirm:c.a.func.isRequired,onClickClose:c.a.func.isRequired},function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/contextmenu-layer/src/view/alert-custom-layouts/index.jsx",localName:t}})}catch(e){}}e(I,"MOD_KEY"),e(w,"getDescOptions"),e(P,"InfoLayout"),e(T,"InstallLayout")}();var L=(j=function(e){function t(){var t;(t=e.call(this)||this)._i18n=s.U.get("i18n"),t._extensionConnector=new _,t._contextmenuLayerService=s.U.get("contextmenuLayerService"),t._editingService=s.U.get("editingService"),t._selectionService=s.U.get("selectionService"),t._historyService=s.U.get("historyService"),t._alertLayerService=s.U.get("alertLayerService"),t._canvasScrollingService=s.U.get("canvasScrollingService"),t._helpPanelLayoutService=s.U.get("helpPanelLayoutService");var o=s.U.get("configAgent").get("productConfig")||{},n=o.help,r=o.layoutType;return t._useHelpPanel=!0===n&&r!==s.H.EMBED,t}r()(t,e);var o=t.prototype;return o._fallbackPaste=function(e){this._extensionConnector.isSupported()?this._extensionConnector.paste(e).then(this._afterPasteByExtension):this._alertLayerService.open({type:"custom",custom:{Layout:P,useCase:this},className:"se-popup-contextmenu",isDimUse:!1})},o._afterPasteByExtension=function(e){e||this._alertLayerService.open({type:"custom",custom:{Layout:T,useCase:this},onClickConfirm:this._onClickConfirmInstall,className:"se-popup-contextmenu",isDimUse:!1})},o._onClickConfirmInstall=function(){var e=this._extensionConnector.getStoreUrl();window.open(e)},o.hasHelpPanel=function(){return this._useHelpPanel},o.showHelpHotkey=function(){this._alertLayerService.close(),this._helpPanelLayoutService.open(),this._helpPanelLayoutService.openLayer("START_SHORTCUT","스마트에디터 단축키")},o.close=function(){this._contextmenuLayerService.close()},o.execute=function(e){switch(e.command){case"cut":this._editingService.cut();break;case"copy":this._editingService.copy();break;case"paste":this._editingService.paste(this._fallbackPaste);break;case"selectAll":this._selectionService.selectAll();break;case"saveAs":this._contextmenuLayerService.saveAsCurrentFile();break;case"undo":this._undo();break;case"redo":this._redo();break;case"delete":this._erase()}this.close()},o._erase=function(){this._editingService.erase(void 0,s.u.RIGHT)},o._undo=function(){this._historyService.undo(),this._canvasScrollingService.scrollToFocus()},o._redo=function(){this._historyService.redo(),this._canvasScrollingService.scrollToFocus()},t}(s.m),a()(j.prototype,"_fallbackPaste",[l.autobind],Object.getOwnPropertyDescriptor(j.prototype,"_fallbackPaste"),j.prototype),a()(j.prototype,"_afterPasteByExtension",[l.autobind],Object.getOwnPropertyDescriptor(j.prototype,"_afterPasteByExtension"),j.prototype),a()(j.prototype,"_onClickConfirmInstall",[l.autobind],Object.getOwnPropertyDescriptor(j.prototype,"_onClickConfirmInstall"),j.prototype),a()(j.prototype,"close",[c.d],Object.getOwnPropertyDescriptor(j.prototype,"close"),j.prototype),a()(j.prototype,"execute",[c.d],Object.getOwnPropertyDescriptor(j.prototype,"execute"),j.prototype),a()(j.prototype,"_erase",[l.history],Object.getOwnPropertyDescriptor(j.prototype,"_erase"),j.prototype),a()(j.prototype,"_undo",[l.preventOnDocumentProcessing],Object.getOwnPropertyDescriptor(j.prototype,"_undo"),j.prototype),a()(j.prototype,"_redo",[l.preventOnDocumentProcessing],Object.getOwnPropertyDescriptor(j.prototype,"_redo"),j.prototype),j),E=L;t.a=E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/contextmenu-layer/src/use-case/index.js",localName:t}})}catch(e){}}e(L,"ContextmenuLayerUseCase"),e(E,"default")}()},456:function(e,t,o){"use strict";var n=o(49),r=o(84),i=o(197),a=o(347),s=o(155),c=o(200),l={useToolbarSlot:!1},u=function(e){var t={placeholder:e.i18n("quotationComponent:value_text_placeholder")};return n.b.createElement(s.a,{className:"se-quote",compId:e.store.id,text:e.store.value,options:l,additionalOption:t,onLimitTextLength:e.onLimitTextLength})};u.defaultProps={i18n:function(e){return e}},u.propTypes={onLimitTextLength:n.a.func,store:n.a.instanceOf(c.a).isRequired,i18n:n.a.func};var p=Object(a.b)(u),d=p;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/view/quotation-text.jsx",localName:t}})}catch(e){}}e(l,"textUnitOptions"),e(u,"QuotationText"),e(p,"default")}();var h=o(0),f=o.n(h),m={useToolbarSlot:!1},g=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=n.b.createRef(),o}f()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){var e=this;this.props.store.source.disable||(this._disposeReaction=n.f.reaction(function(){return{sourceTextOn:e.props.store.isSourceTextOn}},function(t){t.sourceTextOn?e._elementRef.current.classList.add("se-is-on"):e._elementRef.current.classList.remove("se-is-on")}))},o.componentDidMount=function(){this.props.store.source.disable||(this.props.store.isSourceTextOn?this._elementRef.current.classList.add("se-is-on"):this._elementRef.current.classList.remove("se-is-on"))},o.componentWillUnmount=function(){this._disposeReaction&&this._disposeReaction()},o.render=function(){var e=this.props.store,t=e.source,o=e.id;if(t.disable)return null;var r={placeholder:this.props.i18n("quotationComponent:source_text_placeholder")};return n.b.createElement(s.a,{text:t,compId:o,forwardRef:this._elementRef,options:m,additionalOption:r,className:"se-cite",onLimitTextLength:this.props.onLimitTextLength})},t}(n.b.Component);g.defaultProps={i18n:function(e){return e}},g.propTypes={onLimitTextLength:n.a.func,store:n.a.instanceOf(c.a).isRequired,i18n:n.a.func};var y=Object(a.b)(g),b=y;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/view/quotation-source-text.jsx",localName:t}})}catch(e){}}e(m,"textUnitOptions"),e(g,"QuotationSourceText"),e(y,"default")}();var _=function(e){return n.b.createElement(r.a,{id:e.subCompId,className:"__se-unit",blockWrapperProps:e.store,parentProps:e.parentProps,onMoveToPrev:e.onMoveToPrev,onMoveToNext:e.onMoveToNext},e.useQuotationToolbarSlot&&Object(i.a)({}),n.b.createElement("div",{className:"se-quotation-container"},n.b.createElement(d,e),n.b.createElement(b,e)))};_.defaultProps={i18n:function(e){return e},onMoveToPrev:function(){},onMoveToNext:function(){}},_.propTypes={store:n.a.instanceOf(c.a).isRequired,i18n:n.a.func,sectionClassName:n.a.string,subCompId:n.a.string,useQuotationToolbarSlot:n.a.bool,onMoveToPrev:n.a.func,onMoveToNext:n.a.func};var v=_;t.a=v;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/view/quotation-section.jsx",localName:t}})}catch(e){}}e(_,"QuotationSection"),e(v,"default")}()},460:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d,h,f,m,g,y,b=o(61),_=o.n(b),v=o(1),C=o.n(v),S=o(57),O=o.n(S),k=o(0),I=o.n(k),w=o(50),P=o.n(w),j=(o(62),o(4)),T=o(16),L=o(187),E=o(158),N=o(190),x=o(51),D=o(49),R=5,A=["material-book","material-movie","material-broadcast","material-show","material-music","material-shopping","material-news"],U={NONE:"none",NORMAL:"normal"},M={MAX_TAG_ITEMS:R,DEFAULT_CATEGORY_SET:A,TAG_ICON_TYPES:U};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-tag-layer/src/consts/index.js",localName:t}})}catch(e){}}e(R,"MAX_TAG_ITEMS"),e(A,"DEFAULT_CATEGORY_SET"),e(U,"TAG_ICON_TYPES"),e(M,"default")}();var B=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,_()(o,"opened",r,O()(o)),_()(o,"isLoading",i,O()(o)),_()(o,"imageUrl",a,O()(o)),_()(o,"searchItems",s,O()(o)),_()(o,"currentPage",c,O()(o)),_()(o,"totalPage",l,O()(o)),_()(o,"totalCount",u,O()(o)),_()(o,"keyword",p,O()(o)),_()(o,"tags",d,O()(o)),_()(o,"currentTabIndex",h,O()(o)),_()(o,"currentSubCategoryIndex",f,O()(o)),_()(o,"subCategories",m,O()(o)),_()(o,"isFetchNextPageError",g,O()(o)),_()(o,"isUrl",y,O()(o)),o.defaultCategorySet=A,o.defaultCategoryInfo=A.map(function(e){return{i18n:"imageTagLayer:tab_"+e,id:e,categoryId:e,iconType:"normal",name:"",api:""}}),o.imageTag={link:!0,category:{categorySet:o.defaultCategorySet,additionalCategories:o.defaultCategoryInfo},allowDuplicate:!0,allowTitleEditing:!0,allowDescriptionEditing:!0},o.nonEditableCategories=["material-book","material-movie","material-broadcast","material-music","material-shopping","material-news","material-show"];var n=t,b=n.state,v=void 0===b?{}:b,C=n.config,S=void 0===C?{}:C;o.opened=Object(T.a)(v,"opened",o.opened),o.dimColor=Object(T.a)(S,"dimColor","transparent"),o.maxTagItems=R,o.preservedTag=[],o._configAgent=x.U.get("configAgent");var k=o._configAgent.get("productConfig.imageTag");if(o.serviceId=o._configAgent.get("serviceInfo.appCode"),"boolean"==typeof k?k||(o.imageTag=null):"object"==typeof k&&Object(L.a)(o.imageTag,k,function(e,t){if(Object(j.a)(e))return t}),o.imageTag){o._titleMaxLength=Object(T.a)(o.imageTag,"titleMaxLength",40),o._descMaxLength=Object(T.a)(o.imageTag,"descMaxLength",20),o._isUrlAttachEnabled=Object(T.a)(o.imageTag,"link",!0),o._isDuplicateAllowed=Object(T.a)(o.imageTag,"allowDuplicate",!0),o._isTitleEditingAllowed=Object(T.a)(o.imageTag,"allowTitleEditing",!0),o._isDescriptionEditingAllowed=Object(T.a)(o.imageTag,"allowDescriptionEditing",!0),o._isTagOverlapAllowed=Object(T.a)(o.imageTag,"allowTagOverlap",!0),o._lastUsedCategory=0,o._lastUsedSubCategory=0,o.category={},o.category.categorySet=Object(T.a)(o.imageTag,"category.categorySet",o.defaultCategorySet);var I=Object(T.a)(o.imageTag,"category.additionalCategories",o.defaultCategoryInfo),w=[].concat(I,o.defaultCategoryInfo);o.category.additionalCategories=Object(N.a)(w)}else o._isUrlAttachEnabled=!1,o._isDuplicateAllowed=!1,o._isTitleEditingAllowed=!1,o._isDescriptionEditingAllowed=!1,o.category={categorySet:[],additionalCategories:[]};return o.subCategories=[],o.indexMap={},o}I()(t,e);var o=t.prototype;return o.initialize=function(e){void 0===e&&(e={});var t=e,o=t.compId,n=t.imageUrl,r=t.width,i=t.height,a=t.tags;this.imageComponentId=o,this.imageUrl=n,this.imageWidth=r,this.imageHeight=i,this.preservedTag=a||[],this.tags=a||[],this.keyword="",this.searchItems=[],this.currentPage=1,this.totalPage=1,this.totalCount=0,this.isFetchNextPageError=!1,this.isUrl=!1,this.setIndexMap(),this.setCategory()},o.open=function(e){this.initialize(e),this.opened=!0},o.close=function(){this.opened=!1},o.addNewTag=function(e){this.tags.length<this.maxTagItems&&this.tags.push(e)},o.updateLastUsedCategory=function(e,t){this._lastUsedCategory=e,this._lastUsedSubCategory=t},o.delTag=function(e){void 0===e&&(e=-1),e>=0&&e<this.tags.length&&this.tags.remove(this.tags[e])},o.updateTag=function(e,t){if(void 0===e&&(e=-1),void 0===t&&(t={}),e>=0&&e<this.tags.length){var o=this.tags[e].links;o[0].title=t.title,o[0].description=t.description}},o._findCategory=function(e){if(!e)return{tab:0,subCategory:0};var t=e.links[0].categoryId,o=this.indexMap[t]||this.indexMap[this._getFirstCategoryId()];return o?{tab:-1===o.parentIndex?o.selfIndex:o.parentIndex,subCategory:-1===o.parentIndex?0:o.selfIndex}:{tab:0,subCategory:0}},o._getlastUsedCategory=function(){var e=0,t=0;if(this.tags.length>0){var o=this.tags.length,n=o-1,r=o>0?this.tags[n]:null,i=this._findCategory(r);e=i.tab,t=i.subCategory}else e=this._lastUsedCategory>0?this._lastUsedCategory:0,t=this._lastUsedSubCategory>0?this._lastUsedSubCategory:0;return{tab:e,subCategory:t}},o.setIndexMap=function(){var e={};this.category.additionalCategories.map(function(t,o){t.categoryId?e[t.categoryId]={parentIndex:-1,selfIndex:o,iconType:t.iconType||U.NONE}:t.subCategories.map(function(t,n){e[t.categoryId]={parentIndex:o,selfIndex:n,iconType:t.iconType||U.NONE}})}),this.indexMap=e},o.setCategory=function(){var e=this._getlastUsedCategory(),t=e.tab,o=e.subCategory;this.currentTabIndex=t,this.currentSubCategoryIndex=o;var n=this.category.additionalCategories[this.currentTabIndex]||{};this.subCategories=Object(T.a)(n,"subCategories",[])},o.changeTabIndex=function(e){this.currentTabIndex=e},o.changeSubCategory=function(e){this.currentSubCategoryIndex=e},o.updateSubCategory=function(e){this.subCategories=e||[]},o.updateSearchResult=function(e){var t=e.searchItems,o=e.totalCount,n=e.totalPage;this.searchItems=this.searchItems.concat(t),this.totalCount=o,this.totalPage=n},o.clearSearchResult=function(){this.searchItems=[],this.totalCount=0,this.totalPage=1,this.currentPage=1,this.isFetchNextPageError=!1},o.clearSearchKeyword=function(){this.keyword=""},o.updateKeyword=function(e){void 0===e&&(e=""),this.keyword=e},o.updateCurrentPage=function(e){void 0===e&&(e=1),this.currentPage=e},o.setIsUrl=function(e){this.isUrl=e},o.setLoadingState=function(e){this.isLoading=e},o.setCurrentPage=function(e){this.currentPage=e},o.updatePinPoint=function(e,t,o){var n=this.tags[e].point;n.x=t,n.y=o},o._getFirstCategoryId=function(){for(var e=0,t=Object.entries(this.indexMap);e<t.length;e++){var o=t[e],n=o[0],r=o[1];if(-1===r.parentIndex&&0===r.selfIndex)return n}},o.getTabIdByIndex=function(e){var t=e||this.currentTabIndex,o=this.customCategoryTabList;return Object(T.a)(o[t],"identifier",null)},o.getTabLabelByIndex=function(e){var t=e||this.currentTabIndex;return this.customCategoryTabList[t].label},o.getCurrentCategoryIdByIndex=function(){var e=this.currentTabIndex,t=this.currentSubCategoryIndex,o=this.category.additionalCategories[e],n=(o.subCategories&&o.subCategories[t]||[]).categoryId||o.categoryId;return String(n)},o.getTabIndexById=function(e){for(var t=this.customCategoryTabList,o=t.length,n=0,r=0;r<o;r++)t[r].identifier===e&&(n=r);return n},o.getProvider=function(){return this.serviceId},o.getIconType=function(e){return this.indexMap[e].iconType},C()(t,[{key:"isDefaultSet",get:function(){var e=this.getCurrentCategoryIdByIndex();return this.defaultCategorySet.includes(e)}},{key:"customCategoryTabList",get:function(){var e=this.category,t=e.categorySet,o=e.additionalCategories;return Object(E.a)(t,function(e,t){var n=o.find(function(e){return e.id===t});return n&&e.push({i18n:n.i18n||"",label:n.name,className:"",identifier:n.id,categoryId:n.categoryId,dataLog:"lyit."+n.id}),e},[])}},{key:"preservedTags",get:function(){return D.f.toJS(this.preservedTag)}},{key:"plainSearchItems",get:function(){return D.f.toJS(this.searchItems)}},{key:"plainSubCategories",get:function(){return D.f.toJS(this.subCategories)}},{key:"plainTagItem",get:function(){return D.f.toJS(this.tags)}},{key:"imageCompId",get:function(){return this.imageComponentId}},{key:"duplicateConfig",get:function(){return this._isDuplicateAllowed}},{key:"allowTitleEditing",get:function(){return this._isTitleEditingAllowed}},{key:"allowDescriptionEditing",get:function(){return this._isDescriptionEditingAllowed}},{key:"allowUrlAttach",get:function(){return this._isUrlAttachEnabled}},{key:"allowTagOverlap",get:function(){return this._isTagOverlapAllowed}},{key:"titleMaxLength",get:function(){return this._titleMaxLength}},{key:"descMaxLength",get:function(){return this._descMaxLength}}]),t}(x.e),r=P()(n.prototype,"opened",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=P()(n.prototype,"isLoading",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),a=P()(n.prototype,"imageUrl",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=P()(n.prototype,"searchItems",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),c=P()(n.prototype,"currentPage",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=P()(n.prototype,"totalPage",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),u=P()(n.prototype,"totalCount",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=P()(n.prototype,"keyword",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=P()(n.prototype,"tags",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=P()(n.prototype,"currentTabIndex",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=P()(n.prototype,"currentSubCategoryIndex",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=P()(n.prototype,"subCategories",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),g=P()(n.prototype,"isFetchNextPageError",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=P()(n.prototype,"isUrl",[D.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P()(n.prototype,"customCategoryTabList",[D.e],Object.getOwnPropertyDescriptor(n.prototype,"customCategoryTabList"),n.prototype),n),F=B;t.a=F;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-tag-layer/src/store/index.js",localName:t}})}catch(e){}}e(B,"ImageTagLayerStore"),e(F,"default")}()},461:function(e,t,o){"use strict";var n,r,i,a,s,c,l,u,p,d=o(61),h=o.n(d),f=o(1),m=o.n(f),g=o(57),y=o.n(g),b=o(0),_=o.n(b),v=o(50),C=o.n(v),S=(o(62),o(16)),O=o(69),k=o(51),I=o(996),w=o(1231),P=o(49),j={LEFT:"left",CENTER:"center",RIGHT:"right"},T={TEXT:"text",VERTICAL_IMAGE:"vertical_image",IMAGE:"image",LARGE_IMAGE:"large_image",AFFILIATE_TEXT:"shopping_affiliate_text",AFFILIATE_IMAGE:"shopping_affiliate_image",MOMENT:"moment"},L={WIDTH:480,HEIGHT:270},E={ALIGN:j,LAYOUT:T};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/consts/index.js",localName:t}})}catch(e){}}e(j,"ALIGN"),e(T,"LAYOUT"),e(L,"THUMBNAIL_BIG_SIZE"),e(9/16,"VERTICAL_RATIO"),e(E,"default")}();var N=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.useBsizeThumbnail=!0,o.isAffiliate=!1,h()(o,"layout",r,y()(o)),h()(o,"align",i,y()(o)),h()(o,"title",a,y()(o)),h()(o,"link",s,y()(o)),h()(o,"domain",c,y()(o)),h()(o,"thumbnail",l,y()(o)),h()(o,"description",u,y()(o)),h()(o,"video",p,y()(o)),o.oglinkSign="",o._configAgent=k.U.get("configAgent");var n=t,d=n.state,f=void 0===d?{}:d,m=n.config,g=void 0===m?{}:m;return o.useBsizeThumbnail=Object(S.a)(g,"useBsizeThumbnail",o.useBsizeThumbnail),o.attributes=Object(O.a)(o.attributes,g.attributes),o.title=Object(S.a)(f,"title",o.title),o.link=Object(S.a)(f,"link",o.link),o.domain=Object(S.a)(f,"domain",o.domain),o.thumbnail=Object(S.a)(f,"thumbnail",o.thumbnail),o.description=Object(S.a)(f,"description",o.description),o.video=Object(S.a)(f,"video",o.video),o.isAffiliate=Object(S.a)(f,"isAffiliate",o.isAffiliate),o.align=Object(S.a)(f,"align",o.align),o.layout=Object(S.a)(f,"layout",o._resolveLayout()),o.oglinkSign=f.oglinkSign||o.oglinkSign,o}_()(t,e);var o=t.prototype;return o._resolveLayout=function(){return this.isAffiliate?this.affiliateLayoutType:this.layoutType},o._isBigSize=function(){if(!this.thumbnail)return!1;var e=this.thumbnail,t=e.width,o=e.height;return t>=L.WIDTH&&o>=L.HEIGHT},o._isVerticalRatio=function(){if(!this.thumbnail)return!1;var e=this.thumbnail;return(e.width/e.height).toFixed(2)<=9/16},o.changeLayout=function(){},o.changeLayoutWithThumbnail=function(){this.layout=this._resolveLayout()},o.changeToTextLayout=function(){this.isAffiliate?this.layout=T.AFFILIATE_TEXT:this.layout=T.TEXT},o.collectStyle=function(){var e="justify"===this.align||null===this.align?"left":this.align;return{layoutType:this.layout.indexOf("image")>-1?"image":"text",layout:this.layout,thumbnail:this.thumbnail,align:e}},o.updateSign=function(e){var t=e.oglinkSign,o=e.link,n=e.thumbnail;this.oglinkSign=t,this.link=o,this.thumbnail=n,this.layout!==T.TEXT&&this.layout!==T.AFFILIATE_TEXT&&(this.layout=this._resolveLayout())},o.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,layout:this.layout,align:this.align,title:this.title,link:this.link,domain:this.domain,thumbnail:P.f.toJS(this.thumbnail),description:this.description,video:this.video,oglinkSign:this.oglinkSign}},m()(t,[{key:"layoutType",get:function(){return this.thumbnail?this._isVerticalRatio()?T.VERTICAL_IMAGE:this.useBsizeThumbnail&&this._isBigSize()?T.LARGE_IMAGE:T.IMAGE:T.TEXT}},{key:"affiliateLayoutType",get:function(){return this.thumbnail?T.AFFILIATE_IMAGE:T.AFFILIATE_TEXT}},{key:"isMomentLayout",get:function(){return this.layout===T.MOMENT}},{key:"emptySign",get:function(){return!this.oglinkSign}}]),t}(k.g),r=C()(n.prototype,"layout",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return T.TEXT}}),i=C()(n.prototype,"align",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=C()(n.prototype,"title",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s=C()(n.prototype,"link",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=C()(n.prototype,"domain",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),l=C()(n.prototype,"thumbnail",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=C()(n.prototype,"description",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=C()(n.prototype,"video",[P.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n);N.ctype="oglink",N.schema={id:I.a.string.isRequired,ctype:I.a.string.isRequired,layout:I.a.string.isRequired,align:I.a.string,title:I.a.string.isRequired,domain:I.a.string.isRequired,link:I.a.string.isRequired,thumbnail:I.a.shape(w.i),description:I.a.string,video:I.a.bool.isRequired,oglinkSign:I.a.string};var x=N;t.a=x;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/oglink-component/src/store/index.js",localName:t}})}catch(e){}}e(N,"OglinkComponentStore"),e(x,"default")}()},462:function(e,t,o){"use strict";var n,r,i,a,s,c=o(17),l=o.n(c),u=o(61),p=o.n(u),d=o(57),h=o.n(d),f=o(0),m=o.n(f),g=o(50),y=o.n(g),b=(o(62),o(16)),_=o(69),v=o(101),C=o(51),S=o(996),O=o(49),k={DEFAULT:"default",CODE_STRIPE:"code_stripe",CODE_BLACK:"code_black"},I={CodeLayout:k};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/consts/index.js",localName:t}})}catch(e){}}e(k,"CodeLayout"),e(I,"default")}();var w=(n=function(e){m()(o,e);var t=o.prototype;function o(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},o.codeTextMaxLength=5e3,p()(o,"align",r,h()(o)),p()(o,"layout",i,h()(o)),p()(o,"fontSizeCode",a,h()(o)),p()(o,"codeContents",s,h()(o));var n=t,c=n.state,l=void 0===c?{}:c,u=n.config,d=void 0===u?{}:u;return o._configAgent=C.U.get("configAgent"),o._componentFactory=C.U.get("componentFactory"),o.codeTextMaxLength=Object(b.a)(d,"codeTextMaxLength",o.codeTextMaxLength),o.attributes=Object(_.a)(o.attributes,d.attributes),o.layout=Object(b.a)(l,"layout",o.layout),o.fontSizeCode=Object(b.a)(l,"fontSizeCode",o.fontSizeCode),o.codeContents=Object(b.a)(l,"codeContents",o.codeContents),o}return t.toPlainJSON=function(){return{id:this.id,ctype:this.ctype,align:this.align,layout:this.layout,fontSizeCode:this.fontSizeCode,codeContents:this.codeContents}},t.changeFontSize=function(e){this.fontSizeCode=e},t.changeLayout=function(e){this.layout=e},t.setState=function(e){Object(v.a)(this,e)},t.updateProperty=function(e){var t=e.layout,o=l()(e,["layout"]);t&&this.changeLayout(t),Object(v.a)(this,o)},t.updateStyle=function(e){var t=e.fontSizeCode,o=e.align;t&&this.changeFontSize(t),o&&this.changeAlign(o)},t.updateCodeContents=function(e){this.codeContents=e},t.collectStyle=function(){return{align:"justify"===this.align||null===this.align?"left":this.align,layout:this.layout,fontSizeCode:this.fontSizeCode}},o}(C.g),r=y()(n.prototype,"align",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=y()(n.prototype,"layout",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.DEFAULT}}),a=y()(n.prototype,"fontSizeCode",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"fs13"}}),s=y()(n.prototype,"codeContents",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),n);w.ctype="code",w.schema={id:S.a.string.isRequired,ctype:S.a.string.isRequired,layout:S.a.string.isRequired,fontSizeCode:S.a.string.isRequired,codeContents:S.a.string.isRequired,align:S.a.string};var P=w;t.a=P;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/code-component/src/store/index.js",localName:t}})}catch(e){}}e(w,"CodeComponentStore"),e(P,"default")}()},56:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"c",function(){return r}),o.d(t,"e",function(){return i}),o.d(t,"d",function(){return a}),o.d(t,"a",function(){return s});var n={BASIC:"basic",SEPARATOR_BAR:"separator-bar",TOGGLE:"toggle",GROUP_TOGGLE:"group-toggle",LABEL_SELECT:"label-select",ICON_SELECT:"icon-select",DROP_DOWN:"drop-down",COLOR_PICKER:"color-picker",INPUT:"input",CUSTOM_LAYER:"custom-layer",CYCLE_TOGGLE:"cycle-toggle",RANGE_SLIDER:"range-slider",CUSTOM:"custom",MORE_VIEW:"more-view",BASIC_SELECT:"basic-select",CUSTOM_SELECT:"custom-select"},r={TEXT:"text",ICON:"icon",MORE_VIEW:"more-view"},i={CONTEXT:"context",PROPERTY:"property",DOCUMENT:"document",CONTENTS:"contents",OVERLAY:"overlay",TEXT:"text"},a={TEXT_ICON:"text-icon",ICON:"icon"},s={fs10:{label:"fontSizeCode:label_fs10",value:"fs10",logId:"size10"},fs11:{label:"fontSizeCode:label_fs11",value:"fs11",logId:"size11"},fs12:{label:"fontSizeCode:label_fs12",value:"fs12",logId:"size12"},fs13:{label:"fontSizeCode:label_fs13",value:"fs13",logId:"size13"},fs14:{label:"fontSizeCode:label_fs14",value:"fs14",logId:"size14"},fs15:{label:"fontSizeCode:label_fs15",value:"fs15",logId:"size15"},fs16:{label:"fontSizeCode:label_fs16",value:"fs16",logId:"size16"},fs17:{label:"fontSizeCode:label_fs17",value:"fs17",logId:"size17"},fs18:{label:"fontSizeCode:label_fs18",value:"fs18",logId:"size18"},fs19:{label:"fontSizeCode:label_fs19",value:"fs19",logId:"size19"},fs20:{label:"fontSizeCode:label_fs20",value:"fs20",logId:"size20"},fs21:{label:"fontSizeCode:label_fs21",value:"fs21",logId:"size21"},fs22:{label:"fontSizeCode:label_fs22",value:"fs22",logId:"size22"},fs23:{label:"fontSizeCode:label_fs23",value:"fs23",logId:"size23"},fs24:{label:"fontSizeCode:label_fs24",value:"fs24",logId:"size24"},fs25:{label:"fontSizeCode:label_fs25",value:"fs25",logId:"size25"},fs26:{label:"fontSizeCode:label_fs26",value:"fs26",logId:"size26"},fs27:{label:"fontSizeCode:label_fs27",value:"fs27",logId:"size27"},fs28:{label:"fontSizeCode:label_fs28",value:"fs28",logId:"size28"},fs29:{label:"fontSizeCode:label_fs29",value:"fs29",logId:"size29"},fs30:{label:"fontSizeCode:label_fs30",value:"fs30",logId:"size30"},fs31:{label:"fontSizeCode:label_fs31",value:"fs31",logId:"size31"},fs32:{label:"fontSizeCode:label_fs32",value:"fs32",logId:"size32"},fs33:{label:"fontSizeCode:label_fs33",value:"fs33",logId:"size33"},fs34:{label:"fontSizeCode:label_fs34",value:"fs34",logId:"size34"},fs35:{label:"fontSizeCode:label_fs35",value:"fs35",logId:"size35"},fs36:{label:"fontSizeCode:label_fs36",value:"fs36",logId:"size36"},fs37:{label:"fontSizeCode:label_fs37",value:"fs37",logId:"size37"},fs38:{label:"fontSizeCode:label_fs38",value:"fs38",logId:"size38"},fs39:{label:"fontSizeCode:label_fs39",value:"fs39",logId:"size39"},fs40:{label:"fontSizeCode:label_fs40",value:"fs40",logId:"size40"}},c={ButtonTypes:n,OptionTypes:r,ToolbarTypes:i,ToolbarIconTypes:a,AllFontSizeCodes:s};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/consts/index.js",localName:t}})}catch(e){}}e(n,"ButtonTypes"),e(r,"OptionTypes"),e(i,"ToolbarTypes"),e(a,"ToolbarIconTypes"),e(s,"AllFontSizeCodes"),e(c,"default")}()},63:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(54),l=o.n(c),u=o(49),p=o(347),d=o(52),h=o(56),f=o(51),m=o(124),g=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.render=function(){var e,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.documentToolbarIconType,a=t.moreViewButton,s=t.deviceType,c=t.title,p=t.label,d=t.type,g=t.i18n,y=t.focused,b=t.logAreaId,_=t.logId,v=t.labelVisible,C=t.highlight,S=g(p),O=g(c),k=s===f.t.DESKTOP,I=r===h.e.DOCUMENT,w=i===h.d.TEXT_ICON||v,P=l()(((e={})["se-"+n+"-toolbar-button"]=!!n,e["se-"+r+"-toolbar-"+d+"-button"]=!I||!a,e["se-"+r+"-toolbar-"+d+"-more-button"]=I&&a,e["se-"+i+"-toolbar-button"]=k&&I,e)),j=w?"se-toolbar-label":"se-blind";return u.b.createElement(m.a,{focused:y,namespace:r,logAreaId:b,logId:_,highlight:C,type:d,className:P,dataName:o,i18n:g,handleClick:this._handleClick},u.b.createElement("span",{className:"se-toolbar-icon"}),u.b.createElement("span",{className:j,"aria-hidden":k},S),k&&u.b.createElement("span",{className:"se-toolbar-tooltip"},O))},o._handleClick=function(e){var t=this.props,o=t.onClick,n=t.id,r=t.type,i=t.name,a=t.title,s=t.label,c=t.action,l=t.i18n,u=l(s),p=l(a);document.activeElement&&document.activeElement.blur(),o.apply(this,[{event:e,id:n,type:r,name:i,label:u,action:c,title:p}])},t}(u.b.Component),s()(n.prototype,"_handleClick",[d.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n);g.defaultProps={id:"",focused:!1,labelVisible:!1,moreViewButton:!1,label:"",action:"",name:"",namespace:"",title:"",highlight:{},onClick:function(){},i18n:function(e){return e}},g.propTypes={type:u.a.oneOf([h.b.BASIC]).isRequired,id:u.a.string,focused:u.a.bool,moreViewButton:u.a.bool,name:u.a.string,namespace:u.a.string,deviceType:u.a.string,documentToolbarIconType:u.a.string,labelVisible:u.a.bool,label:u.a.string,action:u.a.string,title:u.a.string,onClick:u.a.func,i18n:u.a.func,highlight:u.a.object,logAreaId:u.a.string,logId:u.a.string};var y=Object(p.b)(g);t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/basic-button.jsx",localName:t}})}catch(e){}}e(g,"BasicButton"),e(y,"default")}()},688:function(e,t,o){"use strict";o.d(t,"a",function(){return H}),o.d(t,"c",function(){return J}),o.d(t,"b",function(){return K});var n=o(1),r=o.n(n),i=o(17),a=o.n(i),s=o(55),c=o.n(s),l=o(61),u=o.n(l),p=o(57),d=o.n(p),h=o(0),f=o.n(h),m=o(50),g=o.n(m),y=(o(62),o(254)),b=o.n(y),_=o(49),v=o(347),C=o(16),S=o(23),O=o(120),k=o(170),I=o(668),w=o(670),P=o(189),j=o(772),T=o(350),L=o(88),E=o(140),N=o(1042),x=o(1043),D=o(108),R=function(e,t){return function(){return"chunk_"+t++}}(0,0);function A(e,t){for(var o=0,n=e[o];n&&n.length<=t;)t-=n.length,n=++o<e.length&&e[o];return n?[n[t],o,t]:[]}function U(e,t,o){for(var n=0;n<t;n++)o+=e[n].length;return o}var M=function(){function e(e){this._mat=e}var t=e.prototype;return t.get=function(e){return A(this._mat,e)[0]},t.size=function(){return this._mat.reduce(function(e,t){return e+t.length},0)},e}();function B(e,t,o,n,r,i){void 0===r&&(r=O.a),void 0===i&&(i=O.a);for(var a=t.length,s=0,c=0,l=new M(e),u=new I.a.ArrayLike(t),p=0;p<a;p++){e.length<=s&&(e[s]=[]);var d=e[s],h=d.length>c&&d[c];if(!h||r(h)!==i(t[p])){var f=I.a.findIndexPairOfSameValueAtArrayLike(l,u,U(e,s,c),p,r,i),m=f[0],g=f[1],y=A(e,m),b=y[1],_=y[2];if(b!==s||_!==c){var v=W(e,s,c,b,_);s=v[0],c=v[1]}if(e.length<=s&&(e[s]=[]),d=e[s],g!==p){var C,S=t.slice(p,g);(C=d).splice.apply(C,[c,0].concat(S)),c+=S.length,p=g}}d.length>c&&d[c]!==t[p]&&(d[c]=t[p]),d.length<=++c&&(c=0,s++)}return e.length>s&&W(e,s,c),F(e,o,n),e}function F(e,t,o){for(var n=e.length;--n>=0;)z(e,n,t,o);return e.length-1}function z(e,t,o,n){for(var r=e[t],i=r.length;i>=n||i<=o;){if(n<=i){var a=n/2|0,s=r.splice(a,i-a);e.splice(++t,0,s)}else if(o>=i){if(1===e.length)break;var c,l;if(t)(c=e[t-1]).push.apply(c,e.splice(t--,1)[0]);else(l=e[t]).push.apply(l,e.splice(t+1,1)[0])}i=(r=e[t]).length}return t}function W(e,t,o,n,r){void 0===n&&(n=e.length-1),void 0===r&&(r=e[n].length);var i=e[t],a=i.length,s=e[n];if(t===n){if(o===r)return[t,o+1];var c=r-o;return c===a?e.splice(t,1):i.splice(o,c),[t,o]}return r===s.length?n++:s.splice(0,r),0===o?t--:i.splice(o,a-o),e.splice(t+1,n-t-1),[t+1,0]}var V=function(e){return e.id},G=function(e,t){for(var o,n=b()(t);!(o=n()).done;){var r=o.value,i=Object(C.a)(e,r);if(i)return i}},H=function(e,t){var o,n,r=(o=function(o){function r(e){var r;r=o.call(this,e)||this,u()(r,"list",n,d()(r));var i=t.path;return r._applyList(G(r.props,Object(k.a)(i)?[i]:i)),r}f()(r,o);var i=r.prototype;return i.componentDidMount=function(){this.registerChange()},i.componentDidUpdate=function(e){var o=t.path,n=G(e,Object(k.a)(o)?[o]:o),r=G(this.props,Object(k.a)(o)?[o]:o);n!==r&&(this._applyList(r),this.unregisterChange(),this.registerChange())},i.componentWillUnmount=function(){this._disposer()},i.render=function(){var o={};return Object(S.a)(o,t.output||"list",this.list),_.b.createElement(e,c()({},this.props,o))},i._applyList=function(e){B(this.list,e,4,16,V,V),this.list.forEach(function(e){e.id||(e.id=R())})},i.registerChange=function(){var e=this,o=t.path;this._disposer=_.f.autorun(function(){var t=G(e.props,Object(k.a)(o)?[o]:o);e._applyList(t)})},i.unregisterChange=function(){this._disposer&&this._disposer()},r}(_.b.Component),n=g()(o.prototype,"list",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o);return Object(v.b)(r)},q=function(e){return new Promise(function(t){setTimeout(t,e)})},J=function(e,t){void 0===t&&(t={});var o=t.getKey||function(e,t){return t},n=t.path||"list",r=t.output||"list";return Object(v.b)(function(t){var i=Object(C.a)(t,n);return _.b.createElement(_.b.Fragment,null,i.map(function(n,i){var a=o(n,i);if(!Object(N.a)(a)&&!Object(x.a)(a)){var s={};return Object(S.a)(s,r,n),_.b.createElement(e,c()({},t,{key:a},s))}}))})},K=function(e,t){var o,n;void 0===t&&(t={});var i=t.path||"list",s=t.output||"list",l=t.getKey||function(e,t){return t},p=t.reorder||O.a,h=function(t){function o(){for(var e,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))||this)._timer=null,e}f()(o,t);var n=o.prototype;return n.componentDidUpdate=function(e){var t=this.props,o=t.isShow,n=t.onRequireNextItem;!e.isShow&&o&&n()},n.render=function(){var t=this.props,o=t.isShow,n=(t.onRequireNextItem,a()(t,["isShow","onRequireNextItem"]));return o?_.b.createElement(e,n):null},o}(_.b.PureComponent),m=(o=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return t=e.call.apply(e,[this].concat(r))||this,u()(t,"_waitQueue",n,d()(t)),t._prevIds=[],t._started=!1,t._flows=void 0,t._popAndDelay=function(){if(t._waitQueue.length)return t._waitQueue.shift(),q(250)},t._onRequireNextItem=function(){t._flows.fork("loading").next(t._popAndDelay)},t}f()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._flows=new w.a},o.componentDidUpdate=function(){this._waitQueue.length&&this._started&&(this._started=!1,this._onRequireNextItem())},o.componentWillUnmount=function(){this._flows.abort()},o.render=function(){var e=this,t=this.props,o=Object(C.a)(t,i);return _.b.createElement(_.b.Fragment,null,o.map(function(t,o){var n=l(t,o);if(!Object(N.a)(n)&&!Object(x.a)(n)){var r={};return Object(S.a)(r,s,t),_.b.createElement(h,c()({key:n,isShow:!e._isWaiting(n)},e.props,r,{onRequireNextItem:e._onRequireNextItem}))}}))},o.componentWillReact=function(){if(!Object(L.a)(this._prevIds,this.ids)){this._started=!0;var e=[].concat(Object(P.a)(this.ids,this._prevIds),Object(j.a)(Object(T.a)(this._waitQueue),this.ids));this._flows.abort("loading"),this._waitQueue.replace(p(e,this.props)),this._prevIds=this.ids}},o._isWaiting=function(e){return this._waitQueue.some(function(t){return Object(E.a)(t)?Object(D.a)(t,e):t===e})},r()(t,[{key:"ids",get:function(){return Object(C.a)(this.props,i).map(l)}}]),t}(_.b.Component),g()(o.prototype,"ids",[_.e],Object.getOwnPropertyDescriptor(o.prototype,"ids"),o.prototype),n=g()(o.prototype,"_waitQueue",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o);return Object(v.b)(m)},Y=H;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/chunknize/index.jsx",localName:t}})}catch(e){}}e(R,"getChunkId"),e(A,"getByIndex"),e(U,"getIndex"),e(M,"ArrayLike"),e(B,"chunk"),e(F,"readjust"),e(z,"readjustEach"),e(W,"remove"),e(V,"getId"),e(G,"getPath"),e(H,"chunknize"),e(q,"delay"),e(J,"paginize"),e(K,"lazyPaginize"),e(Y,"default")}()},691:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={INFO:"info",WARNING:"warning"},r={MessageTypes:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/toast-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"MessageTypes"),e(r,"default")}()},698:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n=15,r={MAX_WRITER_LENGTH:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/chat-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"MAX_WRITER_LENGTH"),e(r,"default")}()},699:function(e,t,o){"use strict";o.d(t,"b",function(){return n}),o.d(t,"a",function(){return r});var n={cc0:"CC0",ccl:"CCL",public:"PUBLIC"},r={OGQ_COMMERCIAL:"ogqCommercial",OGQ:"ogq"},i={RIGHTS_GUIDE:n,PROVIDER_TYPE:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/image-detail-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"RIGHTS_GUIDE"),e(r,"PROVIDER_TYPE"),e(i,"default")}()},700:function(e,t,o){"use strict";o.d(t,"a",function(){return b});var n,r,i,a=o(12),s=o.n(a),c=o(18),l=o.n(c),u=o(0),p=o.n(u),d=o(50),h=o.n(d),f=o(51),m=o(49),g=o(666),y=o(52),b=(n=Object(y.history)({sync:!1}),r=Object(y.history)({sync:!1}),i=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=f.U.get("configAgent"),t._eventDispatcherService=f.U.get("eventDispatcherService"),t._componentListStore=f.U.get("componentListStore"),t._editingService=f.U.get("editingService"),t._toastLayerService=f.U.get("toastLayerService"),t._fileUploadService=f.U.get("fileUploadService"),t._fileUploadLayerService=f.U.get("fileUploadLayerService"),t._fileComponentService=f.U.get("fileComponentService"),t._canvasLayoutService=f.U.get("canvasLayoutService"),t._i18n=f.U.get("i18n"),t._fileMaxUploadCount=t._configAgent.get("infraConfig.file.maxUploadCount")||1/0,t}p()(t,e);var o=t.prototype;return o.uploadLocalFile=function(){var e=l()(s.a.mark(function e(t){var o,n,r,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=this._getInsertMeta()),!this._isOverMaxUploadCount()){e.next=4;break}return this._showOverMaxUploadError(),e.abrupt("return");case 4:return e.next=6,this._fileUploadService.openFileDialog();case 6:if(o=e.sent,o&&o.size>0){e.next=11;break}return this._onUploadEmptyFile(),e.abrupt("return");case 11:if(!this._isOverFileSizeLimit(o.size)){e.next=14;break}return this._onOverFileSizeLimit(),e.abrupt("return");case 14:return n=this._insertFileComponent(o,t),r=n.id,this._fileUploadLayerService&&this._fileUploadLayerService.close(),this._eventDispatcherService.emit(f.z.IN_PROGRESS),e.next=20,this._fileUploadService.uploadLocalFile(o,r,{progress:this._onUploadProgress.bind(this),success:this._onUploadSuccess.bind(this),error:this._onUploadError.bind(this)});case 20:(i=e.sent)&&i.defaultPrevented&&this._removeFileComponent(r);case 22:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.uploadCloudFile=function(){var e=l()(s.a.mark(function e(t){var o,n,r,i,a,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t=this._getInsertMeta()),!this._isOverMaxUploadCount()){e.next=4;break}return this._showOverMaxUploadError(),e.abrupt("return");case 4:return e.prev=4,e.next=7,this._fileUploadService.openMyboxPopup();case 7:if(o=e.sent,n=this._resolveMyboxFileInfo(o[0]),!this._isOverFileSizeLimit(n.size)){e.next=12;break}return this._onOverFileSizeLimit(),e.abrupt("return");case 12:return r=this._refineCloudFileInfo(n),i=this._insertFileComponent(r,t),a=i.id,this._fileUploadLayerService&&this._fileUploadLayerService.close(),this._eventDispatcherService.emit(f.z.IN_PROGRESS),e.next=19,this._fileUploadService.uploadCloudFile(n,a,{progress:this._onUploadProgress.bind(this),success:this._onUploadSuccess.bind(this),error:this._onUploadError.bind(this)});case 19:(c=e.sent)&&c.defaultPrevented&&this._removeFileComponent(a),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(4),this._onUploadError(e.t0);case 26:case"end":return e.stop()}},e,this,[[4,23]])}));return function(t){return e.apply(this,arguments)}}(),o._resolveMyboxFileInfo=function(e){return{downloadUrl:e.downloadUrl,key:e.fileId,name:e.title,size:e.fileSize,type:e.fileType}},o._getInsertMeta=function(){return{setting:{fileUploadLimitFileSize:this._configAgent.get("editorInfo.fileUploadLimitFileSize")}}},o._isOverMaxUploadCount=function(){return this._componentListStore.countBy("file")>=this._fileMaxUploadCount},o._showOverMaxUploadError=function(){var e=this._i18n("limits:file_description_exceeded_count_by_max",{maxcount:this._fileMaxUploadCount});this._showErrorMessage(e)},o._isOverFileSizeLimit=function(e){return e>this._configAgent.get("editorInfo.fileUploadLimitFileSize")},o._onOverFileSizeLimit=function(){var e=this._configAgent.get("editorInfo.fileUploadLimitFileSize"),t=g.a.convertToMB(e),o=this._i18n("fileUploadUseCase:error_overflow_size",{maxlength:t+"MB"});this._showErrorMessage(o)},o._onUploadProgress=function(e,t){this._fileComponentService.updateProgress(t,e)},o._onUploadSuccess=function(e,t){this._fileComponentService.updateComponent(t,e),this._onCompleteUpload()},o._onUploadError=function(e,t){var o=e.response;412===(void 0===o?{}:o).status?this._showErrorMessage(this._i18n("fileUploadUseCase:prohibits_filename")):this._showErrorMessage(this._i18n("fileUploadUseCase:error_temporary")),this._removeFileComponent(t),this._onCompleteUpload()},o._onUploadEmptyFile=function(){this._showErrorMessage(this._i18n("fileUploadUseCase:check_original_file"))},o._onCompleteUpload=function(){this._eventDispatcherService.emit(f.z.PROGRESS_COMPLETED)},o._showErrorMessage=function(e){this._toastLayerService.warningMessage(e)},o._insertFileComponent=function(e){var t=this._fileComponentService.createFileComponent(e);return this._insertComponent(t),t},o._insertComponent=function(e){return this._editingService.insert({sourceComponents:[e]})},o._removeFileComponent=function(e){e&&this._editingService.eraseComponent(e)},o._refineCloudFileInfo=function(e){return{name:e.name,size:e.size}},o.close=function(){this._fileUploadService.closeMyboxPopup(),this._fileUploadLayerService&&this._fileUploadLayerService.close()},t}(f.m),h()(i.prototype,"uploadLocalFile",[y.sentryCatch,n,m.d],Object.getOwnPropertyDescriptor(i.prototype,"uploadLocalFile"),i.prototype),h()(i.prototype,"uploadCloudFile",[y.sentryCatch,r,m.d],Object.getOwnPropertyDescriptor(i.prototype,"uploadCloudFile"),i.prototype),h()(i.prototype,"close",[m.d],Object.getOwnPropertyDescriptor(i.prototype,"close"),i.prototype),i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/file-upload-use-case.js",localName:t}})}catch(e){}}(b,"FileUploadUseCase")}()},701:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(49),l=o(52),u=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.componentDidUpdate=function(){var e=this.props.visibility;this.element.style.visibility=e},o.render=function(){var e=this.props,t=e.onClick,o=e.text;return c.b.createElement("button",{type:"button",className:"se-popup-close-button",ref:this._ref,onClick:t},c.b.createElement("span",{className:"se-blind"},o))},o._ref=function(e){this.element=e},t}(c.b.Component),s()(n.prototype,"_ref",[l.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_ref"),n.prototype),n);u.defaultProps={onClick:function(){},text:"",visibility:!0},u.propTypes={onClick:c.a.func,text:c.a.string,visibility:c.a.bool};var p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/buttons/popup-close-button.jsx",localName:t}})}catch(e){}}e(u,"PopupCloseButton"),e(p,"default")}()},702:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(49),l=o(52),u=(n=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.componentDidUpdate=function(){this.props.disabled?this.element.setAttribute("disabled","true"):this.element.removeAttribute("disabled")},o.render=function(){var e=this.props,t=e.onClick,o=e.text;return c.b.createElement("button",{type:"button",className:"se-popup-button se-popup-button-confirm",ref:this._ref,onClick:t},c.b.createElement("span",{className:"se-popup-button-text"},o))},o._ref=function(e){this.element=e},t}(c.b.Component),s()(n.prototype,"_ref",[l.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_ref"),n.prototype),n);u.defaultProps={onClick:function(){},text:"",disabled:!1},u.propTypes={onClick:c.a.func,text:c.a.string,disabled:c.a.bool};var p=u;t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/buttons/popup-confirm-button.jsx",localName:t}})}catch(e){}}e(u,"PopupConfirmButton"),e(p,"default")}()},703:function(e,t,o){"use strict";o.d(t,"a",function(){return r});var n=function(e){return new Promise(function(t){var o=new Image;o.src=e,o.onload=t})},r=function(e){if(!e)return!1;var t=e.split("/").pop().split("?").shift();if(window.ActiveXObject||"ActiveXObject"in window){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=function(){var e=new Blob([o.response],{type:"application/octet-stream"});navigator.msSaveOrOpenBlob(e,t)},o.send()}else{var n=new Image;n.onload=function(){var o=document.createElement("a");o.style.display="none",o.setAttribute("download",t),o.setAttribute("target","_blank"),o.setAttribute("href",e),document.body.appendChild(o),o.click(),setTimeout(function(){document.body.removeChild(o)},100)},n.src=e}},i={preloadingImg:n,saveAsByUrl:r};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/utils/src/image-util.js",localName:t}})}catch(e){}}e(n,"preloadingImg"),e(r,"saveAsByUrl"),e(i,"default")}()},704:function(e,t,o){"use strict";var n,r=o(50),i=o.n(r),a=o(51),s=o(49),c=o(52),l=(n=function(){function e(){this._i18n=a.U.get("i18n"),this._propertyChangeService=a.U.get("propertyChangeService"),this._toastLayerService=a.U.get("toastLayerService")}return e.prototype.changeLink=function(e){var t=e.value.trim();if(this._propertyChangeService.isValidLink(t))this._propertyChangeService.changeLink({type:"url",value:t});else{var o=this._i18n("textComponent:is_valid_link");this._toastLayerService.warningMessage(o)}},e}(),i()(n.prototype,"changeLink",[c.preventOnComponentProcessing,c.history,s.d],Object.getOwnPropertyDescriptor(n.prototype,"changeLink"),n.prototype),n),u=l;t.a=u,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/link-button-use-case.js",localName:t}})}catch(e){}}e(l,"LinkButtonUseCase"),e(u,"default")}()},705:function(e,t,o){"use strict";var n=o(55),r=o.n(n),i=o(54),a=o.n(i),s=o(49),c=o(347),l=o(399),u=o(56),p=o(266),d=o(214),h=function(e){var t,o=e.id,n=e.type,i=e.optionId,c=e.options,h=e.namespace,f=e.name,m=e.optionType,g=e.inputValue,y=e.value,b=e.onChangeInputValue,_=e.onConfirmInputValue,v=e.onClickOptionList,C=e.applyLabel,S=e.logAreaId,O=e.i18n,k=c[i],I=y===i,w=m===u.c.TEXT,P=o+":"+i,j=a()("se-toolbar-option-"+m+"-button","se-toolbar-option-"+f+"-"+i+"-button",I?"se-is-selected":"",k.badge&&!d.b.shown(P,d.a.BADGE)?"__se-highlight-button se-highlight-toolbar-button":""),T=S+"."+k.logId;if(k.useInput){var L=y>0&&!c[y],E=g||L,N=L?y:O(k.placeholder),x="se-"+f+"-"+i+"-container",D="se-"+f+"-"+i+"-input",R=a()("se-"+f+"-"+i+"-apply-button");return s.b.createElement("div",{className:x,"data-log":T},s.b.createElement(l.a,{placeholder:N,className:D,"data-value":i,onChange:b,onConfirm:_,value:g,maxLength:3}),E&&s.b.createElement("button",{type:"button",className:R,"data-value":i,onClick:v},s.b.createElement("span",{className:"se-blind"},O(C))))}var A=a()(((t={"se-toolbar-option-label":!0})[k.class]=k.class,t)),U={"data-group":h+"Toolbar","data-name":o||f,"data-role":"option","data-value":i,"data-type":n,"data-log":T};return s.b.createElement(p.a,r()({type:"button",title:"",className:j,onClick:v},U,{"aria-current":I?"true":"false"}),w&&s.b.createElement("span",{className:A,"aria-hidden":"true"},O(k.label)),s.b.createElement("span",{className:"se-toolbar-tooltip"},O(k.label)),I&&s.b.createElement("span",{className:"se-blind"},"선택됨"))};h.defaultProps={optionId:"",options:{},name:"",optionType:"",value:"",applyLabel:"",logAreaId:"",i18n:function(e){return e},onConfirmInputValue:function(){},onChangeInputValue:function(){},onClickOptionList:function(){}},h.propTypes={optionId:s.a.string,options:s.a.oneOfType([s.a.object,s.a.array]),name:s.a.string,optionType:s.a.string,value:s.a.string,applyLabel:s.a.string,logAreaId:s.a.string,inputValue:s.a.oneOfType([s.a.number,s.a.string]),namespace:s.a.string,onChangeInputValue:s.a.func,onConfirmInputValue:s.a.func,onClickOptionList:s.a.func,i18n:s.a.func};var f=Object(c.b)(h);t.a=f,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/options.jsx",localName:t}})}catch(e){}}e(h,"Options"),e(f,"default")}()},706:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=o(54),a=o.n(i),s=o(49),c=o(347),l=o(56),u=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t.prototype.render=function(){var e=this.props,t=e.name,o=e.type,n=a()("se-"+o+"-button","se-toolbar-button-"+t);return s.b.createElement("div",{"data-type":o,"data-name":t,className:n},s.b.createElement("span",{className:"se-toolbar-icon"}))},t}(s.b.Component);u.defaultProps={id:"",name:""},u.propTypes={type:s.a.oneOf([l.b.SEPARATOR_BAR]).isRequired,id:s.a.string,name:s.a.string};var p=Object(c.b)(u);t.a=p,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/separator-bar.jsx",localName:t}})}catch(e){}}e(u,"SeparatorBar"),e(p,"default")}()},707:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(102),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"contentModeGroup:title":n,a=e.label,c=void 0===a?"contentModeGroup:label":a,l=e.groups,u=void 0===l?[{value:"normal",title:"contentModeGroup:normal_title",label:"contentModeGroup:normal_label",logId:"arrnml"},{value:"fit",title:"contentModeGroup:fit_title",label:"contentModeGroup:fit_label",logId:"arrfit"},{value:"extend",title:"contentModeGroup:extend_title",label:"contentModeGroup:extend_label",logId:"arrext"},{value:"pagefull",title:"contentModeGroup:pagefull_title",label:"contentModeGroup:pagefull_label",logId:"arrfull"}]:l,p=s()(e,["type","title","label","groups"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,groups:u,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-group-button-view.jsx",localName:t}})}catch(e){}}e(g,"ContentModeGroupButtonView"),e(y,"default")}()},708:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(102),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"contentModeGroupWithoutDefault:title":n,a=e.label,c=void 0===a?"contentModeGroupWithoutDefault:label":a,l=e.groups,u=void 0===l?[{value:"fit",title:"contentModeGroupWithoutDefault:fit_title",label:"contentModeGroupWithoutDefault:fit_label",logId:"arrfit"},{value:"extend",title:"contentModeGroupWithoutDefault:extend_title",label:"contentModeGroupWithoutDefault:extend_label",logId:"arrext"},{value:"pagefull",title:"contentModeGroupWithoutDefault:pagefull_title",label:"contentModeGroupWithoutDefault:pagefull_label",logId:"arrfull"}]:l,p=e.value,h=void 0===p?"fit":p,g=s()(e,["type","title","label","groups","value"]);return d.b.createElement(f.a,i()({},g,{type:o,title:r,label:c,groups:u,value:h,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-group-without-default-button-view.jsx",localName:t}})}catch(e){}}e(g,"ConentModeGroupWithoutDefaultButtonView"),e(y,"default")}()},709:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(102),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"contentModeGroupWithoutPagefull:title":n,a=e.label,c=void 0===a?"contentModeGroupWithoutPagefull:label":a,l=e.groups,u=void 0===l?[{value:"normal",title:"contentModeGroupWithoutPagefull:normal_title",label:"contentModeGroupWithoutPagefull:normal_label",logId:"arrnml"},{value:"fit",title:"contentModeGroupWithoutPagefull:fit_title",label:"contentModeGroupWithoutPagefull:fit_label",logId:"arrfit"},{value:"extend",title:"contentModeGroupWithoutPagefull:extend_title",label:"contentModeGroupWithoutPagefull:extend_label",logId:"arrext"}]:l,p=s()(e,["type","title","label","groups"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,groups:u,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n);g.propTypes={useCase:d.a.object};var y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-group-without-pagefull-button-view.jsx",localName:t}})}catch(e){}}e(g,"ContentModeGroupWithoutPagefullButtonView"),e(y,"default")}()},710:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(102),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"contentModeGroupFitAndExtend:title":n,a=e.label,c=void 0===a?"contentModeGroupFitAndExtend:label":a,l=e.groups,u=void 0===l?[{value:"fit",title:"contentModeGroupFitAndExtend:fit_title",label:"contentModeGroupFitAndExtend:fit_label",logId:"arrfit"},{value:"extend",title:"contentModeGroupFitAndExtend:extend_title",label:"contentModeGroupFitAndExtend:extend_label",logId:"arrext"}]:l,p=s()(e,["type","title","label","groups"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,groups:u,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-group-fit-and-extend-view.jsx",localName:t}})}catch(e){}}e(g,"ContentModeGroupFitAndExtendView"),e(y,"default")}()},711:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(106),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.TOGGLE:t,n=e.title,r=void 0===n?{active:"contentModeJustify:title_active",inactive:"contentModeJustify:title_inactive"}:n,a=e.label,c=void 0===a?"contentModeJustify:label":a,l=e.logId,u=void 0===l?"arrfit":l,p=s()(e,["type","title","label","logId"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,logId:u,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n);g.propTypes={useCase:d.a.object};var y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-justify-button-view.jsx",localName:t}})}catch(e){}}e(g,"ContentModeJustifyButtonView"),e(y,"default")}()},712:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(63),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.BASIC:t,n=e.title,r=void 0===n?"deleteButton:title":n,a=e.label,c=void 0===a?"deleteButton:label":a,l=e.logId,u=void 0===l?"del":l,p=s()(e,["type","title","label","logId"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.erase()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n);g.propTypes={useCase:d.a.object};var y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/delete-button-view.jsx",localName:t}})}catch(e){}}e(g,"DeleteButtonView"),e(y,"default")}()},713:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(51),f=o(52),m=o(102),g=o(56),y=(n=function(e){function t(){var t;t=e.call(this)||this;var o=h.U.get("configAgent");return t._allowLayouts=o.get("productConfig.quotation.layouts"),t}l()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.type,n=void 0===o?g.b.GROUP_TOGGLE:o,r=t.title,a=void 0===r?"quotationLayout:title":r,c=t.label,l=void 0===c?"quotationLayout:label":c,u=t.value,p=void 0===u?"default":u,h=t.logId,f=void 0===h?"quota":h,y=t.groups,b=void 0===y?[{value:"default",title:"quotationLayout:default_title",label:"quotationLayout:default_label",logId:"quota0"},{value:"quotation_line",title:"quotationLayout:line_title",label:"quotationLayout:line_label",logId:"quota1"},{value:"quotation_bubble",title:"quotationLayout:bubble_title",label:"quotationLayout:bubble_label",logId:"quota2"},{value:"quotation_underline",title:"quotationLayout:underline_title",label:"quotationLayout:underline_label",logId:"quota3"},{value:"quotation_postit",title:"quotationLayout:postit_title",label:"quotationLayout:postit_label",logId:"quota4"},{value:"quotation_corner",title:"quotationLayout:corner_title",label:"quotationLayout:corner_label",logId:"quota5"}]:y,_=s()(t,["type","title","label","value","logId","groups"]),v=b;return this._allowLayouts&&(v=v.filter(function(t){return e._allowLayouts.includes(t.value)})),d.b.createElement(m.a,i()({},_,{type:n,title:a,label:l,value:p,logId:f,groups:v,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeQuotationLayout(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/quotation-layout-button-view.jsx",localName:t}})}catch(e){}}e(y,"QuotationLayoutButtonView"),e(b,"default")}()},714:function(e,t,o){"use strict";o.d(t,"a",function(){return a});var n=o(0),r=o.n(n),i=o(51),a=function(e){function t(){var t;return(t=e.call(this)||this)._target="sticker",t._documentToolbarLayoutService=i.U.get("documentToolbarLayoutService"),t._panelContainerLayerService=i.U.get("panelContainerLayerService"),t._stickerPanelLayoutService=i.U.get("stickerPanelLayoutService"),t}return r()(t,e),t.prototype.toggle=function(){var e=this,t=this._panelContainerLayerService,o=this._stickerPanelLayoutService;t.toggleLayout(this._target,o,function(t,o){e._documentToolbarLayoutService.setPanelButtonEnable(t,o),o||e._stickerPanelLayoutService.closeRefreshPanel()})},t}(i.i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/sticker-insert-use-case.js",localName:t}})}catch(e){}}(a,"StickerInsertUseCase")}()},715:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o(57),r=o.n(n),i=o(0),a=o.n(i),s=o(51),c=function(e){function t(){var t;return t=e.call(this)||this,!1===s.U.get("configAgent").get("productConfig.templatePanel")?(t.toggle=function(){},r()(t)):(t._target="template",t._documentToolbarLayoutService=s.U.get("documentToolbarLayoutService"),t._panelContainerLayerService=s.U.get("panelContainerLayerService"),t._templatePanelLayoutService=s.U.get("templatePanelLayoutService"),t)}return a()(t,e),t.prototype.toggle=function(){var e=this,t=this._panelContainerLayerService,o=this._templatePanelLayoutService;t.toggleLayout(this._target,o,function(t,o){e._documentToolbarLayoutService.setPanelButtonEnable(t,o)})},t}(s.i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/template-button-use-case.js",localName:t}})}catch(e){}}(c,"TemplateButtonUseCase")}()},716:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(51),f=o(52),m=o(193),g=o(56),y=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=h.U.get("configAgent"),o}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.LABEL_SELECT:t,n=e.title,r=void 0===n?"textFormat:title":n,a=e.label,c=void 0===a?"textFormat:label":a,l=e.hasIcon,u=void 0!==l&&l,p=e.value,h=void 0===p?"text":p,f=e.logId,y=void 0===f?"fmt":f,b=e.options,_=void 0===b?{text:{label:"textFormat:text_label",logId:"fmttext"},sectionTitle:{label:"textFormat:sectionTitle_label",logId:"fmtquot"},quotation:{label:"textFormat:quotation_label",logId:"fmtstit"}}:b,v=s()(e,["type","title","label","hasIcon","value","logId","options"]),C=this._refineOptions(_);return d.b.createElement(m.a,i()({},v,{type:o,title:r,label:c,hasIcon:u,value:h,logId:y,options:C,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeTextFormat(e),this.props.onClickSelector(e)},o._refineOptions=function(e){var t=this._configAgent.get("plugins.excludeComponents")||[],o={text:e.text};return["sectionTitle","quotation"].forEach(function(n){-1===t.indexOf(n)&&(o[n]=e[n])}),o},t}(d.b.Component),p()(n.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickOption"),n.prototype),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/text-format-button-view.jsx",localName:t}})}catch(e){}}e(y,"TextFormatButtonView"),e(b,"default")}()},717:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(141),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"wrappingLayoutDropDown:title_inactive",active:"wrappingLayoutDropDown:title_active"}:n,a=e.label,c=void 0===a?"wrappingLayoutDropDown:label":a,l=e.value,u=void 0===l?"":l,p=e.logId,h=void 0===p?"wpmode":p,g=e.options,y=void 0===g?{"inner-left":{title:"wrappingLayoutDropDown:inner_left_title",label:"wrappingLayoutDropDown:inner_left_label",logId:"wpinleft"},"inner-right":{title:"wrappingLayoutDropDown:inner_right_title",label:"wrappingLayoutDropDown:inner_right_label",logId:"wpinright"},"inner-big-left":{title:"wrappingLayoutDropDown:inner_big_left_title",label:"wrappingLayoutDropDown:inner_big_left_label",logId:"wpoutleft"},"inner-big-right":{title:"wrappingLayoutDropDown:inner_big_right_title",label:"wrappingLayoutDropDown:inner_big_right_label",logId:"wpoutright"}}:g,b=e.useHighlight,_=void 0===b||b,v=e.useIconUpdate,C=void 0===v||v,S=s()(e,["type","title","label","value","logId","options","useHighlight","useIconUpdate"]);return d.b.createElement(f.a,i()({},S,{type:o,title:r,label:c,value:u,logId:h,options:y,useHighlight:_,useIconUpdate:C,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeWrappingLayout(e),this.props.onClickSelector(e)},t}(d.b.Component),p()(n.prototype,"_handleClickOption",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickOption"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/wrapping-layout-drop-down-button-view.jsx",localName:t}})}catch(e){}}e(g,"WrappingLayoutDropDownButtonView"),e(y,"default")}()},718:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(102),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"wrappingLayoutGroup:title":n,a=e.label,c=void 0===a?"":a,l=e.value,u=void 0===l?"":l,p=e.logId,h=void 0===p?"wpmode":p,g=e.groups,y=void 0===g?[{value:"inner-left",title:"wrappingLayoutGroup:inner_left_title",label:"wrappingLayoutGroup:inner_left_label",logId:"wpinleft"},{value:"inner-right",title:"wrappingLayoutGroup:inner_right_title",label:"wrappingLayoutGroup:inner_right_label",logId:"wpinright"},{value:"inner-big-left",title:"wrappingLayoutGroup:inner_big_left_title",label:"wrappingLayoutGroup:inner_big_left_label",logId:"wpoutleft"},{value:"inner-big-right",title:"wrappingLayoutGroup:inner_big_right_title",label:"wrappingLayoutGroup:inner_big_right_label",logId:"wpoutright"}]:g,b=s()(e,["type","title","label","value","logId","groups"]);return d.b.createElement(f.a,i()({},b,{type:o,title:r,label:c,value:u,logId:h,groups:y,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeWrappingLayout(e)},t}(d.b.Component),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/wrapping-layout-group-button-view.jsx",localName:t}})}catch(e){}}e(g,"WrappingLayoutGroupButtonView"),e(y,"default")}()},719:function(e,t,o){"use strict";o.d(t,"a",function(){return l});var n,r=o(50),i=o.n(r),a=o(51),s=o(52),c=o(49),l=(n=function(){function e(){this._editingService=a.U.get("editingService"),this._horizontalLineComponentService=a.U.get("horizontalLineComponentService"),this._documentToolbarLayoutService=a.U.get("documentToolbarLayoutService")}return e.prototype.insertHorizontalLine=function(e){var t=this._horizontalLineComponentService.createComponent({layout:e});this._editingService.insert({sourceComponents:[t]}),this._documentToolbarLayoutService.updateHorizontalSelectedValue(t.layout)},e}(),i()(n.prototype,"insertHorizontalLine",[s.preventOnComponentProcessing,s.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"insertHorizontalLine"),n.prototype),n);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/horizontal-line-insert-use-case.js",localName:t}})}catch(e){}}(l,"HorizontalLineInsertUseCase")}()},72:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(54),m=o.n(f),g=o(197),y=["se-is-activated","se-is-selected","se-is-on","se-is-focused"],b=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=d.b.createRef(),o._originStore=null,o}l()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._observeSelectionChanged()},o.componentDidMount=function(){var e=this.props.store;e&&this._updateSelectionClasses(e.selection)},o.componentDidUpdate=function(){this._wasStoreChanged()&&this._reobserveSelectionChanged()},o.componentWillUnmount=function(){this._unobserveSelectionChanged()},o.render=function(){var e=this.props,t=e.children,o=e.tagName,n=void 0===o?"div":o,r=e.className,a=void 0===r?"":r,c=e.ctype,l=void 0===c?"":c,u=e.isUnitSelector,p=void 0===u||u,h=e.useToolbarSlot,f=void 0===h||h,m=e.forwardRef,y=(e.store,e.onChangeSelection,s()(e,["children","tagName","className","ctype","isUnitSelector","useToolbarSlot","forwardRef","store","onChangeSelection"])),b=n,_=this._resolveClassNames({ctype:l,isUnitSelector:p,className:a}),v=f&&"div"===n,C=m||this._elementRef;return d.b.createElement(b,i()({},y,{ref:C,className:_}),t,v&&Object(g.a)({}))},o._wasStoreChanged=function(){return this.props.store&&this._originStore!==this.props.store},o._resolveClassNames=function(e){var t,o=e.ctype,n=e.isUnitSelector,r=e.className,i=((t={})["se-module se-module-"+o]=!!o,t["__se-unit"]=n,t),a=this._getDOMReference().current;if(a){var s=a.classList;y.forEach(function(e){i[e]=s.contains(e)})}return m()([i,r])},o._handleSelectionChange=function(e){this._updateSelectionClasses(e),this.props.onChangeSelection()},o._getDOMReference=function(){return this.props.forwardRef||this._elementRef},o._updateSelectionClasses=function(e){var t=this._getDOMReference().current;if(t){var o=t.classList;switch(e){case"single":case"multi":return o.add("se-is-activated"),void o.remove("se-is-selected");case"block":return o.remove("se-is-activated"),void o.add("se-is-selected");default:o.remove("se-is-activated"),o.remove("se-is-selected")}}},o._unobserveSelectionChanged=function(){this._disposeReaction&&this._disposeReaction()},o._observeSelectionChanged=function(){var e=this,t=this.props.store;t&&(this._originStore=t,this._disposeReaction=d.f.reaction(function(){return e.props.store.selection},this._handleSelectionChange,{fireImmediately:!0}))},o._reobserveSelectionChanged=function(){this._unobserveSelectionChanged(),this._observeSelectionChanged()},t}(d.b.Component),p()(n.prototype,"_handleSelectionChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleSelectionChange"),n.prototype),n);b.defaultProps={tagName:"div",className:"",ctype:"",isUnitSelector:!0,useToolbarSlot:!0,onChangeSelection:function(){},children:null},b.propTypes={forwardRef:d.a.oneOfType([d.a.func,d.a.shape({current:d.a.instanceOf(Element)})]),tagName:d.a.string,className:d.a.string,ctype:d.a.string,isUnitSelector:d.a.bool,useToolbarSlot:d.a.bool,onChangeSelection:d.a.func,children:d.a.oneOfType([d.a.element,d.a.array])};var _=b;t.a=_,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/unit-wrapper/index.jsx",localName:t}})}catch(e){}}e(y,"selectionClassNames"),e(b,"UnitWrapper"),e(_,"default")}()},720:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(63),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.BASIC:t,n=e.title,r=void 0===n?"imageInsert:title":n,a=e.label,c=void 0===a?"imageInsert:label":a,l=e.logId,u=void 0===l?"img":l,p=s()(e,["type","title","label","logId"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.insertImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-insert-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageInsertButtonView"),e(y,"default")}()},721:function(e,t,o){"use strict";o.d(t,"a",function(){return I});var n,r,i,a,s,c,l,u=o(254),p=o.n(u),d=o(12),h=o.n(d),f=o(18),m=o.n(f),g=o(0),y=o.n(g),b=o(50),_=o.n(b),v=o(75),C=o(51),S=o(49),O=o(52),k=o(37),I=(n=Object(O.command)(k.a.IMAGE.INSERT_IMAGES),r=Object(O.command)(k.a.IMAGE.INSERT_IMAGE_FILES),i=Object(O.history)({sync:!1}),a=Object(O.command)(k.a.IMAGE.INSERT_IMAGE_URLS),s=Object(O.history)({sync:!1}),c=Object(O.history)({sync:!1}),l=function(e){function t(){var t;return(t=e.call(this)||this)._imageUploadService=C.U.get("imageUploadService"),t._imageBehavior=C.U.get("imageBehavior"),t}y()(t,e);var o=t.prototype;return o.insertImages=function(){var e=m()(h.a.mark(function e(t){var o,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.type,n=t.data,e.t0=o,e.next="file"===e.t0?4:"url"===e.t0?7:10;break;case 4:return e.next=6,this.insertImagesByFile({data:n});case 6:return e.abrupt("break",11);case 7:return e.next=9,this.insertImagesByUrl({data:n});case 9:return e.abrupt("break",11);case 10:throw new Error("Please, Input data type");case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.insertImagesByFile=function(){var e=m()(h.a.mark(function e(t){var o,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.data,n=Object(v.a)(o,function(e){var t=e.file,o=e.fileName;return t.fileName=o,t}),r=this._imageUploadService.validateImages(n),e.next=5,this._imageBehavior.insertImage(r);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.insertImagesByUrl=function(){var e=m()(h.a.mark(function e(t){var o,n,r,i,a,s,c,l;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o=t.data,n=o.reduce(function(e,t){var o=t.url,n=t.origin,r=void 0===n?"local":n,i=e.urlsByOrigin;if(e.prevOrigin!==r)i.push({urls:[o],origin:r}),e.prevOrigin=r;else{var a=i.pop();a.urls.push(o),i.push(a)}return e},{urlsByOrigin:[]}),r=n.urlsByOrigin,i=p()(r);case 3:if((a=i()).done){e.next=10;break}return s=a.value,c=s.urls,l=s.origin,e.next=8,this._imageBehavior.insertImageFromUrls(c,l);case 8:e.next=3;break;case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.insertImage=function(){var e=m()(h.a.mark(function e(){var t;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog({multiple:!0});case 2:return t=e.sent,e.next=5,this._imageBehavior.insertImage(t);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t}(C.m),_()(l.prototype,"insertImages",[O.sentryCatch,n,S.d],Object.getOwnPropertyDescriptor(l.prototype,"insertImages"),l.prototype),_()(l.prototype,"insertImagesByFile",[O.sentryCatch,r,O.preventOnComponentProcessing,i,S.d],Object.getOwnPropertyDescriptor(l.prototype,"insertImagesByFile"),l.prototype),_()(l.prototype,"insertImagesByUrl",[O.sentryCatch,a,O.preventOnComponentProcessing,s,S.d],Object.getOwnPropertyDescriptor(l.prototype,"insertImagesByUrl"),l.prototype),_()(l.prototype,"insertImage",[O.sentryCatch,O.preventOnComponentProcessing,c,S.d],Object.getOwnPropertyDescriptor(l.prototype,"insertImage"),l.prototype),l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/image-insert-use-case.js",localName:t}})}catch(e){}}(I,"ImageInsertUseCase")}()},722:function(e,t,o){"use strict";o.d(t,"a",function(){return p});var n,r=o(50),i=o.n(r),a=o(51),s=o(52),c=o(49),l=o(121),u={CHANGE_MODE:"CHANGE_MODE",INSERT_MODE:"INSERT_MODE"},p=(n=function(){function e(){this._selectionInfoStore=a.U.get("selectionInfoStore"),this._quotationComponentService=a.U.get("quotationComponentService"),this._editingService=a.U.get("editingService"),this._documentToolbarLayoutService=a.U.get("documentToolbarLayoutService"),this._propertyChangeService=a.U.get("propertyChangeService"),this._finderService=a.U.get("finderService")}var t=e.prototype;return t._insertQuotation=function(e){var t=this._quotationComponentService.createWithLayout(e);this._editingService.insert({sourceComponents:[t]}),this._documentToolbarLayoutService.updateQuotationSelectedValue(t.layout)},t.insertQuotation=function(e){this._insertQuotation(e)},t.changeTextLayout=function(e){var t=this._getUpdatedModes();t===u.CHANGE_MODE?this._changeQuoatation(e):t===u.INSERT_MODE&&this._insertQuotation(e)},t._changeQuoatation=function(e){this._propertyChangeService.changeTextFormat("quotation"),this._propertyChangeService.changeLayout(e)},t._getUpdatedModes=function(){var e=this._selectionInfoStore.mode,t=this._finderService.getSelectedComponents();switch(e){case a.N.BLOCK:return u.CHANGE_MODE;case a.N.SINGLE_COMP:case a.N.MULTI_COMP:return u.INSERT_MODE;case a.N.CURSOR:return["sectionTitle","text"].includes(Object(l.a)(t).ctype)?u.CHANGE_MODE:u.INSERT_MODE}return u.CHANGE_MODE},e}(),i()(n.prototype,"insertQuotation",[s.preventOnComponentProcessing,s.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"insertQuotation"),n.prototype),i()(n.prototype,"changeTextLayout",[s.preventOnComponentProcessing,s.history,c.d],Object.getOwnPropertyDescriptor(n.prototype,"changeTextLayout"),n.prototype),n);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/quotation-insert-use-case.js",localName:t}})}catch(e){}}e(u,"UPDATE_MODES"),e(p,"QuotationInsertUseCase")}()},723:function(e,t,o){"use strict";o.d(t,"a",function(){return u});var n=o(12),r=o.n(n),i=o(18),a=o.n(i),s=o(0),c=o.n(s),l=o(51),u=function(e){function t(){var t;return(t=e.call(this)||this)._target="search",t._documentToolbarLayoutService=l.U.get("documentToolbarLayoutService"),t._panelContainerLayerService=l.U.get("panelContainerLayerService"),t._searchPanelLayoutService=l.U.get("searchPanelLayoutService"),t._toastLayerService=l.U.get("toastLayerService"),t._i18n=l.U.get("i18n"),t}return c()(t,e),t.prototype.toggle=function(){var e=this,t=this._panelContainerLayerService,o=this._searchPanelLayoutService;t.toggleLayout(this._target,o,function(){var t=a()(r.a.mark(function t(n,i){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e._documentToolbarLayoutService.setPanelButtonEnable(n,i),t.prev=1,!i){t.next=5;break}return t.next=5,o.requestData(o.getSearchType(),o.getSearchOption());case 5:t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),t.t0.failed&&(o.updateErrorStatus(!0),e._toastLayerService.warningMessage(e._i18n("searchPanelLayout:error_server_data_load")));case 11:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e,o){return t.apply(this,arguments)}}())},t}(l.i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/search-button-use-case.js",localName:t}})}catch(e){}}(u,"SearchButtonUseCase")}()},724:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(63),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.BASIC:t,n=e.title,r=void 0===n?"toQuotation:title":n,a=e.label,c=void 0===a?"toQuotation:label":a,l=e.logId,u=void 0===l?"fmtquot":l,p=s()(e,["type","title","label","logId"]);return d.b.createElement(f.a,i()({},p,{type:o,title:r,label:c,logId:u,onClick:this._handleClick}))},o._handleClick=function(e){e.value="quotation",this.props.useCase.changeTextFormat(e)},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/to-quotation-button-view.jsx",localName:t}})}catch(e){}}e(g,"ToQuotationButtonView"),e(y,"default")}()},725:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(192),m=o(726),g=o(56),y=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.CUSTOM_LAYER:t,n=e.title,r=void 0===n?{inactive:"imageResizing:title_inactive",active:"imageResizing:title_active"}:n,a=e.label,c=void 0===a?"imageResizing:label":a,l=e.labelVisible,u=void 0===l||l,p=e.isSelected,h=void 0!==p&&p,y=e.custom,b=void 0===y?{CustomLayer:m.a,customProps:{applyAllLabel:"imageResizing:apply_all_label",widthLabel:"imageResizing:width_label",heightLabel:"imageResizing:height_label",resetLabel:"imageResizing:reset_label",applyLabel:"imageResizing:apply_label"}}:y,_=e.logId,v=void 0===_?"qsize":_,C=s()(e,["type","title","label","labelVisible","isSelected","custom","logId"]);return d.b.createElement(f.a,i()({},C,{type:o,title:r,label:c,labelVisible:u,isSelected:h,custom:b,logId:v,onClick:this._handleClick,onChange:this._handleChange}))},o._handleClick=function(e){this.props.onClickSelector(e)},o._handleChange=function(e){this.props.useCase.changeSize(e)},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),p()(n.prototype,"_handleChange",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleChange"),n.prototype),n),b=y;t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-resizing-button-view.jsx",localName:t}})}catch(e){}}e(y,"ImageResizingButtonView"),e(b,"default")}()},726:function(e,t,o){"use strict";var n,r=o(59),i=o.n(r),a=o(0),s=o.n(a),c=o(50),l=o.n(c),u=o(16),p=o(67),d=o(88),h=o(49),f=o(347),m=o(399),g=o(52),y=(n=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._widthInputRef=h.b.createRef(),t}s()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this.setState(this.mapStateFromProps(this.props))},o.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState(function(){return t.mapStateFromProps(e)})},o.componentDidUpdate=function(e,t){this.state.isValid=this._isValid(t)},o.render=function(){var e=this.props,t=e.applyAllLabel,o=e.widthLabel,n=e.heightLabel,r=e.resetLabel,i=e.applyLabel,a=e.i18n,s=e.logAreaId,c=Object(u.a)(this.state,"value.width",""),l=Object(u.a)(this.state,"value.height",""),p=Object(u.a)(this.state,"value.isApplyAllChecked",!1),d=s+".qsizew",f=s+".qsizeh",g=s+".qsizeall",y=s+".qsizeok",b=s+".qsizereset";return h.b.createElement("div",{className:"se-custom-layer-option se-custom-layer-option-resizing"},h.b.createElement("div",{className:"se-custom-layer-resizing-input-group"},h.b.createElement("div",{className:"se-custom-layer-resizing-input-width","data-log":d},h.b.createElement("label",{className:"se-custom-layer-resizing-guide",htmlFor:"resizing-input-width"},"W"),h.b.createElement(m.a,{className:"se-custom-layer-resizing-input",ref:this._widthInputRef,id:"resizing-input-width",placeholder:this.state.widthPlaceholder,title:a(o),value:c,maxLength:4,autofocus:!0,onChange:this._onChangeWidthHandler,onConfirm:this._onKeyPressHandler,autoComplete:"off"})),h.b.createElement("div",{className:"se-custom-layer-resizing-input-height","data-log":f},h.b.createElement("label",{className:"se-custom-layer-resizing-guide",htmlFor:"resizing-input-height"},"H"),h.b.createElement(m.a,{className:"se-custom-layer-resizing-input",id:"resizing-input-height",placeholder:this.state.heightPlaceholder,title:a(n),value:l,maxLength:4,autofocus:!0,onChange:this._onChangeHeightHandler,onConfirm:this._onKeyPressHandler,autoComplete:"off"}))),h.b.createElement("div",{className:"se-custom-layer-resizing-option-group"},h.b.createElement("span",{className:"se-custom-layer-resizing-all","data-log":g},h.b.createElement("input",{type:"checkbox",className:"se-custom-layer-resizing-checkbox",id:"resizing-apply-all",checked:p,onChange:this._onCheckApplyAllHandler}),h.b.createElement("label",{htmlFor:"resizing-apply-all",className:"se-custom-layer-resizing-checkbox-label"},a(t))),h.b.createElement("button",{type:"button",className:"se-custom-layer-resizing-reset-button","data-role":"reset","data-log":b,onClick:this._onResetHandler},h.b.createElement("span",{className:"se-custom-layer-resizing-reset-label"},a(r)))),h.b.createElement("button",{type:"button",className:"se-custom-layer-resizing-apply-button",title:a(i),"data-role":"confirm","data-log":y,onClick:this._onConfirmHandler},h.b.createElement("span",{className:"se-custom-layer-resizing-apply-button-label"},a(i))))},o.mapStateFromProps=function(e){return{value:{width:"",height:"",isApplyAllChecked:Object(u.a)(e,"value.isApplyAllChecked",!1),isReset:!1},widthPlaceholder:Object(u.a)(e,"value.width"),heightPlaceholder:Object(u.a)(e,"value.height"),isValid:!1}},o.triggerConfirm=function(e){if(!1===this.state.isValid)return!1;this.props.onConfirm({event:e,value:this.state.value}),this.props.onClose()},o._onCheckApplyAllHandler=function(e){var t=e.target.checked,o=i()({},this.state,{value:i()({},this.state.value,{isApplyAllChecked:t,width:"",height:""})});t?(o.widthPlaceholder=null,o.heightPlaceholder=null,this._focusOnWidthInput()):(o.widthPlaceholder=Object(u.a)(this.props,"value.width"),o.heightPlaceholder=Object(u.a)(this.props,"value.height")),this._updateState(o)},o._focusOnWidthInput=function(){this._widthInputRef.current.focus()},o._onResetHandler=function(e){var t=this.props.value;this._updateState({value:{width:"",height:""},widthPlaceholder:t.width,heightPlaceholder:t.height}),this.props.onConfirm({event:e,value:i()({},this.state.value,{isReset:!0})})},o._onChangeWidthHandler=function(e){var t=e,o="";if(Number(e)>0&&(t=e?Math.round(e):"",!this.state.value.isApplyAllChecked)){var n=this._getSizeRate().heightRate;o=n>-1?Math.round(e*n):""}var r=Object(p.a)({width:t,height:o},this.state.value);this._updateState({value:r})},o._onChangeHeightHandler=function(e){var t="",o=e;if(Number(e)>0&&(o=e?Math.round(e):"",!this.state.value.isApplyAllChecked)){var n=this._getSizeRate().widthRate;t=n>-1?Math.round(e*n):""}var r=Object(p.a)({width:t,height:o},this.state.value);this._updateState({value:r})},o._onConfirmHandler=function(e){this.triggerConfirm(e)},o._onKeyPressHandler=function(e){this.triggerConfirm(e)},o._getSizeRate=function(){var e={widthRate:-1,heightRate:-1},t=Object(u.a)(this.props,"value.width"),o=Object(u.a)(this.props,"value.height");return!0===!(!t||!o)&&(e={widthRate:t/o,heightRate:o/t}),this._getSizeRate=function(){return e},e},o._isValid=function(e){var t=!1===Object(d.a)(this.state.value,e.value),o=this._isValidValue(this.state.value);return t&&o},o._isValidValue=function(e){if(!e)return!1;var t=!0,o=0===Number(e.width),n=0===Number(e.height);return o&&n&&(t=!1),t},o._updateState=function(e){this.setState(e),this.props.onInput({event:event,value:this.state.value})},t}(h.b.Component),l()(n.prototype,"triggerConfirm",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"triggerConfirm"),n.prototype),l()(n.prototype,"_onCheckApplyAllHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onCheckApplyAllHandler"),n.prototype),l()(n.prototype,"_onResetHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onResetHandler"),n.prototype),l()(n.prototype,"_onChangeWidthHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onChangeWidthHandler"),n.prototype),l()(n.prototype,"_onChangeHeightHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onChangeHeightHandler"),n.prototype),l()(n.prototype,"_onConfirmHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onConfirmHandler"),n.prototype),l()(n.prototype,"_onKeyPressHandler",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_onKeyPressHandler"),n.prototype),n);y.defaultProps={value:{width:"",height:"",isApplyAllChecked:!1,isReset:!1},isValid:!1,widthPlaceholder:"",heightPlaceholder:"",onConfirm:function(){},onInput:function(){},onClose:function(){},applyAllLabel:"",widthLabel:"",heightLabel:"",resetLabel:"",applyLabel:"",i18n:function(e){return e}},y.propTypes={applyAllLabel:h.a.string,widthLabel:h.a.string,heightLabel:h.a.string,resetLabel:h.a.string,applyLabel:h.a.string,i18n:h.a.func,value:h.a.shape({width:h.a.oneOfType([h.a.string,h.a.number]),height:h.a.oneOfType([h.a.string,h.a.number]),isApplyAllChecked:h.a.bool,isReset:h.a.bool}),isValid:h.a.bool,widthPlaceholder:h.a.oneOfType([h.a.string,h.a.number]),heightPlaceholder:h.a.oneOfType([h.a.string,h.a.number]),onConfirm:h.a.func,onInput:h.a.func,onClose:h.a.func,logAreaId:h.a.string};var b=Object(f.b)(y);t.a=b,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/image-resizer.jsx",localName:t}})}catch(e){}}e(y,"ImageResizer"),e(b,"default")}()},727:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(56),m=o(63),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?f.b.BASIC:t,n=e.title,r=void 0===n?"imageLocation:title":n,a=e.logId,c=void 0===a?"location":a,l=s()(e,["type","title","logId"]);return d.b.createElement(m.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.editLocation()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-location-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageLocationButtonView"),e(y,"default")}()},728:function(e,t,o){"use strict";var n,r,i,a,s,c=o(61),l=o.n(c),u=o(57),p=o.n(u),d=o(0),h=o.n(d),f=o(50),m=o.n(f),g=(o(62),o(16)),y=o(190),b=o(51),_=o(49),v=o(404),C=o(729),S=(n=function(e){function t(t){var o;void 0===t&&(t={}),o=e.call(this,t)||this,l()(o,"opened",r,p()(o)),l()(o,"activeLetterGroup",i,p()(o)),l()(o,"position",a,p()(o)),l()(o,"activated",s,p()(o)),o.defaultLetterGroup="used",o.letterGroupList=C.a.getDefinitions(["used","general","num","round","hangul","greece","japan"]),o.persistentPolicy={used:{key:"special-letter/used-letter",property:"items"}},o.movedPopup=!1;var n=t,c=n.state,u=void 0===c?{}:c,d=n.config,h=void 0===d?{}:d,f=b.U.get("configAgent").get("productConfig.layoutType");return o._storage=b.U.get("storagePolicy"),o.opened=Object(g.a)(u,"opened",o.opened),o.activeLetterGroup=Object(g.a)(u,"activeLetterGroup",o.activeLetterGroup),o.position=Object(g.a)(u,"position",o.position),o.activated=Object(g.a)(u,"activated",o.activated),o.defaultLetterGroup=Object(g.a)(h,"defaultLetterGroup",o.defaultLetterGroup),o.letterGroupList=Object(g.a)(h,"letterGroupList",o.letterGroupList),o.persistentPolicy=Object(g.a)(h,"persistentPolicy",o.persistentPolicy),o.draggingZone=Object(g.a)(h,"draggingZone",f===b.H.EMBED?"browser":"container"),o.letterGroupList=o._getLatestLetterGroupListByPolicy(),o}h()(t,e);var o=t.prototype;return o.togglePopup=function(e){var t=void 0===e?{}:e,o=t.pageX,n=void 0===o?0:o,r=t.pageY,i=void 0===r?0:r,a=t.activated;this.opened=!this.opened,this._setPopupPosition(n,i),this._setActivateToolbar(a)},o.openPopup=function(e){var t=void 0===e?{}:e,o=t.pageX,n=void 0===o?0:o,r=t.pageY,i=void 0===r?0:r,a=t.activated;this.opened=!0,this._setPopupPosition(n,i),this._setActivateToolbar(a)},o.closePopup=function(){this.opened=!1},o.changeLetterGroup=function(e){void 0===e&&(e=""),this.activeLetterGroup=e},o.updateRecentSpecialLetterList=function(e){var t=this.persistentPolicy,o=void 0===t?[]:t,n=this.letterGroupList,r=Object.keys(o)[0],i=o[r].property;n[r][i]=e},o._getLatestLetterGroupListByPolicy=function(){var e=this.letterGroupList,t=this.persistentPolicy,o=this._storage;return e&&Object.keys(e).map(function(n){if(t&&t[n]){var r=t[n],i=r.key,a=r.property,s=Object(y.a)((o.get(i)||[]).concat(e[n][a]));e[n][a]=s.slice(0,v.a.STORAGE_VALUE_MAX_LENGTH)}}),e},o._setPopupPosition=function(e,t){this.position={leftPos:e+v.a.POPUP_OFFSET_CORRECTION,topPos:t+v.a.POPUP_OFFSET_CORRECTION}},o._setActivateToolbar=function(e){this.activated=e},t}(b.e),r=m()(n.prototype,"opened",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),i=m()(n.prototype,"activeLetterGroup",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=m()(n.prototype,"position",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{leftPos:0,topPos:0}}}),s=m()(n.prototype,"activated",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),n),O=S;t.a=O,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/special-letter-layer/src/store/index.js",localName:t}})}catch(e){}}e(S,"SpecialLetterLayerStore"),e(O,"default")}()},729:function(e,t,o){"use strict";var n={used:{label:"specialLetterLayer:used",items:["※","☆","★","●","·","◆","→","↑","▶","♥","♬","♪","☞","©","☎","㉿","∞","￥","￡","℃"]},general:{label:"specialLetterLayer:general",items:["｛","｝","〔","〕","〈","〉","《","》","「","」","『","』","【","】","‘","’","“","”","、","。","·","‥","…","§","※","☆","★","○","●","◎","◇","◆","□","■","△","▲","▽","▼","◁","◀","▷","▶","♤","♠","♡","♥","♧","♣","⊙","◈","▣","◐","◑","▒","▤","▥","▨","▧","▦","▩","±","×","÷","≠","≤","≥","∞","∴","°","′","″","∠","⊥","⌒","∂","≡","≒","≪","≫","√","∽","∝","∵","∫","∬","∈","∋","⊆","⊇","⊂","⊃","∪","∩","∧","∨","￢","⇒","⇔","∀","∃","´","～","ˇ","˘","˝","˚","˙","¸","˛","¡","¿","ː","∮","∑","∏","♭","♩","♪","♬","㉿","→","←","↑","↓","↔","↕","↗","↙","↖","↘","㈜","№","㏇","™","㏂","㏘","℡","♨","☏","☎","☜","☞","¶","†","‡","®","ª","º","♂","♀"]},num:{label:"specialLetterLayer:num",items:["½","⅓","⅔","¼","¾","⅛","⅜","⅝","⅞","¹","²","³","⁴","ⁿ","₁","₂","₃","₄","Ⅰ","Ⅱ","Ⅲ","Ⅳ","Ⅴ","Ⅵ","Ⅶ","Ⅷ","Ⅸ","Ⅹ","ⅰ","ⅱ","ⅲ","ⅳ","ⅴ","ⅵ","ⅶ","ⅷ","ⅸ","ⅹ","￦","$","￥","￡","€","℃","Å","℉","￠","¤","‰","㎕","㎖","㎗","ℓ","㎘","㏄","㎣","㎤","㎥","㎦","㎙","㎚","㎛","㎜","㎝","㎞","㎟","㎠","㎡","㎢","㏊","㎍","㎎","㎏","㏏","㎈","㎉","㏈","㎧","㎨","㎰","㎱","㎲","㎳","㎴","㎵","㎶","㎷","㎸","㎹","㎀","㎁","㎂","㎃","㎄","㎺","㎻","㎼","㎽","㎾","㎿","㎐","㎑","㎒","㎓","㎔","Ω","㏀","㏁","㎊","㎋","㎌","㏖","㏅","㎭","㎮","㎯","㏛","㎩","㎪","㎫","㎬","㏝","㏐","㏓","㏃","㏉","㏜","㏆"]},round:{label:"specialLetterLayer:round",items:["㉠","㉡","㉢","㉣","㉤","㉥","㉦","㉧","㉨","㉩","㉪","㉫","㉬","㉭","㉮","㉯","㉰","㉱","㉲","㉳","㉴","㉵","㉶","㉷","㉸","㉹","㉺","㉻","ⓐ","ⓑ","ⓒ","ⓓ","ⓔ","ⓕ","ⓖ","ⓗ","ⓘ","ⓙ","ⓚ","ⓛ","ⓜ","ⓝ","ⓞ","ⓟ","ⓠ","ⓡ","ⓢ","ⓣ","ⓤ","ⓥ","ⓦ","ⓧ","ⓨ","ⓩ","①","②","③","④","⑤","⑥","⑦","⑧","⑨","⑩","⑪","⑫","⑬","⑭","⑮","㈀","㈁","㈂","㈃","㈄","㈅","㈆","㈇","㈈","㈉","㈊","㈋","㈌","㈍","㈎","㈏","㈐","㈑","㈒","㈓","㈔","㈕","㈖","㈗","㈘","㈙","㈚","㈛","⒜","⒝","⒞","⒟","⒠","⒡","⒢","⒣","⒤","⒥","⒦","⒧","⒨","⒩","⒪","⒫","⒬","⒭","⒮","⒯","⒰","⒱","⒲","⒳","⒴","⒵","⑴","⑵","⑶","⑷","⑸","⑹","⑺","⑻","⑼","⑽","⑾","⑿","⒀","⒁","⒂"]},hangul:{label:"specialLetterLayer:hangul",items:["ㄱ","ㄲ","ㄳ","ㄴ","ㄵ","ㄶ","ㄷ","ㄸ","ㄹ","ㄺ","ㄻ","ㄼ","ㄽ","ㄾ","ㄿ","ㅀ","ㅁ","ㅂ","ㅃ","ㅄ","ㅅ","ㅆ","ㅇ","ㅈ","ㅉ","ㅊ","ㅋ","ㅌ","ㅍ","ㅎ","ㅏ","ㅐ","ㅑ","ㅒ","ㅓ","ㅔ","ㅕ","ㅖ","ㅗ","ㅘ","ㅙ","ㅚ","ㅛ","ㅜ","ㅝ","ㅞ","ㅟ","ㅠ","ㅡ","ㅢ","ㅣ","ㅥ","ㅦ","ㅧ","ㅨ","ㅩ","ㅪ","ㅫ","ㅬ","ㅭ","ㅮ","ㅯ","ㅰ","ㅱ","ㅲ","ㅳ","ㅴ","ㅵ","ㅶ","ㅷ","ㅸ","ㅹ","ㅺ","ㅻ","ㅼ","ㅽ","ㅾ","ㅿ","ㆀ","ㆁ","ㆂ","ㆃ","ㆄ","ㆅ","ㆆ","ㆇ","ㆈ","ㆉ","ㆊ","ㆋ","ㆌ","ㆍ","ㆎ"]},greece:{label:"specialLetterLayer:greece",items:["Α","Β","Γ","Δ","Ε","Ζ","Η","Θ","Ι","Κ","Λ","Μ","Ν","Ξ","Ο","Π","Ρ","Σ","Τ","Υ","Φ","Χ","Ψ","Ω","α","β","γ","δ","ε","ζ","η","θ","ι","κ","λ","μ","ν","ξ","ο","π","ρ","σ","τ","υ","φ","χ","ψ","ω","Æ","Ð","Ħ","Ĳ","Ŀ","Ł","Ø","Œ","Þ","Ŧ","Ŋ","æ","đ","ð","ħ","I","ĳ","ĸ","ŀ","ł","ł","œ","ß","þ","ŧ","ŋ","ŉ","Б","Г","Д","Ё","Ж","З","И","Й","Л","П","Ц","Ч","Ш","Щ","Ъ","Ы","Ь","Э","Ю","Я","б","в","г","д","ё","ж","з","и","й","л","п","ф","ц","ч","ш","щ","ъ","ы","ь","э","ю","я"]},japan:{label:"specialLetterLayer:japan",items:["ぁ","あ","ぃ","い","ぅ","う","ぇ","え","ぉ","お","か","が","き","ぎ","く","ぐ","け","げ","こ","ご","さ","ざ","し","じ","す","ず","せ","ぜ","そ","ぞ","た","だ","ち","ぢ","っ","つ","づ","て","で","と","ど","な","に","ぬ","ね","の","は","ば","ぱ","ひ","び","ぴ","ふ","ぶ","ぷ","へ","べ","ぺ","ほ","ぼ","ぽ","ま","み","む","め","も","ゃ","や","ゅ","ゆ","ょ","よ","ら","り","る","れ","ろ","ゎ","わ","ゐ","ゑ","を","ん","ァ","ア","ィ","イ","ゥ","ウ","ェ","エ","ォ","オ","カ","ガ","キ","ギ","ク","グ","ケ","ゲ","コ","ゴ","サ","ザ","シ","ジ","ス","ズ","セ","ゼ","ソ","ゾ","タ","ダ","チ","ヂ","ッ","ツ","ヅ","テ","デ","ト","ド","ナ","ニ","ヌ","ネ","ノ","ハ","バ","パ","ヒ","ビ","ピ","フ","ブ","プ","ヘ","ベ","ペ","ホ","ボ","ポ","マ","ミ","ム","メ","モ","ャ","ヤ","ュ","ユ","ョ","ヨ","ラ","リ","ル","レ","ロ","ヮ","ワ","ヰ","ヱ","ヲ","ン","ヴ","ヵ","ヶ"]}},r={getDefinitions:function(e){var t={};return e.map(function(e){t[e]=n[e]}),t}};t.a=r,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/config/special-letter-definition/index.js",localName:t}})}catch(e){}}e(n,"defaultDefinition"),e(r,"default")}()},730:function(e,t,o){"use strict";var n,r,i,a,s=o(59),c=o.n(s),l=o(61),u=o.n(l),p=o(57),d=o.n(p),h=o(1),f=o.n(h),m=o(0),g=o.n(m),y=o(50),b=o.n(y),_=(o(62),o(16)),v=o(74),C=o(226),S=o(996),O=o(49),k=o(196),I=o(524),w=o(173),P=(n=Object(O.e)({keepAlive:!0}),r=Object(O.e)({keepAlive:!0}),i=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).ctype="textNode",u()(o,"value",a,d()(o));var n=t.state,r=void 0===n?{}:n;return o.value=Object(_.a)(r,"value",o.value),o}g()(t,e),f()(t,[{key:"empty",get:function(){return""===this.value}}]);var o=t.prototype;return o.writeValue=function(e){var t=e.offset,o=e.imeOffset,n=e.value,r=this.value,i=r.substring(0,o),a=i+n+r.substring(t);return this.value=a,{nodeId:this.id,offset:i.length+n.length}},o.mergeValue=function(e){var t=this.value+e.value;this.value=t},o.cutValue=function(e,t){this.value=this.value.substring(e,t)},o.split=function(e){var o=this.toPlainJSON();delete o.id,o.themeStyle=O.f.toJS(this.themeStyle),o.value=this.value.substring(e);var n=new t({state:o});return this.cutValue(0,e),{front:this,back:n}},o.isTextNode=function(){return!0},o.isEmpty=function(){return this.empty},o.isMergeable=function(e){if(!e)return!1;var t=this.hasSameStyle(e),o=this.hasSameLink(e),n="textNode"===e.ctype;return t&&o&&n},o.getStartPoint=function(){return{nodeId:this.id,offset:0}},o.getEndPoint=function(){return{nodeId:this.id,offset:this.value.length}},o.getPositionByOffset=function(e){return 0===e?k.d.NODE_START:e===this.value.length?k.d.NODE_END:k.d.NODE_BODY},o.getUrlInNode=function(e){var o=this.toValidJSON();delete o.id;var n=new t({state:o});n.cutValue(0,e.offset);var r=I.a.getUrlPatternMatches(n.value,!1);if(!n.hasUrlLink()&&r.length){var i=Object(v.a)(r)[0],a=n.getNodeLength();if(i===n.value.substr(a-i.length,i.length))return{url:Object(C.a)(i),range:{start:c()({},e,{offset:e.offset-i.length}),end:e}}}return null},o.getNodeLength=function(){return this.value.length},o.getPlainTextLength=function(){return this.getNodeLength()},o.cloneNode=function(){var e=new t({state:this.toValidJSON()});return e.updateTheme(O.f.toJS(this.themeStyle)),e},o.toPlainJSON=function(){return c()({},this._toPlainJSON)},f()(t,[{key:"_toPlainJSON",get:function(){return{id:this.id,ctype:this.ctype,value:this.value,style:O.f.toJS(this.style),link:O.f.toJS(this.link),themeStyle:O.f.toJS(this.themeStyle)}}}]),t}(w.a),a=b()(i.prototype,"value",[O.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),b()(i.prototype,"empty",[n],Object.getOwnPropertyDescriptor(i.prototype,"empty"),i.prototype),b()(i.prototype,"_toPlainJSON",[r],Object.getOwnPropertyDescriptor(i.prototype,"_toPlainJSON"),i.prototype),i);P.schema={id:S.a.string,ctype:S.a.string.isRequired,value:S.a.string.isRequired,style:S.a.shape({ctype:S.a.string.isRequired,fontColor:S.a.string,fontFamily:S.a.string,fontSizeCode:S.a.string,backgroundColor:S.a.string,bold:S.a.bool,italic:S.a.bool,underline:S.a.bool,strikeThrough:S.a.bool,subscript:S.a.bool,superscript:S.a.bool}),link:S.a.shape({ctype:S.a.string.isRequired,url:S.a.string.isRequired})};var j=P;t.a=j,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/text-node-store.js",localName:t}})}catch(e){}}e(P,"TextNodeStore"),e(j,"default")}()},732:function(e,t,o){"use strict";o.d(t,"a",function(){return n}),o.d(t,"b",function(){return r}),o.d(t,"c",function(){return i});var n=["auto","ko","en","ja","zh-CN","zh-TW","es","fr","de","ru","pt","it","vi","th","id","hi"],r="ko",i="en",a={AVAILABLE_LANG_CODES:n,DEFAULT_SOURCE_LANG:r,DEFAULT_TARGET_LANG:i};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/translation-layer/src/consts/index.js",localName:t}})}catch(e){}}e(n,"AVAILABLE_LANG_CODES"),e(r,"DEFAULT_SOURCE_LANG"),e(i,"DEFAULT_TARGET_LANG"),e(a,"default")}()},733:function(e,t,o){"use strict";o.d(t,"a",function(){return f});var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(49),l=o(347),u=o(54),p=o.n(u),d=o(51),h=o(52),f=c.b.createContext({spellCheckMap:[],selectedId:""}),m=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._componentRendererCollector=d.U.get("componentRendererCollector"),o}i()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.spellCheckMap,o=e.selectedId,n=this._renderSpellCheckDocument(),r=this._resolveCanvasClass();return c.b.createElement(f.Provider,{value:{spellCheckMap:t,selectedId:o}},c.b.createElement("div",{className:"se-spellcheck-article-content",ref:this._ref},c.b.createElement("section",{className:r},c.b.createElement("article",{className:"se-components-wrap"},n))))},o._ref=function(e){this.scrollContent=e},o._resolveCanvasClass=function(){var e=this.props.viewMode;return p()({"se-spellcheck-canvas":!0,"se-theme-default":!0,"se-l-viewport-tablet":[d.S.VIEW_MODE_PC,d.S.VIEW_MODE_TABLET].includes(e),"se-l-viewport-desktop":e===d.S.VIEW_MODE_PC})},o._renderSpellCheckDocument=function(){var e=this,t=this.props,o=t.spellCheckDocument,n=t.i18n,r=t.viewMode;return o.map(function(t){var o=t.ctype,i=t.id,a=e._componentRendererCollector.getRenderer(o),s={viewMode:r,key:i,store:t,i18n:n};return a&&c.b.createElement(a,s)})},t}(c.b.Component),s()(n.prototype,"_ref",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_ref"),n.prototype),n);m.defaultProps={viewMode:"",spellCheckDocument:[],spellCheckList:[]},m.propTypes={i18n:c.a.func,viewMode:c.a.string,spellCheckDocument:c.a.oneOfType([c.a.array,c.a.object])};var g=Object(l.b)(m);t.b=g,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/spell-check-contents/index.jsx",localName:t}})}catch(e){}}e(f,"SpellCheckContext"),e(m,"SpellCheckContents"),e(g,"default")}()},734:function(e,t,o){"use strict";var n=o(49),r=o(347),i=o(54),a=o.n(i),s=function(e){var t=e.store,o=e.additionalOption.showRepresentative,r=e.status,i=e.labelThumbnail,s=e.onClick;if("complete"===r&&o){var c=a()({"se-set-rep-image-button":!0,"se-is-selected":t.represent});return n.b.createElement("button",{type:"button",className:c,onClick:s},n.b.createElement("span",{className:"se-set-rep-image-button-text"},i))}return null};s.propTypes={store:n.a.object,additionalOption:n.a.object,status:n.a.string,labelThumbnail:n.a.string,onClick:n.a.func};var c=Object(r.b)(s);t.a=c,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/representative-button.jsx",localName:t}})}catch(e){}}e(s,"RepresentativeButton"),e(c,"default")}()},735:function(e,t,o){"use strict";var n=o(49),r=function(e){var t=e.labelThisIs360VR,o=e.enabled,r=e.onDoubleClick,i=void 0===r?function(){}:r;return o?n.b.createElement("div",{className:"se-360vr-icon",onDoubleClick:i},n.b.createElement("span",{className:"se-blind"},t)):null};r.propTypes={labelThisIs360VR:n.a.string,enabled:n.a.bool,onDoubleClick:n.a.func};var i=r;t.a=i,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/vr360-mark.jsx",localName:t}})}catch(e){}}e(r,"Vr360Mark"),e(i,"default")}()},736:function(e,t,o){"use strict";var n=o(49),r=function(e){var t=e.enabled,o=e.locationInfo,r=e.onMouseDown,i=e.onClick;return t?n.b.createElement("button",{type:"button",className:"se-component-extra-place",onMouseDown:r,onClick:i},n.b.createElement("span",{className:"se-component-extra-place-info"},o.name)):null};r.propTypes={enabled:n.a.bool,locationInfo:n.a.object,onMouseDown:n.a.func,onClick:n.a.func};var i=r;t.a=i,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/location-button.jsx",localName:t}})}catch(e){}}e(r,"LocationButton"),e(i,"default")}()},739:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(52),f=o(63),m=o(56),g=(n=function(e){function t(){return e.apply(this,arguments)||this}l()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?m.b.BASIC:t,n=e.title,r=void 0===n?"imageReplacementWithoutLabel:title":n,a=e.logId,c=void 0===a?"imgchg":a,l=s()(e,["type","title","logId"]);return d.b.createElement(f.a,i()({},l,{type:o,title:r,logId:c,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.changeImage()},t}(d.b.Component),p()(n.prototype,"_handleClick",[h.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClick"),n.prototype),n),y=g;t.a=y,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-replacement-button-view.jsx",localName:t}})}catch(e){}}e(g,"ImageReplacementButton"),e(y,"default")}()},740:function(e,t,o){"use strict";var n=o(49),r=o(347),i=o(72),a=function(e){var t=e.name,o=e.address,r=e.className,a=e.useToolbarSlot,s="boolean"!=typeof a||a;return n.b.createElement(i.a,{ctype:"map-text",className:r,useToolbarSlot:s},n.b.createElement("div",{className:"se-map-info"},n.b.createElement("strong",{className:"se-map-title"},t),n.b.createElement("p",{className:"se-map-address"},o)),n.b.createElement("div",{className:"se-map-frame"}))};a.propTypes={name:n.a.string,address:n.a.string,children:n.a.oneOfType([n.a.element,n.a.array]),className:n.a.string,useToolbarSlot:n.a.bool};var s=Object(r.b)(a);t.a=s,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/map-text-unit/index.jsx",localName:t}})}catch(e){}}e(a,"MapTextUnit"),e(s,"default")}()},741:function(e,t,o){"use strict";var n=o(49),r=o(347),i=o(72),a=o(85),s=function(e){var t=e.src,o=e.units,r=e.useToolbarSlot,s=e.onLoad,c=e.onError,l=e.children,u="boolean"!=typeof r||r;return n.b.createElement(i.a,{ctype:"map-image",useToolbarSlot:u},n.b.createElement(a.b,{src:t,className:"se-map-image",onLoad:s,onError:c}),n.b.createElement("div",{className:"se-map-frame"}),o,l)};s.propTypes={src:n.a.string,children:n.a.oneOfType([n.a.element,n.a.array]),units:n.a.oneOfType([n.a.element,n.a.array]),useToolbarSlot:n.a.bool,onLoad:n.a.func,onError:n.a.func};var c=Object(r.b)(s);t.a=c,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/map-image-unit/index.jsx",localName:t}})}catch(e){}}e(s,"MapImageUnit"),e(c,"default")}()},742:function(e,t,o){"use strict";var n=o(55),r=o.n(n),i=o(0),a=o.n(i),s=o(1069),c=o.n(s),l=o(49),u=o(87),p=o(107),d=o(212),h=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=l.b.createRef(),o.resizeWithDebounced=null,o.panel=null,o._container=null,o._prevChildrenCount=0,o}a()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e=this;this._createNativeImagePanel(this._elementRef.current),this.resizeWithDebounced=Object(u.a)(function(){return e._resize()},50),this._prevChildrenCount=Object(p.a)(this.props.children).length,(d.a.isIE()||d.a.isEdge())&&(this.panel._view.style["-ms-user-select"]="",this.panel._view.style["-ms-touch-select"]="")},o.componentDidUpdate=function(){var e=this.props,t=e.drag,o=e.wheel,n=e.deceleration,r=e.overflow,i=e.right,a=e.children,s=e.onReset,c=Object(p.a)(a).length;c!==this._prevChildrenCount&&(this._prevChildrenCount=c,this._container=null,this._createNativeImagePanel(this._elementRef.current),s()),this.panel.options.drag=t,this.panel.options.wheel=o,this.panel.options.deceleration=n,this.panel.options.overflow=r,this.panel.options.right=i,this.resizeWithDebounced()},o.componentWillUnmount=function(){this.panel&&this.panel.destroy(),this.panel=null,this._container=null,this.resizeWithDebounced=null,this._prevChildrenCount=0},o.render=function(){var e=this.props,o=e.tag,n={};for(var i in e)i in t.propTypes||(n[i]=e[i]);return l.b.createElement(o,r()({},n,{ref:this._elementRef}),e.children)},o._createNativeImagePanel=function(e){var t=this,o=this.props,n=o.viewer,r=o.deceleration,i=o.progress,a=o.thumb,s=o.right,l=o.drag,u=o.wheel,p=o.overflow,d=e.querySelector(n);d!==this._container&&(this._container=d,this.panel&&this.panel.destroy(),this.panel=new c.a(e.querySelector(n),{drag:l,wheel:u,deceleration:r,overflow:p,right:s,progress:i&&e.querySelector(i),thumb:a&&e.querySelector(a)}),this.panel.on("scroll",function(e){return t.props.onScroll(e)}),this.panel.on("scrollEnd",function(e){return t.props.onScrollEnd(e)}),this.panel.on("resize",function(e){return t.props.onResize(e)}),this.panel.on("showBar",function(e){return t.props.onShowBar(e)}),this.panel.on("hideBar",function(e){return t.props.onHideBar(e)}))},o._resize=function(){this.panel&&this.panel.resize()},o.next=function(e){this.panel.next(e)},o.prev=function(e){this.panel.prev(e)},t}(l.b.Component);h.propTypes={tag:l.a.string,deceleration:l.a.number,viewer:l.a.string,contentMode:l.a.string,progress:l.a.string,thumb:l.a.string,drag:l.a.bool,wheel:l.a.bool,right:l.a.bool,overflow:l.a.string,onScroll:l.a.func,onScrollEnd:l.a.func,onResize:l.a.func,onShowBar:l.a.func,onHideBar:l.a.func,onReset:l.a.func},h.defaultProps={tag:"div",deceleration:6e-4,viewer:".viewer",progress:"",thumb:"",drag:!0,right:!1,wheel:!0,overflow:"auto",onScroll:function(){},onScrollEnd:function(){},onResize:function(){},onShowBar:function(){},onHideBar:function(){},onReset:function(){}};var f=h;t.a=f,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/react-imagepanel/index.jsx",localName:t}})}catch(e){}}e(h,"ReactImagePanel"),e(f,"default")}()},743:function(e,t,o){"use strict";var n,r,i,a,s=o(61),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=o(50),f=o.n(h),m=(o(62),o(16)),g=o(69),y=o(51),b=o(996),_=o(411),v=o(49),C=o(744),S=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},c()(o,"align",r,u()(o)),c()(o,"image",i,u()(o)),c()(o,"layout",a,u()(o));var n=t,s=n.state,l=void 0===s?{}:s,p=n.config,d=void 0===p?{}:p;return o.align=Object(m.a)(l,"align",o.align),o.layout=Object(m.a)(l,"layout",o.layout),o.accountId=Object(m.a)(l,"accountId",null),o.profileName=Object(m.a)(l,"profileName",null),o._resolveImage(Object(m.a)(l,"image",null)),o.attributes=Object(g.a)(o.attributes,d.attributes),o}d()(t,e);var o=t.prototype;return o.updateAccount=function(e){this.layout=e.layout,this.accountId=e.accountId,this.profileName=e.profileName},o.updateImage=function(e){this.image=e},o._resolveImage=function(e){e&&(this.image=new _.a({state:e}))},t}(y.g),r=f()(n.prototype,"align",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),i=f()(n.prototype,"image",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=f()(n.prototype,"layout",[v.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.a.DEFAULT}}),n);S.ctype="talktalk",S.schema={ctype:b.a.string.isRequired,id:b.a.string.isRequired,layout:b.a.string.isRequired,accountId:b.a.string.isRequired,align:b.a.string,profileName:b.a.string,image:b.a.shape(_.a.schema)};var O=S;t.a=O,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/store/index.js",localName:t}})}catch(e){}}e(S,"TalktalkComponentStore"),e(O,"default")}()},744:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={DEFAULT:"default",CUSTOM:"custom"},r={TalktalkLayout:n};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/const/index.js",localName:t}})}catch(e){}}e(n,"TalktalkLayout"),e(r,"default")}()},745:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(121),l=o(49),u=o(52),p=o(51),d=(n=function(e){function t(){return e.apply(this,arguments)||this}return i()(t,e),t.prototype.editTalkTalk=function(){var e=p.U.get("selectionInfoStore").toValidJSON(),t=p.U.get("componentListStore").getSelectedComponents(e),o=Object(c.a)(t).toValidJSON();this._talktalkEditLayerService=p.U.get("talktalkEditLayerService"),this._talktalkEditLayerService.open({bannerType:o.layout,accountId:o.accountId,image:o.image})},t}(p.c),s()(n.prototype,"editTalkTalk",[u.history,l.d],Object.getOwnPropertyDescriptor(n.prototype,"editTalkTalk"),n.prototype),n),h=d;t.a=h,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/talktalk-component/use-case/index.js",localName:t}})}catch(e){}}e(d,"TalktalkComponentUseCase"),e(h,"default")}()},746:function(e,t,o){"use strict";var n,r,i=o(61),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=(o(62),o(16)),f=o(69),m=o(51),g=o(996),y=o(1231),b=o(49),_=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},a()(o,"align",r,c()(o));var n=t,i=n.state,s=void 0===i?{}:i,l=n.config,u=void 0===l?{}:l;return o.align=Object(h.a)(s,"align",o.align),o.layout=Object(h.a)(s,"layout",o.layout),o.title=Object(h.a)(s,"title",o.title),o.link=Object(h.a)(s,"link",o.link),o.linkedPageTitle=Object(h.a)(s,"linkedPageTitle",o.linkedPageTitle),o.sinceDate=Object(h.a)(s,"sinceDate",o.sinceDate),o.sinceYear=Object(h.a)(s,"sinceYear",o.sinceYear),o.logNo=Object(h.a)(s,"logNo",o.logNo),o.thumbnail=Object(h.a)(s,"thumbnail",o.thumbnail),o.content=Object(h.a)(s,"content",o.content),o.attributes=Object(f.a)(o.attributes,u.attributes),o}return u()(t,e),t}(m.g),r=d()(n.prototype,"align",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n);_.ctype="anniversarySection",_.schema={ctype:g.a.string.isRequired,id:g.a.string.isRequired,layout:g.a.string.isRequired,align:g.a.string,title:g.a.string.isRequired,link:g.a.string.isRequired,linkedPageTitle:g.a.string.isRequired,sinceDate:g.a.string.isRequired,sinceYear:g.a.number.isRequired,logNo:g.a.number.isRequired,thumbnail:g.a.shape(y.i),content:g.a.string};var v=_;t.a=v,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/store/index.js",localName:t}})}catch(e){}}e(_,"AnniversarySectionComponentStore"),e(v,"default")}()},747:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(51).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/anniversary-section-component/use-case/index.js",localName:t}})}catch(e){}}e(i,"AnniversarySectionComponentUseCase"),e(a,"default")}()},748:function(e,t,o){"use strict";var n,r,i=o(61),a=o.n(i),s=o(57),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=(o(62),o(16)),f=o(69),m=o(1071),g=o.n(m),y=o(51),b=o(996),_=o(49),v=(n=function(e){function t(t){var o;void 0===t&&(t={}),(o=e.call(this,t)||this).attributes={cursor:"select",selection:"object",insertion:"append",drop:"object",paste:"append",lineBreak:{enter:"move-to-next-text",shiftEnter:"move-to-next-text"},erasure:"self"},a()(o,"align",r,c()(o));var n=t,i=n.state,s=void 0===i?{}:i,l=n.config,u=void 0===l?{}:l;return o.align=Object(h.a)(s,"align",o.align),o.layout=Object(h.a)(s,"layout","default"),o.title=Object(h.a)(s,"title",null),o.talkCode=Object(h.a)(s,"talkCode",null),o.contents=g.a.sanitize(Object(h.a)(s,"contents",null)),o.attributes=Object(f.a)(o.attributes,u.attributes),o}return u()(t,e),t}(y.g),r=d()(n.prototype,"align",[_.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),n);v.ctype="mrBlog",v.schema={ctype:b.a.string.isRequired,id:b.a.string.isRequired,layout:b.a.string.isRequired,align:b.a.string,talkCode:b.a.string.isRequired,title:b.a.string.isRequired,contents:b.a.string.isRequired};var C=v;t.a=C,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/store/index.js",localName:t}})}catch(e){}}e(v,"MrBlogComponentStore"),e(C,"default")}()},749:function(e,t,o){"use strict";var n=o(0),r=o.n(n),i=function(e){function t(){return e.apply(this,arguments)||this}return r()(t,e),t}(o(51).c),a=i;t.a=a,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/desktop/plugins/components/mr-blog-component/use-case/index.js",localName:t}})}catch(e){}}e(i,"MrBlogComponentUseCase"),e(a,"default")}()},762:function(e,t,o){"use strict";var n=o(59),r=o.n(n),i=o(55),a=o.n(i),s=o(0),c=o.n(s),l=o(50),u=o.n(l),p=o(66),d=o(49),h=o(347),f=o(52),m=o(54),g=o.n(m),y=function(e){var t=e.style,o=e.pointerType,n=e.labelDragToSelect;return d.b.createElement("button",{type:"button",className:"se-spectrum-selector",style:t,"data-type":o,"data-role":"pointer"},d.b.createElement("span",{className:"se-blind"},n))};y.defaultProps={style:{},pointerType:""},y.propTypes={style:d.a.object,pointerType:d.a.string,labelDragToSelect:d.a.string.isRequired};var b=Object(h.b)(y),_=b;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-pointer.jsx",localName:t}})}catch(e){}}e(y,"ColorPickerPointer"),e(b,"default")}();var v,C=function(){function e(e,t,o){if(r(e,t,o)){var n=0,i=0,a=Math.max(e,t,o),s=a-Math.min(e,t,o);return(i=a?s/a:0)&&(e===a?n=60*(t-o)/s:t===a?n=120+60*(o-e)/s:o===a&&(n=240+60*(e-t)/s),n<0&&(n+=360)),function(e,t,o){return{h:e,s:t,v:o}}(n,i*=100,a=a/255*100)}}function t(e,t,o){if(i(e,t,o)){e=e%360/60,t/=100,o/=100;var n=0,r=0,a=0,s=Math.floor(e),c=e-s,l=o*(1-t),u=o*(1-t*c),p=o*(1-t*(1-c));switch(s){case 0:n=o,r=p,a=l;break;case 1:n=u,r=o,a=l;break;case 2:n=l,r=o,a=p;break;case 3:n=l,r=u,a=o;break;case 4:n=p,r=l,a=o;break;case 5:n=o,r=l,a=u}return function(e,t,o){return{r:e,g:t,b:o}}(n*=255,r*=255,a*=255)}}function o(e,t,o){if(r(e,t,o))return 1===(e=Math.round(e).toString(16)).length&&(e="0"+e),1===(t=Math.round(t).toString(16)).length&&(t="0"+t),1===(o=Math.round(o).toString(16)).length&&(o="0"+o),e+t+o}function n(e){if(a(e)){var t=e.match(/#?([0-9a-f]{6}|[0-9a-f]{3})/i);return t=3===t[1].length?t[1].match(/./g).filter(function(e){return e+e}):t[1].match(/../g),{r:Number("0x"+t[0]),g:Number("0x"+t[1]),b:Number("0x"+t[2])}}}function r(e,t,o){return"number"==typeof e&&e>=0&&e<=255&&("number"==typeof t&&t>=0&&t<=255)&&("number"==typeof o&&o>=0&&o<=255)}function i(e,t,o){return"number"==typeof e&&e>=0&&e<=360&&("number"==typeof t&&t>=0&&t<=100)&&("number"==typeof o&&o>=0&&o<=100)}function a(e){return!("string"!=typeof e||!e.match(/#?([0-9a-f]{6}|[0-9a-f]{3})/i))}return{rgb2hsv:e,hsv2rgb:t,rgb2hex:o,hex2rgb:n,hsv2hex:function(e){var n=void 0===e?{}:e,r=n.h,a=n.s,s=n.v;if(i(r,a,s)){var c=t(r,a,s);return o(c.r,c.g,c.b)}},hex2hsv:function(t){if(a(t)){var o=n(t);return e(o.r,o.g,o.b)}}}}(),S=C,O=S;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/color-converter/index.js",localName:t}})}catch(e){}}e(C,"colorConverter"),e(S,"default")}();var k=(v=function(e){function t(){var t;return(t=e.call(this)||this).isDragging=!1,t.width=0,t.height=0,t}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._initiateCanvas()},o.render=function(){var e=this.props,t=e.selectedHueColor,o=e.hsvPointer,n=e.labelDragToSelect,r={left:o.x+"px",top:o.y+"px"},i={background:t};return d.b.createElement("div",{className:"se-spectrum se-spectrum-color",style:i,"data-type":"hsv"},d.b.createElement("canvas",{className:"se-spectrum-canvas",width:"151",height:"90",ref:this._ref}),d.b.createElement(_,{style:r,labelDragToSelect:n,pointerType:"hsv"}))},o._ref=function(e){this.hsvWrapper=e},o._initiateCanvas=function(){var e=this.hsvWrapper,t=this.props,o=t.onChangeColor,n=t.hsvColor,r=window.getComputedStyle(e,null),i=r.width,a=r.height,s=parseInt(i)||151,c=parseInt(a)||90;e.setAttribute("width",s),e.setAttribute("height",c);var l=e.getContext("2d");this._fillColorsOnHSV(l,s,c),this.width=s,this.height=c,o(n,s,c,"hsv")},o._fillColorsOnHSV=function(e,t,o){if(this.props.enableHue){var n=e.createLinearGradient(0,0,t,0);n.addColorStop(0,"rgba(255,255,255,1)"),n.addColorStop(1,"rgba(255,255,255,0)"),e.fillStyle=n,e.fillRect(0,0,t,o),(n=e.createLinearGradient(0,0,0,o)).addColorStop(0,"rgba(0,0,0,0)"),n.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=n,e.fillRect(0,0,t,o)}else{for(var r=e.createLinearGradient(0,0,0,o),i=0;i<7;i++){var a=O.hsv2rgb(i/6*360,100,100);r.addColorStop(i/6,"rgb("+Object.values(a).join(",")+")")}e.fillStyle=r,e.fillRect(0,0,t,o),(r=e.createLinearGradient(0,0,t,0)).addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(.5,"rgba(255,255,255,0)"),r.addColorStop(.5,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,1)"),e.fillStyle=r,e.fillRect(0,0,t,o)}},t}(d.b.Component),u()(v.prototype,"_ref",[f.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_ref"),v.prototype),v);k.defaultProps={hsvColor:{h:0,s:0,v:0},hsvPointer:{x:0,y:0},selectedHueColor:"#ff0000",onChangeColor:function(){},enableHue:!0},k.propTypes={hsvColor:d.a.object,hsvPointer:d.a.object,selectedHueColor:d.a.string,onChangeColor:d.a.func,enableHue:d.a.bool,labelDragToSelect:d.a.string.isRequired};var I,w=Object(h.b)(k),P=w;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-hsv.jsx",localName:t}})}catch(e){}}e(k,"ColorPickerHSV"),e(w,"default")}();var j=(I=function(e){function t(){var t;return(t=e.call(this)||this).isDragging=!1,t.width=0,t.height=0,t}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._initiateHueArea()},o.render=function(){var e=this.props,t=e.huePointer,o=e.enableHue,n=e.labelDragToSelect,r={};return"number"==typeof t.y?r.top=t.y+"px":"number"==typeof t.x&&(r.left=t.x+"px"),o?d.b.createElement("div",{className:"se-spectrum se-spectrum-hue","data-type":"hue",ref:this._ref},d.b.createElement(_,{style:r,labelDragToSelect:n,pointerType:"hue"})):null},o._ref=function(e){this.hueWrapper=e},o._initiateHueArea=function(){var e=this.props,t=e.onChangeColor,o=e.hsvColor;if(e.enableHue&&(!this.width||!this.height)){var n=this.hueWrapper,r=window.getComputedStyle(n,null),i=r.width,a=r.height,s=parseInt(i)||0,c=parseInt(a)||0;n.setAttribute("width",s),n.setAttribute("height",c),this.width=s,this.height=c,t({h:o.h},s,c,"hue")}},t}(d.b.Component),u()(I.prototype,"_ref",[f.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_ref"),I.prototype),I);j.defaultProps={hsvColor:{h:0,s:0,v:0},huePointer:{x:0,y:0},enableHue:!0,useVertical:!0,onChangeColor:function(){}},j.propTypes={hsvColor:d.a.object,huePointer:d.a.object,enableHue:d.a.bool,useVertical:d.a.bool,onChangeColor:d.a.func,labelDragToSelect:d.a.string.isRequired};var T=Object(h.b)(j),L=T;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-hue.jsx",localName:t}})}catch(e){}}e(j,"ColorPickerHue"),e(T,"default")}();var E=function(e){var t=e.selectedColor,o=e.customColor,n=e.onChangeCustomColor;return d.b.createElement("div",{className:"se-selected-color"},d.b.createElement("div",{className:"se-selected-color-palette",style:{backgroundColor:t}}),d.b.createElement("input",{type:"text",className:"se-selected-color-hex",value:o,onChange:n}))};E.defaultProps={selectedColor:"",customColor:"",onChangeCustomColor:function(){}},E.propTypes={selectedColor:d.a.string,customColor:d.a.string,onChangeCustomColor:d.a.func};var N,x=Object(h.b)(E),D=x;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-preview.jsx",localName:t}})}catch(e){}}e(E,"ColorPickerPreview"),e(x,"default")}();var R=(N=function(e){function t(){var t;return(t=e.call(this)||this)._startPos=null,t._startOffsetPos=null,t.dragType=null,t.state={customColor:""},t}c()(t,e);var o=t.prototype;return o.UNSAFE_componentWillReceiveProps=function(e){this.setState(function(){return{customColor:e.selectedColor||""}})},o.render=function(){var e=this.props,t=e.foldDetailPicker,o=e.selectedColor,n=e.onClickColor,r=e.labelConfirm,i=this.state.customColor,a=g()(["se-color-picker",{"se-is-activated":!t}]),s=this._renderHueArea(),c=this._renderHSVArea();return d.b.createElement("div",{className:a,onMouseDown:this._handleMouseDown,onMouseMove:this._handleMouseMove,onMouseLeave:this._handleMouseUp,onMouseUp:this._handleMouseUp},c,s,d.b.createElement("div",{className:"se-color-picker-value"},d.b.createElement(D,{onChangeCustomColor:this._handleChangeCustomColor,customColor:i,selectedColor:o}),d.b.createElement("button",{type:"button",className:"se-color-picker-apply-button",onClick:n},d.b.createElement("span",{className:"se-color-picker-apply-label"},r))))},o._renderHSVArea=function(){var e=this.props,t=e.foldDetailPicker,o=e.hsvPointer,n=e.selectedHSV,r=e.enableHue,i=e.labelDragToSelect;if(t)return null;var a="#"+O.hsv2hex({h:n.h,s:100,v:100});return d.b.createElement(P,{onChangeColor:this._handleChangeColor,hsvPointer:o,selectedHueColor:a,hsvColor:n,enableHue:r,labelDragToSelect:i})},o._renderHueArea=function(){var e=this.props,t=e.foldDetailPicker,o=e.huePointer,n=e.useHueVertical,r=e.enableHue,i=e.selectedHSV,a=e.labelDragToSelect;return t?null:d.b.createElement(L,{onChangeColor:this._handleChangeColor,huePointer:o,hsvColor:i,useHueVertical:n,enableHue:r,labelDragToSelect:a})},o._handleMouseDown=function(e){this.dragType=e.target.dataset.type,this._setStartPosition(e)},o._handleMouseUp=function(e){this._changeColorUsingPointerPosition(e),this.dragType=null},o._handleMouseMove=function(e){this._changeColorUsingPointerPosition(e)},o._handleChangeCustomColor=function(e){var t=e.currentTarget.value;t.length<8&&this.setState(function(){return{customColor:t}}),-1===t.indexOf("#")&&(t="#"+t),7===t.length&&this.props.onChangeColorUsingHex(e,t)},o._handleChangeColor=function(e,t,o,n){this.props.onChangeColorUsingHSV(e,t,o,n)},o._getPagePos=function(e){return"pageX"in e?[e.pageX,e.pageY]:"pageX"in(e=e.nativeEvent||{})?[e.pageX,e.pageY]:[0,0]},o._getOffsetPos=function(e){return"offsetX"in e?[e.offsetX,e.offsetY]:"layerX"in e?[e.layerX,e.layerY]:"offsetX"in(e=e.nativeEvent||{})?[e.offsetX,e.offsetY]:"layerX"in e?[e.layerX,e.layerY]:[0,0]},o._setStartPosition=function(e){this.dragType&&(this._startPos=this._getPagePos(e),this._startOffsetPos=this._getOffsetPos(e),"pointer"===e.target.dataset.role&&(this._startOffsetPos[0]+=e.target.offsetLeft,this._startOffsetPos[1]+=e.target.offsetTop))},o._getHueFromPosition=function(e){var t,o,n=this.props,r=n.useHueVertical,i=n.canvasSize,a=this._startOffsetPos[0]+(e[0]-this._startPos[0]),s=this._startOffsetPos[1]+(e[1]-this._startPos[1]);return r?(t=s,o=i.hue.height):(t=a,o=i.hue.width),{h:Math.min(Math.max(t,0),o)/o*360}},o._getHSVFromPosition=function(e){var t=this.props,o=t.canvasSize,n=t.enableHue,r=this._startOffsetPos[0]+(e[0]-this._startPos[0]),i=this._startOffsetPos[1]+(e[1]-this._startPos[1]),a=o.hsv.width,s=o.hsv.height;if(r=Math.max(Math.min(r,a),0),i=Math.max(Math.min(i,s),0),!n){var c={h:i/s*360},l=a/2;return r<l?(c.s=r/l*100,c.v=100):(c.s=100,c.v=(a-r)/l*100),c}return{s:Math.max(r/a*100,0),v:Math.max((s-i)/s*100,0)}},o._changeColorUsingPointerPosition=function(e){var t=this._getPagePos(e),o=this.props,n=o.canvasSize,r=o.onChangeColorUsingHSV;this.dragType&&(n[this.dragType]&&r("hsv"===this.dragType?this._getHSVFromPosition(t):this._getHueFromPosition(t),n[this.dragType].width,n[this.dragType].height))},t}(d.b.Component),u()(N.prototype,"_handleMouseDown",[f.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleMouseDown"),N.prototype),u()(N.prototype,"_handleMouseUp",[f.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleMouseUp"),N.prototype),u()(N.prototype,"_handleMouseMove",[f.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleMouseMove"),N.prototype),u()(N.prototype,"_handleChangeCustomColor",[f.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleChangeCustomColor"),N.prototype),u()(N.prototype,"_handleChangeColor",[f.autobind],Object.getOwnPropertyDescriptor(N.prototype,"_handleChangeColor"),N.prototype),N);R.defaultProps={canvasSize:null,hsvPointer:null,huePointer:null,useHueVertical:!1,enableHue:!1,selectedHSV:{h:0,s:0,v:0},onChangeColorUsingHSV:function(){},onChangeColorUsingHex:function(){},foldDetailPicker:!1},R.propTypes={canvasSize:d.a.object,hsvPointer:d.a.object,huePointer:d.a.object,useHueVertical:d.a.bool,enableHue:d.a.bool,foldDetailPicker:d.a.bool,selectedHSV:d.a.object,selectedColor:d.a.string,customColor:d.a.string,onChangeColorUsingHSV:d.a.func,onChangeColorUsingHex:d.a.func,onClickColor:d.a.func,labelConfirm:d.a.string.isRequired,labelDragToSelect:d.a.string.isRequired};var A=Object(h.b)(R),U=A;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-detail.jsx",localName:t}})}catch(e){}}e(R,"ColorPickerDetail"),e(A,"default")}();var M=function(e){var t=e.colors,o=e.onClickColor,n=e.selectedColor,r=e.labelResetColor;return d.b.createElement("ul",{className:"se-color-swatches-list",onClick:o},t.map(function(e,t){var o=g()({"se-color-palette":!0},{"se-color-palette-no-color":-1===e.indexOf("#")},{"se-is-selected":e===n}),i=-1===e.indexOf("#")?r:e;return d.b.createElement("li",{className:"se-color-swatches-item",key:e+"_"+t},d.b.createElement("button",{type:"button",className:o,"data-color":-1===e.indexOf("#")?"":e,style:{backgroundColor:e},title:i},d.b.createElement("span",{className:"se-blind"},i)))}))};M.defaultProps={colors:[],selectedColor:"",onClickColor:function(){},labelResetColor:""},M.propTypes={colors:d.a.oneOfType([d.a.array,d.a.object]),selectedColor:d.a.string,onClickColor:d.a.func,labelResetColor:d.a.string};var B=Object(h.b)(M),F=B;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-item-list.jsx",localName:t}})}catch(e){}}e(M,"ColorItemList"),e(B,"default")}();var z=function(e){var t=e.presetColor,o=e.currentSelectedColor,n=e.labelSetNewColor,r=e.labelResetColor,i=e.onClickColor;return d.b.createElement("div",{className:"se-color-swatches se-color-swatches-preset"},d.b.createElement("strong",{className:"se-blind"},n),d.b.createElement(F,{colors:t,selectedColor:o,onClickColor:i,labelResetColor:r}))};z.defaultProps={presetColor:[],currentSelectedColor:"",labelResetColor:""},z.propTypes={presetColor:d.a.array,currentSelectedColor:d.a.string,onClickColor:d.a.func,labelSetNewColor:d.a.string.isRequired,labelResetColor:d.a.string};var W=Object(h.b)(z),V=W;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-preset.jsx",localName:t}})}catch(e){}}e(z,"ColorPickerPreset"),e(W,"default")}();var G=function(e){var t=e.recentColors,o=e.onClickColor,n=e.labelRecentlyUsed,r=e.currentSelectedColor,i=e.labelResetColor;return d.b.createElement("div",{className:"se-color-swatches se-color-swatches-used"},d.b.createElement("strong",{className:"se-color-swathces-label"},n),d.b.createElement(F,{colors:t,selectedColor:r,onClickColor:o,labelResetColor:i}))};G.defaultProps={recentColors:[],currentSelectedColor:""},G.propTypes={recentColors:d.a.oneOfType([d.a.array,d.a.object]),currentSelectedColor:d.a.string,onClickColor:d.a.func,labelRecentlyUsed:d.a.string.isRequired,labelResetColor:d.a.string};var H=Object(h.b)(G),q=H;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/color-picker-recent.jsx",localName:t}})}catch(e){}}e(G,"ColorPickerRecent"),e(H,"default")}();var J,K=o(268),Y=(J=function(e){function t(t){var o;(o=e.call(this,t)||this).canvasSize={},o.state=o._mapStateFromProps(t),o._refLayer=d.b.createRef();var n=o.props,r=n.i18n,i=n.label;return o._messages={confirm:r("colorPickerButton:confirm"),dragToSelect:r("colorPickerButton:drag_to_select"),setNewColor:r("colorPickerButton:set_new_color"),recentlyUsedLabel:r("colorPickerButton:recently_used_label",{label:i}),more:r("colorPickerButton:more"),fold:r("colorPickerButton:fold"),resetColor:r("colorPickerButton:reset_color")},o}c()(t,e);var o=t.prototype;return o.UNSAFE_componentWillReceiveProps=function(e){var t=this;this.setState(function(){return t._mapStateFromProps(e)})},o.render=function(){var e=this.props,t=e.presetColor,o=e.color,n=this._messages,r=this._renderRecentColors(),i=this._renderDetailColors(),a=g()("se-color-picker-option",this.props.className);return d.b.createElement(K.a,{forwardRef:this._refLayer,className:a},r,d.b.createElement(V,{presetColor:t,currentSelectedColor:o,onClickColor:this._handleClickColor,labelResetColor:n.resetColor,labelSetNewColor:n.setNewColor}),i)},o._renderRecentColors=function(){var e=this.props,t=e.recentColors,o=e.color,n=this._messages;return Object(p.a)(t)?null:d.b.createElement(q,{recentColors:t,currentSelectedColor:o,onClickColor:this._handleClickColor,labelResetColor:n.resetColor,labelRecentlyUsed:n.recentlyUsedLabel})},o._renderDetailColors=function(){var e=this.props,t=e.enableHue,o=e.useHueVertical;if(!e.useDetail)return null;var n=this._messages,r=this.state.foldDetailPicker?n.more:n.fold;return d.b.createElement(d.b.Fragment,null,d.b.createElement(U,a()({},this.state,{canvasSize:this.canvasSize,useHueVertical:o,enableHue:t,onChangeColorUsingHSV:this._handleChangeColorUsingHSV,onChangeColorUsingHex:this._handleChangeColorUsingHex,onClickColor:this._handleClickColor,labelConfirm:n.confirm,labelDragToSelect:n.dragToSelect})),d.b.createElement("div",{className:"se-color-picker-more-button",onClick:this._handleClickToggleDetail,"data-role":"toggle","aria-hidden":"true",tabIndex:"-1"},d.b.createElement("span",{className:"se-color-picker-more-label"},r)))},o._handleClickColor=function(e){var t="#"+O.hsv2hex(this.state.selectedHSV),o=e.target.dataset.color,n={event:e,value:void 0!==o?o:t};this.props.onChangeColor(n)},o._handleChangeColorUsingHSV=function(e,t,o,n){var i=e.h;e&&(this._updateHuePointer(i,t,o),this._updateHSVPointer(e,t,o),this.setState(function(t){var o=r()({},t.selectedHSV,e);return{selectedHSV:o,selectedColor:"#"+O.hsv2hex(o)}}),n&&this._setCanvasSize(n,t,o))},o._handleChangeColorUsingHex=function(e,t){var o=t||e.currentTarget.value,n=O.hex2hsv(o);n?(this._updateHuePointer(n.h,this.canvasSize.hue.width,this.canvasSize.hue.height),this._updateHSVPointer(n,this.canvasSize.hsv.width,this.canvasSize.hsv.height),this.setState(function(){return{selectedHSV:O.hex2hsv(o),selectedColor:o}})):this.setState(function(e){return{selectedHSV:e.selectedHSV,selectedColor:e.selectedColor}})},o._handleClickToggleDetail=function(){this.setState(function(e){return{foldDetailPicker:!e.foldDetailPicker}})},o._updateHSVPointer=function(e,t,o){var n={};if("number"==typeof e.s&&"number"==typeof e.v){if(this.props.enableHue)n.x=e.s/100*t-4,n.y=(100-e.v)/100*o-4;else{var r=t/2;n.x=e.v>e.s?e.s/100*r:(100-e.v)/100*r+r,n.y=e.h/360*o}return this.setState(function(){return{hsvPointer:n}}),n}},o._updateHuePointer=function(e,t,o){var n=this.props,r=n.enableHue,i=n.useHueVertical,a=i?o:t,s={};if(r){var c=e/360*a-5;s[i?"y":"x"]=Math.min(Math.max(c,0),Math.max(a,0)),this.setState(function(){return{huePointer:s}})}},o._setCanvasSize=function(e,t,o){this.canvasSize[e]={width:t,height:o}},o._mapStateFromProps=function(e){var t=e.color;return{foldDetailPicker:!0,selectedColor:t,selectedHSV:O.hex2hsv(t),hsvPointer:{x:0,y:0},huePointer:{x:null,y:null}}},t}(d.b.Component),u()(J.prototype,"_handleClickColor",[f.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleClickColor"),J.prototype),u()(J.prototype,"_handleChangeColorUsingHSV",[f.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleChangeColorUsingHSV"),J.prototype),u()(J.prototype,"_handleChangeColorUsingHex",[f.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleChangeColorUsingHex"),J.prototype),u()(J.prototype,"_handleClickToggleDetail",[f.autobind],Object.getOwnPropertyDescriptor(J.prototype,"_handleClickToggleDetail"),J.prototype),J);Y.defaultProps={presetColor:["","#999999","#ffcdc0","#ffe3c8","#fff8b2","#e3fdc8","#c2f4db","#bdfbfa","#b0f1ff","#9bdfff","#fdd5f5","#ffb7de","#ffffff","#777777","#ffad98","#ffd1a4","#fff593","#badf98","#3fcc9c","#15d0ca","#28e1ff","#5bc7ff","#cd8bc0","#ff97c1","#f7f7f7","#555555","#ff5f45","#ffa94f","#ffef34","#98d36c","#00b976","#00bfb5","#00cdff","#0095e9","#bc61ab","#ff65a8","#e2e2e2","#333333","#ff0010","#ff9300","#ffd300","#54b800","#00a84b","#009d91","#00b3f2","#0078cb","#aa1f91","#ff008c","#c2c2c2","#141414","#ba0000","#b85c00","#ac9a00","#36851e","#007433","#00756a","#007aa6","#004e82","#740060","#bb005c","#9c9c9c","#000000","#700001","#823f00","#6a5f00","#245b12","#004e22","#00554c","#004e6a","#003960","#4f0041","#830041"],color:"",useHueVertical:!0,enableHue:!0,label:"",useDetail:!0},Y.propTypes={presetColor:d.a.array,recentColors:d.a.oneOfType([d.a.array,d.a.object]),color:d.a.string,useHueVertical:d.a.bool,enableHue:d.a.bool,onChangeColor:d.a.func,label:d.a.string,className:d.a.string,i18n:d.a.func.isRequired,useDetail:d.a.bool};var X=Object(h.b)(Y);t.a=X;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/color-picker/index.jsx",localName:t}})}catch(e){}}e(Y,"ColorPicker"),e(X,"default")}()},764:function(e,t,o){"use strict";var n,r,i=o(51),a=o(0),s=o.n(a),c=o(50),l=o.n(c),u=o(52),p=o(49),d=o(347),h=o(54),f=o.n(h),m=o(82),g=o(83),y=o(155),b=o(415),_=(n=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=i.U.get("configAgent"),t._libraryPanelLayoutService=i.U.get("libraryPanelLayoutService")||{updateMediaList:function(){}},t._toastLayerService=i.U.get("toastLayerService"),t._eventDispatcherService=i.U.get("eventDispatcherService"),t._i18n=i.U.get("i18n"),t._contentTextMaxLength=t._configAgent.get("productConfig.contentTextMaxLength"),t}s()(t,e);var o=t.prototype;return o.setRepresentativeImage=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;i.U.get("representativeImageService").setRepresentativeImage({compId:t,unitId:o,paraId:n,nodeId:r}),this._libraryPanelLayoutService.updateMediaList()},o.showOverContentLengthLimitWarn=function(){this._eventDispatcherService.emit(i.z.ON_MAX_CONTENT_TEXT_LENGTH),this._toastLayerService.warningMessage(this._i18n("textUnit:warning_limit_over_max_text_length",{maxLength:this._contentTextMaxLength}))},t}(i.c),l()(n.prototype,"setRepresentativeImage",[u.history,p.d],Object.getOwnPropertyDescriptor(n.prototype,"setRepresentativeImage"),n.prototype),n),v=_,C=v;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/use-case/index.js",localName:t}})}catch(e){}}e(_,"TextComponentUseCase"),e(v,"default")}();var S={useToolbarSlot:!1},O=(r=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=e.useCase,r=t.id,i=t.ctype,a=t.value,s=t.layout,c=t.isFocused,l=this._getAdditionalOption(a),u=this._resolveSectionClassName({ctype:i,layout:s,isFocused:c});return p.b.createElement(m.a,{id:r,ctype:i,i18n:o},p.b.createElement(g.a,{compId:r,compStore:t},p.b.createElement("div",{className:u},p.b.createElement(y.a,{compId:r,useCase:n,text:a,additionalOption:l,options:S,onLimitTextLength:this._handleContentLengthLimit,onClickRepresentative:this._handleClickRepresentative}))))},o._getAdditionalOption=function(e){var t=this.props,o=t.i18n;return{placeholder:t.shouldPlaceholderShown&&e.unchangedFirstNodeStyle?o("textComponent:placeholder"):null,uploadProgressTitle:o("textComponent:upload_process_title"),representativeTitle:o("textComponent:representative"),notFoundImageTitle:o("textComponent:image_404")}},o._resolveSectionClassName=function(e){var t,o=e.ctype,n=e.layout,r=e.isFocused;return f()(((t={})["se-section se-section-"+o]=!!o,t["se-l-"+(n||"default")]=!0,t["se-is-focused"]=r,t))},o._handleClickRepresentative=function(e){var t=e.compId,o=e.unitId,n=e.paraId,r=e.nodeId;this.props.useCase.setRepresentativeImage({compId:t,unitId:o,paraId:n,nodeId:r})},o._handleContentLengthLimit=function(){this.props.useCase.showOverContentLengthLimitWarn()},t}(p.b.Component),l()(r.prototype,"_handleClickRepresentative",[u.autobind],Object.getOwnPropertyDescriptor(r.prototype,"_handleClickRepresentative"),r.prototype),l()(r.prototype,"_handleContentLengthLimit",[u.autobind],Object.getOwnPropertyDescriptor(r.prototype,"_handleContentLengthLimit"),r.prototype),r);O.defaultProps={i18n:function(e){return e},shouldPlaceholderShown:!1},O.propTypes={shouldForceRefresh:p.a.bool,i18n:p.a.func,useCase:p.a.instanceOf(C).isRequired,store:p.a.instanceOf(b.a).isRequired,shouldPlaceholderShown:p.a.bool};var k=Object(d.b)(O),I=k;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/view/index.jsx",localName:t}})}catch(e){}}e(S,"textUnitOptions"),e(O,"TextComponentView"),e(k,"default")}();var w=function(e){function t(){return e.apply(this,arguments)||this}return s()(t,e),t}(i.a),P=w,j=P;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/service/index.js",localName:t}})}catch(e){}}e(w,"TextComponentService"),e(P,"default")}();var T=o(79),L={propertyToolbar:{"text-format":Object(T.a)("text-format"),"font-family":Object(T.a)("font-family"),"font-size":Object(T.a)("font-size"),bold:Object(T.a)("bold"),italic:Object(T.a)("italic"),underline:Object(T.a)("underline"),strikethrough:Object(T.a)("strikethrough"),"font-color":Object(T.a)("font-color"),"background-color":Object(T.a)("background-color"),"align-drop-down-with-justify":Object(T.a)("align-drop-down-with-justify"),list:Object(T.a)("list"),"line-height":Object(T.a)("line-height"),"drop-cap":Object(T.a)("drop-cap"),superscript:Object(T.a)("superscript"),subscript:Object(T.a)("subscript"),"special-letter":Object(T.a)("special-letter"),"text-link":Object(T.a)("text-link"),speller:Object(T.a)("speller"),"separator-bar":Object(T.a)("separator-bar"),"translation-right-label":Object(T.a)("translation-right-label")},contentsToolbar:{"font-family":Object(T.a)("font-family"),"font-size":Object(T.a)("font-size"),bold:Object(T.a)("bold"),italic:Object(T.a)("italic"),"text-link":Object(T.a)("text-link"),"font-color":Object(T.a)("font-color"),"to-quotation":Object(T.a)("to-quotation"),"cycle-align":Object(T.a)("cycle-align-with-justify"),"cycle-align-without-justify":Object(T.a)("cycle-align"),list:Object(T.a)("list"),"separator-bar":Object(T.a)("separator-bar"),translation:Object(T.a)("translation")}},E=L;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/toolbar/text-button-set-map.js",localName:t}})}catch(e){}}(L,"default")}();var N=o(416),x=o(92);function D(e){return Object(N.a)(e.map(function(e){return(e.value||e.text.value).paragraphs.map(function(e){return{id:e.id,list:e.isListParagraph()}})}))}function R(e,t){var o=Object(x.a)(e,function(e){return e.id===t.start.paraId}),n=Object(x.a)(e,function(e){return e.id===t.end.paraId});return o<n?{lowIndex:o,highIndex:n}:{lowIndex:n,highIndex:o}}function A(e,t){var o=D(e),n=R(o,t),r=n.lowIndex,i=n.highIndex,a=r===i,s=!1;if(!(r<0||i<0)){for(var c=r;c<=i;c++)!0===o[c].list&&(s=!0);return s&&a||!s}}var U={propertyToolbar:function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=["text-format","font-family","font-size","separator-bar","bold","italic","underline","strikethrough","font-color","background-color","separator-bar","align-drop-down-with-justify","line-height","list","separator-bar"],r=t.filter(function(e){return"text"===e.ctype}),i=t.filter(function(e){return"wrappingParagraph"===e.ctype}),a=r.every(function(e){return e.isAvailableForDropcap(o)}),s=r.concat(i),c=s.length===t.length,l=i.every(function(e){return e.checkNoWrappedCompSelected(o)});(a&&n.push("drop-cap"),n.push("superscript","subscript","special-letter","text-link"),c&&l)&&(s.every(function(e){var t=e.translationEnabled,n=A(s,o);return t&&n})&&n.push("separator-bar","translation-right-label"));return n.push("separator-bar","speller"),n},contentsToolbar:function(e){var t=e.selectedComponents,o=e.selectionInfoStore,n=e.defaultButtonSet,r=t.filter(function(e){return"text"===e.ctype}),i=t.filter(function(e){return"wrappingParagraph"===e.ctype}),a=r.concat(i),s=a.length===t.length;if(!1===s)return[];if(n)return n;var c=["font-family","separator-bar","font-size","separator-bar","bold","italic","separator-bar","font-color","separator-bar","to-quotation","separator-bar","cycle-align","list"];return a.every(function(e){var t=e.translationEnabled,n=i.every(function(e){return e.checkNoWrappedCompSelected(o)}),r=A(a,o);return t&&s&&n&&r})&&c.push("separator-bar","translation"),c}},M=U;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/toolbar/text-button-resolver.js",localName:t}})}catch(e){}}e(D,"getParaMap"),e(R,"getIndexOfSelectionInMap"),e(A,"checkNoMultiList"),e(U,"default")}();var B=function(e){function t(){return e.call(this,{buttonSetMap:E,buttonResolver:M})||this}return s()(t,e),t}(i.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/toolbar/index.js",localName:t}})}catch(e){}}(B,"TextComponentToolbar")}();var F=i.q.extend({name:"TextComponent",view:I,useCase:C,service:j,store:b.a,toolbar:B}),z=F;t.a=z;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/text-component/src/index.js",localName:t}})}catch(e){}}e(F,"TextComponent"),e(z,"default")}()},765:function(e,t,o){"use strict";var n=o(51),r=o(55),i=o.n(r),a=o(0),s=o.n(a),c=o(50),l=o.n(c),u=o(49),p=o(347),d=o(82),h=o(83),f=o(52),m=o(456),g=o(200),y=function(e){function t(){var t;return(t=e.call(this)||this)._configAgent=n.U.get("configAgent"),t._toastLayerService=n.U.get("toastLayerService"),t._eventDispatcherService=n.U.get("eventDispatcherService"),t._i18n=n.U.get("i18n"),t._contentTextMaxLength=t._configAgent.get("productConfig.contentTextMaxLength"),t}return s()(t,e),t.prototype.showOverContentLengthLimitWarn=function(){this._eventDispatcherService.emit(n.z.ON_MAX_CONTENT_TEXT_LENGTH),this._toastLayerService.warningMessage(this._i18n("textUnit:warning_limit_over_max_text_length",{maxLength:this._contentTextMaxLength}))},t}(n.c),b=y,_=b;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/use-case/index.js",localName:t}})}catch(e){}}e(y,"QuotationComponentUseCase"),e(b,"default")}();var v,C=o(197),S=(v=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var o=t.prototype;return o.componentDidMount=function(){this.props.shouldForceRefresh&&this.props.useCase.refreshAfterLazy()},o.render=function(){var e=this.props,t=e.store,o=e.i18n,n=t.id,r=t.ctype,a=t.layout;return u.b.createElement(d.a,{id:n,ctype:r,layout:a,i18n:o},Object(C.a)({}),u.b.createElement(h.a,{compId:n,compStore:t},u.b.createElement(m.a,i()({},this.props,{onLimitTextLength:this._handleContentLengthLimit,onMoveToPrev:this._handleMoveToPrev,onMoveToNext:this._handleMoveToNext}))))},o._handleMoveToPrev=function(){this.props.useCase.moveToPrev(this.props.store.id)},o._handleMoveToNext=function(){this.props.useCase.moveToNext(this.props.store.id)},o._handleContentLengthLimit=function(){this.props.useCase.showOverContentLengthLimitWarn()},t}(u.b.Component),l()(v.prototype,"_handleMoveToPrev",[f.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleMoveToPrev"),v.prototype),l()(v.prototype,"_handleMoveToNext",[f.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleMoveToNext"),v.prototype),l()(v.prototype,"_handleContentLengthLimit",[f.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleContentLengthLimit"),v.prototype),v);S.defaultProps={i18n:function(e){return e}},S.propTypes={shouldForceRefresh:u.a.bool,i18n:u.a.func,store:u.a.instanceOf(g.a).isRequired,useCase:u.a.instanceOf(_).isRequired};var O=Object(p.b)(S),k=O;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/view/index.jsx",localName:t}})}catch(e){}}e(S,"QuotationComponentView"),e(O,"default")}();var I=function(e){function t(){var t;return(t=e.call(this)||this)._componentFactory=n.U.get("componentFactory"),t}return s()(t,e),t.prototype.createWithLayout=function(e){var t={ctype:"quotation",layout:e};return this._componentFactory.createComponentWithCompData(t)},t}(n.a),w=I,P=w;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/service/index.js",localName:t}})}catch(e){}}e(I,"QuotationComponentService"),e(w,"default")}();var j=o(79),T={propertyToolbar:{"text-format":Object(j.a)("text-format"),"font-size":Object(j.a)("font-size"),bold:Object(j.a)("bold"),italic:Object(j.a)("italic"),underline:Object(j.a)("underline"),"font-color":Object(j.a)("font-color"),"quotation-layout":Object(j.a)("quotation-layout"),"content-mode-justify":Object(j.a)("content-mode-justify"),"wrapping-layout":Object(j.a)("wrapping-layout-drop-down"),"line-height":Object(j.a)("line-height"),"special-letter":Object(j.a)("special-letter"),speller:Object(j.a)("speller"),"translation-right-label":Object(j.a)("translation-right-label"),"separator-bar":Object(j.a)("separator-bar")},contextToolbar:{"quotation-layout":Object(j.a)("quotation-layout"),"quotation-layout-label":Object(j.a)("quotation-layout-label"),"to-text":Object(j.a)("to-text"),delete:Object(j.a)("delete"),translation:Object(j.a)("translation"),"separator-bar":Object(j.a)("separator-bar")}},L=T;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/toolbar/quotation-button-set-map.js",localName:t}})}catch(e){}}(T,"default")}();var E={propertyToolbar:function(e){var t=e.configAgent,o=e.selectedComponents,n=e.selectionInfoStore,r=t.get("productConfig.quotation.layouts"),i=["text-format","font-size","separator-bar","bold","italic","underline","font-color"];(!(r&&1===r.length)&&i.push("separator-bar","quotation-layout"),i.push("separator-bar","content-mode-justify","wrapping-layout","separator-bar","line-height","special-letter"),"cursor"===n.mode||"block"===n.mode)&&(o.every(function(e){return e.translationEnabled})&&i.push("separator-bar","translation-right-label"));return i.push("separator-bar","speller"),i},contextToolbar:function(e){var t=e.configAgent,o=e.defaultButtonSet;if(o)return o;var n=t.get("productConfig.quotation.layouts");return n&&1===n.length?["to-text","separator-bar","delete"]:["quotation-layout","separator-bar","to-text","separator-bar","delete"]}},N=E;!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/toolbar/quotation-button-resolver.js",localName:t}})}catch(e){}}(E,"default")}();var x=function(e){function t(){return e.call(this,{buttonSetMap:L,buttonResolver:N})||this}return s()(t,e),t}(n.l);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/toolbar/index.js",localName:t}})}catch(e){}}(x,"QuotationComponentToolbar")}();var D=n.q.extend({name:"QuotationComponent",view:k,useCase:_,service:P,store:g.a,toolbar:x}),R=D;t.a=R;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/components/quotation-component/src/index.js",localName:t}})}catch(e){}}e(D,"QuotationComponent"),e(R,"default")}()},767:function(e,t,o){"use strict";var n=o(59),r=o.n(n),i=o(55),a=o.n(i),s=o(0),c=o.n(s),l=o(50),u=o.n(l),p=o(54),d=o.n(p),h=o(51),f=o(49),m=o(347),g=o(52),y=o(66),b=o(83),_=o(72),v=o(199),C=o(85),S=function(e){return f.b.createElement("div",{className:"se-image-status-404"},f.b.createElement("div",{className:"se-image-status-404-detail"},f.b.createElement("p",{className:"se-image-status-404-text"},e)))},O=S,k=O;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/error-image.jsx",localName:t}})}catch(e){}}e(S,"ErrorImage"),e(O,"default")}();var I=o(734),w=function(e){var t=e.label,o=e.enabled,n=e.onClick;return o?f.b.createElement("button",{type:"button",className:"se-image-delete-button",onClick:n},f.b.createElement("span",{className:"se-blind"},t)):null};w.propTypes={label:f.a.string,enabled:f.a.bool,onClick:f.a.func};var P=w,j=P;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/delete-button.jsx",localName:t}})}catch(e){}}e(w,"DeleteButton"),e(P,"default")}();var T=o(735),L=function(e){var t=e.label;return e.enabled?f.b.createElement("span",{className:"se-image-link-icon"},f.b.createElement("span",{className:"se-blind"},t)):null};L.propTypes={label:f.a.string,enabled:f.a.bool};var E=L,N=E;function x(){}!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/link-mark.jsx",localName:t}})}catch(e){}}e(L,"LinkMark"),e(E,"default")}();var D=function(e){var t=e.id,o=e.isVR360Format,n=e.enabled,r=e.label,i=e.onClick,a="vr360-toggle-"+t;return n?f.b.createElement("div",{className:"se-360vr-toggle-container"},f.b.createElement("div",{className:"se-360vr-toggle",onClick:i},f.b.createElement("input",{type:"checkbox",id:a,checked:o,onChange:x,className:"se-360vr-toggle-checkbox"}),f.b.createElement("label",{htmlFor:a,className:"se-360vr-toggle-label"},f.b.createElement("span",{className:"se-blind"},r)))):null};D.propTypes={id:f.a.string,isVR360Format:f.a.bool,enabled:f.a.bool,label:f.a.string,onClick:f.a.func};var R=D,A=R;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/vr360-toggle-button.jsx",localName:t}})}catch(e){}}e(x,"empty"),e(D,"VR360Button"),e(R,"default")}();var U,M=o(70),B={TOP_CENTER:"top-center",TOP_LEFT:"top-left",TOP_RIGHT:"top-right",BOTTOM_CENTER:"bottom-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right"},F=(U=function(e){function t(){return e.apply(this,arguments)||this}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._refineLayerPosition()},o.componentDidUpdate=function(){this._refineLayerPosition()},o.render=function(){var e=this.props.mediaTags;if(Object(y.a)(e))return null;var t=this._resolveImageTags(e);return f.b.createElement("div",{ref:this._tagWrapperRef,className:"se-image-tag-area"},t)},o._tagWrapperRef=function(e){this._tagWrapper=e},o._resolveImageTags=function(e){var t=this,o=this.props.onDoubleClick;return e.map(function(e,n){var i=r()({},{top:e.point.y+"%"},{left:e.point.x+"%"}),a=d()(["se-image-tag","se-image-tag-custom"]),s=t._resolveImageTagLinks(e.links);return f.b.createElement("div",{key:"tag-"+n,"data-top":""+e.point.y,"data-left":""+e.point.x,className:a,style:i,onDoubleClick:o},f.b.createElement("div",{className:"se-image-tag-layer"},f.b.createElement("div",{className:"se-image-tag-layer-dim"}),s))})},o._resolveImageTagLinks=function(e){return e.map(function(e,t){var o=d()({"se-image-tag-detail":!0,"se-image-tag-simple-detail":"none"===e.iconType}),n=d()(["se-image-tag-detail-icon","se-image-tag-detail-icon-"+e.iconType]);return f.b.createElement("div",{key:"link-"+t,className:o},f.b.createElement("span",{className:n}),f.b.createElement("strong",{className:"se-image-tag-detail-title"},""+e.title),e.description&&f.b.createElement("p",{className:"se-image-tag-detail-descripion"},""+e.description))})},o._refineLayerPosition=function(){var e=this.props,t=e.mediaTags,o=e.imageWidth,n=e.imageHeight,r=e.imageAlignRight;Object(y.a)(t)||this._changeTagLayerArrowStyle(o,n,r)},o._changeTagLayerArrowStyle=function(e,t,o){var n=this._tagWrapper.querySelectorAll(".se-image-tag");Object(M.a)(n,function(n){var r=n.querySelector(".se-image-tag-layer"),i=r.offsetWidth,a=r.offsetHeight,s=i/e*100,c=a/t*100,l=Number(n.dataset.top)||0,u=Number(n.dataset.left)||0,p="top",d="center";c+l>100&&(p="bottom"),u-s/2<0&&!(o&&e<i)?d="left":s/2+u>100&&(d="right"),n.classList.remove("se-image-tag-pin-position-"+B.TOP_CENTER),n.classList.remove("se-image-tag-pin-position-"+B.TOP_LEFT),n.classList.remove("se-image-tag-pin-position-"+B.TOP_RIGHT),n.classList.remove("se-image-tag-pin-position-"+B.BOTTOM_CENTER),n.classList.remove("se-image-tag-pin-position-"+B.BOTTOM_LEFT),n.classList.remove("se-image-tag-pin-position-"+B.BOTTOM_RIGHT),n.classList.add("se-image-tag-pin-position-"+p+"-"+d)})},t}(f.b.Component),u()(U.prototype,"_tagWrapperRef",[g.autobind],Object.getOwnPropertyDescriptor(U.prototype,"_tagWrapperRef"),U.prototype),U);F.propTypes={mediaTags:f.a.oneOfType([f.a.object,f.a.array]),imageWidth:f.a.number,imageHeight:f.a.number,imageAlignRight:f.a.bool,onDoubleClick:f.a.func};var z=F,W=z;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/image-tag.jsx",localName:t}})}catch(e){}}e("se-image-tag-pin-position","TAG_POSITION_CLASS_PREFIX"),e(B,"TAG_POSITION_CLASS"),e(F,"ImageTag"),e(z,"default")}();var V,G,H,q,J=o(736),K=o(61),Y=o.n(K),X=o(1),Q=o.n(X),Z=o(57),$=o.n(Z),ee=(o(62),o(667)),te=o(127),oe=o(25),ne=[{className:"se-resizer-top-left",index:0},{className:"se-resizer-bottom-left",index:1},{className:"se-resizer-top-right",index:2},{className:"se-resizer-bottom-right",index:3}],re={POSITIVE_X:2,POSITIVE_Y:1},ie={0:"se-top-left-clicked",1:"se-bottom-left-clicked",2:"se-top-right-clicked",3:"se-bottom-right-clicked"},ae=(V=function(e){function t(t){var o;o=e.call(this,t)||this,Y()(o,"_index",G,$()(o)),Y()(o,"_width",H,$()(o)),Y()(o,"_height",q,$()(o)),o._prevX=0,o._renderResizer=function(e,t){var n=e.index,r=e.style,i=e.className;return f.b.createElement("div",{key:t,className:"se-resizer "+i,style:r,onMouseDown:o._handleMouseDown(n)})},o._handleMouseDown=Object(oe.a)(function(e){return function(t){t.preventDefault(),o._attachEventHandlers(),o._prevX=o._scrollTarget.scrollLeft+t.pageX,o._index=e,o.props.resizing.set(!0)}}),o._handleMouseMove=function(e){o._resizeGuideBox(e),e.stopPropagation()},o._resizeGuideBox=Object(te.a)(function(e){var t=o._getSizeByDeltaWidth(o._getDeltaWidthByEvent(e));o._width=t[0],o._height=t[1]},50),o._handleMouseUp=function(e){var t=o.props,n=t.store,r=t.useCase;o._detachEventHandlers(),r.handleMouseUpOnResizer(n,o._width,o._height),o._resizeGuideBox.cancel(),o._index=null,o.props.resizing.set(!1),ee.a.log(e,"imect.resizer")},o._attachEventHandlers=function(){document.addEventListener("mousemove",o._handleMouseMove,!0),document.addEventListener("mouseup",o._handleMouseUp)},o._detachEventHandlers=function(){document.removeEventListener("mousemove",o._handleMouseMove,!0),document.removeEventListener("mouseup",o._handleMouseUp)},o._configAgent=h.U.get("configAgent");var n=t.store,r=n.width,i=n.height,a=n.originalWidth,s=n.originalHeight,c=t.minWidth,l=t.minHeight,u=t.maxWidth;return o._width=r,o._height=i,o._ratioOfWidthToHeight=a/s,o._minWidth=c||o._configAgent.get("editorInfo.imageMinimumWidth"),o._minHeight=l||o._configAgent.get("editorInfo.imageMinimumHeight"),o._maxWidth=u||o._configAgent.get("productConfig.documentWidth"),o}c()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._scrollTarget=h.U.get("domAccessor").getScrollTarget()},o.componentWillUnmount=function(){this._detachEventHandlers()},o.render=function(){var e=this.props,t=e.show,o=e.store;return o.width,o.height,o.originalWidth,o.originalHeight,t&&this._renderResizers()},o.componentWillReact=function(){var e=this.props.store,t=e.width,o=e.originalWidth,n=e.originalHeight;this._ratioOfWidthToHeight=o/n;var r=t!==this._prevWidth||this._prevOrgWidth!==o||this._prevOrgHeight!==n,i=r?t:this._width,a=r?Math.floor(t/this._ratioOfWidthToHeight):this._height;this._width=i,this._height=a,this._prevWidth=t,this._prevOrgWidth=o,this._prevOrgHeight=n},o._renderResizers=function(){var e,t=d()("se-resize-guide-box",((e={})[ie[this._index]]=this._resizing,e["se-is-resizing"]=this._resizing,e));return this._width&&this._height?f.b.createElement("div",{className:t,style:{width:this._width,height:this._height}},this._resizing&&this._renderStyleTagForCursor(),this._resizing&&this._renderBackgroundImage(),this._resizing&&this._renderResizeInfo(),ne.map(this._renderResizer)):null},o._renderBackgroundImage=function(){return f.b.createElement("div",{className:"se-resize-guide-box-bg",style:{backgroundImage:'url("'+this.props.store.src+'")'}})},o._renderStyleTagForCursor=function(){var e=[1,2].includes(this._index)?"nesw-resize":"nwse-resize";return f.b.createElement("style",{dangerouslySetInnerHTML:{__html:".se-body * {cursor: "+e+" !important}"}})},o._renderResizeInfo=function(){return f.b.createElement("div",{className:"se-resize-px-info "+[ie[this._index]]},this._width," ",f.b.createElement("span",{className:"se-resize-px-info-multiply"})," ",this._height)},o._getDeltaWidthByEvent=function(e){var t=this._scrollTarget.scrollLeft+e.pageX-this._prevX;return this._index&re.POSITIVE_X?t:-t},o._getSizeByDeltaWidth=function(e){var t=this.props.store.width,o=t+e,n=(t+e)/this._ratioOfWidthToHeight;return n<this._minHeight&&(n=this._minHeight,o=this._minHeight*this._ratioOfWidthToHeight),o<this._minWidth?n=(o=this._minWidth)/this._ratioOfWidthToHeight:o>this._maxWidth&&(n=(o=this._maxWidth)/this._ratioOfWidthToHeight),[o,n].map(Math.floor)},Q()(t,[{key:"_resizing",get:function(){return null!==this._index}}]),t}(f.b.Component),u()(V.prototype,"_resizing",[f.e],Object.getOwnPropertyDescriptor(V.prototype,"_resizing"),V.prototype),G=u()(V.prototype,"_index",[f.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=u()(V.prototype,"_width",[f.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),q=u()(V.prototype,"_height",[f.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),V);ae.defaultProps={show:!1},ae.propTypes={children:f.a.oneOfType([f.a.element,f.a.array]),useCase:f.a.object.isRequired,store:f.a.object.isRequired,minWidth:f.a.number,minHeight:f.a.number,maxWidth:f.a.number,maxHeight:f.a.number,show:f.a.bool,resizing:f.a.object};var se=Object(m.b)(ae),ce=se;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/resizer/index.jsx",localName:t}})}catch(e){}}e(ne,"RESIZER_INFO"),e(re,"CHECK_BITS"),e(ie,"CLICKED_RESIZER_CLASS"),e("se-resize-guide-box","GUIDE_BOX_DEFAULT_CLASS"),e(ae,"Resizer"),e(se,"default")}();var le,ue,pe,de=o(225),he={LOADING:"loading",COMPLETE:"complete",ERROR:"error"},fe=(pe=ue=function(e){function t(t){var o;return(o=e.call(this,t)||this).state={status:he.LOADING},o._src="",o._resizing=f.g.box(!1),o}c()(t,e);var o=t.prototype;return o.UNSAFE_componentWillUpdate=function(e){this._src&&this._src!==e.store.src&&this._resetComponent()},o.render=function(){var e=this.props,t=e.children,o=e.store,n=this.state.status,r=this._resolveWrapperRestProps();return f.b.createElement(_.a,a()({ctype:"image",store:o},r),this._renderImageTag(),this._renderResizer(),n===he.ERROR?this._renderErrorImage():this._renderImage(),this._renderImagePlaceholder(),this._renderBtnRepresentative(),this._renderBtnDelete(),this._renderVR360Mark(),this._renderVR360Toggle(),this._renderBtnLocation(),this._renderLinkMark(),t)},o._renderResizer=function(){var e=this.props,t=e.store,o=e.useCase;if(e.resizable){var n=t.selection,r=t.contentMode,i="single"===n&&[h.r.NORMAL,h.r.FIT].includes(r);return f.b.createElement(ce,{show:i,store:t,useCase:o,resizing:this._resizing})}},o._resolveWrapperRestProps=function(){return{className:this._resolveWrapperClassName(),id:this.props.store.id,style:this._resolveWrapperStyle(),draggable:this.props.additionalOption.hasCoverLayer}},o._resolveWrapperClassName=function(){var e,t=this.props.className;return d()(((e={})[t]=!0,e["se-is-progress"]=this._isProgressing(),e["se-is-resizing"]=this._resizing.get(),e))},o._resolveWrapperStyle=function(){var e=this.props,t=e.store,o=e.additionalOption.backgroundImage,n=r()({},this.props.style);return o&&(n.backgroundImage="url('"+t.src+"')"),n},o._isProgressing=function(){var e=this.props.store,t=e.internalResource,o=e.path,n=e.src,r=e.phase,i=t&&""===o&&""!==n;return r===h.M.PROCESSING||i},o._renderImagePlaceholder=function(){if(!this._isProgressing())return null;var e=this.props.store,t=e.width,o=e.height,n=this._resolveImageAreaStyle();return Object(v.a)({inlineStyle:n,message:this.props.i18n("imageUnit:uploading"),width:t,height:o})},o._encodeURI=function(e){try{e=decodeURIComponent(e)}catch(e){}return encodeURI(e)},o._renderImage=function(){var e=this.props.store,t=e.phase,o=e.src,n=e.alt,r=e.width,i=e.id,a=e.originalWidth,s=e.originalHeight,c=e.selection;if("processing"===t)return null;this._src=o;var l=this._encodeURI(this._src);return f.b.createElement(b.a,{unitId:i,compStore:e},f.b.createElement(C.b,{src:l,type:"none"!==c||this.context.readOnly?C.a.normal:C.a.lazyLoad,alt:n,className:"se-image-resource",width:r,originalWidth:a,originalHeight:s,onLoad:this._handleLoadImage,onError:this._handleErrorImage,onMouseDown:this._handleMouseDownImage,onClick:this._handleClickImage,onDragStart:this._handleDragStart,onDoubleClick:this._handleDblClickImage}))},o._renderErrorImage=function(){var e=this.props.store,t=e.id;return f.b.createElement(b.a,{unitId:t,compStore:e},k(this.props.i18n("imageComponent:image_404")))},o._renderBtnRepresentative=function(){var e=this.props,t=e.store,o=e.additionalOption,n=e.labelThumbnail;return this._resizing.get()?null:f.b.createElement(I.a,{store:t,additionalOption:o,labelThumbnail:n,status:this.state.status,onClick:this._handleClickBtnRepresentative})},o._renderBtnDelete=function(){return j({label:this.props.labelDeleteImage,enabled:!this._isProgressing(),onClick:this._handleClickBtnDelete})},o._renderImageTag=function(){var e=this.props,t=e.useMediaTag,o=e.store,n=o.align,r=o.width,i=o.height,a=o.displayFormat,s=o.mediaTags,c=[h.C.NORMAL,h.C.ANIMATED].includes(a),l=n===h.o.RIGHT;return t&&!Object(y.a)(s)&&c?f.b.createElement(W,{mediaTags:s,imageWidth:r,imageHeight:i,imageAlignRight:l,onDoubleClick:this._handleDblClickImage}):null},o._renderVR360Mark=function(){var e=this.props,t=e.labelThisIs360VR,o=e.store.displayFormat;return Object(T.a)({label:t,enabled:o===h.C.PANORAMA||o===h.C.VR360,onDoubleClick:this._handleDblClickImage})},o._renderVR360Toggle=function(){var e=this.props,t=e.store,o=e.labelUse360vr;return A({id:t.id,isVR360Format:t.displayFormat===h.C.PANORAMA,enabled:t.format===h.C.PANORAMA&&this.state.status===he.COMPLETE,label:o,onClick:this._handleToggleVR360Display})},o._renderBtnLocation=function(){var e=this.props,t=e.additionalOption.showLocationButton,o=e.store.place,n=o&&t;return Object(J.a)({enabled:n,locationInfo:o,onMouseDown:this._handleMouseDownLocation,onClick:this._handleClickLocation})},o._renderLinkMark=function(){var e=this.props,t=e.labelLink,o=e.store.link;return N({label:t,enabled:!!o})},o._resolveImageAreaStyle=function(){var e=this.props.store,t=e.width;return{paddingTop:""+e.height/t*100+"%"}},o._handleLoadImage=function(){var e=he.COMPLETE;this.state.status!==e&&(this.setState({status:e}),this.props.onCompleteImage(e))},o._handleErrorImage=function(){var e=he.ERROR;this.setState({status:e}),this.props.onCompleteImage(e)},o._handleMouseDownImage=function(e){this.props.onMouseDown(e)},o._handleClickImage=function(e){this.props.onClick(e)},o._handleDblClickImage=function(e){this.props.onDoubleClick(e,this.props.store)},o._handleDragStart=function(e){this.props.onDragStart(e)},o._handleClickBtnRepresentative=function(e){this.props.onClickRepresentative(e,this.props.store)},o._handleClickBtnDelete=function(e){e.stopPropagation(),this.props.onClickDelete(e,this.props.store)},o._handleToggleVR360Display=function(e){e.preventDefault(),this.props.onToggleVR360Display(e)},o._resetComponent=function(){this.state.status!==he.LOADING&&this.setState({status:he.LOADING})},o._handleClickLocation=function(){this.props.onClickLocation()},o._handleMouseDownLocation=function(e){e.nativeEvent.stopImmediatePropagation()},t}(f.b.Component),ue.contextType=de.a,le=pe,u()(le.prototype,"_renderImagePlaceholder",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderImagePlaceholder"),le.prototype),u()(le.prototype,"_renderBtnRepresentative",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderBtnRepresentative"),le.prototype),u()(le.prototype,"_renderBtnDelete",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderBtnDelete"),le.prototype),u()(le.prototype,"_renderVR360Mark",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderVR360Mark"),le.prototype),u()(le.prototype,"_renderVR360Toggle",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderVR360Toggle"),le.prototype),u()(le.prototype,"_renderBtnLocation",[g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_renderBtnLocation"),le.prototype),u()(le.prototype,"_handleLoadImage",[g.autobind],Object.getOwnPropertyDescriptor(le.prototype,"_handleLoadImage"),le.prototype),u()(le.prototype,"_handleErrorImage",[g.autobind],Object.getOwnPropertyDescriptor(le.prototype,"_handleErrorImage"),le.prototype),u()(le.prototype,"_handleMouseDownImage",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleMouseDownImage"),le.prototype),u()(le.prototype,"_handleClickImage",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleClickImage"),le.prototype),u()(le.prototype,"_handleDblClickImage",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleDblClickImage"),le.prototype),u()(le.prototype,"_handleDragStart",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleDragStart"),le.prototype),u()(le.prototype,"_handleClickBtnRepresentative",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleClickBtnRepresentative"),le.prototype),u()(le.prototype,"_handleClickBtnDelete",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleClickBtnDelete"),le.prototype),u()(le.prototype,"_handleToggleVR360Display",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleToggleVR360Display"),le.prototype),u()(le.prototype,"_handleClickLocation",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleClickLocation"),le.prototype),u()(le.prototype,"_handleMouseDownLocation",[g.autobind,g.muteIfReadOnly],Object.getOwnPropertyDescriptor(le.prototype,"_handleMouseDownLocation"),le.prototype),le);fe.defaultProps={className:"",style:{},onMouseDown:function(){},onDoubleClick:function(){},onClick:function(){},onClickRepresentative:function(){},onClickDelete:function(){},onClickLocation:function(){},onToggleVR360Display:function(){},onDragStart:function(){},onCompleteImage:function(){},additionalOption:{},resizable:!1},fe.propTypes={className:f.a.string,store:f.a.object,style:f.a.object,onMouseDown:f.a.func,onDoubleClick:f.a.func,onClick:f.a.func,onClickRepresentative:f.a.func,onClickDelete:f.a.func,onClickLocation:f.a.func,onDragStart:f.a.func,onCompleteImage:f.a.func,onToggleVR360Display:f.a.func,children:f.a.oneOfType([f.a.element,f.a.array]),i18n:f.a.func,labelLink:f.a.string.isRequired,labelThumbnail:f.a.string.isRequired,labelDeleteImage:f.a.string.isRequired,labelThisIs360VR:f.a.string.isRequired,labelUse360vr:f.a.string.isRequired,additionalOption:f.a.object,resizable:f.a.bool};var me=Object(m.b)(fe);t.a=me;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/image-unit/index.jsx",localName:t}})}catch(e){}}e(he,"STATUS"),e(fe,"ImageUnit"),e(me,"default")}()},773:function(e,t,o){"use strict";var n=o(51),r=o(1229),i=o(382),a=o(0),s=o.n(a),c=function(e){function t(){return e.apply(this,arguments)||this}s()(t,e);var o=t.prototype;return o.open=function(e){this._pauseDocumentEdit(),this._store.open(e)},o.updatePlacesMap=function(e){this._store.updatePlacesMap(e)},o.updateProperty=function(e){this._store.updateProperty(e)},o.setDateAt=function(e,t){this._store.setDateAt(e,t)},o.setNotification=function(e){this._store.setNotification(e)},o.setRepetition=function(e){this._store.setRepetition(e)},o.enableEmptyTitleWarning=function(){this._store.enableEmptyTitleWarning()},o.disableEmptyTitleWarning=function(){this._store.disableEmptyTitleWarning()},o.setRepetitionInfo=function(e){this._store.setRepetitionInfo(e)},o.showAndHideRepetitionWarning=function(){this._store.showAndHideRepetitionWarning()},o.removePlacesMap=function(){this._store.updatePlacesMap(null)},o.toScheduleComponentData=function(){return this._store.toScheduleComponentData()},o.close=function(){this._store.close(),this._unpauseDocumentEdit()},t}(n.d);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/schedule-layer/src/service/index.js",localName:t}})}catch(e){}}(c,"ScheduleLayerService")}();var l=o(383),u=o(191),p=n.F.extend({name:"ScheduleLayer",view:Object(r.a)({Loader:function(){return Promise.all([o.e(77),o.e(36)]).then(o.bind(null,1277))}}),useCase:i.a,service:c,store:l.a,consts:u.i}),d=p;t.a=d;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/plugins/layers/schedule-layer/src/index.js",localName:t}})}catch(e){}}e(p,"ScheduleLayer"),e(d,"default")}()},774:function(e,t,o){"use strict";var n=o(59),r=o.n(n),i=o(12),a=o.n(i),s=o(18),c=o.n(s),l=o(50),u=o.n(l),p=o(51),d=o(52),h=o(49),f=o(666),m=o(1),g=o.n(m),y=function(){function e(e){var t=e.id,o=e.code,n=e.file,r=e.errorCodeMap,i=void 0===r?{}:r,a=e.errorDescriptionMap,s=void 0===a?{}:a;this.id=t,this.code=o||n.code,this.file=n,this.errorCodeMap=i,this.errorDescriptionMap=s}return g()(e,[{key:"fileName",get:function(){return this.file.name}},{key:"fileSize",get:function(){return this.file.size}},{key:"cause",get:function(){return this.errorCodeMap[this.code]}},{key:"description",get:function(){var e=this.errorDescriptionMap[this.code];return"UNSUPPORTED_VIDEO"===this.code&&(e=this.file.name+e),e}},{key:"descriptionWithoutFileName",get:function(){return this.errorDescriptionMap[this.code]}}]),e}(),b=y;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/modules/video-upload-error/index.js",localName:t}})}catch(e){}}e(y,"VideoUploadError"),e(b,"default")}();var _,v,C=o(697);o.d(t,"a",function(){return I});var S=10,O=(_=function(){function e(){this._videoUploadLayerService=p.U.get("videoUploadLayerService"),this._videoComponentService=p.U.get("videoComponentService"),this._videoUploadService=p.U.get("videoUploadService"),this._editingService=p.U.get("editingService"),this._alertLayerService=p.U.get("alertLayerService"),this._i18n=p.U.get("i18n")}var t=e.prototype;return t.insertVideo=function(){this._videoUploadLayerService.open(),this._videoUploadService.openUploader(void 0,{success:this._onUploadSuccess.bind(this),error:this._onUploadError.bind(this),close:this._onUploadClose.bind(this)})},t._close=function(){this._videoUploadLayerService.close()},t._onUploadSuccess=function(e){var t=this;this._preprocForMaxCountCheck(e,function(e){var o=e.map(function(e){return t._videoComponentService.createVideoComponent(e)});o.length>0&&t._editingService.insert({sourceComponents:o})}),this._close()},t._onUploadError=function(){this._close(),this._alertLayerService.open({type:"alert",title:this._i18n("videoComponent:upload_failed"),description:this._i18n("videoComponent:server_fall_over_error")})},t._onUploadClose=function(){this._close()},t._preprocForMaxCountCheck=function(e,t){if(this._videoUploadService.isExceededMaxCount(e)){var o=this._videoUploadService.videoMaxUploadCount;this._alertLayerService.open({type:"alert",title:this._i18n("limits:title_exceeded_count_by_max"),description:this._i18n("limits:video_description_exceeded_count_by_max",{maxCount:o}),isDimUse:!1,onClickConfirm:function(){t(e)},onClickCancel:function(){t(e)}})}else t&&t(e)},e}(),u()(_.prototype,"_onUploadSuccess",[d.history,h.d],Object.getOwnPropertyDescriptor(_.prototype,"_onUploadSuccess"),_.prototype),u()(_.prototype,"_onUploadClose",[h.d],Object.getOwnPropertyDescriptor(_.prototype,"_onUploadClose"),_.prototype),_),k=function(){function e(){this._videoComponentService=p.U.get("videoComponentService"),this._videoUploadService=p.U.get("videoUploadService"),this._editingService=p.U.get("editingService"),this._alertLayerService=p.U.get("alertLayerService"),this._uploadProgressLayerService=p.U.get("uploadProgressLayerService"),this._toastLayerService=p.U.get("toastLayerService"),this._configAgent=p.U.get("configAgent"),this._i18n=p.U.get("i18n"),this._progressStatus={totalCount:0,progressCount:0,errorInfos:[]},this._errorCodeMap={EXCEEDED_UPLOAD_COUNT:this._i18n("errorCauseMap:limitation_by_session_count"),EXCEEDED_UPLOAD_SIZE:this._i18n("errorCauseMap:limitation_by_session_size"),INVALID_PARAMETER:this._i18n("errorCauseMap:invalid_parameter")},this._errorCodeDescription={EXCEEDED_UPLOAD_COUNT:this._i18n("naverVideoUploader:UP_TO_N_CAN_BE_DONE").replace(/%s/g,S),EXCEEDED_UPLOAD_SIZE:this._i18n("errorDescriptionMap:limitation_by_session_size",{maxImageUploadSize:this._configAgent.get("infraConfig.video.maxVideoUploadSize")}),INVALID_PARAMETER:this._i18n("errorDescriptionMap:invalid_parameter")}}var t=e.prototype;return t.insertVideo=function(){var e=this;this._videoUploadService.openFileDialog({accept:"video/*",multiple:!0}).then(function(t){e._preprocForLimits(t,function(t){t.length>0&&e._videoUploadService.openUploader(t,{onStart:e._onOpenProgress.bind(e),onEachStart:e._onEachUploadStart.bind(e),onEachProgress:e._onEachUploadProgress.bind(e),onEachComplete:e._onEachUploadComplete.bind(e),onEachError:e._onEachUploadError.bind(e),onError:e._onError.bind(e),onEnd:e._onCloseProgress.bind(e)})})})},t._insertVideoComponent=function(e){var t=this._videoComponentService.createVideoComponent(e);this._editingService.insert({sourceComponents:[t]})},t._onOpenProgress=function(e){var t=e.count;this._progressStatus.totalCount+=t,this._progressStatus.progressCount+=t,this._uploadProgressLayerService.start({title:this._i18n("videoUploader:ready"),description:this._i18n("videoUploader:file_count",{fileCount:this._progressStatus.totalCount}),totalCount:this._progressStatus.totalCount})},t._onError=function(e){var t=this,o=e.unprocessedFiles,n=void 0===o?[]:o,r=this._progressStatus.errorInfos,i=n.map(function(e){return t._makeVideoUploadErrorInfo(e,"INVALID_PARAMETER")});r.push.apply(r,i),this._clearUpload(r)},t._onCloseProgress=function(){if(this._progressStatus.progressCount<=0){var e=this._progressStatus.errorInfos;this._clearUpload(e)}},t._clearUpload=function(e){var t=this;e&&e.length>0&&this._alertLayerService.open(this._reolveAlertInfos(e)),this._progressStatus.totalCount=0,this._progressStatus.progressCount=0,this._progressStatus.errorInfos=[],setTimeout(function(){t._uploadProgressLayerService.end()},1e3)},t._onEachUploadStart=function(e){var t=e.fileName;this._uploadProgressLayerService.updateProgress({title:t,description:this._i18n("videoUploader:ready")})},t._onEachUploadProgress=function(e){var t=e.fileName,o=e.fileSize,n=e.uploaded,r="upload"===e.type?f.a.fileSizeSI(n)+"/"+f.a.fileSizeSI(o):this._i18n("naverVideoUploader:EXTRACTING_REPRE_IMG");this._uploadProgressLayerService.updateProgress({title:t,description:r})},t._onEachUploadComplete=function(e){var t=this,o=e.fileName,n=e.fileSize;this._insertVideoComponent(e),this._progressStatus.progressCount--,this._uploadProgressLayerService.update({title:o,description:""+f.a.fileSizeSI(n),doneStateResolver:function(){return{title:t._i18n("videoUploader:completed"),description:t._i18n("videoUploader:video_inserted")}}})},t._onEachUploadError=function(e){var t=e.file,o=this._progressStatus.errorInfos,n=this._makeVideoUploadErrorInfo(t,"INVALID_PARAMETER");this._progressStatus.progressCount--,o.push(n)},t._preprocForLimits=function(){var e=c()(a.a.mark(function e(t,o){var n=this;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=function(e){return e}),e.next=3,this._checkMaxCountInDocument(t).then(function(e){return n._checkValidateVideos(e)}).then(function(e){return n._checkLimits(e)}).then(function(e){return o(e)}).catch(C.a);case 3:case"end":return e.stop()}},e,this)}));return function(t,o){return e.apply(this,arguments)}}(),t._checkMaxCountInDocument=function(e){var t=this;return new Promise(function(o,n){0===e.length&&n();var r=t._videoUploadService.isExceededMaxCount(e),i=t._videoUploadService.videoMaxUploadCount;r&&t._alertLayerService.open({type:"alert",title:t._i18n("limits:title_exceeded_count_by_max"),description:t._i18n("limits:video_description_exceeded_count_by_max",{maxCount:i}),isDimUse:!1,onClickConfirm:function(){o(e)},onClickCancel:function(){n()}}),o(e)})},t._checkValidateVideos=function(e){var t=this,o=e.validFiles,n=e.invalidFiles;return new Promise(function(e,i){0===n.length&&e(o);var a=n.reduce(function(e,t){return e.invalidFileInfos.push({file:t,code:"UNSUPPORTED_VIDEO"}),e},{invalidFileInfos:[]}).invalidFileInfos;if(a.length>0){var s=t._progressStatus.errorInfos;s.push.apply(s,t._makeErrorInfos(a)),t._alertLayerService.open(r()({},t._reolveAlertInfos(),{isDimUse:!1,onClickConfirm:function(){o.length>0?e(o):i(),t._clearUpload()}}))}e(o)})},t._checkLimits=function(e){var t=this;return new Promise(function(o,n){var i=t._configAgent.get("infraConfig.video.maxVideoUploadSize"),a=e.reduce(function(e,o){var n=o.size,r=e.validFiles,a=e.invalidFileInfos;return n>i?a.push({file:o,code:"EXCEEDED_UPLOAD_SIZE"}):r.length+t._progressStatus.totalCount>=S?a.push({file:o,code:"EXCEEDED_UPLOAD_COUNT"}):r.push(o),e},{validFiles:[],invalidFileInfos:[]}),s=a.validFiles,c=a.invalidFileInfos;if(c.length>0){var l=t._progressStatus.errorInfos;l.push.apply(l,t._makeErrorInfos(c)),t._alertLayerService.open(r()({},t._reolveAlertInfos(),{isDimUse:!1,onClickConfirm:function(){s.length>0?o(s):n(),t._clearUpload()}}))}o(s)})},t._makeErrorInfos=function(e){var t=this;return e.map(function(e){var o=e.file,n=e.code;return t._makeVideoUploadErrorInfo(o,n)})},t._makeVideoUploadErrorInfo=function(e,t){var o=e.id;return new y({id:o,code:t,file:e,errorCodeMap:this._errorCodeMap,errorDescriptionMap:this._errorCodeDescription})},t._reolveAlertInfos=function(){var e=this._progressStatus.errorInfos,t=e.length,o={};return o.title=this._i18n("imageBehavior:upload_failed"),o.type="file",o.fileType="video",o.description=this._i18n("imageBehavior:upload_failed_desc",{failUploadCount:t}),o.errorList=e,o},e}(),I=(v=function(){function e(){this._videoUploadUseCaseImple=this._getVideoUploadUseCase()}var t=e.prototype;return t._getVideoUploadUseCase=function(){return"simple"===p.U.get("configAgent").get("modules.videoUploader.config.uploadMode")?new k:new O},t.insertVideo=function(){this._videoUploadUseCaseImple.insertVideo()},e}(),u()(v.prototype,"insertVideo",[d.preventOnComponentProcessing,h.d],Object.getOwnPropertyDescriptor(v.prototype,"insertVideo"),v.prototype),v);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/video-insert-use-case.js",localName:t}})}catch(e){}}e(S,"MAX_UPLOAD_COUNT_PER_PROCESS"),e(O,"LegacyVideoUploadUseCase"),e(k,"SimpleVideoUploadUseCase"),e(I,"VideoInsertUseCase")}()},776:function(e,t,o){"use strict";var n,r,i,a,s=o(0),c=o.n(s),l=o(51),u=o(74),p=o(61),d=o.n(p),h=o(50),f=o.n(h),m=(o(62),o(1)),g=o.n(m),y=o(49),b=l.E.DECIMAL,_=l.E.BULLET,v=l.E.NONE,C=l.E.UL,S=l.E.OL,O=[C,S],k=[b],I=function(e){return k.includes(e)?S:C},w=function(){var e=new U({type:null,level:-1});return e._filler=!1,e},P=function(e){var t=e.listType,o=e.listLevel;return new U({type:t,level:o,paragraph:e})},j=function(e,t){void 0===t&&(t=I(e.type));var o=e.level,n=new U({type:t,level:o});return n.appendChild(e),n},T=function(e){var t=e.getChildAt(0),o=t.type,n=t.level,r=new U({type:o,level:n-1});return r.appendChild(e),j(r)},L=function(e,t,o,n){void 0===o&&(o=0);var r=e.spliceChildren(o,n);t.appendChild.apply(t,r)},E=function(e){return e.parent.children.findIndex(function(t){return t===e})},N=function(e){return e.parent.getChildAt(E(e)-1)},x=function(e){var t=w(),o=new A(t);return e.forEach(function(e){var t=P(e),n=t.level,r=t.type,i=o.peek(),a=i.level;if(a<n){for(var s=j(t),c=[],l=n-a,u=s;--l;){var p=(u=T(u)).getChildAt(0);c.unshift(u,p)}i.appendChild(u),o.push.apply(o,c.concat([s,t]))}else{a>n&&o.popUntilSize(1+2*(n+1));var d=o.pop(),h=o.pop(),f=d.type,m=h.type;if(f===r||r===v||f===v&&(m===S&&r===b||m===C&&r===_))h.appendChild(t),o.push(h,t);else{var g=o.pop(),y=j(t);g.appendChild(y),o.push(g,y,t)}}}),t},D=function(e){var t=e.parent,o=e.children,n=E(e),r=E(t);if(0===n)if(r>0){var i=t.parent,a=i.getChildAt(r-1),s=a.degree-1;if(1===t.degree){var c;i.removeChildAt(r),i.refineChildren(),e.removeAllChildren(),t.increaseLevel(),(c=a.getChildAt(s)).appendChild.apply(c,[t].concat(o.slice()))}else{var l;t.removeChildAt(n),e.removeAllChildren();var u=j(e,t.type);u.increaseLevel(),(l=a.getChildAt(s)).appendChild.apply(l,[u].concat(o.slice()))}}else{t.removeChildAt(n),e.removeAllChildren();var p=e.clone(),d=j(e,t.type);d.increaseLevel(),p.appendChild.apply(p,[d].concat(o.slice())),t.appendChildAt(n,p)}else{var h=t.getChildAt(n-1);t.removeChildAt(n),e.removeAllChildren();var f=j(e,t.type);f.increaseLevel(),h.appendChild.apply(h,[f].concat(o.slice()))}},R=function(e){var t=e.parent,o=t.parent,n=o.parent,r=n.parent,i=E(e),a=E(t),s=E(o),c=E(n);if(0!==i){var l=[],u=t.clone();if(e.degree){var p=e.getChildAt(0).getChildAt(0).clone();p.decreaseLevel(),L(e,p),l.push(j(p))}if(L(t,u,i+1),t.removeChildAt(i),e.decreaseLevel(),u.degree&&l.push(u),e.appendChild.apply(e,l),L(o,e,a+1),t.type===n.type)n.appendChildAt(s+1,e);else{var d=j(e,t.type),h=n.clone();L(n,h,s+1),h.degree?r.appendChildAt(c+1,d,h):r.appendChildAt(c+1,d)}}else{t.removeChildAt(i),t.degree||o.removeChildAt(a);var f=[];if(e.degree){var m=e.getChildAt(0).getChildAt(0).clone();m.decreaseLevel(),L(e,m),f.push(j(m))}if(e.decreaseLevel(),e.appendChild.apply(e,f),t.type===n.type)o.filler&&0===a?(n.removeChildAt(s),L(o,e,a),n.appendChildAt(s,e)):(L(o,e,a),n.appendChildAt(s+1,e));else{L(o,e,a);var g=j(e,t.type),y=n.clone();L(n,y,s+1),y.degree?r.appendChildAt(c+1,g,y):r.appendChildAt(c+1,g)}}},A=function(){function e(e){this._data=e?[e]:[]}var t=e.prototype;return t.pop=function(){return this._data.pop()},t.popUntilSize=function(e){for(var t=[];this.size>e;)t.push(this.pop());return t},t.push=function(){var e;(e=this._data).push.apply(e,arguments)},t.prepend=function(){var e;(e=this._data).unshift.apply(e,arguments)},t.peek=function(){return this._data[this.size-1]},g()(e,[{key:"size",get:function(){return this._data.length}}]),e}(),U=(n=function(){function e(e){d()(this,"_children",r,this),d()(this,"_type",i,this),d()(this,"_filler",a,this),this._parent=null,this.key=l.Z.generate(),this._initialize(e)}var t=e.prototype;return t._initialize=function(e){var t=e.type,o=e.level,n=e.paragraph,r=void 0===n?null:n;this._type=t,this._level=o,this._paragraph=r,this._filler=!(O.includes(t)||r),this._size=r?1:0},t.convertToFiller=function(){this._paragraph=null,this._filler=!0,this._updateSize()},t.getChildAt=function(e){return 0<=e&&e<this.degree?this.children[e]:null},t.spliceChildren=function(e,t){return this._spliceChildren(e,t)},t.appendChild=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];this.appendChildAt.apply(this,[this.degree].concat(t))},t.appendChildAt=function(e){for(var t,o=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];r.length&&(r.forEach(function(e){e._parent=o}),(t=this.children).splice.apply(t,[e,0].concat(r)),this.refineChildren(),this._updateSize())},t.refineChildren=function(){this.degree<=1||(O.includes(this.type)?this._refineChildrenOfWrapper():this._refineChildrenOfInner())},t._refineChildrenOfWrapper=function(){for(var e=this.children[this.degree-1],t=this.degree-2;t>=0;t--){var o=this.children[t];e.filler&&(this.removeChildAt(t+1),o.appendChild.apply(o,e.children)),e=o}},t._refineChildrenOfInner=function(){for(var e=this.children[this.degree-1],t=this.degree-2;t>=0;t--){var o=this.children[t],n=e.children[0];if(n.filler){var r=o.children[o.degree-1];r.appendChild.apply(r,n.children),e.removeChildAt(0),e.degree||(e=this.getChildAt(t+2)||{},this.removeChildAt(t+1))}e.type===o.type&&(o.appendChild.apply(o,e.children),this.removeChildAt(t+1)),e=o}},t.removeChildAt=function(e){this._spliceChildren(e,1)},t._spliceChildren=function(e,t){void 0===t&&(t=this.degree-e);var o=this.children.splice(e,t);return o.forEach(function(e){e._parent=null}),this._updateSize(),this.removeEmptyChildren(),o},t.removeAllChildren=function(){this._children=[],this._updateSize()},t.updateType=function(e){this._type!==e&&(this._type=e)},t.increaseLevel=function(){this._level++,this._children.forEach(function(e){e.increaseLevel()})},t.decreaseLevel=function(){this._level--,this._children.forEach(function(e){e.decreaseLevel()})},t._updateSize=function(){this._size=this.children.reduce(function(e,t){return e+=t.size},0)+(this.paragraph?1:0),this._parent&&this._parent._updateSize()},t.removeEmptyChildren=function(e){void 0===e&&(e=!1);for(var t=this.degree-1;t>=0;t--)this.children[t].size||this.children.splice(t,1);e&&this.parent&&this.parent.removeEmptyChildren(e)},t.findNodeWithPath=function(e,t){if(void 0===t&&(t=[]),this.paragraph&&e--,!this.degree||-1===e)return[this,t];for(var o=0;o<this.degree;o++){var n=this.children[o];if(e<n.size)return t.push(o),n.findNodeWithPath(e,t);e-=n.size}return[null,[]]},t.clone=function(t){var o=(void 0===t?{}:t).paragraph,n=void 0!==o&&o;return new e({type:this.type,level:this.level,paragraph:n?this.paragraph:null})},g()(e,[{key:"type",get:function(){return this._type}},{key:"level",get:function(){return this._level}},{key:"paragraph",get:function(){return this._paragraph}},{key:"parent",get:function(){return this._parent}},{key:"children",get:function(){return this._children}},{key:"filler",get:function(){return this._filler}},{key:"degree",get:function(){return this.children.length}},{key:"size",get:function(){return this._size}}]),e}(),r=f()(n.prototype,"_children",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),i=f()(n.prototype,"_type",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),a=f()(n.prototype,"_filler",[y.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/tree-helper.js",localName:t}})}catch(e){}}e(b,"DECIMAL"),e(_,"BULLET"),e(v,"NONE"),e(C,"UL"),e(S,"OL"),e(O,"WRAPPER_TYPES"),e(k,"OL_CHILDREN_TYPES"),e(I,"getWrapperType"),e(w,"createRoot"),e(P,"createNodeFromParagraph"),e(j,"createWrapperNode"),e(T,"createFillerWrapperNode"),e(L,"adoptChildrenOut"),e(E,"indexInSiblings"),e(N,"getPrevSibling"),e(x,"constructTree"),e(D,"increaseNodeLevel"),e(R,"decreaseNodeLevel"),e(A,"Stack"),e(U,"Node")}(),o.d(t,"a",function(){return G});var M=l.E.DECIMAL,B=l.E.BULLET,F=l.E.NONE,z=l.E.UL,W=l.E.OL,V=[z,W],G=function(e){function t(t){var o,n=t.paragraphs,r=void 0===n?[]:n,i=t.root,a=void 0===i?null:i;return(o=e.call(this)||this).paragraphs=r,o.root=a||x(r),o}c()(t,e);var o=t.prototype;return o.mergeWith=function(e){var t,o,n,r,i=this.root.getChildAt(this.root.degree-1),a=e.root.getChildAt(0),s=e.root.size;return 0===s?this:0===this.root.size?e:this.root.size>=s?(i.type===a.type&&(i.appendChild.apply(i,a.children),e.root.removeChildAt(0)),(n=this.root).appendChild.apply(n,e.root.children),(r=this.paragraphs).push.apply(r,e.paragraphs),this):(i.type===a.type&&(a.appendChildAt.apply(a,[0].concat(i.children.slice())),this.root.removeChildAt(this.root.degree-1)),(t=e.root).appendChildAt.apply(t,[0].concat(this.root.children.slice())),(o=e.paragraphs).unshift.apply(o,this.paragraphs),e)},o._indexOf=function(e){return this.paragraphs.findIndex(function(t){return t.id===e.id})},o.hasParagraph=function(e){return this._indexOf(e)>-1},o.updateListType=function(e){var t=this.findMatchedNodeWithPath(e)[0],o=e.listType;t.type!==o&&this._updateType(t,o)},o.updateListLevel=function(e){var t=this.findMatchedNodeWithPath(e)[0],o=e.listLevel-t.level;0!==o&&this._updateLevelByDiff(t,o)},o._updateType=function(e,t){if(V.includes(e.type)){if(e.parent.refineChildren(),!e.parent.filler)return;this._updateType(e.parent,t)}else{e.updateType(t);var o=e.parent,n=o.parent,r=E(e),i=E(o),a=e.filler?[e]:this.getNodesInSameListItem(e.paragraph);o.removeChildAt(r);var s=j(e,I(t));a.length>1&&L(o,s,r,a.length-1);var c=o.clone(),l=i+r;L(o,c,r),o.degree||n.removeChildAt(i),c.degree?n.appendChildAt(l,s,c):n.appendChildAt(l,s),0===l&&this._updateType(s,t)}},o._updateLevelByDiff=function(e,t){if(t>0)for(;t--;)D(e);else if(t<0)for(;t++;)R(e)},o.indexOf=function(e){return this._indexOf(e)},o.findMatchedNodeWithPath=function(e){var t=this._indexOf(e);return this.root.findNodeWithPath(t)},o.split=function(e){if(e>=this.paragraphs.length)return[this,null];if(e<=0)return[null,this];var o=this.root.findNodeWithPath(e),n=o[0],r=o[1],i=n;r.reverse().forEach(function(e,t){var o,r=n.parent,a=[i].concat(r.spliceChildren(e+1));0===t&&r.removeChildAt(e),(o=i=r.clone()).appendChild.apply(o,a),n=r});var a=w();L(i,a);var s=new t({root:a,paragraphs:this.paragraphs.splice(e)}),c=s.findMatchedNodeWithPath(s.paragraphs[0])[0];return s._updateType(c,c.type),[this,s]},o.getSiblingType=function(e){return this.findMatchedNodeWithPath(e)[0].parent.type===W?M:B},o.getSiblings=function(e){return this.findMatchedNodeWithPath(e)[0].parent.children.reduce(function(e,t){return t.filler||e.push(t.paragraph),e},[])},o.getNodesInSameListItem=function(e){var t=this.findMatchedNodeWithPath(e),o=t[0],n=t[1],r=n[n.length-1],i=o.parent.children,a=[o];if(o.type===F){for(var s=r-1;s>=0;s--){var c=i[s];if(c.filler||a.push(c),c.type!==F)break}a.reverse()}for(var l=r+1;l<i.length;l++){var u=i[l];if(u.type!==F)break;u.filler||a.push(u)}return a},o.getParagraphsInSameListItem=function(e){return this.getNodesInSameListItem(e).map(function(e){return e.paragraph})},o.addParagraphAfter=function(e,t){var o,n,r,i=this.findMatchedNodeWithPath(e),a=i[0],s=i[1],c=a.children,l=t.map(function(e){return P(e)});(o=Object(u.a)(l)).appendChild.apply(o,c),a.removeAllChildren();var p=Object(u.a)(s),d=this._indexOf(e);(n=a.parent).appendChildAt.apply(n,[p+1].concat(l)),(r=this.paragraphs).splice.apply(r,[d+1,0].concat(t))},o.removeParagraph=function(e){var t=this.findMatchedNodeWithPath(e),o=t[0],n=t[1],r=N(o),i=this._indexOf(e);if(this.paragraphs.splice(i,1),r)o.parent.removeChildAt(n[n.length-1]),r.appendChild.apply(r,o.children);else{o.convertToFiller(),o.removeEmptyChildren(!0);var a=this._getParaAt(i);if(!a)return;var s=this.findMatchedNodeWithPath(a)[0];o.type!==s.type&&this._updateType(s,s.type)}},o._removeParagraphs=function(e){var t=this;e.forEach(function(e){t.removeParagraph(e)})},o._getParaAt=function(e){return 0<=e&&e<this.paragraphs.length?this.paragraphs[e]:null},o.moveParagraphsAfter=function(e,t){this._removeParagraphs(t),this.addParagraphAfter(e,t)},t}(l.w);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/stores/text/tree-paragraph-store.js",localName:t}})}catch(e){}}e(M,"DECIMAL"),e(B,"BULLET"),e(F,"NONE"),e(z,"UL"),e(W,"OL"),e(V,"WRAPPER_TYPES"),e(G,"TreeParagraphStore")}()},79:function(e,t,o){"use strict";var n,r,i=o(55),a=o.n(i),s=o(17),c=o.n(s),l=o(0),u=o.n(l),p=o(50),d=o.n(p),h=o(49),f=o(52),m=o(141),g=o(56),y=(n=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"alignDropDown:title_inactive",active:"alignDropDown:title_active"}:n,i=e.label,s=void 0===i?"alignDropDown:label":i,l=e.logId,u=void 0===l?"align":l,p=e.options,d=void 0===p?{left:{title:"alignDropDown:left_title",label:"alignDropDown:left_label",logId:"left"},center:{title:"alignDropDown:center_title",label:"alignDropDown:center_label",logId:"center"},right:{title:"alignDropDown:right_title",label:"alignDropDown:right_label",logId:"right"}}:p,f=e.optionType,y=void 0===f?g.c.ICON:f,b=e.useIconUpdate,_=void 0===b||b,v=e.value,C=void 0===v?"":v,S=c()(e,["type","title","label","logId","options","optionType","useIconUpdate","value"]);return h.b.createElement(m.a,a()({},S,{type:o,title:r,label:s,value:C,logId:u,options:d,optionType:y,useIconUpdate:_,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeAlign(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(n.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleClickOption"),n.prototype),n),b=y,_=b;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-drop-down-button-view.jsx",localName:t}})}catch(e){}}e(y,"AlignDropDownButtonView"),e(b,"default")}();var v,C=(r=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"alignDropDown:title_inactive",active:"alignDropDown:title_active"}:n,i=e.label,s=void 0===i?"alignDropDown:label":i,l=e.logId,u=void 0===l?"align":l,p=e.options,d=void 0===p?{left:{title:"alignDropDown:left_title",label:"alignDropDown:left_label",logId:"left"},center:{title:"alignDropDown:center_title",label:"alignDropDown:center_label",logId:"center"},right:{title:"alignDropDown:right_title",label:"alignDropDown:right_label",logId:"right"},justify:{title:"alignDropDown:justify_title",label:"alignDropDown:justify_label",logId:"justify"}}:p,f=e.optionType,y=void 0===f?g.c.ICON:f,b=e.value,_=void 0===b?"":b,v=e.useIconUpdate,C=void 0===v||v,S=c()(e,["type","title","label","logId","options","optionType","value","useIconUpdate"]);return h.b.createElement(m.a,a()({},S,{type:o,title:r,label:s,value:_,logId:u,options:d,optionType:y,useIconUpdate:C,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeAlign(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(r.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(r.prototype,"_handleClickOption"),r.prototype),r),S=C,O=S;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-drop-down-with-justify-button-view.jsx",localName:t}})}catch(e){}}e(C,"AlignDropDownWithJustifyButtonView"),e(S,"default")}();var k=(v=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"alignDropDown:title_inactive",active:"alignDropDown:title_active"}:n,i=e.label,s=void 0===i?"alignDropDown:label":i,l=e.logId,u=void 0===l?"align":l,p=e.options,d=void 0===p?{left:{title:"alignDropDown:left_title",label:"alignDropDown:left_label",logId:"left"},center:{title:"alignDropDown:center_title",label:"alignDropDown:center_label",logId:"center"}}:p,f=e.optionType,y=void 0===f?g.c.ICON:f,b=e.value,_=void 0===b?"":b,v=e.useIconUpdate,C=void 0===v||v,S=c()(e,["type","title","label","logId","options","optionType","value","useIconUpdate"]);return h.b.createElement(m.a,a()({},S,{type:o,title:r,label:s,value:_,logId:u,options:d,optionType:y,useIconUpdate:C,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeAlign(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(v.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(v.prototype,"_handleClickOption"),v.prototype),v),I=k,w=I;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-drop-down-without-right-button-view.jsx",localName:t}})}catch(e){}}e(k,"AlignDropDownWithoutRightButtonView"),e(I,"default")}();var P,j,T=o(270),L=(P=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.CYCLE_TOGGLE:t,n=e.title,r=void 0===n?"alignGroup:title":n,i=e.label,s=void 0===i?"alignGroup:label":i,l=e.value,u=void 0===l?"left":l,p=e.groups,d=void 0===p?[{value:"left",title:"alignGroup:left_title",label:"alignGroup:left_label",logId:"left"},{value:"center",title:"alignGroup:center_title",label:"alignGroup:center_label",logId:"center"},{value:"right",title:"alignGroup:right_title",label:"alignGroup:right_label",logId:"right"}]:p,f=c()(e,["type","title","label","value","groups"]);return h.b.createElement(T.a,a()({},f,{type:o,title:r,label:s,value:u,groups:d,onChange:this._changeAlign}))},o._changeAlign=function(e){this.props.useCase.changeAlign(e)},t}(h.b.Component),d()(P.prototype,"_changeAlign",[f.autobind],Object.getOwnPropertyDescriptor(P.prototype,"_changeAlign"),P.prototype),P),E=L,N=E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-cycle-button-view.jsx",localName:t}})}catch(e){}}e(L,"AlignCycleButtonView"),e(E,"default")}();var x=(j=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.CYCLE_TOGGLE:t,n=e.title,r=void 0===n?"alignGroupWithJustify:title":n,i=e.label,s=void 0===i?"alignGroupWithJustify:label":i,l=e.value,u=void 0===l?"left":l,p=e.groups,d=void 0===p?[{value:"left",title:"alignGroupWithJustify:left_title",label:"alignGroupWithJustify:left_label",logId:"left"},{value:"center",title:"alignGroupWithJustify:center_title",label:"alignGroupWithJustify:center_label",logId:"center"},{value:"right",title:"alignGroupWithJustify:right_title",label:"alignGroupWithJustify:right_label",logId:"right"},{value:"justify",title:"alignGroupWithJustify:justify_title",label:"alignGroupWithJustify:justify_label",logId:"justify"}]:p,f=c()(e,["type","title","label","value","groups"]);return h.b.createElement(T.a,a()({},f,{type:o,title:r,label:s,value:u,groups:d,onChange:this._changeAlign}))},o._changeAlign=function(e){this.props.useCase.changeAlign(e)},t}(h.b.Component),d()(j.prototype,"_changeAlign",[f.autobind],Object.getOwnPropertyDescriptor(j.prototype,"_changeAlign"),j.prototype),j),D=x,R=D;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-cycle-with-justify-button-view.jsx",localName:t}})}catch(e){}}e(x,"AlignCycleWithJustifyButtonView"),e(D,"default")}();var A,U,M=o(102),B=(A=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"alignGroup:title":n,i=e.label,s=void 0===i?"alignGroup:label":i,l=e.groups,u=void 0===l?[{value:"left",title:"alignGroup:left_title",label:"alignGroup:left_label",logId:"left"},{value:"center",title:"alignGroup:center_title",label:"alignGroup:center_label",logId:"center"},{value:"right",title:"alignGroup:right_title",label:"alignGroup:right_label",logId:"right"}]:l,p=e.value,d=void 0===p?"":p,f=c()(e,["type","title","label","groups","value"]);return h.b.createElement(M.a,a()({},f,{type:o,title:r,label:s,groups:u,value:d,onChange:this._changeAlign}))},o._changeAlign=function(e){this.props.useCase.changeAlign(e)},t}(h.b.Component),d()(A.prototype,"_changeAlign",[f.autobind],Object.getOwnPropertyDescriptor(A.prototype,"_changeAlign"),A.prototype),A),F=B,z=F;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-group-button-view.jsx",localName:t}})}catch(e){}}e(B,"AlignGroupButtonView"),e(F,"default")}();var W,V=(U=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"alignGroupWithJustify:title":n,i=e.label,s=void 0===i?"alignGroupWithJustify:label":i,l=e.groups,u=void 0===l?[{value:"left",title:"alignGroupWithJustify:left_title",label:"alignGroupWithJustify:left_label",logId:"left"},{value:"center",title:"alignGroupWithJustify:center_title",label:"alignGroupWithJustify:center_label",logId:"center"},{value:"right",title:"alignGroupWithJustify:right_title",label:"alignGroupWithJustify:right_label",logId:"right"},{value:"justify",title:"alignGroupWithJustify:justify_title",label:"alignGroupWithJustify:justify_label",logId:"justify"}]:l,p=e.value,d=void 0===p?"left":p,f=c()(e,["type","title","label","groups","value"]);return h.b.createElement(M.a,a()({},f,{type:o,title:r,label:s,groups:u,value:d,onChange:this._changeAlign}))},o._changeAlign=function(e){this.props.useCase.changeAlign(e)},t}(h.b.Component),d()(U.prototype,"_changeAlign",[f.autobind],Object.getOwnPropertyDescriptor(U.prototype,"_changeAlign"),U.prototype),U),G=V,H=G;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-group-with-justify-button-view.jsx",localName:t}})}catch(e){}}e(V,"AlignGroupWithJustifyButtonView"),e(G,"default")}();var q=(W=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"alignGroupWithoutRight:title":n,i=e.label,s=void 0===i?"alignGroupWithoutRight:label":i,l=e.groups,u=void 0===l?[{value:"left",title:"alignGroupWithoutRight:left_title",label:"alignGroupWithoutRight:left_label",logId:"left"},{value:"center",title:"alignGroupWithoutRight:center_title",label:"alignGroupWithoutRight:center_label",logId:"center"}]:l,p=e.value,d=void 0===p?"left":p,f=c()(e,["type","title","label","groups","value"]);return h.b.createElement(M.a,a()({},f,{type:o,title:r,label:s,groups:u,value:d,onChange:this._changeAlign}))},o._changeAlign=function(e){this.props.useCase.changeAlign(e)},t}(h.b.Component),d()(W.prototype,"_changeAlign",[f.autobind],Object.getOwnPropertyDescriptor(W.prototype,"_changeAlign"),W.prototype),W),J=q,K=J;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/align-group-without-right-button-view.jsx",localName:t}})}catch(e){}}e(q,"AlignGroupWithoutRightButtonView"),e(J,"default")}();var Y,X=o(116),Q=o(297),Z=o(524),$=(Y=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.COLOR_PICKER:t,n=e.title,r=void 0===n?"backgroundColor:title":n,i=e.label,s=void 0===i?"backgroundColor:label":i,l=e.useBackground,u=void 0===l||l,p=e.useCurrentColor,d=void 0===p||p,f=e.useColorDetailFlag,m=void 0===f||f,y=e.option,b=void 0===y?{recentColors:[]}:y,_=e.value,v=void 0===_?"":_,C=e.defaultValue,S=void 0===C?"#fff":C,O=e.logId,k=void 0===O?"bgcolor":O,I=c()(e,["type","title","label","useBackground","useCurrentColor","useColorDetailFlag","option","value","defaultValue","logId"]);return h.b.createElement(Q.a,a()({},I,{type:o,title:r,label:s,useBackground:u,useCurrentColor:d,useColorDetailFlag:m,option:b,value:v,defaultValue:S,logId:k,onChange:this._handleChange,recentColors:b.recentColors}))},o._handleChange=function(e){var t=this.props,o=t.useCase,n=t.onClickSelector,r=(0,t.i18n)("colorPickerButton:specify_different_color");o.compareStyle({styleName:"fontColor",warningMessage:r},function(t){return Object(X.a)(t,function(t){return t&&Z.a.isSameHexColors(t,e.value)})})&&(o.changeBackgroundColor(e),n(e))},t}(h.b.Component),d()(Y.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Y.prototype,"_handleChange"),Y.prototype),Y),ee=$,te=ee;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/background-color-button-view.jsx",localName:t}})}catch(e){}}e($,"BackgroundColorButtonView"),e(ee,"default")}();var oe=o(706),ne=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.SEPARATOR_BAR:t,n=c()(e,["type"]);return h.b.createElement(oe.a,a()({},n,{type:o}))},t}(h.b.Component),re=ne,ie=re;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/separator-bar-view.jsx",localName:t}})}catch(e){}}e(ne,"SeparatorBarView"),e(re,"default")}();var ae,se=o(106),ce=(ae=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"bold:title_inactive",active:"bold:title_active"}:i,l=e.label,u=void 0===l?"bold:label":l,p=e.logId,d=void 0===p?"bold":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(se.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggleBold(e)},t}(h.b.Component),d()(ae.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(ae.prototype,"_handleChange"),ae.prototype),ae),le=ce,ue=le;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/bold-button-view.jsx",localName:t}})}catch(e){}}e(ce,"BoldButtonView"),e(le,"default")}();var pe,de=o(707),he=o(708),fe=(pe=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.GROUP_TOGGLE:t,n=e.title,r=void 0===n?"contentModeGroupWithoutExtendPagefull:title":n,i=e.label,s=void 0===i?"contentModeGroupWithoutExtendPagefull:label":i,l=e.groups,u=void 0===l?[{value:"normal",title:"contentModeGroupWithoutExtendPagefull:normal_title",label:"contentModeGroupWithoutExtendPagefull:normal_label",logId:"arrnml"},{value:"fit",title:"contentModeGroupWithoutExtendPagefull:fit_title",label:"contentModeGroupWithoutExtendPagefull:fit_label",logId:"arrfit"}]:l,p=e.value,d=void 0===p?"fit":p,f=c()(e,["type","title","label","groups","value"]);return h.b.createElement(M.a,a()({},f,{type:o,title:r,label:s,groups:u,value:d,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeContentMode(e)},t}(h.b.Component),d()(pe.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(pe.prototype,"_handleChange"),pe.prototype),pe),me=fe,ge=me;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/content-mode-group-without-extend-pagefull-button-view.jsx",localName:t}})}catch(e){}}e(fe,"ContentModeGroupWithoutExtendPagefullButtonView"),e(me,"default")}();var ye,be,_e=o(710),ve=o(709),Ce=o(711),Se=o(712),Oe=(ye=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"dropCap:title_inactive",active:"dropCap:title_active"}:i,l=e.label,u=void 0===l?"dropCap:label":l,p=e.logId,d=void 0===p?"dropcap":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(se.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggleDropCap(e)},t}(h.b.Component),d()(ye.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(ye.prototype,"_handleChange"),ye.prototype),ye),ke=Oe,Ie=ke;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/drop-cap-button-view.jsx",localName:t}})}catch(e){}}e(Oe,"DropCapButtonView"),e(ke,"default")}();var we=(be=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.COLOR_PICKER:t,n=e.title,r=void 0===n?"fontColor:title":n,i=e.label,s=void 0===i?"fontColor:label":i,l=e.option,u=void 0===l?{recentColors:[]}:l,p=e.value,d=void 0===p?"":p,f=e.defaultValue,m=void 0===f?"#000":f,y=e.useCurrentColor,b=void 0===y||y,_=e.useColorDetailFlag,v=void 0===_||_,C=e.logId,S=void 0===C?"color":C,O=c()(e,["type","title","label","option","value","defaultValue","useCurrentColor","useColorDetailFlag","logId"]);return h.b.createElement(Q.a,a()({},O,{type:o,title:r,label:s,option:u,value:d,defaultValue:m,useCurrentColor:b,useColorDetailFlag:v,logId:S,onChange:this._handleChange,recentColors:u.recentColors}))},o._handleChange=function(e){var t=this.props,o=t.useCase,n=t.onClickSelector,r=(0,t.i18n)("colorPickerButton:specify_different_color");o.compareStyle({styleName:"backgroundColor",warningMessage:r},function(t){return Object(X.a)(t,function(t){return t&&Z.a.isSameHexColors(t,e.value)})})&&(o.changeFontColor(e),n(e))},t}(h.b.Component),d()(be.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(be.prototype,"_handleChange"),be.prototype),be),Pe=we,je=Pe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/font-color-button-view.jsx",localName:t}})}catch(e){}}e(we,"FontColorButtonView"),e(Pe,"default")}();var Te,Le=o(193),Ee=o(51);function Ne(e,t){return void 0===t&&(t=Object.keys(e)),t.reduce(function(t,o){var n=e[o];return n&&(t[o]={label:n.label,class:n.class,logId:n.logId}),t},{})}var xe=(Te=function(e){function t(t){var o;return(o=e.call(this,t)||this)._fontSpec=Ee.U.get("fontManager").getCurrentFontSpec(),o}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.LABEL_SELECT:t,n=e.title,r=void 0===n?"fontFamily:title":n,i=e.label,s=void 0===i?"fontFamily:label":i,l=e.hasIcon,u=void 0!==l&&l,p=e.value,d=void 0===p?"system":p,f=e.logId,m=void 0===f?"font":f,y=e.highlight,b=e.buttonConfig,_=c()(e,["type","title","label","hasIcon","value","logId","highlight","buttonConfig"]),v=Ne(this._fontSpec,b&&b.allowList);return h.b.createElement(Le.a,a()({},_,{type:o,title:r,label:s,hasIcon:u,logId:m,onClickOption:this._handleClickOption,options:v,highlight:y,value:d||Object.keys(v)[0]}))},o._handleClickOption=function(e){this.props.useCase.changeFontFamily(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(Te.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(Te.prototype,"_handleClickOption"),Te.prototype),Te),De=xe,Re=De;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/font-family-button-view.jsx",localName:t}})}catch(e){}}e(Ne,"makeOptions"),e(xe,"FontFamilyButtonView"),e(De,"default")}();var Ae,Ue,Me=o(134),Be=["fs11","fs13","fs15","fs16","fs19","fs24","fs28","fs30","fs34","fs38"],Fe=(Ae=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.LABEL_SELECT:t,n=e.title,r=void 0===n?"fontSizeCode:title":n,i=e.label,s=void 0===i?"fontSizeCode:label":i,l=e.hasIcon,u=void 0!==l&&l,p=e.value,d=void 0===p?"fs16":p,f=e.logId,m=void 0===f?"size":f,y=e.buttonConfig,b=c()(e,["type","title","label","hasIcon","value","logId","buttonConfig"]),_=this._refineOptions(y&&y.allowList);return h.b.createElement(Le.a,a()({},b,{type:o,title:r,label:s,hasIcon:u,value:d,logId:m,options:_,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeFontSize(e),this.props.onClickSelector(e)},o._refineOptions=function(e){return Object(Me.a)(g.a,e||Be)},t}(h.b.Component),d()(Ae.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(Ae.prototype,"_handleClickOption"),Ae.prototype),Ae),ze=Fe,We=ze;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/font-size-button-view.jsx",localName:t}})}catch(e){}}e(Be,"DefaultFontSizeCodes"),e(Fe,"FontSizeButtonView"),e(ze,"default")}();var Ve,Ge=(Ue=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"italic:title_inactive",active:"italic:title_active"}:i,l=e.label,u=void 0===l?"italic:label":l,p=e.logId,d=void 0===p?"italic":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(se.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleClick}))},o._handleClick=function(e){this.props.useCase.toggleItalic(e)},t}(h.b.Component),d()(Ue.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Ue.prototype,"_handleClick"),Ue.prototype),Ue),He=Ge,qe=He;function Je(e,t,o){var n=""===e.value,r=!1===Object.keys(o).includes(t);return n&&(r&&""!==t)}!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/italic-button-view.jsx",localName:t}})}catch(e){}}e(Ge,"ItalicButtonView"),e(He,"default")}();var Ke={150:{label:"lineHeight:label_150",logId:"line150"},160:{label:"lineHeight:label_160",logId:"line160"},170:{label:"lineHeight:label_170",logId:"line170"},180:{label:"lineHeight:label_180",logId:"line180"},190:{label:"lineHeight:label_190",logId:"line190"},200:{label:"lineHeight:label_200",logId:"line200"},210:{label:"lineHeight:label_210",logId:"line210"},"option-value":{label:"",useInput:!0,placeholder:"lineHeight:placeholder",logId:"linec"}},Ye=(Ve=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"lineHeight:title_inactive",active:"lineHeight:title_active"}:n,i=e.label,s=void 0===i?"lineHeight:label":i,l=e.applyLabel,u=void 0===l?"lineHeight:apply_label":l,p=e.value,d=void 0===p?"":p,f=e.logId,y=void 0===f?"line":f,b=e.options,_=void 0===b?Ke:b,v=e.optionType,C=void 0===v?g.c.TEXT:v,S=c()(e,["type","title","label","applyLabel","value","logId","options","optionType"]),O=(100*d).toFixed();return h.b.createElement(m.a,a()({},S,{type:o,title:r,label:s,applyLabel:u,value:O,logId:y,options:_,optionType:C,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){var t=this.props,o=t.value,n=void 0===o?"":o,r=t.options,i=void 0===r?Ke:r,a=t.useCase,s=t.onClickSelector;Je(e,n,i)&&(e.value=(100*n).toFixed()),a.changeLineHeight(e),s(e)},t}(h.b.Component),d()(Ve.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(Ve.prototype,"_handleClickOption"),Ve.prototype),Ve);Ye.propTypes={useCase:h.a.object,onClickSelector:h.a.func};var Xe=Ye,Qe=Xe;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/line-height-button-view.jsx",localName:t}})}catch(e){}}e(Je,"shouldReplaceInputValue"),e(Ke,"DEFAULT_OPTIONS"),e(Ye,"LineHeightButtonView"),e(Xe,"default")}();var Ze,$e=o(192),et=o(397),tt=(Ze=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.CUSTOM_LAYER:t,n=e.value,r=void 0===n?"":n,i=e.title,s=void 0===i?{inactive:"link:title_inactive",active:"link:title_active"}:i,l=e.label,u=void 0===l?"link:label":l,p=e.labelVisible,d=void 0!==p&&p,f=e.selectIfHasValue,m=void 0===f||f,y=e.onValidateValue,b=void 0===y?Z.a.hasValue:y,_=e.custom,v=void 0===_?{CustomLayer:et.a,customProps:{placeholder:"link:custom_placeholder",applyLabel:"link:apply_label"}}:_,C=e.logId,S=void 0===C?"urllink":C,O=c()(e,["type","value","title","label","labelVisible","selectIfHasValue","onValidateValue","custom","logId"]);return h.b.createElement($e.a,a()({},O,{type:o,title:s,label:u,labelVisible:d,selectIfHasValue:m,onValidateValue:b,logId:S,custom:v,onClick:this._handleClick,onChange:this._handleChange,value:r||""}))},o._handleClick=function(e){this.props.onClickSelector(e)},o._handleChange=function(e){this.props.useCase.changeLink(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(Ze.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Ze.prototype,"_handleClick"),Ze.prototype),d()(Ze.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Ze.prototype,"_handleChange"),Ze.prototype),Ze),ot=tt,nt=ot;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/link-button-view.jsx",localName:t}})}catch(e){}}e(tt,"LinkButtonView"),e(ot,"default")}();var rt,it,at=o(713),st=(rt=function(e){function t(){var t;t=e.call(this)||this;var o=Ee.U.get("configAgent");return t._allowLayouts=o.get("productConfig.quotation.layouts"),t}u()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.type,n=void 0===o?g.b.GROUP_TOGGLE:o,r=t.title,i=void 0===r?"quotationLayout:title":r,s=t.label,l=void 0===s?"quotationLayout:label":s,u=t.labelVisible,p=void 0===u||u,d=t.useIcon,f=void 0!==d&&d,m=t.value,y=void 0===m?"default":m,b=t.logId,_=void 0===b?"quota":b,v=t.groups,C=void 0===v?[{value:"default",title:"quotationLayout:default_title",label:"quotationLayout:default_label",logId:"quota0"},{value:"quotation_line",title:"quotationLayout:line_title",label:"quotationLayout:line_label",logId:"quota1"},{value:"quotation_bubble",title:"quotationLayout:bubble_title",label:"quotationLayout:bubble_label",logId:"quota2"},{value:"quotation_underline",title:"quotationLayout:underline_title",label:"quotationLayout:underline_label",logId:"quota3"},{value:"quotation_postit",title:"quotationLayout:postit_title",label:"quotationLayout:postit_label",logId:"quota4"},{value:"quotation_corner",title:"quotationLayout:corner_title",label:"quotationLayout:corner_label",logId:"quota5"}]:v,S=c()(t,["type","title","label","labelVisible","useIcon","value","logId","groups"]),O=C;return this._allowLayouts&&(O=O.filter(function(t){return e._allowLayouts.includes(t.value)})),h.b.createElement(M.a,a()({},S,{type:n,title:i,label:l,labelVisible:p,useIcon:f,value:y,logId:_,groups:O,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.changeQuotationLayout(e)},t}(h.b.Component),d()(rt.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(rt.prototype,"_handleChange"),rt.prototype),rt),ct=st,lt=ct;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/quotation-layout-label-button-view.jsx",localName:t}})}catch(e){}}e(st,"QuotationLayoutLabelButtonView"),e(ct,"default")}();var ut=(it=function(e){function t(){var t;t=e.call(this)||this;var o=Ee.U.get("configAgent");return t._allowLayouts=o.get("productConfig.sectionTitle.layouts"),t}u()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.type,n=void 0===o?g.b.GROUP_TOGGLE:o,r=t.title,i=void 0===r?"sectionTitleLayout:title":r,s=t.label,l=void 0===s?"sectionTitleLayout:label":s,u=t.value,p=void 0===u?"default":u,d=t.groups,f=void 0===d?[{value:"default",title:"sectionTitleLayout:default_title",label:"sectionTitleLayout:default_label",logId:"section-title-layout-default"},{value:"heading1",title:"sectionTitleLayout:heading1_title",label:"sectionTitleLayout:heading1_label",logId:"section-title-layout-heading1"},{value:"heading2",title:"sectionTitleLayout:heading2_title",label:"sectionTitleLayout:heading2_label",logId:"section-title-layout-heading2"}]:d,m=c()(t,["type","title","label","value","groups"]),y=f;return this._allowLayouts&&(y=y.filter(function(t){return e._allowLayouts.includes(t.value)})),h.b.createElement(M.a,a()({},m,{type:n,title:i,label:l,value:p,groups:y,onChange:this._handleChange}))},o._handleChange=function(e){var t=e.value;this.props.useCase.changeLayout({value:t}),this.props.onClickSelector(e)},t}(h.b.Component),d()(it.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(it.prototype,"_handleChange"),it.prototype),it),pt=ut,dt=pt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/section-title-layout-button-view.jsx",localName:t}})}catch(e){}}e(ut,"SectionTitleLayoutButtonView"),e(pt,"default")}();var ht,ft,mt=o(63),gt=function(){return Ee.U.get("domAccessor").getScrollTarget(document.documentElement).scrollTop},yt=function(e,t,o,n){var r=gt(),i=n+r,a=e+t+r,s=a+350;return s>i?a-(s-i)-50:a},bt=(ht=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"specialLetter:title":n,i=e.label,s=void 0===i?"specialLetter:label":i,l=e.logId,u=void 0===l?"spclet":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(e){var t=e.event,o=Ee.U.get("domAccessor").getContentContainer().getBoundingClientRect(),n=o.left,r=(o.top,o.bottom),i=t.currentTarget.getBoundingClientRect(),a=i.top,s=i.left,c=i.height,l={pageX:s+i.width-n,pageY:yt(a,c,0,r),activated:"text"};this.props.useCase.openSpecialLetter(l)},t}(h.b.Component),d()(ht.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(ht.prototype,"_handleClick"),ht.prototype),ht),_t=bt,vt=_t;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/special-letter-button-view.jsx",localName:t}})}catch(e){}}e(350,"SPECIAL_LETTER_PANE_HEIGHT"),e(-50,"ADJUSTED_TOP_MARGIN"),e(gt,"findScrollTop"),e(yt,"calculateFineY"),e(bt,"SpecialLetterButtonView"),e(_t,"default")}();var Ct,St=(ft=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"speller:title":n,i=e.label,s=void 0===i?"speller:label":i,l=e.logId,u=void 0===l?"spl":l,p=e.labelVisible,d=void 0===p||p,f=c()(e,["type","title","label","logId","labelVisible"]);return h.b.createElement(mt.a,a()({},f,{type:o,title:r,label:s,logId:u,labelVisible:d,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.startSpellCheck()},t}(h.b.Component),d()(ft.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(ft.prototype,"_handleClick"),ft.prototype),ft),Ot=St,kt=Ot;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/speller-button-view.jsx",localName:t}})}catch(e){}}e(St,"SpellerButtonView"),e(Ot,"default")}();var It,wt=(Ct=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"strikeThrough:title_inactive",active:"strikeThrough:title_active"}:i,l=e.label,u=void 0===l?"strikeThrough:label":l,p=e.logId,d=void 0===p?"strike":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(se.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggleStrikeThrough()},t}(h.b.Component),d()(Ct.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Ct.prototype,"_handleChange"),Ct.prototype),Ct),Pt=wt,jt=Pt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/strikethrough-button-view.jsx",localName:t}})}catch(e){}}e(wt,"StrikeThroughButtonView"),e(Pt,"default")}();var Tt,Lt=(It=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"subscript:title_inactive",active:"subscript:title_active"}:i,l=e.label,u=void 0===l?"subscript:label":l,p=e.logId,d=void 0===p?"subsct":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(se.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggleSubscript()},t}(h.b.Component),d()(It.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(It.prototype,"_handleChange"),It.prototype),It),Et=Lt,Nt=Et;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/subscript-button-view.jsx",localName:t}})}catch(e){}}e(Lt,"SubscriptButtonView"),e(Et,"default")}();var xt=(Tt=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"superscript:title_inactive",active:"superscript:title_active"}:i,l=e.label,u=void 0===l?"superscript:label":l,p=e.logId,d=void 0===p?"supsct":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(se.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggleSuperscript()},t}(h.b.Component),d()(Tt.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Tt.prototype,"_handleChange"),Tt.prototype),Tt),Dt=xt,Rt=Dt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/superscript-button-view.jsx",localName:t}})}catch(e){}}e(xt,"SuperscriptButtonView"),e(Dt,"default")}();var At,Ut,Mt=o(716),Bt=["text","sectionTitle"],Ft=["quotation"],zt=(At=function(e){function t(t){var o;return(o=e.call(this,t)||this)._configAgent=Ee.U.get("configAgent"),o._option={heading1:{title:"textFormatDropdown:heading1_title",label:"textFormatDropdown:heading1_label",ctype:"sectionTitle",logId:"fmtHeading1"},heading2:{title:"textFormatDropdown:heading2_title",label:"textFormatDropdown:heading2_label",ctype:"sectionTitle",logId:"fmtHeading2"},default:{title:"textFormatDropdown:text_title",label:"textFormatDropdown:text_label",ctype:"text",logId:"fmtDefault"}},o}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"textFormatDropdown:title_inactive",active:"textFormatDropdown:title_active"}:n,i=e.label,s=void 0===i?"textFormatDropdown:label":i,l=e.logId,u=void 0===l?"fmt":l,p=e.options,d=void 0===p?this._option:p,f=e.optionType,y=void 0===f?g.c.TEXT:f,b=e.value,_=void 0===b?"":b,v=e.selectedComponentType,C=void 0===v?"":v,S=c()(e,["type","title","label","logId","options","optionType","value","selectedComponentType"]),O=!Bt.includes(C),k=!!_;return h.b.createElement(m.a,a()({},S,{type:o,title:r,label:s,value:_,logId:u,disabled:O,options:d,optionType:y,useIconUpdate:k,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){var t=this._refineClickMeta(e),o=t.textFormat,n=t.layout;this.props.useCase.changeTextLayout(o,n,Ft),this.props.onClickSelector(e)},o._refineClickMeta=function(e){var t=e.value;return{textFormat:this._option[t].ctype,layout:t}},t}(h.b.Component),d()(At.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(At.prototype,"_handleClickOption"),At.prototype),At),Wt=zt,Vt=Wt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/text-format-drop-down-button-view.jsx",localName:t}})}catch(e){}}e(Bt,"DROP_DOWN_ACTIVE_CTYPE"),e(Ft,"EXCLUDES_CTYPE_FOR_ARTICLE"),e(zt,"TextFormatDropDownButtonView"),e(Wt,"default")}();var Gt=(Ut=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.value,r=void 0!==n&&n,i=e.title,s=void 0===i?{inactive:"underline:title_inactive",active:"underline:title_active"}:i,l=e.label,u=void 0===l?"underline:label":l,p=e.logId,d=void 0===p?"underline":p,f=c()(e,["type","value","title","label","logId"]);return h.b.createElement(se.a,a()({},f,{type:o,value:r,title:s,label:u,logId:d,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggleUnderline(e)},t}(h.b.Component),d()(Ut.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Ut.prototype,"_handleChange"),Ut.prototype),Ut),Ht=Gt,qt=Ht;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/underline-button-view.jsx",localName:t}})}catch(e){}}e(Gt,"UnderlineButtonView"),e(Ht,"default")}();var Jt,Kt,Yt=o(717),Xt=o(718),Qt=(Jt=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"library:title",active:"library:title"}:n,i=e.label,s=void 0===i?"library:label":i,l=e.logId,u=void 0===l?"lib":l,p=c()(e,["type","title","label","logId"]),d=p.isActivated,f=void 0!==d&&d;return h.b.createElement(se.a,a()({},p,{type:o,value:f,title:r,label:s,logId:u,onChange:this._handleChange}))},o._handleChange=function(e){this.props.useCase.toggle(e)},t}(h.b.Component),d()(Jt.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Jt.prototype,"_handleChange"),Jt.prototype),Jt),Zt=Qt,$t=Zt;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/library-button-view.jsx",localName:t}})}catch(e){}}e(Qt,"LibraryButtonView"),e(Zt,"default")}();var eo,to=(Kt=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"codeInsert:title":n,i=e.label,s=void 0===i?"codeInsert:label":i,l=e.logId,u=void 0===l?"code":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,logId:u,label:s,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.insertSourceCode()},t}(h.b.Component),d()(Kt.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Kt.prototype,"_handleClick"),Kt.prototype),Kt),oo=to,no=oo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/code-insert-button-view.jsx",localName:t}})}catch(e){}}e(to,"CodeInsertButtonView"),e(oo,"default")}();var ro=(eo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"chatInsert:title":n,i=e.label,s=void 0===i?"chatInsert:label":i,l=e.logId,u=void 0===l?"chat":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.insertChat()},t}(h.b.Component),d()(eo.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(eo.prototype,"_handleClick"),eo.prototype),eo),io=ro,ao=io;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/chat-insert-button-view.jsx",localName:t}})}catch(e){}}e(ro,"ChatInsertButtonView"),e(io,"default")}();var so,co=o(400),lo=(so=function(e){function t(){var t;t=e.call(this)||this;var o=Ee.U.get("configAgent").get("productConfig.horizontalLine")||{};return t._allowLayouts=o.layouts,t._useBasicButton=o.useBasicButton,t}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.title,o=void 0===t?"horizontalLineInsert:title":t,n=e.label,r=void 0===n?"horizontalLineInsert:label":n,i=e.selectorLabel,s=void 0===i?"horizontalLineInsert:selector_label":i,l=e.logId,u=void 0===l?"horizt":l,p=e.options,d=void 0===p?{default:{label:"horizontalLineInsert:default_label",logId:"horizt0"},line1:{label:"horizontalLineInsert:line1_label",logId:"horizt1"},line2:{label:"horizontalLineInsert:line2_label",logId:"horizt2"},line3:{label:"horizontalLineInsert:line3_label",logId:"horizt3"},line4:{label:"horizontalLineInsert:line4_label",logId:"horizt4"},line5:{label:"horizontalLineInsert:line5_label",logId:"horizt5"},line6:{label:"horizontalLineInsert:line6_label",logId:"horizt6"},line7:{label:"horizontalLineInsert:line7_label",logId:"horizt7"}}:p,f=c()(e,["title","label","selectorLabel","logId","options"]),m=d,y=co.a,b=g.b.ICON_SELECT;return this._allowLayouts&&(m=Object(Me.a)(m,this._allowLayouts)),this._useBasicButton&&(y=mt.a,b=g.b.BASIC),h.b.createElement(y,a()({},f,{type:b,title:o,label:r,selectorLabel:s,logId:u,options:m,onClick:this._handleClick,onClickOption:this._handleClickOption}))},o._handleClick=function(e){var t=e.selectedValue;this.props.useCase.insertHorizontalLine(t)},o._handleClickOption=function(e){var t=e.value;this.props.useCase.insertHorizontalLine(t),this.props.onClickSelector(e)},t}(h.b.Component),d()(so.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(so.prototype,"_handleClick"),so.prototype),d()(so.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(so.prototype,"_handleClickOption"),so.prototype),so),uo=lo,po=uo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/horizontal-line-insert-button-view.jsx",localName:t}})}catch(e){}}e(lo,"HorizontalLineInsertButtonView"),e(uo,"default")}();var ho,fo,mo=o(720),go=(ho=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"formulaInsert:title":n,i=e.label,s=void 0===i?"formulaInsert:label":i,l=e.logId,u=void 0===l?"formula":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.insertFormula(e)},t}(h.b.Component),d()(ho.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(ho.prototype,"_handleClick"),ho.prototype),ho),yo=go,bo=yo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/formula-insert-button-view.jsx",localName:t}})}catch(e){}}e(go,"FormulaInsertButtonView"),e(yo,"default")}();var _o,vo=(fo=function(e){function t(){var t;t=e.call(this)||this;var o=Ee.U.get("configAgent").get("productConfig.quotation")||{};return t._allowLayouts=o.layouts,t._useBasicButton=o.useBasicButton,t}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.title,o=void 0===t?"quotationInsert:title":t,n=e.label,r=void 0===n?"quotationInsert:label":n,i=e.selectorLabel,s=void 0===i?"quotationInsert:selector_label":i,l=e.logId,u=void 0===l?"quota":l,p=e.options,d=void 0===p?{default:{label:"quotationInsert:default_label",logId:"quota0"},quotation_line:{label:"quotationInsert:line_label",logId:"quota1"},quotation_bubble:{label:"quotationInsert:bubble_label",logId:"quota2"},quotation_underline:{label:"quotationInsert:underline_label",logId:"quota3"},quotation_postit:{label:"quotationInsert:postit_label",logId:"quota4"},quotation_corner:{label:"quotationInsert:corner_label",logId:"quota5"}}:p,f=c()(e,["title","label","selectorLabel","logId","options"]),m=d,y=co.a,b=g.b.ICON_SELECT;return this._allowLayouts&&(m=Object(Me.a)(m,this._allowLayouts)),this._useBasicButton&&(y=mt.a,b=g.b.BASIC),h.b.createElement(y,a()({},f,{type:b,title:o,label:r,selectorLabel:s,logId:u,options:m,onClick:this._handleClick,onClickOption:this._handleClickOption}))},o._handleClick=function(e){var t=e.selectedValue;this._useBasicButton?this.props.useCase.changeTextLayout(t):this.props.useCase.insertQuotation(t)},o._handleClickOption=function(e){var t=e.value;this.props.useCase.insertQuotation(t),this.props.onClickSelector(e)},t}(h.b.Component),d()(fo.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(fo.prototype,"_handleClick"),fo.prototype),d()(fo.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(fo.prototype,"_handleClickOption"),fo.prototype),fo),Co=vo,So=Co;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/quotation-insert-button-view.jsx",localName:t}})}catch(e){}}e(vo,"QuotationInsertButtonView"),e(Co,"default")}();var Oo,ko=(_o=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"tableInsert:title":n,i=e.label,s=void 0===i?"tableInsert:label":i,l=e.logId,u=void 0===l?"table":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.insertTable()},t}(h.b.Component),d()(_o.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(_o.prototype,"_handleClick"),_o.prototype),_o),Io=ko,wo=Io;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/table-insert-button-view.jsx",localName:t}})}catch(e){}}e(ko,"TableInsertButtonView"),e(Io,"default")}();var Po=(Oo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"videoInsert:title":n,i=e.label,s=void 0===i?"videoInsert:label":i,l=e.logId,u=void 0===l?"video":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(e){this.props.useCase.insertVideo(e)},t}(h.b.Component),d()(Oo.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Oo.prototype,"_handleClick"),Oo.prototype),Oo);Po.propTypes={useCase:h.a.object};var jo,To=Po,Lo=To;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/video-insert-button-view.jsx",localName:t}})}catch(e){}}e(Po,"VideoInsertButtonView"),e(To,"default")}();var Eo,No=(jo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"audioInsert:title":n,i=e.label,s=void 0===i?"audioInsert:label":i,l=c()(e,["type","title","label"]);return h.b.createElement(mt.a,a()({},l,{type:o,title:r,label:s,onClick:this._insertAudio}))},o._insertAudio=function(e){this.props.useCase.insertAudio(e)},t}(h.b.Component),d()(jo.prototype,"_insertAudio",[f.autobind],Object.getOwnPropertyDescriptor(jo.prototype,"_insertAudio"),jo.prototype),jo),xo=No,Do=xo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/audio-insert-button-view.jsx",localName:t}})}catch(e){}}e(No,"AudioInsertButtonView"),e(xo,"default")}();var Ro,Ao=(Eo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"socialMediaImageInsert:title":n,i=e.label,s=void 0===i?"socialMediaImageInsert:label":i,l=e.logId,u=void 0===l?"snsimg":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openPopup()},t}(h.b.Component),d()(Eo.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Eo.prototype,"_handleClick"),Eo.prototype),Eo),Uo=Ao,Mo=Uo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/social-media-image-insert-button-view.jsx",localName:t}})}catch(e){}}e(Ao,"SocialMediaImageInsertButtonView"),e(Uo,"default")}();var Bo,Fo=(Ro=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"fileInsert:title":n,i=e.label,s=void 0===i?"fileInsert:label":i,l=e.logId,u=void 0===l?"file":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.insertFile()},t}(h.b.Component),d()(Ro.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Ro.prototype,"_handleClick"),Ro.prototype),Ro),zo=Fo,Wo=zo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/file-insert-button-view.jsx",localName:t}})}catch(e){}}e(Fo,"FileInsertButtonView"),e(zo,"default")}();var Vo,Go=(Bo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"oglinkInsert:title":n,i=e.label,s=void 0===i?"oglinkInsert:label":i,l=e.logId,u=void 0===l?"link":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openLinkLayer()},t}(h.b.Component),d()(Bo.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Bo.prototype,"_handleClick"),Bo.prototype),Bo),Ho=Go,qo=Ho;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/oglink-insert-button-view.jsx",localName:t}})}catch(e){}}e(Go,"OglinkInsertButtonView"),e(Ho,"default")}();var Jo,Ko=(Vo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"mapInsert:title":n,i=e.label,s=void 0===i?"mapInsert:label":i,l=e.logId,u=void 0===l?"map":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openPlacePopup()},t}(h.b.Component),d()(Vo.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Vo.prototype,"_handleClick"),Vo.prototype),Vo),Yo=Ko,Xo=Yo;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/map-insert-button-view.jsx",localName:t}})}catch(e){}}e(Ko,"MapInsertButtonView"),e(Yo,"default")}();var Qo,Zo=(Jo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"scheduleInsert:title":n,i=e.label,s=void 0===i?"scheduleInsert:label":i,l=e.logId,u=void 0===l?"schedule":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openScheduleLayer()},t}(h.b.Component),d()(Jo.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Jo.prototype,"_handleClick"),Jo.prototype),Jo),$o=Zo,en=$o;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/schedule-insert-button-view.jsx",localName:t}})}catch(e){}}e(Zo,"ScheduleInsertButtonView"),e($o,"default")}();var tn=(Qo=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"searchButton:title",active:"searchButton:title"}:n,i=e.label,s=void 0===i?"searchButton:label":i,l=e.logId,u=void 0===l?"search":l,p=c()(e,["type","title","label","logId"]),d=p.isActivated,f=void 0!==d&&d;return h.b.createElement(se.a,a()({},p,{type:o,value:f,title:r,label:s,logId:u,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggle()},t}(h.b.Component),d()(Qo.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Qo.prototype,"_handleChange"),Qo.prototype),Qo);tn.propTypes={useCase:h.a.object};var on,nn=tn,rn=nn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/search-button-view.jsx",localName:t}})}catch(e){}}e(tn,"SearchButtonView"),e(nn,"default")}();var an=(on=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"moment:title",active:"moment:title"}:n,i=e.label,s=void 0===i?"moment:label":i,l=e.logId,u=void 0===l?"moment":l,p=c()(e,["type","title","label","logId"]),d=p.isActivated,f=void 0!==d&&d;return h.b.createElement(se.a,a()({},p,{type:o,value:f,title:r,label:s,logId:u,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggle()},t}(h.b.Component),d()(on.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(on.prototype,"_handleChange"),on.prototype),on);an.propTypes={useCase:h.a.object};var sn,cn=an,ln=cn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/moment-button-view.jsx",localName:t}})}catch(e){}}e(an,"MomentButtonView"),e(cn,"default")}();var un,pn=(sn=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"stickerInsert:title",active:"stickerInsert:title"}:n,i=e.label,s=void 0===i?"stickerInsert:label":i,l=e.logId,u=void 0===l?"sticker":l,p=c()(e,["type","title","label","logId"]),d=p.isActivated,f=void 0!==d&&d;return h.b.createElement(se.a,a()({},p,{type:o,value:f,title:r,label:s,logId:u,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggle()},t}(h.b.Component),d()(sn.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(sn.prototype,"_handleChange"),sn.prototype),sn),dn=pn,hn=dn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/sticker-insert-button-view.jsx",localName:t}})}catch(e){}}e(pn,"StickerButtonView"),e(dn,"default")}();var fn=(un=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.title,r=void 0===n?{inactive:"template:title",active:"template:title"}:n,i=e.label,s=void 0===i?"template:label":i,l=e.logId,u=void 0===l?"template":l,p=c()(e,["type","title","label","logId"]),d=p.isActivated,f=void 0!==d&&d;return h.b.createElement(se.a,a()({},p,{type:o,value:f,title:r,label:s,logId:u,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.toggle()},t}(h.b.Component),d()(un.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(un.prototype,"_handleChange"),un.prototype),un),mn=fn,gn=mn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/template-button-view.jsx",localName:t}})}catch(e){}}e(fn,"TemplateButtonView"),e(mn,"default")}();var yn,bn=o(724),_n=(yn=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"toText:title":n,i=e.label,s=void 0===i?"toText:label":i,l=e.logId,u=void 0===l?"fmttext":l,p=e.labelVisible,d=void 0===p||p,f=c()(e,["type","title","label","logId","labelVisible"]);return h.b.createElement(mt.a,a()({},f,{type:o,title:r,label:s,logId:u,labelVisible:d,onClick:this._handleClick}))},o._handleClick=function(e){e.value="text",this.props.useCase.changeTextFormat(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(yn.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(yn.prototype,"_handleClick"),yn.prototype),yn),vn=_n,Cn=vn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/to-text-button-view.jsx",localName:t}})}catch(e){}}e(_n,"ToTextButtonView"),e(vn,"default")}();var Sn,On,kn=o(219),In=o(272),wn=o(273),Pn=o(274),jn=o(275),Tn=o(276),Ln=o(725),En=o(726),Nn=(Sn=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.CUSTOM_LAYER:t,n=e.title,r=void 0===n?{inactive:"videoResizing:title_inactive",active:"videoResizing:title_active"}:n,i=e.label,s=void 0===i?"videoResizing:label":i,l=e.labelVisible,u=void 0===l||l,p=e.isSelected,d=void 0!==p&&p,f=e.custom,m=void 0===f?{CustomLayer:En.a,customProps:{applyAllLabel:"videoResizing:apply_all_label",widthLabel:"videoResizing:width_label",heightLabel:"videoResizing:height_label",resetLabel:"videoResizing:reset_label",applyLabel:"videoResizing:apply_label"}}:f,y=e.logId,b=void 0===y?"qsize":y,_=c()(e,["type","title","label","labelVisible","isSelected","custom","logId"]);return h.b.createElement($e.a,a()({},_,{type:o,title:r,label:s,labelVisible:u,isSelected:d,custom:m,logId:b,onClick:this._handleClick,onChange:this._handleChange}))},o._handleClick=function(e){this.props.onClickSelector(e)},o._handleChange=function(e){this.props.useCase.changeSize(e)},t}(h.b.Component),d()(Sn.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Sn.prototype,"_handleClick"),Sn.prototype),d()(Sn.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(Sn.prototype,"_handleChange"),Sn.prototype),Sn),xn=Nn,Dn=xn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/video-resizing-button-view.jsx",localName:t}})}catch(e){}}e(Nn,"VideoResizingButtonView"),e(xn,"default")}();var Rn=(On=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"inlineImage:title":n,i=e.logId,s=void 0===i?"inline":i,l=c()(e,["type","title","logId"]);return h.b.createElement(mt.a,a()({},l,{type:o,title:r,logId:s,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.convertImageToNode()},t}(h.b.Component),d()(On.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(On.prototype,"_handleClick"),On.prototype),On),An=Rn,Un=An;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/inline-image-button-view.jsx",localName:t}})}catch(e){}}e(Rn,"InlineImageButtonView"),e(An,"default")}();var Mn=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._handleClick=function(){t.props.useCase.open()},t}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"translationLayer:translate":n,i=e.logId,s=void 0===i?"translation":i,l=c()(e,["type","title","logId"]);return h.b.createElement(mt.a,a()({},l,{type:o,title:r,logId:s,onClick:this._handleClick}))},t}(h.b.Component);Mn.propTypes={useCase:h.a.shape({open:h.a.func.isRequired}).isRequired};var Bn,Fn=Mn,zn=Fn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/translation-button-view.jsx",localName:t}})}catch(e){}}e(Mn,"TranslationButtonView"),e(Fn,"default")}();var Wn=(Bn=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"webtoonInsert:title":n,i=e.label,s=void 0===i?"webtoonInsert:label":i,l=e.logId,u=void 0===l?"webtoon":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openWebtoonLayer()},t}(h.b.Component),d()(Bn.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Bn.prototype,"_handleClick"),Bn.prototype),Bn),Vn=Wn,Gn=Vn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/webtoon-insert-button-view.jsx",localName:t}})}catch(e){}}e(Wn,"WebtoonInsertButtonView"),e(Vn,"default")}();var Hn=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this)._handleClick=function(){t.props.useCase.open()},t}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"translationLayer:translate":n,i=e.label,s=void 0===i?"translationLayer:translate":i,l=e.logId,u=void 0===l?"translation":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({},p,{type:o,title:r,label:s,logId:u,labelVisible:!0,onClick:this._handleClick}))},t}(h.b.Component);Hn.propTypes={useCase:h.a.shape({open:h.a.func.isRequired}).isRequired};var qn=Hn,Jn=qn;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/translation-right-label-button-view.jsx",localName:t}})}catch(e){}}e(Hn,"TranslationRightLabelButtonView"),e(qn,"default")}();var Kn,Yn=o(59),Xn=o.n(Yn),Qn=o(54),Zn=o.n(Qn),$n=o(347),er=o(124),tr=(Kn=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e,t=this.props,o=t.id,n=t.name,r=t.namespace,i=t.documentToolbarIconType,a=t.moreViewButton,s=t.deviceType,c=t.option,l=t.type,u=t.focused,p=t.logAreaId,d=t.highlight,f=c.label,m=c.logId,y=c.title,b=c.useBeta,_=s===Ee.t.DESKTOP,v=r===g.e.DOCUMENT,C=i===g.d.TEXT_ICON,S=Zn()("se-"+n+"-toolbar-button",((e={})["se-"+r+"-toolbar-"+l+"-button"]=!v||!a,e["se-"+r+"-toolbar-"+l+"-more-button"]=v&&a,e["se-"+i+"-toolbar-button"]=_&&v,e)),O=C?"se-toolbar-label":"se-blind";return h.b.createElement(er.a,{focused:u,namespace:r,logAreaId:p,logId:m,type:l,dataName:o,className:S,useBeta:b,highlight:d,onClick:this._handleClick},h.b.createElement("span",{className:"se-toolbar-custom-icon"}),h.b.createElement("span",{className:O,"aria-hidden":_},f),_&&h.b.createElement("span",{className:"se-toolbar-tooltip"},y))},o._handleClick=function(e){var t=this.props.option,o=t.onClick,n=void 0===o?function(){}:o,r=c()(t,["onClick"]);document.activeElement&&document.activeElement.blur(),n(Xn()({event:e.nativeEvent},r))},t}(h.b.Component),d()(Kn.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Kn.prototype,"_handleClick"),Kn.prototype),Kn);tr.defaultProps={id:"",focused:!1,name:"custom",namespace:"",logAreaId:"",highlight:{}},tr.propTypes={type:h.a.oneOf([g.b.CUSTOM]).isRequired,id:h.a.string,focused:h.a.bool,name:h.a.string,namespace:h.a.string,deviceType:h.a.string,documentToolbarIconType:h.a.string,moreViewButton:h.a.bool,logAreaId:h.a.string,option:h.a.object.isRequired,highlight:h.a.object};var or=Object($n.b)(tr),nr=or;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/custom-button.jsx",localName:t}})}catch(e){}}e(tr,"CustomButton"),e(or,"default")}();var rr=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.CUSTOM:t,n=c()(e,["type"]);return n.id=n.option.name,n.name=n.option.name,h.b.createElement(nr,a()({type:o},n))},t}(h.b.Component),ir=rr,ar=ir;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/additional-button-view.jsx",localName:t}})}catch(e){}}e(rr,"AdditionalButtonView"),e(ir,"default")}();var sr,cr=o(224),lr=o(1230),ur=(sr=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this,t=this.props,o=t.options,n=t.optionType,r=Zn()("se-toolbar-"+n+"-option","se-"+n+"-option"),i=o.map(function(t,o){var n=t.buttonView,r=Xn()({moreViewButton:!0},t.props),i=t.id;return h.b.createElement("div",{key:t.buttonName+"_"+o,className:"__more_view_option se-more-view-option-item se-more-view-option-"+i,onClick:e._handleClickOption},n(r))});return h.b.createElement("div",{className:r},i)},o._handleClickOption=function(e){this.props.onClickOption(e)},t}(h.b.Component),d()(sr.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(sr.prototype,"_handleClickOption"),sr.prototype),sr);ur.defaultProps={id:"",name:"",optionType:"",options:{},onClickOption:{}},ur.propTypes={id:h.a.string,name:h.a.string,optionType:h.a.string,options:h.a.oneOfType([h.a.array,h.a.object]),onClickOption:h.a.func};var pr,dr=Object($n.b)(ur),hr=dr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/sub-layers/more-view-option.jsx",localName:t}})}catch(e){}}e(ur,"MoreViewOption"),e(dr,"default")}();var fr=(pr=function(e){function t(){var t;return(t=e.call(this)||this).state={opened:!1},t}u()(t,e);var o=t.prototype;return o.componentDidMount=function(){var e="click.se-toolbar-more-view-"+this.props.namespace;lr.a.on(e,this._handleClickButtonOutside)},o.componentWillUnmount=function(){var e="click.se-toolbar-more-view-"+this.props.namespace;lr.a.off(e)},o.render=function(){var e,t=this.props,o=t.id,n=t.title,r=t.label,i=t.name,a=t.type,s=t.namespace,c=t.documentToolbarIconType,l=t.deviceType,u=t.options,p=t.i18n,d=t.logAreaId,f=t.focused,m=t.logId,y=o,b=this.state.opened,_=p(r),v=l===Ee.t.DESKTOP,C=s===g.e.DOCUMENT,S=c===g.d.TEXT_ICON,O=Zn()("se-more-view-button-container","__select-container","__more-view-container"),k=Zn()("se-"+s+"-toolbar-more-view-button","se-"+i+"-toolbar-button",((e={})["se-"+c+"-toolbar-button"]=v&&C,e["se-is-activated"]=b,e)),I=S?"se-toolbar-label":"se-blind",w=p(n[b?"active":"inactive"]);return h.b.createElement("div",{className:O,"data-type":a,"data-name":i},h.b.createElement(er.a,{focused:f,namespace:s,logAreaId:d,logId:m,type:a,dataName:y,className:k,handleClick:this.handleClick,i18n:p,ariaExpanded:""+b,ariaHasPopup:"true"},h.b.createElement("span",{className:"se-toolbar-icon"}),h.b.createElement("span",{className:I,"aria-hidden":v},_),v&&h.b.createElement("span",{className:"se-toolbar-tooltip"},w)),b&&h.b.createElement(hr,{id:o,name:i,options:u,namespace:s,optionType:g.c.MORE_VIEW,onClickOption:this.onClickOption,i18n:p}))},o.onClickOption=function(e){var t=e.target,o=cr.a.closest(t,".__select-container").dataset.type,n=t.dataset.role;this.props.namespace===g.e.DOCUMENT&&(n&&("selector"===n||this._isSubMenuButtonType(o))||this._changeMoreViewDisplay(!1))},o.handleClick=function(e){var t=this.state.opened;this._changeMoreViewDisplay(!t);var o=this.props,n=o.onClickSelector,r=o.type,i=o.id,a=o.name,s=o.title,c=o.label,l=o.isActivated;n.apply(this,[{event:e,type:r,id:i,name:a,title:s,label:c,isActivated:l}])},o._handleClickButtonOutside=function(e){var t=e.target,o=this.props.namespace,n=this.state.opened;if(o===g.e.DOCUMENT){var r=cr.a.isOutsideElementbySelector(t,".__select-container");n&&r&&this._changeMoreViewDisplay(!1)}},o._changeMoreViewDisplay=function(e){this.setState({opened:e})},o._isSubMenuButtonType=function(e){return[g.b.ICON_SELECT].includes(e)},t}(h.b.Component),d()(pr.prototype,"onClickOption",[f.autobind],Object.getOwnPropertyDescriptor(pr.prototype,"onClickOption"),pr.prototype),d()(pr.prototype,"handleClick",[f.autobind],Object.getOwnPropertyDescriptor(pr.prototype,"handleClick"),pr.prototype),d()(pr.prototype,"_handleClickButtonOutside",[f.autobind],Object.getOwnPropertyDescriptor(pr.prototype,"_handleClickButtonOutside"),pr.prototype),pr);fr.defaultProps={name:"",id:"",label:"",title:{inactive:"",active:""},isActivated:!1,namespace:"",focused:!1,options:{},onClickSelector:function(){},i18n:function(e){return e}},fr.propTypes={type:h.a.oneOf([g.b.MORE_VIEW]).isRequired,id:h.a.string,name:h.a.string,label:h.a.string,title:h.a.shape({inactive:h.a.string,active:h.a.string}),namespace:h.a.string,documentToolbarIconType:h.a.string,deviceType:h.a.string,isActivated:h.a.bool,focused:h.a.bool,options:h.a.oneOfType([h.a.array,h.a.object]),onClickSelector:h.a.func,i18n:h.a.func,logAreaId:h.a.string,logId:h.a.string};var mr=Object($n.b)(fr),gr=mr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/button-types/more-view-button.jsx",localName:t}})}catch(e){}}e(fr,"MoreViewButton"),e(mr,"default")}();var yr,br=function(e){function t(){return e.apply(this,arguments)||this}return u()(t,e),t.prototype.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.MORE_VIEW:t,n=e.title,r=void 0===n?{inactive:"moreViewButton:title_inactive",active:"moreViewButton:title_active"}:n,i=e.label,s=void 0===i?"moreViewButton:label":i,l=e.logId,u=void 0===l?"moveView":l,p=e.options,d=c()(e,["type","title","label","logId","options"]);return h.b.createElement(gr,a()({},d,{type:o,title:r,label:s,logId:u,options:p}))},t}(h.b.Component),_r=br,vr=_r;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/more-view-button-view.jsx",localName:t}})}catch(e){}}e(br,"MoreViewButtonView"),e(_r,"default")}();var Cr=(yr=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.DROP_DOWN:t,n=e.title,r=void 0===n?{inactive:"list:title_inactive",active:"list:title_active"}:n,i=e.label,s=void 0===i?"list:label":i,l=e.value,u=void 0===l?"":l,p=e.logId,d=void 0===p?"list":p,f=e.useHighlight,y=void 0===f||f,b=e.useIconUpdate,_=void 0===b||b,v=e.options,C=void 0===v?{bullet:{title:"list:bullet",label:"list:bullet",logId:"listbullet"},decimal:{title:"list:decimal",label:"list:decimal",logId:"listdecimal"},reset:{title:"list:reset_label",label:"list:reset_label",logId:"listreset"}}:v,S=c()(e,["type","title","label","value","logId","useHighlight","useIconUpdate","options"]);return h.b.createElement(m.a,a()({},S,{type:o,title:r,label:s,value:u,logId:d,options:C,useHighlight:y,useIconUpdate:_,onClickOption:this._handleClickOption}))},o._handleClickOption=function(e){this.props.useCase.changeListType(e),this.props.onClickSelector(e)},t}(h.b.Component),d()(yr.prototype,"_handleClickOption",[f.autobind],Object.getOwnPropertyDescriptor(yr.prototype,"_handleClickOption"),yr.prototype),yr),Sr=Cr,Or=Sr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/list-drop-down-button-view.jsx",localName:t}})}catch(e){}}e(Cr,"ListDropDownButtonView"),e(Sr,"default")}();var kr,Ir,wr=o(66),Pr=(kr=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.TOGGLE:t,n=e.value,r=e.title,i=void 0===r?{inactive:"imageTag:title",active:"imageTag:title"}:r,s=e.label,l=void 0===s?"imageTag:label":s,u=e.logId,p=void 0===u?"imgtag":u,d=c()(e,["type","value","title","label","logId"]),f=!Object(wr.a)(n);return h.b.createElement(se.a,a()({},d,{type:o,value:f,title:i,label:l,logId:p,onChange:this._handleChange}))},o._handleChange=function(){this.props.useCase.openImageTagPopup()},t}(h.b.Component),d()(kr.prototype,"_handleChange",[f.autobind],Object.getOwnPropertyDescriptor(kr.prototype,"_handleChange"),kr.prototype),kr),jr=Pr,Tr=jr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/image-tag-button-view.jsx",localName:t}})}catch(e){}}e(Pr,"ImageTagButtonView"),e(jr,"default")}();var Lr=(Ir=function(e){function t(){return e.apply(this,arguments)||this}u()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.type,o=void 0===t?g.b.BASIC:t,n=e.title,r=void 0===n?"talktalkInsert:title":n,i=e.label,s=void 0===i?"talktalkInsert:label":i,l=e.logId,u=void 0===l?"talktalk":l,p=c()(e,["type","title","label","logId"]);return h.b.createElement(mt.a,a()({type:o,title:r,label:s,logId:u},p,{onClick:this._handleClick}))},o._handleClick=function(){this.props.useCase.openTalktalkEditLayer()},t}(h.b.Component),d()(Ir.prototype,"_handleClick",[f.autobind],Object.getOwnPropertyDescriptor(Ir.prototype,"_handleClick"),Ir.prototype),Ir),Er=Lr,Nr=Er;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/view/talktalk-insert-button-view.jsx",localName:t}})}catch(e){}}e(Lr,"TalktalkInsertButtonView"),e(Er,"default")}();var xr,Dr,Rr=o(727),Ar=o(267),Ur=o(704),Mr=(xr=function(){function e(){this._propertyChangeService=Ee.U.get("propertyChangeService")}return e.prototype.changeAlign=function(e){this._propertyChangeService.updateStyle(e)},e}(),d()(xr.prototype,"changeAlign",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(xr.prototype,"changeAlign"),xr.prototype),xr),Br=Mr,Fr=Br;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/align-button-use-case.js",localName:t}})}catch(e){}}e(Mr,"AlignButtonUseCase"),e(Br,"default")}();var zr,Wr=(Dr=function(){function e(){this._editingService=Ee.U.get("editingService")}return e.prototype.erase=function(){this._editingService.eraseComponent()},e}(),d()(Dr.prototype,"erase",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(Dr.prototype,"erase"),Dr.prototype),Dr),Vr=Wr,Gr=Vr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/delete-button-use-case.js",localName:t}})}catch(e){}}e(Wr,"DeleteButtonUseCase"),e(Vr,"default")}();var Hr=(zr=function(){function e(){this._editingService=Ee.U.get("editingService")}return e.prototype.erase=function(){this._editingService.erase(void 0,Ee.u.RIGHT)},e}(),d()(zr.prototype,"erase",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(zr.prototype,"erase"),zr.prototype),zr),qr=Hr,Jr=qr;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/delete-multi-comp-button-use-case.js",localName:t}})}catch(e){}}e(Hr,"DeleteMultiCompButtonUseCase"),e(qr,"default")}();var Kr,Yr,Xr,Qr,Zr,$r,ei,ti,oi=o(12),ni=o.n(oi),ri=o(18),ii=o.n(ri),ai=(Kr=Object(f.history)({sync:!1}),Yr=Object(f.history)({sync:!1}),Xr=Object(f.history)({sync:!1}),Qr=Object(f.history)({sync:!1}),Zr=Object(f.history)({sync:!1}),$r=Object(f.history)({sync:!1}),ei=function(e){function t(){var t;return(t=e.call(this)||this)._i18n=Ee.U.get("i18n"),t._propertyChangeService=Ee.U.get("propertyChangeService"),t._toastLayerService=Ee.U.get("toastLayerService"),t._imageEditService=Ee.U.get("imageEditService"),t._imageUploadService=Ee.U.get("imageUploadService"),t._imageComponentService=Ee.U.get("imageComponentService"),t._imageBehavior=Ee.U.get("imageBehavior"),t._placeLayerService=Ee.U.get("placeLayerService"),t}u()(t,e);var o=t.prototype;return o.changeImage=function(){var e=ii()(ni.a.mark(function e(){var t,o,n=this;return ni.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._imageUploadService.openFileDialog();case 2:return t=e.sent,o=this._imageComponentService.getFirstSelectedImageComp(),e.next=6,this._imageBehavior.changeImage({targetStore:o,selectedImages:t}).then(function(e){var t=e.invalidImageErrors;return n._imageBehavior.cleanUpImage(t),e});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o._openPhotoEditor=function(){var e=ii()(ni.a.mark(function e(t){var o;return ni.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this._imageComponentService.getFirstSelectedImageComp().id,e.next=3,this._imageEditService.editImage({activeCompId:o,direct:t});case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),o.editImage=function(){var e=ii()(ni.a.mark(function e(){return ni.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.adjustImage=function(){var e=ii()(ni.a.mark(function e(){return ni.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("adjust");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.cropImage=function(){var e=ii()(ni.a.mark(function e(){return ni.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("crop");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.filterImage=function(){var e=ii()(ni.a.mark(function e(){return ni.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._openPhotoEditor("filter");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),o.changeSize=function(e){var t=this._imageComponentService.checkLimitedSize(e),o=t.hasBiggerThanContentWidth,n=t.hasSmallerThanMinHeight,r=t.hasSmallerThanMinWidth,i=e.value,a=i.isReset;this._propertyChangeService.changeSize(i,"image"),a||(o?this._toastLayerService.warningMessage(this._i18n("imageComponent:update_has_bigger_image")):r||r&&n?this._toastLayerService.warningMessage(this._i18n("imageComponent:update_has_smaller_image_width")):n&&this._toastLayerService.warningMessage(this._i18n("imageComponent:update_has_smaller_image")))},o.convertImageToNode=function(){this._imageComponentService.convertImageToNode()},o.editLocation=function(){var e=ii()(ni.a.mark(function e(){var t,o,n;return ni.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._imageComponentService.getFirstSelectedImageComp(),o=t.place,t.locationEditable){e.next=5;break}return this._imageComponentService.showLocationMinimumImageWidthWarning(),e.abrupt("return");case 5:return e.next=7,this._placeLayerService.editPlaces({isUpdateMode:!0,maxPlaceCount:1,initialPlaces:o?[o]:[]});case 7:(n=e.sent)&&this._imageComponentService.updatePlace(t.id,n.places[0]);case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t}(Ee.m),d()(ei.prototype,"changeImage",[f.sentryCatch,f.preventOnComponentProcessing,Kr,h.d],Object.getOwnPropertyDescriptor(ei.prototype,"changeImage"),ei.prototype),d()(ei.prototype,"editImage",[f.sentryCatch,f.preventOnDocumentProcessing,Yr,h.d],Object.getOwnPropertyDescriptor(ei.prototype,"editImage"),ei.prototype),d()(ei.prototype,"adjustImage",[f.sentryCatch,f.preventOnDocumentProcessing,Xr,h.d],Object.getOwnPropertyDescriptor(ei.prototype,"adjustImage"),ei.prototype),d()(ei.prototype,"cropImage",[f.sentryCatch,f.preventOnDocumentProcessing,Qr,h.d],Object.getOwnPropertyDescriptor(ei.prototype,"cropImage"),ei.prototype),d()(ei.prototype,"filterImage",[f.sentryCatch,f.preventOnDocumentProcessing,Zr,h.d],Object.getOwnPropertyDescriptor(ei.prototype,"filterImage"),ei.prototype),d()(ei.prototype,"changeSize",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(ei.prototype,"changeSize"),ei.prototype),d()(ei.prototype,"convertImageToNode",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(ei.prototype,"convertImageToNode"),ei.prototype),d()(ei.prototype,"editLocation",[f.preventOnComponentProcessing,$r,h.d],Object.getOwnPropertyDescriptor(ei.prototype,"editLocation"),ei.prototype),ei);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/image-button-use-case.js",localName:t}})}catch(e){}}(ai,"ImageButtonUseCase")}();var si=(ti=function(e){function t(){var t;(t=e.call(this)||this)._toastLayerService=Ee.U.get("toastLayerService"),t._propertyChangeService=Ee.U.get("propertyChangeService"),t._configAgent=Ee.U.get("configAgent"),t._i18n=Ee.U.get("i18n"),t._videoComponentService=Ee.U.get("videoComponentService");var o=t._configAgent.get("editorInfo");return t._config={videoMinimumWidth:o.videoMinimumWidth,videoMinimumHeight:o.videoMinimumHeight,documentWidth:t._configAgent.get("productConfig.documentWidth")},t}return u()(t,e),t.prototype.changeSize=function(e){var t=this._videoComponentService.checkLimitedSize(e),o=t.hasBiggerThanContentWidth,n=t.hasSmallerThanMinHeight,r=t.hasSmallerThanMinWidth,i=e.value,a=i.isReset;this._propertyChangeService.changeSize(i,"video"),a||(o?this._toastLayerService.warningMessage(this._i18n("video:max_width")):r||r&&n?this._toastLayerService.warningMessage(this._i18n("video:min_width")):n&&this._toastLayerService.warningMessage(this._i18n("video:min_height")))},t}(Ee.m),d()(ti.prototype,"changeSize",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(ti.prototype,"changeSize"),ti.prototype),ti);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/video-button-use-case.js",localName:t}})}catch(e){}}(si,"VideoButtonUseCase")}();var ci,li=o(271),ui=o(121),pi={CHANGE_MODE:"CHANGE_MODE",INSERT_MODE:"INSERT_MODE"},di=(ci=function(){function e(){this._finderService=Ee.U.get("finderService"),this._componentFactory=Ee.U.get("componentFactory"),this._editingService=Ee.U.get("editingService"),this._selectionInfoStore=Ee.U.get("selectionInfoStore"),this._propertyChangeService=Ee.U.get("propertyChangeService")}var t=e.prototype;return t.changeTextFormat=function(e,t){var o=e.value;this._propertyChangeService.changeTextFormat(o,t)},t.changeTextLayout=function(e,t,o){void 0===o&&(o=[]);var n=this._getUpdatedModes();n===pi.CHANGE_MODE?this._changeTextLayout(e,t,o):n===pi.INSERT_MODE&&this._insertComponentByLayout(e,t)},t._changeTextLayout=function(e,t,o){void 0===o&&(o=[]),this._propertyChangeService.changeTextFormat(e,void 0,o),this._propertyChangeService.changeLayout(t,o)},t._insertComponentByLayout=function(e,t){var o=this._componentFactory.createComponentWithCompData({ctype:e,layout:t});this._editingService.insert({sourceComponents:[o]})},t._getUpdatedModes=function(){var e=this._selectionInfoStore.mode,t=this._finderService.getSelectedComponents();switch(e){case Ee.N.BLOCK:return pi.CHANGE_MODE;case Ee.N.SINGLE_COMP:case Ee.N.MULTI_COMP:return pi.INSERT_MODE;case Ee.N.CURSOR:return["sectionTitle","text"].includes(Object(ui.a)(t).ctype)?pi.CHANGE_MODE:pi.INSERT_MODE}return pi.CHANGE_MODE},e}(),d()(ci.prototype,"changeTextFormat",[f.history,h.d],Object.getOwnPropertyDescriptor(ci.prototype,"changeTextFormat"),ci.prototype),d()(ci.prototype,"changeTextLayout",[f.history,h.d],Object.getOwnPropertyDescriptor(ci.prototype,"changeTextLayout"),ci.prototype),ci),hi=di,fi=hi;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/text-format-button-use-case.js",localName:t}})}catch(e){}}e(pi,"UPDATE_MODES"),e(di,"TextFormatButtonUseCase"),e(hi,"default")}();var mi,gi=function(e){function t(){var t;return(t=e.call(this)||this)._target="library",t._documentToolbarLayoutService=Ee.U.get("documentToolbarLayoutService"),t._panelContainerLayerService=Ee.U.get("panelContainerLayerService"),t._libraryPanelLayoutService=Ee.U.get("libraryPanelLayoutService"),t}return u()(t,e),t.prototype.toggle=function(){var e=this,t=this._panelContainerLayerService,o=this._libraryPanelLayoutService;t.toggleLayout(this._target,o,function(t,o){e._documentToolbarLayoutService.setPanelButtonEnable(t,o)})},t}(Ee.i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/library-button-use-case.js",localName:t}})}catch(e){}}(gi,"LibraryButtonUseCase")}();var yi,bi=(mi=function(){function e(){this._specialLetterLayerService=Ee.U.get("specialLetterLayerService")}return e.prototype.openSpecialLetter=function(e){this._specialLetterLayerService.toggle(e)},e}(),d()(mi.prototype,"openSpecialLetter",[h.d],Object.getOwnPropertyDescriptor(mi.prototype,"openSpecialLetter"),mi.prototype),mi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/special-letter-button-use-case.js",localName:t}})}catch(e){}}(bi,"SpecialLetterButtonUseCase")}();var _i=(yi=function(){function e(){this._componentFactory=Ee.U.get("componentFactory"),this._editingService=Ee.U.get("editingService")}return e.prototype.insertSourceCode=function(){var e=this._componentFactory.createComponentWithCompData({ctype:"code"});this._editingService.insert({sourceComponents:[e]})},e}(),d()(yi.prototype,"insertSourceCode",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(yi.prototype,"insertSourceCode"),yi.prototype),yi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/code-insert-use-case.js",localName:t}})}catch(e){}}(_i,"CodeInsertUseCase")}();var vi,Ci=o(402),Si=o(719),Oi=o(721),ki=o(401),Ii=o(722),wi=(vi=function(){function e(){this._editingService=Ee.U.get("editingService"),this._tableComponentService=Ee.U.get("tableComponentService")}return e.prototype.insertTable=function(){var e=this._tableComponentService.createComponent();this._editingService.insert({sourceComponents:[e]})},e}(),d()(vi.prototype,"insertTable",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(vi.prototype,"insertTable"),vi.prototype),vi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/table-insert-use-case.js",localName:t}})}catch(e){}}(wi,"TableInsertUseCase")}();var Pi,ji,Ti=o(774),Li=o(666),Ei=1,Ni=(Pi=Object(f.history)({sync:!1}),ji=function(){function e(){this._configAgent=Ee.U.get("configAgent"),this._eventDispatcherService=Ee.U.get("eventDispatcherService"),this._componentListStore=Ee.U.get("componentListStore"),this._editingService=Ee.U.get("editingService"),this._toastLayerService=Ee.U.get("toastLayerService"),this._audioUploadService=Ee.U.get("audioUploadService"),this._audioComponentService=Ee.U.get("audioComponentService"),this._i18n=Ee.U.get("i18n"),this.audioMaxUploadCount=this._configAgent.get("infraConfig.audio.maxUploadCount")||Ei}var t=e.prototype;return t.insertAudio=function(){var e=ii()(ni.a.mark(function e(){var t,o,n,r,i,a,s=this;return ni.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isOverMaxUploadCount()){e.next=3;break}return this._showOverMaxUploadError(),e.abrupt("return");case 3:return e.next=5,this._audioUploadService.openFileDialog();case 5:if(t=e.sent,o=t.validFiles,n=t.invalidFiles,r=o[0]||{},!(n.length>0)){e.next=12;break}return this._showErrorMessage(this._i18n("audioInsertUseCase:error_invalid_ext")),e.abrupt("return");case 12:if(!this._isOverFileSizeLimit(r.size)){e.next=15;break}return this._showFileSizeLimitMessage(),e.abrupt("return");case 15:return i=this._audioComponentService.createAudioComponent(r),a=i.id,this._eventDispatcherService.emit(Ee.z.IN_PROGRESS),this._editingService.insert({sourceComponents:[i]}),e.next=21,this._audioUploadService.uploadLocalFile(r,a,{progress:this._onUploadProgress.bind(this)}).then(function(e){s._onUploadSuccess(e,a)}).catch(function(e){s._onUploadError(e,a)});case 21:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),t._isOverMaxUploadCount=function(){return this._componentListStore.countBy("audio")>=this.audioMaxUploadCount},t._isOverFileSizeLimit=function(e){return e>this._configAgent.get("infraConfig.audio.maxAudioUploadSize")},t._showOverMaxUploadError=function(){var e=this._i18n("limits:audio_description_exceeded_count_by_max",{maxcount:this.audioMaxUploadCount});this._showErrorMessage(e)},t._showFileSizeLimitMessage=function(){var e=this._configAgent.get("infraConfig.audio.maxAudioUploadSize"),t=Li.a.convertToMB(e),o=this._i18n("audioComponent:audio_upload_limit_size_msg",{maxlength:t+"MB"});this._showErrorMessage(o)},t._onUploadProgress=function(e,t){this._audioComponentService.updateProgress(t,e)},t._onUploadSuccess=function(e,t){this._audioComponentService.updateComponent(t,e),this._eventDispatcherService.emit(Ee.z.PROGRESS_COMPLETED)},t._onUploadError=function(e,t){this._removeAudioComponent(t),this._showErrorMessage(this._i18n("audioComponent:upload_server_error_msg")),this._eventDispatcherService.emit(Ee.z.PROGRESS_COMPLETED)},t._showErrorMessage=function(e){this._toastLayerService.warningMessage(e)},t._removeAudioComponent=function(e){this._editingService.eraseComponent(e)},e}(),d()(ji.prototype,"insertAudio",[f.sentryCatch,f.preventOnComponentProcessing,Pi,h.d],Object.getOwnPropertyDescriptor(ji.prototype,"insertAudio"),ji.prototype),ji);!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/audio-insert-use-case.js",localName:t}})}catch(e){}}e(Ei,"DEFAULT_AUDIO_MAX_UPLOAD_COUNT"),e(Ni,"AudioInsertUseCase")}();var xi=function(){function e(){this._webtoonLayerService=Ee.U.get("webtoonLayerService")}return e.prototype.openWebtoonLayer=function(){this._webtoonLayerService.open()},e}();!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/webtoon-insert-use-case.js",localName:t}})}catch(e){}}(xi,"WebtoonInsertUseCase")}();var Di,Ri=o(212),Ai=(Di=function(){function e(){this._cloudSnsLayerService=Ee.U.get("cloudSnsLayerService"),this._i18n=Ee.U.get("i18n"),this._alertLayerService=Ee.U.get("alertLayerService")}return e.prototype.openPopup=function(){Ri.a.UNDER_IE11?this._alertLayerService.open({type:Ee.n.ALERT,isDimUse:!1,title:this._i18n("commonPopup:recommended_browser_title"),description:this._i18n("commonPopup:recommended_browser_description")}):this._cloudSnsLayerService.open()},e}(),d()(Di.prototype,"openPopup",[f.preventOnComponentProcessing],Object.getOwnPropertyDescriptor(Di.prototype,"openPopup"),Di.prototype),Di);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/social-media-image-insert-use-case.js",localName:t}})}catch(e){}}(Ai,"SocialMediaImageInsertUseCase")}();var Ui,Mi,Bi=(Ui=function(e){function t(){var t;return(t=e.call(this)||this)._useFileUploaderLayer=!!t._configAgent.get("apiInfo.addNCloudFile")&&!1===Ri.a.UNDER_IE11,t}return u()(t,e),t.prototype.insertFile=function(){this._useFileUploaderLayer?this._fileUploadLayerService.open():this.uploadLocalFile()},t}(o(700).a),d()(Ui.prototype,"insertFile",[f.preventOnComponentProcessing,h.d],Object.getOwnPropertyDescriptor(Ui.prototype,"insertFile"),Ui.prototype),Ui);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/file-insert-use-case.js",localName:t}})}catch(e){}}(Bi,"FileInsertUseCase")}();var Fi,zi=(Mi=function(){function e(){this._linkLayerService=Ee.U.get("linkLayerService")}return e.prototype.openLinkLayer=function(){this._linkLayerService.open()},e}(),d()(Mi.prototype,"openLinkLayer",[f.preventOnComponentProcessing,h.d],Object.getOwnPropertyDescriptor(Mi.prototype,"openLinkLayer"),Mi.prototype),Mi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/oglink-insert-use-case.js",localName:t}})}catch(e){}}(zi,"OglinkInsertUseCase")}();var Wi,Vi=(Fi=function(){function e(){this._placeLayerService=Ee.U.get("placeLayerService")}return e.prototype.openPlacePopup=function(){this._placeLayerService.openPlacePopup()},e}(),d()(Fi.prototype,"openPlacePopup",[f.preventOnComponentProcessing,h.d],Object.getOwnPropertyDescriptor(Fi.prototype,"openPlacePopup"),Fi.prototype),Fi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/map-insert-use-case.js",localName:t}})}catch(e){}}(Vi,"MapInsertUseCase")}();var Gi=(Wi=function(){function e(){this._scheduleLayerService=Ee.U.get("scheduleLayerService")}return e.prototype.openScheduleLayer=function(){this._scheduleLayerService.open()},e}(),d()(Wi.prototype,"openScheduleLayer",[f.preventOnComponentProcessing],Object.getOwnPropertyDescriptor(Wi.prototype,"openScheduleLayer"),Wi.prototype),Wi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/use-case/toolbar/schedule-insert-use-case.js",localName:t}})}catch(e){}}(Gi,"ScheduleInsertUseCase")}();var Hi,qi=o(723),Ji=function(e){function t(){var t;return(t=e.call(this)||this)._target="moment",t._documentToolbarLayoutService=Ee.U.get("documentToolbarLayoutService"),t._panelContainerLayerService=Ee.U.get("panelContainerLayerService"),t._momentPanelLayoutService=Ee.U.get("momentPanelLayoutService"),t}return u()(t,e),t.prototype.toggle=function(){var e=this,t=this._panelContainerLayerService,o=this._momentPanelLayoutService;t.toggleLayout(this._target,o,function(t,o){e._documentToolbarLayoutService.setPanelButtonEnable(t,o)})},t}(Ee.i);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/moment-button-use-case.js",localName:t}})}catch(e){}}(Ji,"MomentButtonUseCase")}();var Ki=(Hi=function(){function e(){this._spellCheckLayoutService=Ee.U.get("spellCheckLayoutService"),this._toastLayerService=Ee.U.get("toastLayerService"),this._loadingLayerService=Ee.U.get("loadingLayerService"),this._i18n=Ee.U.get("i18n"),this._alertLayerService=Ee.U.get("alertLayerService")}var t=e.prototype;return t.startSpellCheck=function(){var e=this._spellCheckLayoutService.getParagraphList();0===e.length?this._toastLayerService.infoMessage(this._i18n("spellCheckLayout:empty_errata")):this._spellCheck(e)},t._spellCheck=function(){var e=ii()(ni.a.mark(function e(t){var o;return ni.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this._loadingLayerService.open(),e.next=3,this._spellCheckLayoutService.getResultSpellCheck(t);case 3:if(o=e.sent,!1!==this._isValidCheckResult(o)){e.next=6;break}return e.abrupt("return");case 6:this._loadingLayerService.close(),this._spellCheckLayoutService.startSpellCheck(o);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t._isValidCheckResult=function(e){return e.aborted?(this._loadingLayerService.close(),!1):e.failed?(this._loadingLayerService.close(),this._alertLayerService.open({type:"alert",title:this._i18n("spellCheckLayout:spell_check_fail_title"),description:this._i18n("spellCheckLayout:spell_check_fail")}),!1):0!==e.length||(this._loadingLayerService.close(),this._toastLayerService.infoMessage(this._i18n("spellCheckLayout:empty_errata")),!1)},e}(),d()(Hi.prototype,"startSpellCheck",[h.d],Object.getOwnPropertyDescriptor(Hi.prototype,"startSpellCheck"),Hi.prototype),Hi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/speller-button-use-case.js",localName:t}})}catch(e){}}(Ki,"SpellerButtonUseCase")}();var Yi,Xi,Qi=o(714),Zi=o(715),$i=(Yi=function(e){function t(){var t;return(t=e.call(this)||this)._wrappingParagraphComponentService=Ee.U.get("wrappingParagraphComponentService"),t}return u()(t,e),t.prototype.changeWrappingLayout=function(e){var t=e.value;this._wrappingParagraphComponentService.composeWrappingComponent(t)},t}(Ee.m),d()(Yi.prototype,"changeWrappingLayout",[f.preventOnComponentProcessing,f.history,h.d],Object.getOwnPropertyDescriptor(Yi.prototype,"changeWrappingLayout"),Yi.prototype),Yi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/wrapping-layout-button-use-case.js",localName:t}})}catch(e){}}($i,"ComposeTextArrangementButtonUseCase")}();var ea,ta=(Xi=function(){function e(){this._finderService=Ee.U.get("finderService"),this._translationLayerService=Ee.U.get("translationLayerService")}return e.prototype.open=function(){var e=this._finderService.getPlainTextWithinSelection();this._translationLayerService.open(e)},e}(),d()(Xi.prototype,"open",[h.d],Object.getOwnPropertyDescriptor(Xi.prototype,"open"),Xi.prototype),Xi);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/translation-button-use-case.js",localName:t}})}catch(e){}}(ta,"TranslationButtonUseCase")}();var oa,na=(ea=function(){function e(){this._imageTagLayerService=Ee.U.get("imageTagLayerService"),this._selectionInfoStore=Ee.U.get("selectionInfoStore"),this._imageComponentService=Ee.U.get("imageComponentService"),this._alertLayerService=Ee.U.get("alertLayerService"),this._i18n=Ee.U.get("i18n")}var t=e.prototype;return t._getActiveCompId=function(){return this._selectionInfoStore.start.compId},t.openImageTagPopup=function(){var e=this,t=this._getActiveCompId();this._imageComponentService.isLinkedImage(t)?this._alertLayerService.open({type:"confirm",title:this._i18n("imageTag:confirm_added_link_title"),description:this._i18n("imageTag:confirm_convert_to_tag_description"),onClickConfirm:function(){return e._openImageTagLayer(t)},onClickCancel:function(){return e._alertLayerService.close()}}):this._openImageTagLayer(t)},t._openImageTagLayer=function(e){var t=this._imageComponentService.getMediaTagData(e),o=t.src,n=t.width,r=t.height,i={compId:e,imageUrl:o,tags:t.mediaTags,width:n,height:r};this._imageTagLayerService.open(i)},e}(),d()(ea.prototype,"openImageTagPopup",[f.preventOnComponentProcessing,h.d],Object.getOwnPropertyDescriptor(ea.prototype,"openImageTagPopup"),ea.prototype),ea);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/image-tag-button-use-case.js",localName:t}})}catch(e){}}(na,"ImageTagButtonUseCase")}();var ra=(oa=function(e){function t(){var t;return(t=e.call(this)||this)._talktalkEditLayerService=Ee.U.get("talktalkEditLayerService"),t}return u()(t,e),t.prototype.openTalktalkEditLayer=function(){this._talktalkEditLayerService.open()},t}(Ee.m),d()(oa.prototype,"openTalktalkEditLayer",[h.d],Object.getOwnPropertyDescriptor(oa.prototype,"openTalktalkEditLayer"),oa.prototype),oa);!function(){!function(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/use-case/talktalk-insert-button-use-case.js",localName:t}})}catch(e){}}(ra,"TalktalkInsertButtonUseCase")}(),o.d(t,"a",function(){return aa});var ia={"align-drop-down":{view:_,useCase:Fr,propertyName:"align",styleName:"align"},"align-drop-down-with-justify":{view:O,useCase:Fr,propertyName:"align",styleName:"align"},"align-drop-down-without-right":{view:w,useCase:Fr,propertyName:"align",styleName:"align"},"align-group":{view:z,useCase:Fr,propertyName:"align",styleName:"align"},"align-group-with-justify":{view:H,useCase:Fr,propertyName:"align",styleName:"align"},"align-group-without-right":{view:K,useCase:Fr,propertyName:"align",styleName:"align"},"caption-align-group":{view:z,useCase:Fr,propertyName:"caption.align",styleName:"align"},"background-color":{view:te,useCase:Ar.a,propertyName:"backgroundColor",styleName:"background-color",option:{storagePolicy:{key:"backgroundColor",property:"recentColors"}}},"separator-bar":{view:ie,useCase:Ar.a,propertyName:"separatorBar",styleName:"separator-bar"},bold:{view:ue,useCase:Ar.a,propertyName:"bold",styleName:"bold"},"to-text":{view:Cn,useCase:fi,propertyName:"toText",styleName:"to-text"},"cycle-align":{view:N,useCase:Fr,propertyName:"align",styleName:"align"},"cycle-align-with-justify":{view:R,useCase:Fr,propertyName:"align",styleName:"align"},"caption-align":{view:N,useCase:Fr,propertyName:"caption.align",styleName:"align"},"caption-bold":{view:ue,useCase:Ar.a,propertyName:"caption.bold",styleName:"bold"},"caption-link":{view:nt,useCase:Ur.a,propertyName:"caption.link.url",styleName:"link"},"content-mode-group":{view:de.a,useCase:li.a,propertyName:"contentMode",styleName:"object-arrangement"},"content-mode-group-without-default":{view:he.a,useCase:li.a,propertyName:"contentMode",styleName:"object-arrangement"},"content-mode-group-without-extend-pagefull":{view:ge,useCase:li.a,propertyName:"contentMode",styleName:"object-arrangement"},"content-mode-group-without-pagefull":{view:ve.a,useCase:li.a,propertyName:"contentMode",styleName:"object-arrangement"},"content-mode-group-fit-and-extend":{view:_e.a,useCase:li.a,propertyName:"contentMode",styleName:"object-arrangement"},"content-mode-justify":{view:Ce.a,useCase:li.a,propertyName:"contentMode",styleName:"object-arrangement-fit"},delete:{view:Se.a,useCase:Gr,styleName:"delete"},"drop-cap":{view:Ie,useCase:Ar.a,propertyName:"dropCap",styleName:"drop-cap"},"font-color":{view:je,useCase:Ar.a,propertyName:"fontColor",styleName:"font-color",option:{storagePolicy:{key:"fontColor",property:"recentColors"}}},"font-family":{view:Re,useCase:Ar.a,propertyName:"fontFamily",styleName:"font-family"},"font-size":{view:We,useCase:Ar.a,propertyName:"fontSizeCode",styleName:"font-size-code"},"image-link":{view:nt,useCase:Ur.a,propertyName:"link.value",styleName:"link"},italic:{view:qe,useCase:Ar.a,propertyName:"italic",styleName:"italic"},"line-height":{view:Qe,useCase:Ar.a,propertyName:"lineHeight",styleName:"line-height"},"text-link":{view:nt,useCase:Ur.a,propertyName:"link.url",styleName:"link"},"quotation-layout":{view:at.a,useCase:li.a,propertyName:"layout",styleName:"quotation"},"quotation-layout-label":{view:lt,useCase:li.a,propertyName:"layout",styleName:"quotation"},"section-title-layout":{view:dt,useCase:li.a,propertyName:"layout",styleName:"section-title"},"special-letter":{view:vt,useCase:bi,styleName:"special-letter"},speller:{view:kt,useCase:Ki,styleName:"speller"},sticker:{view:hn,useCase:Qi.a,styleName:"sticker"},strikethrough:{view:jt,useCase:Ar.a,propertyName:"strikeThrough",styleName:"strikethrough"},subscript:{view:Nt,useCase:Ar.a,propertyName:"subscript",styleName:"subscript"},superscript:{view:Rt,useCase:Ar.a,propertyName:"superscript",styleName:"superscript"},template:{view:gn,useCase:Zi.a,styleName:"template"},"text-format":{view:Mt.a,useCase:fi,propertyName:"textFormat",styleName:"text-format"},"text-format-drop-down":{view:Vt,useCase:fi,propertyName:"textLayout",styleName:"text-format"},underline:{view:qt,useCase:Ar.a,propertyName:"underline",styleName:"underline"},"wrapping-layout-drop-down":{view:Yt.a,useCase:$i,styleName:"text-arrangement"},"wrapping-layout-group":{view:Xt.a,useCase:$i,propertyName:"wrappingLayout",styleName:"text-arrangement"},code:{view:no,useCase:_i,styleName:"code"},"horizontal-line":{view:po,useCase:Si.a,styleName:"insert-horizontal-line"},image:{view:mo.a,useCase:Oi.a,styleName:"image"},formula:{view:bo,useCase:ki.a,styleName:"formula"},quotation:{view:So,useCase:Ii.a,styleName:"insert-quotation"},table:{view:wo,useCase:wi,styleName:"table"},video:{view:Lo,useCase:Ti.a,styleName:"video"},audio:{view:Do,useCase:Ni,styleName:"audio"},"social-media-image":{view:Mo,useCase:Ai,styleName:"social-media-image"},file:{view:Wo,useCase:Bi,styleName:"file"},library:{view:$t,useCase:gi,styleName:"library"},oglink:{view:qo,useCase:zi,styleName:"oglink"},map:{view:Xo,useCase:Vi,styleName:"map"},schedule:{view:en,useCase:Gi,styleName:"schedule"},search:{view:rn,useCase:qi.a,styleName:"search"},"to-quotation":{view:bn.a,useCase:fi,styleName:"to-quotation"},"image-edit-right-label":{view:kn.a,useCase:ai,styleName:"image-edit"},"image-edit":{view:In.a,useCase:ai,styleName:"image-edit"},"image-adjust":{view:wn.a,useCase:ai,styleName:"image-adjust"},"image-crop":{view:Pn.a,useCase:ai,styleName:"image-crop"},"image-filter":{view:jn.a,useCase:ai,styleName:"image-filter"},"image-replacement":{view:Tn.a,useCase:ai,styleName:"image-replacement"},"image-resizing":{view:Ln.a,useCase:ai,propertyName:"size",styleName:"resizing"},"image-location":{view:Rr.a,useCase:ai,styleName:"image-location"},"video-resizing":{view:Dn,useCase:si,propertyName:"size",styleName:"resizing"},"inline-image":{view:Un,useCase:ai,styleName:"inline-image"},"delete-with-selection":{view:Se.a,useCase:Jr,styleName:"delete"},"additional-button":{view:ar,useCase:function(){},styleName:"additional-button"},"more-view":{view:vr,useCase:function(){},styleName:"more-view"},list:{view:Or,useCase:Ar.a,propertyName:"list",styleName:"list"},"image-tag":{view:Tr,useCase:na,propertyName:"mediaTags",styleName:"image-tag"},talktalk:{view:Nr,useCase:ra,styleName:"talktalk"},moment:{view:ln,useCase:Ji,styleName:"moment"},translation:{view:zn,useCase:ta,styleName:"translation"},"translation-right-label":{view:Jn,useCase:ta,styleName:"translation"},webtoon:{view:Gn,useCase:xi,styleName:"webtoon"},chat:{view:ao,useCase:Ci.a,styleName:"chat"}};function aa(e){return ia[e]}var sa={getDefaultButton:aa};!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/toolbar/buttons/index.js",localName:t}})}catch(e){}}e(ia,"buttons"),e(aa,"getDefaultButton"),e(sa,"default")}()},82:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(50),s=o.n(a),c=o(51),l=o(49),u=o(347),p=o(52),d=o(54),h=o.n(d),f=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=l.b.createRef(),o}i()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){var e=this.props.store;e&&(this._disposeReaction=l.f.reaction(function(){return e.selection},this._handleSelectionChange))},o.componentDidMount=function(){var e=this.props.store;e&&this._updateSelectionClass(e.selection)},o.componentWillUnmount=function(){this._disposeReaction&&this._disposeReaction()},o.render=function(){var e=this.props,t=e.className,o=e.id,n=e.ctype,r=e.layout,i=e.contentMode,a=e.children,s=e.head,c=e.tail,u=e.i18n,p=this._resolveClassName({className:t,ctype:n,layout:r}),d=this._resolveContentClassName(i),h=this._resolveTitle(n,u),f=this._renderEdgeButton();return l.b.createElement("div",{ref:this._elementRef,className:p,id:o,"data-compid":o,"data-a11y-title":h},f,s,l.b.createElement("div",{className:d,ref:this._ref},a),c)},o._ref=function(e){this.content=e},o._handleSelectionChange=function(e){this._updateSelectionClass(e)},o._updateSelectionClass=function(e){var t=this._elementRef.current;"none"===e?t.classList.remove("se-is-selected"):t.classList.add("se-is-selected")},o._resolveClassName=function(e){var t,o=e.className,n=e.ctype,r=e.layout,i=((t={})["se-component se-"+n]=!!n,t["se-l-"+(r||"default")]=!0,t);if(this._elementRef.current){var a=this._elementRef.current;i["se-is-selected"]=a.classList.contains("se-is-selected")}return h()([o,i])},o._resolveContentClassName=function(e){var t,o=this.props.contentClassName;return h()(((t={})[o]=!!o,t["se-component-content"]=!0,t["se-component-content-"+e]=!!e,t))},o._resolveTitle=function(){var e=this.props,t=e.ctype;return(0,e.i18n)(t+"Component:title","")},o._renderEdgeButton=function(){var e=this.props,t=e.id,o=e.ctype;return!["documentTitle","text","sectionTitle"].includes(o)?l.b.createElement("button",{className:"se-component-edge-button se-component-edge-button-top __edge-area",type:"button","tab-index":"-1","data-compid":t,"data-direction":c.x.TOP}):null},t}(l.b.Component),s()(n.prototype,"_ref",[p.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_ref"),n.prototype),s()(n.prototype,"_handleSelectionChange",[p.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleSelectionChange"),n.prototype),n);f.defaultProps={id:"",ctype:"",layout:"",contentMode:"",className:"",head:null,tail:null,children:null},f.propTypes={id:l.a.string,store:l.a.instanceOf(c.b),forwardRef:l.a.oneOfType([l.a.func,l.a.shape({current:l.a.instanceOf(Element)})]),ctype:l.a.string,layout:l.a.string,contentMode:l.a.string,className:l.a.string,contentClassName:l.a.string,head:l.a.element,tail:l.a.element,children:l.a.node,i18n:l.a.func.isRequired};var m=Object(u.b)(f);t.a=m,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/component-wrapper/index.jsx",localName:t}})}catch(e){}}e(f,"ComponentWrapper"),e(m,"default")}()},83:function(e,t,o){"use strict";var n,r=o(0),i=o.n(r),a=o(49),s=o(347),c=o(54),l=o.n(c),u=o(51),p=((n={})[u.x.TOP]="se-drop-indicator-top",n[u.x.LEFT]="se-drop-indicator-left",n[u.x.RIGHT]="se-drop-indicator-right",n[u.x.BOTTOM]="se-drop-indicator-bottom",n),d=function(e){function t(){return e.apply(this,arguments)||this}i()(t,e);var o=t.prototype;return o.render=function(){var e=this.props,t=e.children,o=e.unitId,n=e.compId,r=e.style,i=this._resolveClassName();return a.b.createElement("div",{className:i,style:r,"data-unitid":o,"data-compid":n,"data-direction":u.x.TOP},t)},o._resolveClassName=function(){var e=this.props,t=e.compStore,o=e.className,n=t.dragAndDrop,r=n.isOnDrop,i=n.direction,a=["se-drop-indicator",o];return r&&a.push(p[i]),l()(a)},t}(a.b.Component);d.defaultProps={compId:"",unitId:"",children:null,compStore:{dragAndDrop:{isOnDrop:!1,direction:"",dragDataType:""}},className:"",style:{}},d.propTypes={compId:a.a.string,unitId:a.a.string,children:a.a.oneOfType([a.a.element,a.a.array]),compStore:a.a.object,style:a.a.object,className:a.a.string};var h=Object(s.b)(d);t.a=h,function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/drop-indicator/index.jsx",localName:t}})}catch(e){}}e(p,"INDICATE_CLASSNAME_MAP"),e(d,"DropIndicator"),e(h,"default")}()},84:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(17),s=o.n(a),c=o(0),l=o.n(c),u=o(50),p=o.n(u),d=o(49),h=o(347),f=o(51),m=o(54),g=o.n(m),y=o(52),b=function(e){return!!(e&f.I.UP)},_=function(e){return!!(e&f.I.DOWN)},v=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this)._i18n=f.U.get("i18n"),o.state={containerWidth:1/0},o}l()(t,e);var o=t.prototype;return o.componentDidUpdate=function(){var e=this.props.container;if(e){var t=e.current;this._updateContainerWidth(t)}},o.componentWillUnmount=function(){this._clearTimeout()},o.render=function(){var e=this.props.blockWrapperProps,t=e.captionFocused,o=void 0!==t&&t,n=e.selection,r=e.movableType,i=e.imageLoaded,a=void 0===i||i,s=(e.contentMode,e.align),c={display:"block"};!a||o||"single"!==n||r===f.I.NONE?(c.display="none",this._displayed=!1):this._displayed=!0;var l=this.state.containerWidth<100&&(!s||"left"===s||"justify"===s),u=g()({"se-component-layer-move":!0,"se-component-layer-move-position-right":!l,"se-component-layer-move-position-left":l});return d.b.createElement("div",{className:u,style:c},d.b.createElement("button",{type:"button",className:"se-component-button-move se-component-button-move-up",disabled:!b(r),onClick:this._handleMoveToPrev},d.b.createElement("span",{className:"se-blind"},this._i18n("verticalMoveButton:up"))),d.b.createElement("button",{type:"button",className:"se-component-button-move se-component-button-move-down",disabled:!_(r),onClick:this._handleMoveToNext},d.b.createElement("span",{className:"se-blind"},this._i18n("verticalMoveButton:down"))))},o._updateContainerWidth=function(e){var t=this;e&&e.offsetWidth<10?(this._clearTimeout(),this._timer=setTimeout(function(){t.setState(function(){return{containerWidth:e.offsetWidth}})},300)):this.state.containerWidth!==e.offsetWidth&&this.setState(function(){return{containerWidth:e.offsetWidth}})},o._clearTimeout=function(){this._timer&&clearTimeout(this._timer)},o._handleMoveToPrev=function(){this.props.onMoveToPrev()},o._handleMoveToNext=function(){this.props.onMoveToNext()},t}(d.b.Component),p()(n.prototype,"_handleMoveToPrev",[y.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToPrev"),n.prototype),p()(n.prototype,"_handleMoveToNext",[y.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_handleMoveToNext"),n.prototype),n);v.defaultProps={movableType:0,blockWrapperProps:{},onMoveToPrev:function(){},onMoveToNext:function(){}},v.propTypes={movableType:d.a.number,onMoveToPrev:d.a.func,onMoveToNext:d.a.func,blockWrapperProps:d.a.object,container:d.a.oneOfType([d.a.func,d.a.shape({current:d.a.instanceOf(Element)})])};var C,S=Object(h.b)(v),O=S;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/block-wrapper/vertical-move-button.jsx",localName:t}})}catch(e){}}e(b,"isShowUp"),e(_,"isShowDown"),e(v,"VerticalMoveButton"),e(S,"default")}();var k="se-is-block-selected",I=(C=function(e){function t(t){var o;return(o=e.call(this,t)||this)._elementRef=d.b.createRef(),o._originBlockWrapperProps=null,o._deviceType=null,o}l()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._deviceType=f.U.get("configAgent").get("productEnv.deviceType"),this._observeSelectionChanged()},o.componentDidMount=function(){var e=this._decideSelection(this.props.blockWrapperProps.selection);this._updateSelectionClasses(e),this._originBlockWrapperProps=this.props.blockWrapperProps},o.componentDidUpdate=function(){this._wasBlockWrapperChanged()&&this._reobserveSelectionChanged()},o.componentWillUnmount=function(){this._unobserveSelectionChanged()},o.render=function(){var e=this.props,t=(e.forwardRef,e.children),o=e.className,n=e.blockWrapperProps,r=e.hasSelection,a=(e.parentProps,e.onMoveToPrev,e.onMoveToNext,s()(e,["forwardRef","children","className","blockWrapperProps","hasSelection","parentProps","onMoveToPrev","onMoveToNext"])),c=n.ctype,l=this._resolveClassName({className:o,blockWrapperProps:n,hasSelection:r}),u=this._getDOMReference(),p="image"===c||"video"===c;return this._deviceType===f.t.MOBILE&&p?d.b.createElement("div",i()({},a,{className:l,ref:u}),t[0],this._renderVerticalMoveButton(),t[1]):d.b.createElement("div",i()({},a,{className:l,ref:u}),t,this._renderVerticalMoveButton())},o._renderVerticalMoveButton=function(){return this._deviceType===f.t.MOBILE?d.b.createElement(O,i()({},this.props,{container:this._getDOMReference()})):null},o._getDOMReference=function(){return this.props.forwardRef||this._elementRef},o._handleSelectionChange=function(e){var t=e.selection,o=e.blockSelected;this._updateSelectionClasses(this._decideSelection(t,o))},o._updateSelectionClasses=function(e){var t=this._getDOMReference().current;if(t){var o=t.classList,n=this.props.blockWrapperProps.captionFocused,r=void 0!==n&&n;"none"===e?o.remove("se-is-selected"):o.add("se-is-selected"),"single"===e||"multi"===e||r?(o.add("se-is-activated"),o.remove(k)):"block"===e?(o.add(k),o.remove("se-is-activated")):(o.remove(k),o.remove("se-is-activated"))}},o._decideSelection=function(e,t){return t?"block":this.props.hasSelection?e:null},o._resolveClassName=function(e){var t,o=e.className,n=e.blockWrapperProps,r=n.ctype,i=n.layout,a=n.align,s=((t={})["se-section se-section-"+r]=!!r,t["se-l-"+(i||"default")]=!0,t["se-section-align-"+(a||"left")]=!0,t),c=this._getDOMReference().current;if(c){var l=c.classList;s[k]=l.contains(k),s["se-is-selected"]=l.contains("se-is-selected"),s["se-is-activated"]=l.contains("se-is-activated")}return g()([s,o])},o._observeSelectionChanged=function(){var e=this.props,t=e.blockWrapperProps,o=e.parentProps,n=void 0===o?{}:o;this._disposeReaction=d.f.reaction(function(){return{selection:t.selection,blockSelected:n.isBlockSelected}},this._handleSelectionChange,{fireImmediately:!0}),this._originBlockWrapperProps=t},o._unobserveSelectionChanged=function(){this._disposeReaction()},o._reobserveSelectionChanged=function(){this._unobserveSelectionChanged(),this._observeSelectionChanged()},o._wasBlockWrapperChanged=function(){return this._originBlockWrapperProps!==this.props.blockWrapperProps},t}(d.b.Component),p()(C.prototype,"_handleSelectionChange",[y.autobind],Object.getOwnPropertyDescriptor(C.prototype,"_handleSelectionChange"),C.prototype),C);I.defaultProps={className:"",children:null,blockWrapperProps:{},hasSelection:!0,onMoveToPrev:function(){},onMoveToNext:function(){}},I.propTypes={forwardRef:d.a.oneOfType([d.a.func,d.a.shape({current:d.a.instanceOf(Element)})]),className:d.a.string,children:d.a.oneOfType([d.a.element,d.a.array]),blockWrapperProps:d.a.object,hasSelection:d.a.bool,onMoveToNext:d.a.func,onMoveToPrev:d.a.func};var w=Object(h.b)(I);t.a=w;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/block-wrapper/index.jsx",localName:t}})}catch(e){}}e(k,"blockedClass"),e("se-is-selected","selectedClass"),e("se-is-activated","activatedClass"),e(I,"BlockWrapper"),e(w,"default")}()},85:function(e,t,o){"use strict";var n=o(59),r=o.n(n),i=o(55),a=o.n(i),s=o(61),c=o.n(s),l=o(57),u=o.n(l),p=o(0),d=o.n(p),h=(o(62),o(50)),f=o.n(h),m=o(129),g=o(134),y=o(52),b=o(49),_=o(347),v=o(88),C=function(){function e(e,t){this._prevElement=null,this._callback=e,this._replacement=t}var t=e.prototype;return t.replaceWith=function(e){var t=this;e&&e!==this._prevElement&&(this._stop(),this._prevElement=e,this._replacement.add(e,function(e){t._callback(e)}))},t.stop=function(){this._stop()},t._stop=function(){this._prevElement&&this._replacement.remove(this._prevElement)},e}(),S=function(){function e(e){var t=this;this._elementMap=new WeakMap,this._callback=function(e){e.forEach(function(e){var o=e.target;t._elementMap.get(o)(e)})},this._io=new IntersectionObserver(this._callback,e)}var t=e.prototype;return t.add=function(e,t){this._elementMap.has(e)||(this._elementMap.set(e,t),this._io.observe(e))},t.remove=function(e){this._elementMap.delete(e),this._io.unobserve(e)},t.disconnect=function(){this._elementMap.clear(),this._io.disconnect()},t.createItem=function(e){return new C(e,this)},e}(),O={_replacements:[],create:function(e){if(!e)throw new Error("need options");var t=this._replacements.find(function(t){return Object(v.a)(t.key,e)});return t?t.value:(this._replacements.push(t={key:e,value:new S(e)}),t.value)}},k=O,I=k;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/img/intersection-observer-controller.js",localName:t}})}catch(e){}}e(C,"ReplaceItem"),e(S,"Replacement"),e(O,"IntersectionObserverController"),e(k,"default")}();var w,P,j=o(51);o.d(t,"a",function(){return T});var T={lazyLoad:Symbol("lazyLoad"),normal:Symbol("normal"),autoReplace:Symbol("autoReplace")},L=function(){function e(e,t){void 0===e&&(e={}),this._dataArray=[],this._reverseArray=[],this._map=null,this._maxLength=10,this._map=new Map(Object.entries(e)),this._dataArray=Object.keys(e),this._maxLength=t}var t=e.prototype;return t.get=function(e){return this.has(e)?this._map.get(e):null},t.set=function(e,t){var o=this._dataArray.length,n=this._reverseArray.length,r=o+n,i=this.has(e);if(r>=this._maxLength&&!i){var a=this._maxLength+1-r,s=a-n;s<=0?this._deleteCount(a):(this._deleteCount(this._reverseArray.length),this._reverseArray=this._dataArray.reverse(),this._dataArray=[],this._deleteCount(s))}i||this._dataArray.push(e),this._map.set(e,t)},t.has=function(e){return this._map.has(e)},t._deleteCount=function(e){for(var t=0;t<e;t++){var o=this._reverseArray.pop();this._delete(o)}},t._delete=function(e){this._map.delete(e)},e}(),E=function(e){return function(t,o){void 0===t&&(t="auto"),void 0===o&&(o="auto");var n=t+","+o;if(e.has(n))return e.get(n);var r="data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+o+'" viewBox="0 0 '+t+" "+o+'"><rect width="100%" height="100%" fill="#FCFCFC"/></svg>');return e.set(n,r),r}}(new L({},100)),N=function(e){return e!==T.normal},x=(w=function(e){function t(t){var o;(o=e.call(this,t)||this)._mounted=!1,c()(o,"_shown",P,u()(o)),o.state={src:null,imageWidth:0,imageHeight:0},o._domAccessor=j.U.get("domAccessor"),o._elementRef=t.elementRef||b.b.createRef();var n=o._domAccessor.getScrollTarget(),r=n&&"BODY"===n.nodeName?void 0:n;return o._replacement=I.create({root:r,threshold:0,rootMargin:"100% 0% 100% 0%"}),o._resetIOC(),o}d()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._mounted=!0,this._loadImageSource(this.props)},o.componentDidMount=function(){this._replace.replaceWith(this._elementRef.current)},o.UNSAFE_componentWillReceiveProps=function(e){this._loadImageSource(e)},o.componentDidUpdate=function(e){this.props.type!==e.type&&this._resetIOC(),this._replace.replaceWith(this._elementRef.current)},o.componentWillUnmount=function(){this._mounted=!1,this._replace.stop()},o.render=function(){var e=this.state,t=e.src,o=e.imageWidth,n=e.imageHeight,r=this.props,i=r.width,s=r.height,c=r.originalWidth,l=r.originalHeight,u=this._filterImageAttrs(),p=o||c||i,d=n||l||s;return t&&this._isVisible(this.props)?b.b.createElement("img",a()({ref:this._elementRef,src:t},u)):!t&&p&&d?b.b.createElement("img",a()({ref:this._elementRef,src:E(p,d)},u)):b.b.createElement("span",{ref:this._elementRef})},o._filterImageAttrs=function(){return Object(m.a)(this.props,["src","onLoad","onError","forceTriggerOnloadEvent","originalHeight","originalWidth","elementRef","type"])},o._isVisible=function(e){return this.context.readOnly||!N(e.type)||this._shown},o._loadImageSource=function(e){var t=e.forceTriggerOnloadEvent,o=e.src;if((t||this.state.src!==o)&&"string"==typeof o&&this._isVisible(e)){var n=new Image;n.onerror=this._handleOnError,n.onload=this._handleOnLoad.bind(this,e),n.src=o}},o._handleOnLoad=function(e,t){if(this._mounted){var o=t.currentTarget;(e.forceTriggerOnloadEvent||o.src!==this.state.src)&&(N(this.props.type)||(this._shown=!0),this.setState({src:o.src,imageWidth:o.width,imageHeight:o.height}),this._callOnLoadEvent(o))}},o._callOnLoadEvent=function(e){var t=this._filterImageAttrs(),o=Object(g.a)(e,["width","height"]);this.props.onLoad(r()({},e,o,t))},o._handleOnError=function(e){this._mounted&&(this.setState({src:null}),this.props.onError(e))},o._replaceCallback=function(e){return e.isIntersecting!==this._shown&&(this.props.type!==T.autoReplace&&this._shown||(this._shown=!this._shown),this._shown&&this._loadImageSource(this.props),!0)},o._resetIOC=function(){this._replace&&this._replace.stop(),N(this.props.type)&&this._domAccessor.getBodyContainer()?this._replace=this._replacement.createItem(this._replaceCallback):this._replace={replaceWith:function(){},stop:function(){}}},t}(b.b.Component),f()(w.prototype,"_handleOnLoad",[y.autobind],Object.getOwnPropertyDescriptor(w.prototype,"_handleOnLoad"),w.prototype),f()(w.prototype,"_handleOnError",[y.autobind],Object.getOwnPropertyDescriptor(w.prototype,"_handleOnError"),w.prototype),f()(w.prototype,"_replaceCallback",[y.autobind],Object.getOwnPropertyDescriptor(w.prototype,"_replaceCallback"),w.prototype),P=f()(w.prototype,"_shown",[b.g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w);x.defaultProps={elementRef:null,src:null,onLoad:function(){},onError:function(){},forceTriggerOnloadEvent:!1,type:T.normal},x.propTypes={elementRef:b.a.oneOfType([b.a.func,b.a.shape({current:b.a.instanceOf(Element)})]),src:b.a.oneOfType([b.a.string,b.a.object]),onLoad:b.a.func,onError:b.a.func,forceTriggerOnloadEvent:b.a.bool,type:b.a.symbol};var D=Object(_.b)(x);t.b=D;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/img/index.jsx",localName:t}})}catch(e){}}e(T,"TYPE"),e(L,"Cache"),e(E,"getDummy"),e(N,"isNeedIOC"),e(x,"Img"),e(D,"default")}()},96:function(e,t,o){"use strict";var n,r=o(55),i=o.n(r),a=o(0),s=o.n(a),c=o(50),l=o.n(c),u=o(49),p=o(54),d=o.n(p),h=o(1209),f=o(51),m=o(1046),g=o(52),y=o(57),b=o.n(y),_=o(1047),v=o.n(_),C=o(67),S=(n=function(e){function t(t){var o;return(o=e.call(this,t)||this).bindDragStart=o._bindDragStart.bind(b()(o)),o.bindDragMove=o._bindDragMove.bind(b()(o)),o.bindDragEnd=o._bindDragEnd.bind(b()(o)),o.bindPointerDown=o._bindPointerDown.bind(b()(o)),o.bindPointerMove=o._bindPointerMove.bind(b()(o)),o.bindPointerUp=o._bindPointerUp.bind(b()(o)),o._draggable=null,o.rootElement=null,o}s()(t,e);var o=t.prototype;return o.componentDidMount=function(){this._draggable=this.createDraggable(this.rootElement,{containment:".se-wrap"}),this._draggable.on("dragStart",this.bindDragStart),this._draggable.on("dragMove",this.bindDragMove),this._draggable.on("dragEnd",this.bindDragEnd),this._draggable.on("pointerDown",this.bindPointerDown),this._draggable.on("pointerMove",this.bindPointerMove),this._draggable.on("pointerUp",this.bindPointerUp)},o.componentWillUnmount=function(){this._draggable.off("dragStart",this.bindDragStart),this._draggable.off("dragMove",this.bindDragMove),this._draggable.off("dragEnd",this.bindDragEnd),this._draggable.off("pointerDown",this.bindPointerDown),this._draggable.off("pointerMove",this.bindPointerMove),this._draggable.off("pointerUp",this.bindPointerUp),this._draggable.destroy()},o.render=function(){var e=this.props,t=e.inlineStyle,o=e.className,n=Object(C.a)({},t),r=d()(["__dragHandler","draggable",o]);return u.b.createElement("div",{className:r,ref:this._ref,style:n},this.props.children)},o._ref=function(e){this.rootElement=e},o.createDraggable=function(e,t){return new v.a(e,t)},o._bindDragStart=function(e,t){this.props.dragStart(e,t)},o._bindDragMove=function(e,t,o){this.props.dragMove(e,t,o)},o._bindDragEnd=function(e,t){this.props.dragEnd(e,t)},o._bindPointerDown=function(e,t){this.props.pointerDown(e,t)},o._bindPointerMove=function(e,t,o){this.props.pointerMove(e,t,o)},o._bindPointerUp=function(e,t){this.props.pointerUp(e,t)},t}(u.b.Component),l()(n.prototype,"_ref",[g.autobind],Object.getOwnPropertyDescriptor(n.prototype,"_ref"),n.prototype),n);S.defaultProps={children:null,dragStart:function(){},dragMove:function(){},dragEnd:function(){},pointerDown:function(){},pointerMove:function(){},pointerUp:function(){},inlineStyle:{},className:""},S.propTypes={children:u.a.element,dragStart:u.a.func,dragMove:u.a.func,dragEnd:u.a.func,pointerDown:u.a.func,pointerMove:u.a.func,pointerUp:u.a.func,inlineStyle:u.a.object,className:u.a.string};var O=S,k=O;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/drag-handler/index.jsx",localName:t}})}catch(e){}}e(S,"DragHandler"),e(O,"default")}();var I,w=o(248),P=o(667),j={top:"se-popup-position-top",bottom:"se-popup-position-bottom",center:"se-popup-position-center",top_right:"se-popup-position-top-right"},T={white:"se-popup-dim-white",black:"se-popup-dim-black",transparent:"se-popup-dim-transparent"},L=(I=function(e){function t(t){var o;return(o=e.call(this,t)||this)._movePoint={leftPos:0,topPos:0},o._rootRef=u.b.createRef(),o._dragHandlerRef=u.b.createRef(),o._dimmedRef=u.b.createRef(),o._domAccessor=f.U.get("domAccessor"),o._draggingZone=o.props.draggingZone,o}s()(t,e);var o=t.prototype;return o.UNSAFE_componentWillMount=function(){this._storeKey="POPUP_POS_"+this.props.popupId,this.setState({popupId:this.props.popupId,opened:this.props.opened||!1,isDimUse:this.props.isDimUse,isDraggable:this.props.isDraggable||!1,position:this._getStartPosition()||null})},o.componentDidMount=function(){this._checkDndPosition(),this._attachEvents()},o.UNSAFE_componentWillReceiveProps=function(e){this.setState(function(t){return{opened:e.opened||!1,isDimUse:e.isDimUse||!1,position:e.position||t.position}})},o.componentDidUpdate=function(){this._checkDndPosition()},o.componentWillUnmount=function(){this._detachEvents()},o.render=function(){var e=this.props,t=e.className,o=e.dimColor,n=e.useFocusLock,r=this.state,i=r.isDraggable,a=r.position,s=r.popupId,c=d()([t||""]),l=d()(["se-popup-dim",T[o]]),p=this._getPositionClass(a),f=d()([].concat(["se-popup",c,p,{"se-popup-draggable":i}])),m={animationDuration:this.state.animationDuration},g=n?h.a:u.b.Fragment;return u.b.createElement(g,null,u.b.createElement("div",{className:f,onMouseUp:this._handleMouseUp,ref:this._rootRef},this._drawDimArea(l),u.b.createElement("div",{className:"se-popup-container __se-pop-layer",style:m,"data-layerid":s},this.props.children),this._drawDragHandler()))},o._attachEvents=function(){this.props.isDraggable&&this._domAccessor.getScrollTarget(window).addEventListener("scroll",this._handleScrollEvent),this._dimmedRef.current&&(this._dimmedRef.current.addEventListener("wheel",this._handleWheelDimmedArea,w.a.NON_PASSIVE_OPTION),this._scrollLock())},o._detachEvents=function(){this._domAccessor.getScrollTarget(window).removeEventListener("scroll",this._handleScrollEvent),this._dimmedRef.current&&(this._dimmedRef.current.removeEventListener("wheel",this._handleWheelDimmedArea,w.a.NON_PASSIVE_OPTION),this._scrollUnLock())},o._handleWheelDimmedArea=function(e){e.preventDefault()},o._scrollLock=function(){if(!this._disableScroll){var e=window,t=e.pageXOffset,o=e.pageYOffset;this._disableScroll=function(){return window.scrollTo(t,o)},window.addEventListener("scroll",this._disableScroll,!1)}},o._scrollUnLock=function(){window.removeEventListener("scroll",this._disableScroll,!1),this._disableScroll=null},o._handleScrollEvent=function(){this._resetPosition()},o._resetPosition=function(){this._movePoint=this._adjustPointToBeContained({x:0,y:0},this.state.position),this.setState({position:this._movePoint})},o._handleMouseUp=function(e){P.a.log(e.nativeEvent)},o._getStartPosition=function(){var e=this.props.position||null;return!this.props.isDraggable||null===this._storeKey||null!==e&&"object"==typeof e?e:m.a.get(this._storeKey)},o._getPositionClass=function(e){return"string"==typeof e&&j[e]||""},o._isModeless=function(){var e=this.state,t=e.isDraggable,o=e.isDimUse;return!0===t||!1===o},o._drawDimArea=function(e){return this._isModeless()?"":u.b.createElement("div",{className:e,onClick:this._handleClickDimmedArea,ref:this._dimmedRef})},o._drawDragHandler=function(){if(!1!==this.state.isDraggable){var e=this.state.position||{},t=e.topPos,o=e.leftPos,n={inlineStyle:{top:(t||0)+"px",left:(o||0)+"px"},className:"se-popup-draghandler",dragMove:this._handleDragMove,dragEnd:this._handleDragEnd};return u.b.createElement(k,i()({},n,{ref:this._dragHandlerRef}))}},o._checkDndPosition=function(){var e=this.state,t=e.opened,o=e.isDraggable,n=e.position;if(!1!==t&&!1!==o)if(null!==n&&"object"==typeof n){var r=this._adjustPointToBeContained({x:0,y:0},n);this._movePopupOn(r)}else this._initializePositionState()},o._movePopupOn=function(e){var t=e.topPos,o=e.leftPos,n=this._rootRef.current;n.style.top=t+"px",n.style.left=o+"px";var r=this._dragHandlerRef.current;r.rootElement.style.top=t+"px",r.rootElement.style.left=o+"px"},o._initializePositionState=function(){var e=this._rootRef.current,t=Math.floor((window.innerHeight-e.offsetHeight)/2),o=Math.floor((window.innerWidth-e.offsetWidth)/2);this._changePositionState({topPos:t,leftPos:o})},o._handleDragMove=function(e,t,o){this._movePoint=this._adjustPointToBeContained(o,this.state.position),this._movePopupOn(this._movePoint)},o._keepInContainer=function(e,t){var o,n,r=this._rootRef.current,i=r.offsetHeight,a=r.offsetWidth,s=0,c=0;if("browser"===this._draggingZone)o=window.innerHeight-i,n=window.innerWidth-a;else{var l=this._domAccessor.getContentContainer().getBoundingClientRect();s=l.top,c=l.left,o=l.bottom-i,n=c+l.width-a}return{topPos:this._getProperPosition(e,s,o),leftPos:this._getProperPosition(t,c,n)}},o._getProperPosition=function(e,t,o){return e>o?o:e<t?t:e},o._adjustPointToBeContained=function(e,t){var o=t.topPos,n=t.leftPos;return this._keepInContainer(o+e.y,n+e.x)},o._handleDragEnd=function(){this._changePositionState(this._movePoint),this.props.onDragEndPopup()},o._handleClickDimmedArea=function(){this.props.useDimClose&&this._closePopup()},o._changePositionState=function(e){this.setState({position:e}),this._storeKey&&m.a.set(this._storeKey,e)},o._closePopup=function(){this.setState({opened:!1})},t}(u.b.Component),l()(I.prototype,"_handleWheelDimmedArea",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleWheelDimmedArea"),I.prototype),l()(I.prototype,"_handleScrollEvent",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleScrollEvent"),I.prototype),l()(I.prototype,"_handleMouseUp",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleMouseUp"),I.prototype),l()(I.prototype,"_handleDragMove",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleDragMove"),I.prototype),l()(I.prototype,"_handleDragEnd",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleDragEnd"),I.prototype),l()(I.prototype,"_handleClickDimmedArea",[g.autobind],Object.getOwnPropertyDescriptor(I.prototype,"_handleClickDimmedArea"),I.prototype),I);L.defaultProps={popupId:"",opened:!1,isDimUse:!0,useDimClose:!1,isDraggable:!1,useFocusLock:!1,dimColor:"transparent",position:null,children:null,className:"",onDragEndPopup:function(){}},L.propTypes={popupId:u.a.string.isRequired,opened:u.a.bool,isDimUse:u.a.bool,isDraggable:u.a.bool,useFocusLock:u.a.bool,dimColor:u.a.oneOf(["transparent","white","black"]),position:u.a.oneOfType([u.a.string,u.a.shape({topPos:u.a.number,leftPos:u.a.number})]),children:u.a.oneOfType([u.a.element,u.a.array]),className:u.a.string,useDimClose:u.a.bool,onDragEndPopup:u.a.func};var E=L;t.a=E;!function(){function e(e,t){if("function"==typeof e&&!e.hasOwnProperty("__source"))try{Object.defineProperty(e,"__source",{enumerable:!1,configurable:!0,value:{fileName:"/home1/irteam/deploy/jenkins_ndeploy/jobs/Rabbit-editor-basic-desktop-real/workspace/packages/common/shared-parts/views/popup-layer/index.jsx",localName:t}})}catch(e){}}e(j,"POSITION_CLASS"),e(T,"DIM_CLASS"),e(L,"PopupLayer"),e(E,"default")}()}}]);